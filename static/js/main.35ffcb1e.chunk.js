(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1061:function(e,t,n){},1062:function(e,t,n){},1063:function(e,t,n){},1064:function(e,t,n){},1065:function(e,t,n){},1066:function(e,t,n){},1067:function(e,t,n){},1068:function(e,t,n){},1079:function(e,t){},1081:function(e,t){},1085:function(e,t){},1109:function(e,t){},1111:function(e,t){},1233:function(e,t){},1235:function(e,t){},1242:function(e,t){},1243:function(e,t){},1361:function(e,t,n){},1368:function(e,t,n){},1369:function(e,t,n){},1372:function(e,t,n){},1373:function(e,t,n){},1375:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),o=n(207),s=n.n(o),i=(n(555),n(1383)),c=n(1386),l=n(1387),u=n(10),m=n(12),d=n.n(m),h=n(29),p=n(35),f=n(24),w=(n(303),Object(f.b)(function(e,t){return{}},null)(function(e){var t=e.text,n=e.className,o=void 0===n?"":n,s=e.width,i=void 0===s?390:s,c=e.intervalTime,l=void 0===c?100:c,m=e.intervalPiece,d=void 0===m?10:m,h=Object(a.useState)(0),p=Object(u.a)(h,2),f=p[0],w=p[1];Object(a.useEffect)(function(){var e=setInterval(function(){w(function(e){return(e+d)%100})},l);return function(){return clearInterval(e)}},[]);var y={width:i*f/100};return r.a.createElement("div",{className:"progress-bar "+o},r.a.createElement("div",{className:"inner-progress-bar"},r.a.createElement("div",{className:"progress",style:y}),r.a.createElement("div",{className:"loading-text"},t," ...")))})),y=n(84),b=n(39),g=function(e,t){var n=e.getBoundingClientRect(),a=0,r=0,o=n.top-a,s=n.left-r,i=e.offsetHeight;return{x:s,y:o,width:e.offsetWidth,height:i}},v=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.helperBox,n=e.helperRefs,o=e.selected,s=Object(a.useState)(),i=Object(u.a)(s,2),c=i[0],l=i[1];if(Object(a.useEffect)(function(){if(n){var e=n[o].current,a=t.current,r=g(e),s=g(a);l([s,r])}},[o,l,n]),!c)return"";var m=[c[0].x+c[0].width,c[0].y,c[1].x,c[1].y+c[1].height/2-1,c[1].x,c[1].y+c[1].height/2+1,c[0].x+c[0].width,c[0].y+c[0].height];return r.a.createElement("svg",{className:"visual-links-spore"},r.a.createElement("linearGradient",{id:"AnnotationGradient"},r.a.createElement("stop",{offset:"5%",stopColor:"#a4c3e55c"}),r.a.createElement("stop",{offset:"95%",stopColor:"#80aaff36"})),r.a.createElement("polygon",{className:"visual-link",points:m}))}),S={centerButton:["Pressing the center button starts and stops the song. ","Click on any empty space within the Spore Player to go back to a clean slate."],ledButton:['Press to enter "Loop Mode". When in this mode, the sliders control different looping parameters.',"Slider 1: Loop Length","Slider 2: Pitch-Down (chop n screw)","Slider 3: Space Reverb/Delay)","Slider 4: Gate Effect"],spButton1:['Press to enter "Space Mode". When in this mode, the sliders control different space parameters. ',"Slider 1: Vocal Reverb","Slider 2: Crystalized Ambience","Slider 3: Bass Reverb","Slider 4: Drum Reverb"],spButton2:['Press to enter "Timing Mode". When in this mode, the sliders control different timing parameters. ',"Slider 1: Gate Rate","Slider 2: 8th note Delay","Slider 3: Gate Depth","Slider 4: 16th note Delay"],slider1:["Wobble","This slider controls the rate of the wobble filter."],slider2:["Pitch-Up (chipmunk)","This slider speeds up the track, raising the pitch as well."],slider3:["Stutter","This slider controls stuttering, which repeats the beat at a slider-controlled rate.","You must hold slider down to hear this effect."],slider4:["Mutated Stem","Each Spore Player contains a rare, mutated stem.","This slider reveals this mutation."]},E=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.helperRefs,n=e.selected,o=e.sliderHovered,s=Object(a.useRef)(),i=S[n];return[r.a.createElement("div",{ref:s,key:1,className:"helper-box"},Array.isArray(i)?i.map(function(e,t){return r.a.createElement("p",{className:!n.includes("spButton")&&"ledButton"!==n||t!==o?"":"selected"},e)}):i),r.a.createElement(v,{helperBox:s,helperRefs:t,selected:n})]}),P=(n(1061),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.clear,n=Object(a.useState)(void 0),o=Object(u.a)(n,2),s=o[0],i=o[1],c=Object(a.useState)("centerButton"),l=Object(u.a)(c,2),m=l[0],d=l[1],h=Object(a.useRef)(),p=Object(a.useRef)(),f=Object(a.useRef)(),w=Object(a.useRef)(),y=Object(a.useRef)(),b=Object(a.useRef)();return r.a.createElement("div",{className:"player-helper"},r.a.createElement(E,{sliderHovered:s,selected:m,helperRefs:{slider1:f,slider2:w,slider3:y,slider4:b,ledButton:p,centerButton:h}}),r.a.createElement("div",{onClick:t,className:"pushable x-button"},"x"),r.a.createElement("div",{className:"mock-player"},r.a.createElement("div",{ref:h,className:"centerButton"===m?"center-button selected":"center-button",onClick:function(){return d("centerButton")}}),r.a.createElement("div",{ref:p,className:"ledButton"===m?"sp-button button1 led-button selected":"sp-button button1 led-button",onClick:function(){return d("ledButton")}}),r.a.createElement("div",{onMouseLeave:function(){return i(void 0)},onMouseOver:function(){return i(1)},ref:f,className:"slider1"===m?"sp-slider slider1 selected":"sp-slider slider1",onClick:function(){return d("slider1")}},r.a.createElement("span",null,"1")),r.a.createElement("div",{onMouseLeave:function(){return i(void 0)},onMouseOver:function(){return i(4)},ref:w,className:"slider2"===m?"sp-slider slider2 selected":"sp-slider slider2",onClick:function(){return d("slider2")}},r.a.createElement("span",null,"4")),r.a.createElement("div",{onMouseLeave:function(){return i(void 0)},onMouseOver:function(){return i(3)},ref:y,className:"slider3"===m?"sp-slider slider3 selected":"sp-slider slider3",onClick:function(){return d("slider3")}},r.a.createElement("span",null,"3")),r.a.createElement("div",{onMouseLeave:function(){return i(void 0)},onMouseOver:function(){return i(2)},ref:b,className:"slider4"===m?"sp-slider slider4 selected":"sp-slider slider4",onClick:function(){return d("slider4")}},r.a.createElement("span",null,"2"))))})),k=(n(1062),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.setShowCredits;return r.a.createElement("div",{className:"credits"},r.a.createElement("div",{onClick:function(){return t(!1)},className:"pushable x-button"},"x"),r.a.createElement("div",{className:"credits-text"},r.a.createElement("p",null,'Spore Players: A new internet for sound. Season One featuring "Psilocybin". Fuck just being a collector, become a ',r.a.createElement("i",null,"distributor")," in the new music world. Beam futuristic songs exclusively to planet earth with your limited edition Spore Player. Each Spore Player is loaded with hidden rarities, such as ",r.a.createElement("i",null,"FX Chains"),", that alter each song differently. Anyone can remix the song using the Spore Player, but only collectors have the power to mint the official remixes. Become the world\u2019s ultra-rare contact point for futuristic music."),r.a.createElement("p",null,"Song Credits"),r.a.createElement("p",null,"Location: Sunset and Gower Recording Studios"),r.a.createElement("p",null,"Keyon Christ - Vocals, Writing, Producer CLLLAPS - Co producer Jonnywood- Co producer, Mixer Zamorrah - Writer Oshi - Co producer Wil Anspach - Recording, Mixer"),r.a.createElement("p",null,"Powered by ",r.a.createElement("a",{href:"https://zequencer.io"},"Zequencer")," x ",r.a.createElement("a",{href:"https://indigosound.vision"},"Indigo Sound"))))})),O=(n(1063),function(e){var t=e.type,n=e.names;return r.a.createElement("div",{className:"credit-part"},r.a.createElement("div",{className:"credit-type"},t),r.a.createElement("div",{className:"credit-names"},n.map(function(e,t){return r.a.createElement("div",{className:"credit-name"},e+(t<n.length-1?", ":""))})))}),j=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],s=n[1];return r.a.createElement("div",{className:"song-credits"},r.a.createElement("div",{onClick:function(){return s(!o)},className:o?"credits-btn show":"credits-btn"},"Credits"),o&&r.a.createElement("div",null,r.a.createElement(O,{type:"Vocals, Producer",names:["Keyon Christ"]}),r.a.createElement(O,{type:"Writing",names:["Keyon Christ","Zamorrah"]}),r.a.createElement(O,{type:"Co-Producer",names:["CLLLAPS","JonnyWood","Oshi"]}),r.a.createElement(O,{type:"Mixing",names:["JonnyWood","Wil Anspach"]}),r.a.createElement(O,{type:"Recording",names:["Wil Anspach"]}),r.a.createElement(O,{type:"Location",names:["Sunset and Gower Recording Studios"]}),r.a.createElement(O,{type:"Powered By",names:["Zequencer","Indigo Sound"]})))}),N=Object(f.b)(function(e,t){return{song:e.playlist.currentSong}},function(e){return{}})(function(e){var t=e.artist,n=void 0===t?"Keyon Christ":t,a=e.song,o=void 0===a?"Psilocybin":a;return r.a.createElement("div",{className:"song-title"},r.a.createElement("div",{className:"song-name"},o),r.a.createElement("div",{className:"song-artist"},n))}),I=(n(1064),Object(f.b)(function(e,t){return{showPlaylistMenu:e.playlist.showPlaylistMenu,currentSong:e.playlist.currentSong}},function(e){return{setCurrentSong:function(t){return e({type:504,payload:t})}}})(function(e){var t=e.currentSong,n=e.setCurrentSong,o=(e.sequencerEngine,e.showPlaylistMenu),s=Object(a.useState)(["Twisting Faith","Psilocybin"]),i=Object(u.a)(s,2),c=i[0],l=(i[1],Object(a.useState)(!1)),m=Object(u.a)(l,2),d=(m[0],m[1],Object(a.useCallback)(function(e,t){console.log("window stemIFRame=",window.stemIFrame),window.stemIFrame&&window.stemIFrame.current&&(n(t),console.log("sending load song=",e),window.stemIFrame.current.contentWindow.postMessage({type:"load-song",body:e},"*"))},[n]));return b.isMobile&&!o?"":r.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"spores-playlist"},b.isMobile&&r.a.createElement("div",{className:"artist-name"},"Keyon Christ"),c.map(function(e,n){return r.a.createElement("div",{onClick:function(a){console.log("clicked playlist item"),t!==e&&d(n,e)},className:e===t?"song-item current":"song-item"},e)}))})),_=(n(1065),function(e){var t=e.showStemPlayer,n=e.setShowStemPlayer,o=e.brect,s=e.tokenId,i=e.playerChosen,c=e.isOver,l=e.mouse,m=e.setOver,d=e.rarity,h=e.thumbnail,p=e.setPlayerChosen,f=Object(a.useRef)(),w=Object(a.useState)("Twisting Faith"),y=Object(u.a)(w,2),g=y[0],v=y[1],S=f.current&&f.current.getBoundingClientRect(),E=S&&l&&l.x-S.left+o.left,P=S&&l&&l.y-S.top+o.top,k="spore-player-option";i===s?k+=" chosen":i&&(k+=" unchosen");var O=Object(a.useCallback)(function(){if(t)return n(void 0),void p(void 0);i===s?(n(void 0),p(void 0)):(p(s),n(!0))},[p,t,i,s]);return r.a.createElement("div",{ref:f,onMouseOver:function(){return m(s)},className:k},c&&l&&r.a.createElement("div",{className:"mouse-radial",style:{left:E-500,top:P-500}}),r.a.createElement("div",{onClick:O},r.a.createElement("img",{src:h}),r.a.createElement("div",{className:"sp-fields"},r.a.createElement("div",{className:"sp-name"},"SP-",s),r.a.createElement("div",{className:"sp-rarity"},d))),t&&r.a.createElement(N,null),!b.isMobile&&t&&i===s&&r.a.createElement(I,{currentSong:g,setCurrentSong:v}),t&&i===s&&r.a.createElement(j,null))}),T=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.playerChosen,n=e.setPlayerChosen,o=e.showStemPlayer,s=e.setShowStemPlayer,i=Object(a.useRef)(),c=Object(a.useState)(void 0),l=Object(u.a)(c,2),m=(l[0],l[1],Object(a.useState)()),d=Object(u.a)(m,2),h=d[0],p=d[1],f=Object(a.useState)(),w=Object(u.a)(f,2),y=w[0],g=w[1],v=Object(a.useCallback)(function(e){var t=i.current.getBoundingClientRect(),n=e.clientX-t.left,a=e.clientY-t.top;p({x:n,y:a})},[p]),S=Object(a.useCallback)(function(){p(void 0)},[p]),E=i.current&&i.current.getBoundingClientRect(),P="caurosel";return t&&(P+=" player-chosen"),r.a.createElement("div",{onMouseLeave:S,ref:i,onMouseMove:v,className:P},h&&r.a.createElement("div",{className:"mouse-radial",style:{left:h.x-500,top:h.y-500}}),r.a.createElement(_,{playerChosen:t,brect:E,setShowStemPlayer:s,showStemPlayer:o,mouse:h,isOver:1===y,setOver:g,setPlayerChosen:n,rarity:"Convolver",tokenId:1,thumbnail:b.isMobile?"/sp-1-thumbnail-mobile.png":"/sp-1-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:2===y,setOver:g,setPlayerChosen:n,rarity:"Ionic Filter",tokenId:2,thumbnail:b.isMobile?"/sp-2-thumbnail-mobile.png":"/sp-2-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:3===y,setOver:g,setPlayerChosen:n,rarity:"WaveFolder",tokenId:3,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:4===y,setOver:g,setPlayerChosen:n,rarity:"Freak Shifter",tokenId:4,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:4===y,setOver:g,setPlayerChosen:n,rarity:"Vocal Bender",tokenId:5,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:4===y,setOver:g,setPlayerChosen:n,rarity:"Caustic Fluids",tokenId:6,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:4===y,setOver:g,setPlayerChosen:n,rarity:"Caustic Fluids",tokenId:7,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:4===y,setOver:g,setPlayerChosen:n,rarity:"Caustic Fluids",tokenId:8,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:4===y,setOver:g,setPlayerChosen:n,rarity:"Caustic Fluids",tokenId:9,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}),r.a.createElement(_,{setShowStemPlayer:s,showStemPlayer:o,brect:E,playerChosen:t,mouse:h,isOver:4===y,setOver:g,setPlayerChosen:n,rarity:"Caustic Fluids",tokenId:10,thumbnail:b.isMobile?"/sp-3-thumbnail-mobile.png":"/sp-3-thumbnail.png"}))}),C=(n(1066),n(1067),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.width,n=(e.store,e.spore),o=e.progress,s=(e.preset,e.setPreset,Object(a.useRef)());return Object(a.useEffect)(function(){s.current&&s.current.contentWindow&&n&&s.current.contentWindow.postMessage({type:"heatmapHash",body:n.dataHash},"*")},[n]),Object(a.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"sporePosition",body:o},"*")},[o]),Object(a.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"heatmapSize",body:[t,90]},"*")},[t]),r.a.createElement("iframe",{ref:s,sandbox:"allow-scripts allow-same-origin",height:110,width:t,"aria-describedby":"spore",alt:"spore.vision",src:"https://zequencer.io/ipfs/QmTh6hkgEGGLpVP5XANvDToWMmLNq1VFXcS4vXnCMjrefC/",className:"spore-heatmap zora-mediaObject css-hnzuw7 zora-mediaObject--mediaLoaded zora-mediaObject--isFullPage",style:{borderWidth:"0px"}})})),M=n(14),x=n(2),L=n(3),B={};function H(e){return"hsl("+e.h+","+e.s+"%,"+e.l+"%)"}function A(e){var t=(e=e.substring(4)).split(","),n=Object(u.a)(t,3),a=n[0],r=n[1],o=n[2],s=r.indexOf("%");return r=r.substring(0,s),s=o.indexOf("%"),o=o.substring(0,s),{h:parseFloat(a),s:parseFloat(r),l:parseFloat(o)}}function R(e,t,n){n/=100;var a=t*Math.min(n,1-n)/100,r=function(t){var r=(t+e/30)%12,o=n-a*Math.max(Math.min(r-3,9-r,1),-1);return Math.round(255*o).toString(16).padStart(2,"0")};return"#".concat(r(0)).concat(r(8)).concat(r(4))}var F=function(){function e(){Object(x.a)(this,e)}return Object(L.a)(e,[{key:"transparent",value:function(e,t){return e.slice(0,e.length-1)+", "+t+")"}},{key:"intToRGB",value:function(e){var t=(16777215&e).toString(16).toUpperCase();return"#"+"00000".substring(0,6-t.length)+t}},{key:"hueShift",value:function(e,t){var n=A(e);return H({h:n.h+t,s:n.s,l:n.l})}},{key:"warm",value:function(e){return H({h:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:141)-e,s:arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l:50})}},{key:"compliment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=A(e),a=n.h;return 0===a&&a++,H({h:a+=10*t%255,s:n.s,l:n.l})}},{key:"saturate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){if(e.startsWith("hsl")){var a=A(e),r=a.h,o=a.s,s=a.l;return s*=n,e=H({h:r,s:o=Math.min(o*t,100),l:s})}var i=function(e){var t=e.r,n=e.g,a=e.b;t/=255,n/=255,a/=255;var r=Math.min(t,n,a),o=Math.max(t,n,a),s=o-r,i=0,c=0,l=0;i=0==s?0:o==t?(n-a)/s%6:o==n?(a-t)/s+2:(t-n)/s+4;(i=Math.round(60*i))<0&&(i+=360);return l=(o+r)/2,c=+(100*(c=0==s?0:s/(1-Math.abs(2*l-1)))).toFixed(1),l=+(100*l).toFixed(1),{h:i,s:c,l:l}}(this.getRGB(e)),c=i.h,l=i.s,u=i.l;return u*=n,e=H({h:c,s:l=Math.min(l*t,100),l:u})}}},{key:"brighten",value:function(e,t){if(e.startsWith("hsl")){var n=A(e);return H(n=function(e,t){var n=e.h,a=e.s,r=e.l;return{h:n,s:a,l:r*t}}(n,t))}var a=B[e+"."+t];if(a)return a;var r=Math.min(255,Math.floor(parseInt(e.slice(1,3),16)*t)),o=Math.min(255,Math.floor(parseInt(e.slice(3,5),16)*t)),s=Math.min(255,Math.floor(parseInt(e.slice(5),16)*t));r=r.toString(16),o=o.toString(16),s=s.toString(16),1===r.length&&(r="0"+r),1===o.length&&(o="0"+o),1===s.length&&(s="0"+s);var i="#"+r+o+s;return B[e+"."+t]=i,i}},{key:"getBrightness",value:function(e){var t=this.getRGB(e);return.299*t.r+.587*t.g+.114*t.b}},{key:"rawHSLToHex",value:function(e){return R(e.h,e.s,e.l)}},{key:"hslToHex",value:function(e){var t=A(e);return R(t.h,t.s,t.l)}},{key:"getRGB",value:function(e){return{r:Math.floor(parseInt(e.slice(1,3),16)),g:Math.floor(parseInt(e.slice(3,5),16)),b:Math.floor(parseInt(e.slice(5),16))}}}]),e}(),q=n(58),z=n.n(q);function D(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return W(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw o}}}}function W(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var U=new F;window.heatRoot=1.1,window.bucketSize=1,window.saturation=80;var G=function(e,t){var n,a=e.sliderChanges,r=e.modeChanges,o=a.map(function(e){return Math.round((isNaN(e[0])?0:e[0])/t)}),s={},i=D(o);try{for(i.s();!(n=i.n()).done;){var c=n.value;s[c]||(s[c]=0),s[c]+=1}}catch(w){i.e(w)}finally{i.f()}o=r.map(function(e){return Math.round((isNaN(e[0])?0:e[0])/t)});var l,u=Math.max.apply(Math,Object(M.a)(Object.values(o))),m=D(o);try{for(m.s();!(l=m.n()).done;){var d=l.value;s[d]||(s[d]=0),s[d]+=16;for(var h=0,p=function(e){if(o.some(function(t){return t===e}))return"break";s[e]||(s[e]=0),s[e]+=50+h,h+=8},f=d+1;f<u;f++){if("break"===p(f))break}}}catch(w){m.e(w)}finally{m.f()}return s},J=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.heat,n=e.width,a=void 0===n?54:n,o=e.height,s=void 0===o?10:o,i=e.center,c=void 0!==i&&i,l=e.saturation,u=void 0===l?200:l;e.duration;if(!t)return"";var m=54===a?2*window.bucketSize:window.bucketSize,d=G(t,m),h=.75*Math.max.apply(Math,Object(M.a)(Object.values(d))),p=Math.max.apply(Math,Object(M.a)(Object.keys(d)));return r.a.createElement("svg",{className:"heatmap",width:a,height:10},Object.keys(d).map(function(e){return r.a.createElement("rect",{width:a>80?4:1,height:c?s*Math.min(1,Math.pow(d[e],window.heatRoot)/h):s,opacity:Math.min(1,Math.pow(d[e],window.heatRoot)/h),fill:U.warm(190*Math.min(1,Math.pow(d[e],window.heatRoot)/h),190,Math.min(1,Math.pow(d[e],window.heatRoot)/h)*u),x:a*e/p,y:c?s/2-s*Math.min(1,Math.pow(d[e],window.heatRoot)/h)/2:0})}))});n(1068);var Q=function(e){var t=Object(a.useCallback)(function(t){t.target.parentNode.blur(),t.target.blur(),t.currentTarget.blur(),e.play()},[e.isPlaying]);return r.a.createElement("div",{onClick:t,className:"play-btn-wrapper pushable"},r.a.createElement("div",{className:e.isPlaying?"play-btn playing":"play-btn "}))},K=function(e){return e.slice(0,4)+"..."+e.slice(-4)},V=function(e){e||(e=0);var t=Math.floor(e/60),n=Math.floor(e-60*t);return n<10&&(n="0"+n),"".concat(t,":").concat(n)},X=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){e.heat;var t=e.creator,n=e.audioUnit,o=e.store,s=e.spore,i=e.preset,c=e.setPreset,l=e.sporeMetadata,m=b.isMobile?240:500,d=Object(a.useRef)(),h=Object(a.useState)(!1),p=Object(u.a)(h,2),f=p[0],w=p[1],y=Object(a.useState)(void 0),g=Object(u.a)(y,2),v=g[0],S=g[1],E=Object(a.useRef)(0),P=Object(a.useState)(0),k=Object(u.a)(P,2),O=k[0],j=k[1],N=Object(a.useState)(),I=Object(u.a)(N,2),_=(I[0],I[1]);Object(a.useEffect)(function(){w(!1),j(0)},[s]),function(e,t){var n=Object(a.useRef)();Object(a.useEffect)(function(){n.current=e},[e]),Object(a.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}(Object(a.useCallback)(function(){var e=z.a.Master.context.currentTime-v;f&&j((e+E.current)/n.duration)},[f,j,v]),40);var T=Object(a.useCallback)(function(){f?(E.current=E.current+z.a.Master.context.currentTime-v,n.stopSound()):n.playSound(E.current),w(!f),S(z.a.Master.context.currentTime)},[f,j,w,n,v]),M=Object(a.useCallback)(function(e){e.stopPropagation(),_(void 0),f||w(!0);var t=e.clientX-d.current.getBoundingClientRect().left,a=t/m*n.duration;n.playSound(a),E.current=a,S(z.a.Master.context.currentTime),_(t),setTimeout(function(){_(void 0)},300)},[f,w,S,_,n]);return Object(a.useEffect)(function(){return function(){n&&n.stopSound()}},[n]),O=Math.min(100,O),r.a.createElement("div",{className:"audio-player"},n&&r.a.createElement(Q,{isPlaying:f,play:T}),r.a.createElement("div",{ref:d,onClick:M,className:"play-time-and-slider"},l&&r.a.createElement(C,{setPreset:c,width:m,preset:i,progress:O,store:o,spore:l}),r.a.createElement("div",{className:"play-time"},n&&r.a.createElement("div",{className:"time"},V(O*n.duration)," / ",V(n.duration)),t&&r.a.createElement("div",{className:"creator"},K(t))),r.a.createElement("div",{className:"song-title-and-author"},r.a.createElement("div",{className:"song-title"},"Psilocybin"),r.a.createElement("div",{className:"song-creator"},"Keyon Christ"))))}),Y=n(4),Z=n(23),$=n(5),ee=n(7),te=function e(t,n){Object(x.a)(this,e),this.event=t,this.topics=n;for(var a=arguments.length,r=new Array(a>2?a-2:0),o=2;o<a;o++)r[o-2]=arguments[o];this.data=r},ne=function(){function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(x.a)(this,e),this.name=t,this.type=n,this.size=64*a}return Object(L.a)(e,[{key:"convertTo",value:function(e){if(void 0!==e&&null!==e)return this.type.convertTo(e)}},{key:"convertFrom",value:function(e){if(void 0!==e&&null!==e)return this.type.convertFrom(e)}}]),e}(),ae=(new te("SampleTagged(bytes32,bytes32,uint32)",[new ne("ipfsHash",ee.i),new ne("tag",ee.b),new ne("guildId",ee.g)]),new te("SampleStyle(bytes32,bytes32,uint32)",[new ne("ipfsHash",ee.i),new ne("style",ee.b),new ne("guildId",ee.g)]),new te("SampleYear(bytes32,int16,uint32)",[new ne("ipfsHash",ee.i),new ne("year",ee.f),new ne("guildId",ee.g)]),new te("SampleCountry(bytes32,bytes32,uint32)",[new ne("ipfsHash",ee.i),new ne("country",ee.b),new ne("guildId",ee.g)]),new te("SampledYoutube(bytes32,bytes32,uint32)",[new ne("ipfsHash",ee.i),new ne("videoId",ee.l),new ne("guildId",ee.g)]),new te("SequenceCreated(address,bytes32,string)",[new ne("user",ee.a),new ne("ipfsHash",ee.i)],new ne("title",ee.m)),new te("SampleCreated(address,bytes32,string,uint32)",[new ne("user",ee.a),new ne("ipfsHash",ee.i),new ne("guildId",ee.g)],new ne("title",ee.m)),new te("NewNoteSequence(bytes32,bytes32)",[new ne("sampleHash",ee.i),new ne("noteSequenceHash",ee.i)]),new te("NewDiscogsSample(bytes32,uint256,bytes32,uint32)",[new ne("sampleHash",ee.i),new ne("coverArtHash",ee.i),new ne("guildId",ee.g)],new ne("discogsId",ee.n)),new te("NewNotesAggregation(bytes32,bytes32,bytes32,uint32,uint32,bytes32)",[new ne("sampleHash",ee.i),new ne("noteA",ee.k),new ne("noteB",ee.k)],new ne("startTime",ee.g),new ne("endTime",ee.g),new ne("remainingNotes",ee.j)),new te("SampleFavorited(address,bytes32)",[new ne("user",ee.a),new ne("sampleHash",ee.i)]),new te("SampleUnfavorited(address,bytes32)",[new ne("user",ee.a),new ne("sampleHash",ee.i)]),new te("SequenceEdited(address,bytes32,bytes32,bytes32,string)",[new ne("user",ee.a),new ne("previousSequence",ee.i),new ne("newSequence",ee.i)],new ne("diff",ee.i),new ne("title",ee.m)),new te("SequenceEdited(address,bytes32,bytes32,string,uint32)",[new ne("user",ee.a),new ne("previousSequence",ee.i),new ne("newSequence",ee.i)],new ne("title",ee.m),new ne("bpm",ee.g)),new te("PresetTagged(address,bytes32,bytes32,uint32)",[new ne("contentHash",ee.i),new ne("tag",ee.b),new ne("guildId",ee.g)],new ne("user",ee.a)),new te("NewGuild(address,uint32,string)",[new ne("user",ee.a),new ne("guildId",ee.g)],new ne("name",ee.m)),new te("NewGuildMemberRequest(address,address,uint32)",[new ne("requester",ee.a),new ne("newMember",ee.a),new ne("guildId",ee.g)]),new te("NewGuildMemberRequestAccepted(address,uint32)",[new ne("newMember",ee.a),new ne("guildId",ee.g)]),new te("NewGuildMemberRequestRejected(address,uint32)",[new ne("newMember",ee.a),new ne("guildId",ee.g)]),new te("GuildKeyEncrypted(address,uint32,bytes32)",[new ne("user",ee.a),new ne("guildId",ee.g),new ne("ipfsHash",ee.i)]),new te("NewEncryptedContent(address,bytes32,bytes32,int8,bytes32,bytes32[9],bytes32[6])",[new ne("user",ee.a),new ne("newContent",ee.i),new ne("contentType",ee.h)],new ne("previousContent",ee.i),new ne("encryptedName",ee.d),new ne("encryptedContentKey",Object(ee.c)(9),9),new ne("publicKey",Object(ee.c)(6),6)),new te("EncryptedContentShared(address,address,bytes32,bytes32[9],bytes32[6])",[new ne("sharedWith",ee.a),new ne("creator",ee.a),new ne("contentHash",ee.i)],new ne("encryptedContentKey",Object(ee.c)(9),9),new ne("publicKey",Object(ee.c)(6),6)),new te("NewPublicKey(address,bytes32[6])",[new ne("user",ee.a)],new ne("publicKey",Object(ee.c)(6),6)),new te("NewPreset(address,bytes32,uint32,bytes32,bytes32[9],bytes32[6])",[new ne("user",ee.a),new ne("contentHash",ee.i),new ne("guildId",ee.g)],new ne("encryptedName",ee.d),new ne("encryptedContentKey",Object(ee.c)(9),9),new ne("publicKey",Object(ee.c)(6),6)),new te("PresetSample(bytes32,bytes32,uint32)",[new ne("contentHash",ee.i),new ne("sampleHash",ee.i),new ne("guildId",ee.g)]),new te("PresetInstrumentType(bytes32,bytes32,uint32)",[new ne("contentHash",ee.i),new ne("instrumentType",ee.e),new ne("guildId",ee.g)]),new te("NewMonthlyIndex(bytes32,uint32,uint64)",[new ne("month",ee.n),new ne("year",ee.n)],new ne("hash",ee.i)),new te("New2DMapping(bytes32)",[new ne("ipfsHash",ee.i)]),new te("PublicMessageSent(address,address,bytes32,bytes32)",[new ne("fromUser",ee.a),new ne("toUser",ee.a),new ne("referenceHash",ee.i)],new ne("messageHash",ee.i)),new te("SampleCopyStrike(address,bytes32,bytes32)",[new ne("user",ee.a),new ne("sampleHash",ee.i),new ne("referenceHash",ee.i)]),new te("SampleTakenDown(bytes32)",[new ne("sampleHash",ee.i)]),new te("FoldersUpdated(address,bytes32)",[new ne("user",ee.a),new ne("foldersHash",ee.i)]),new te("NewIndex(uint32,bytes32)",[new ne("guildId",ee.g)],new ne("indexHash",ee.i)),new te("NewGuildSequence(address,bytes32,uint32,bytes32,bytes32,bytes32[9],bytes32[6])",[new ne("user",ee.a),new ne("contentHash",ee.i),new ne("guildId",ee.g)],new ne("previousHash",ee.i),new ne("encryptedName",ee.d),new ne("encryptedContentKey",Object(ee.c)(9),9),new ne("publicKey",Object(ee.c)(6),6)),new te("NewGuildClassification(uint32,bytes32)",[new ne("guildId",ee.g),new ne("contentHash",ee.i)]),new te("Transfer(address,address,uint256)",[new ne("fromUser",ee.a),new ne("toUser",ee.a)],new ne("amount",ee.g)),new te("SequenceTagged(bytes32,bytes32,uint32)",[new ne("ipfsHash",ee.i),new ne("tag",ee.b),new ne("guildId",ee.g)]),new te("SequenceFavorited(bytes32,address,uint32)",[new ne("ipfsHash",ee.i),new ne("user",ee.a),new ne("guildId",ee.g)]),new te("SequenceStarred(bytes32,address,uint32)",[new ne("ipfsHash",ee.i),new ne("user",ee.a),new ne("guildId",ee.g)]),new te("SequenceUnfavorited(bytes32,address,uint32)",[new ne("ipfsHash",ee.i),new ne("user",ee.a),new ne("guildId",ee.g)]),new te("SequenceUnstarred(bytes32,address,uint32)",[new ne("ipfsHash",ee.i),new ne("user",ee.a),new ne("guildId",ee.g)]),new te("NewDataType(bytes32,string)",[new ne("dataType",ee.b)],new ne("description",ee.m)),new te("NewLinkType(bytes32,string)",[new ne("linkType",ee.b)],new ne("description",ee.m)),new te("NewAnnotationType(bytes32,string)",[new ne("annotationType",ee.b)],new ne("description",ee.m)),new te("NewAnnotation(bytes32,bytes32,bytes32,address)",[new ne("annotationType",ee.b),new ne("data",ee.i),new ne("address",ee.a)],new ne("annotationData",ee.b)),new te("NewLink(bytes32,bytes32,bytes32,address)",[new ne("linkType",ee.b),new ne("fromData",ee.i),new ne("toData",ee.i)],new ne("address",ee.a)),new te("NewMix(address,bytes32,bytes32,string,uint32)",[new ne("user",ee.a),new ne("mixHash",ee.i),new ne("previousHash",ee.i)],new ne("title",ee.m),new ne("guildId",ee.g)),new te("NewEffect(address,bytes32,bytes32,string,uint32)",[new ne("user",ee.a),new ne("effectHash",ee.i),new ne("effectType",ee.b)],new ne("title",ee.m),new ne("guildId",ee.g)),new te("ReleaseInfo(bytes32,uint32,string,bytes32,bytes32)",[new ne("artistName",ee.b),new ne("releaseId",ee.g)],new ne("releaseName",ee.m),new ne("coverArtHash",ee.i),new ne("releaseType",ee.b)),new te("SampleByArtist(bytes32,bytes32)",[new ne("artistName",ee.b),new ne("ipfsHash",ee.i)]),new te("ArtistInfo(bytes32,bytes32,string)",[new ne("artistName",ee.b),new ne("linkType",ee.b)],new ne("link",ee.m)),new te("MidiCCParameter(bytes32,uint32,bytes32,address)",[new ne("deviceName",ee.b),new ne("ccNumber",ee.g),new ne("parameterName",ee.b)],new ne("user",ee.a)),new te("SampleInSequence(bytes32,bytes32)",[new ne("sequenceHash",ee.i),new ne("sampleHash",ee.i)]),new te("ListEdited(bytes32,bytes32,address,bytes32,uint32)",[new ne("newContent",ee.i),new ne("previousContent",ee.i),new ne("user",ee.a)],new ne("title",ee.b),new ne("guildId",ee.g)),new te("ListHighlighted(bytes32,address)",[new ne("contentHash",ee.i)],new ne("user",ee.a)),new te("ListUnhighlighted(bytes32,address)",[new ne("contentHash",ee.i)],new ne("user",ee.a)),new te("ListFavorited(bytes32,address)",[new ne("contentHash",ee.i)],new ne("user",ee.a)),new te("ListUnfavorited(bytes32,address)",[new ne("contentHash",ee.i)],new ne("user",ee.a)),new te("ListDeleted(bytes32,address)",[new ne("contentHash",ee.i),new ne("user",ee.a)]),new te("NewWallpaper(address,bytes32,bytes32)",[new ne("user",ee.a),new ne("wallpaperHash",ee.i),new ne("thumbnailHash",ee.i)]),new te("DefaultWallpaper(address,bytes32)",[new ne("user",ee.a),new ne("wallpaperHash",ee.i)]),new te("NewPack(address,bytes32,bytes32,bytes32)",[new ne("user",ee.a),new ne("packHash",ee.i),new ne("previousHash",ee.i)],new ne("title",ee.b)),new te("PackHasContent(bytes32,bytes32)",[new ne("packHash",ee.i),new ne("contentHash",ee.i)]),new te("UserLeftGuild(uint256,address)",[new ne("guildId",ee.g)],new ne("user",ee.a)),new te("NewScript(address,bytes32,bytes32,bytes32)",[new ne("user",ee.a),new ne("scriptHash",ee.i),new ne("scriptType",ee.b)],new ne("title",ee.b)),new te("NewCreatorProject(address,uint256,bytes32,uint256,string)",[new ne("creator",ee.a),new ne("projectId",ee.n),new ne("contentHash",ee.i)],new ne("maxInvocations",ee.n),new ne("title",ee.m)),new te("NewTokenSeed(uint256,uint256,bytes32)",[new ne("projectId",ee.n),new ne("tokenId",ee.n)],new ne("seedHash",ee.b)),new te("ZoraProject(bytes32,uint256)",[new ne("projectHash",ee.i),new ne("zoraId",ee.n)]),new te("AccountAuthorized(address,address,string,uint8,bytes32,bytes32)",[new ne("zequencerAddress",ee.a),new ne("walletAddress",ee.a)],new ne("message",ee.m),new ne("v",ee.h),new ne("r",ee.d),new ne("s",ee.d)),new te("PluginCreated(uint256,address,string)",[new ne("tokenId",ee.n),new ne("creator",ee.a)],new ne("name",ee.m)),new te("NewPluginVersion(uint256,uint256,bytes32,string)",[new ne("tokenId",ee.n),new ne("versionNumber",ee.n)],new ne("pluginContentHash",ee.i),new ne("pluginMetadataURI",ee.m)),new te("ProjectHasArrangement(bytes32)",[],new ne("projectHash",ee.i)),new te("ProjectBPM(bytes32,int16)",[],new ne("projectHash",ee.i),new ne("bpm",ee.n)),new te("ProjectVisuals(bytes32,bytes32)",[],new ne("projectHash",ee.i),new ne("thumbnailhash",ee.i)),new te("ProjectUsesPreset(bytes32,bytes32)",[],new ne("projectHash",ee.i),new ne("presetHash",ee.i)),new te("ProjectPatternsCount(bytes32,int8)",[],new ne("projectHash",ee.i),new ne("patterns",ee.n)),new te("NewSporeCreated(uint256,uint256,address,address,bytes32,bytes32)",[],new ne("sporeId",ee.n),new ne("tokenId",ee.n),new ne("proxy",ee.a),new ne("creator",ee.a),new ne("sporeHash",ee.i),new ne("dataHash",ee.i))),re=(new te("NewChainCreated(uint256,bytes32,address,address,bytes32)",[],new ne("chainId",ee.n),new ne("name",ee.b),new ne("proxy",ee.a),new ne("creator",ee.a),new ne("chainHash",ee.i)),n(19)),oe="undefined"!==typeof window.web3,se=function(){function e(t){Object(x.a)(this,e),this.address=t,this.distinct=!1,this.selectStatements=[],this.whereClauses=[],this.groupBy=[],this.joinClauses=[],this.limitSize=void 0,this.fromBlockNumber="0x2",this.toBlockNumber=void 0}return Object(L.a)(e,[{key:"from",value:function(e){return this.eventLog=e,this}},{key:"select",value:function(e){return this.selectStatements.push(e),this}},{key:"distinct",value:function(){return this.distinct=!0,this}},{key:"groupBy",value:function(e){return this.groupBy.push(e),this}},{key:"where",value:function(e,t){return this.whereClauses.push(new ie(e,t)),this}},{key:"whereIn",value:function(e,t){return this.whereClauses.push(new ie(e,void 0,t)),this}},{key:"join",value:function(e,t){this.joinClauses.push(new ce(e,t))}},{key:"fromBlock",value:function(e){return this.fromBlockNumber=re.a.utils.toHex(e),this}},{key:"toBlock",value:function(e){return this.toBlockNumber=re.a.utils.toHex(e),this}},{key:"limit",value:function(e){return this.limitSize=e,this}},{key:"getTopics",value:function(){var e=[re.a.utils.sha3(this.eventLog.event)];for(var t in this.eventLog.topics){var n=this.eventLog.topics[parseInt(t)],a=null;for(var r in this.whereClauses){var o=this.whereClauses[parseInt(r)];if(o.name===n.name){var s=void 0!==o.value?o.value:o.valueList[0];a=n.convertTo(s)}}e.push(a)}return e}},{key:"executeQuery",value:function(){var e=this;return new Promise(function(t,n){re.a.eth.getPastLogs({address:e.address,topics:e.getTopics(),toBlock:e.toBlockNumber,fromBlock:e.fromBlockNumber},function(a,r){if(a)n(a);else{var o=[];r.reverse();for(var s=Math.min(r.length,e.limitSize||r.length),i=0;i<s;i++)o.push(e.parseResult(r[i]));t(o)}})})}},{key:"watchQuery",value:function(){var e=Object(h.a)(d.a.mark(function e(t){var n,a=this;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,re.a.eth.getBlockNumber();case 2:n=e.sent,(oe?re.a:re.b).eth.subscribe("logs",{address:this.address,topics:this.getTopics(),fromBlock:re.a.utils.toHex(n)},function(e,n){e&&(console.log("error watching "),console.log(e));var r=a.parseResult(n);console.log("watch query got "),console.log(r),t(r)});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseResult",value:function(e){if(void 0!==e&&null!==e){var t={};for(var n in this.selectStatements){var a=this.selectStatements[parseInt(n)];for(var r in this.eventLog.topics){var o=e.topics[1+parseInt(r)],s=this.eventLog.topics[parseInt(r)];s.name===a&&(t[a]=s.type.convertFrom(o))}var i=0;for(var c in this.eventLog.data){c=parseInt(c);var l=this.eventLog.data[c];if(void 0!==l&&a==l.name){var u=e.data.slice(2+i,2+i+l.size);u="0x"+u,l.type==ee.m&&(u="0x"+e.data.slice(130+64*c)),t[a]=l.convertFrom(u)}i+=l.size}}return t.blockNumber=e.blockNumber,t}}},{key:"getCopy",value:function(){var t=new e(this.address);return t.eventLog=this.eventLog,t.selectStatements=Object(M.a)(this.selectStatements),t.joinClauses=Object(M.a)(this.joinClauses),t.groupBy=Object(M.a)(this.groupBy),t.fromBlockNumber=this.fromBlockNumber,t.toBlockNumber=this.toBlockNumber,t.limitSize=this.limitSize,t}},{key:"getJson",value:function(){return{address:this.address,eventLog:this.eventLog.event,selectStatements:Object(M.a)(this.selectStatements),whereClauses:Object(M.a)(this.whereClauses),joinClauses:Object(M.a)(this.joinClauses),groupBy:Object(M.a)(this.groupBy),fromBlockNumber:re.a.utils.hexToNumber(this.fromBlockNumber),toBlockNumber:void 0===this.toBlockNumber?void 0:re.a.utils.hexToNumber(this.toBlockNumber),limitSize:this.limitSize,distinct:this.distinct}}}]),e}(),ie=function e(t,n){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(x.a)(this,e),this.name=t,this.value=n,this.valueList=a},ce=function e(t,n){Object(x.a)(this,e),this.event=t,this.field=n},le=se;function ue(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,a=Object($.a)(e);if(t){var r=Object($.a)(this).constructor;n=Reflect.construct(a,arguments,r)}else n=a.apply(this,arguments);return Object(Z.a)(this,n)}}var me=new(function(){function e(){Object(x.a)(this,e),this.runningQueries=new Set}return Object(L.a)(e,[{key:"submit",value:function(e){var t=this;return new Promise(function(){var n=Object(h.a)(d.a.mark(function n(a,r){var o;return d.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.runningQueries.size>=4)){n.next=5;break}return n.next=3,t.sleep(20);case 3:n.next=0;break;case 5:t.runningQueries.add(e),o="/search",window.spores&&(o="https://zequencer.io"+o),fetch(o,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(n){t.removeQuery(e),a(n||[])}).catch(function(n){console.log(n),t.removeQuery(e)});case 9:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}},{key:"removeQuery",value:function(e){this.runningQueries.delete(e)}},{key:"sleep",value:function(e){return new Promise(function(t,n){setTimeout(t,e)})}}]),e}()),de=function(e){Object(Y.a)(n,e);var t=ue(n);function n(e){return Object(x.a)(this,n),t.call(this,e)}return Object(L.a)(n,[{key:"executeQuery",value:function(){var e=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(t,n){if(window.isNFT)return t([]);me.submit(e.getJson()).then(t)})}}]),n}(le),he=n(107),pe=function(){function e(){Object(x.a)(this,e),this.abi=[{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes32",name:"sporeHash",type:"bytes32"},{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"newSpore",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"",type:"uint256"},{indexed:!1,internalType:"uint256",name:"",type:"uint256"},{indexed:!1,internalType:"address",name:"",type:"address"},{indexed:!1,internalType:"address",name:"",type:"address"},{indexed:!1,internalType:"bytes32",name:"",type:"bytes32"},{indexed:!1,internalType:"bytes32",name:"",type:"bytes32"}],name:"NewSporeCreated",type:"event"},{inputs:[{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"verifyString",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"pure",type:"function"}],this.contractAddress="0x335355fc5F5Fd3fC1b307d8468275f402C8B6dB2"}return Object(L.a)(e,[{key:"getContract",value:function(e){return new e.eth.Contract(this.abi,this.contractAddress)}}]),e}(),fe=(n(537),n(277),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z.a.Master.context;Object(x.a)(this,e),this.duration=0,this.source=void 0,this.buffer=void 0,this.playbackRate=1,this.looping=!1,this.playSound.bind(this),this.context=t,this.seek.bind(this),this.stopSound.bind(this)}return Object(L.a)(e,[{key:"dispose",value:function(){void 0!==this.source&&this.source.disconnect(),this.buffer=void 0,this.source=void 0}},{key:"getContext",value:function(){return this.context}},{key:"playSound",value:function(e,t){void 0==e&&(e=0),void 0!=this.source&&this.source.stop(),this.source=z.a.Master.context.createBufferSource(),this.source.connect(z.a.Master.context.destination),this.source.buffer=this.buffer,this.source.playbackRate.value=this.playbackRate,this.source.loop=!1,this.source.start(0,Math.max(0,e),t)}},{key:"seek",value:function(e){this.stopSound(),this.playSound(e)}},{key:"stopSound",value:function(){void 0!=this.source&&this.source.stop()}},{key:"loadRawBuffer",value:function(e){this.buffer=e,this.duration=e.duration}},{key:"setBuffer",value:function(e){this.buffer=e,this.duration=e.duration}}]),e}());function we(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ye(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,i=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){i=!0,o=e},f:function(){try{s||null==n.return||n.return()}finally{if(i)throw o}}}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}var be=n(277),ge=function(){var e=Object(h.a)(d.a.mark(function e(t){var n,a,r,o,s;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new de((new pe).contractAddress).from(ae),e.next=3,n.executeQuery();case 3:a=e.sent,r=we(a);try{for(r.s();!(o=r.n()).done;)4===(s=o.value).sporeId&&(s.tokenId=3)}catch(i){r.e(i)}finally{r.f()}return void 0!==t&&(a=a.filter(function(e){return null===e.tokenId&&1===t||e.tokenId===t})),e.abrupt("return",a);case 8:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ve=function(){var e=Object(h.a)(d.a.mark(function e(t,n,a){var r,o,s,i,c,l,u,m,h,p,f,w;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new de((new pe).contractAddress).from(ae),t&&r.where("sporeId",t.sporeId),e.next=4,r.executeQuery();case 4:o=e.sent,console.log("RESULTS=",o,t,r),s=we(o);try{for(s.s();!(i=s.n()).done;)4===(c=i.value).sporeId&&(c.tokenId=3)}catch(d){s.e(d)}finally{s.f()}if(void 0!==n&&(o=o.filter(function(e){return null===e.tokenId&&1===n||e.tokenId===n})),0!==o.length){e.next=11;break}return e.abrupt("return",null);case 11:return l=o[0],a(l),u=l.sporeHash,m=l.dataHash,(new Date).getTime(),e.next=18,y.a.getSound(u,1e7);case 18:return h=e.sent,(new Date).getTime(),e.next=22,z.a.Master.context.decodeAudioData(be(h));case 22:if(p=e.sent,(f=new fe(z.a.Master.context)).setBuffer(p),w=Object(he.a)({audioUnit:f,audioBuffer:p},l),!m){e.next=31;break}return console.log("data hash=",m),e.next=30,y.a.getJson(m);case 30:w.heat=e.sent;case 31:return e.abrupt("return",w);case 32:case"end":return e.stop()}},e)}));return function(t,n,a){return e.apply(this,arguments)}}(),Se={1:"https://opensea.io/assets/0x7269c1a1b8aba1390770193771f92bd722c6a77b/1",2:"https://opensea.io/assets/0x7269c1a1b8aba1390770193771f92bd722c6a77b/2",3:"https://opensea.io/assets/0x7269c1a1b8aba1390770193771f92bd722c6a77b/3",4:"https://opensea.io/assets/0x7269c1a1b8aba1390770193771f92bd722c6a77b/4"},Ee=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.store,n=e.audioUnit,o=e.selected,s=e.tokenId,i=(e.spore,e.setShowStemPlayer),c=e.setPreset,l=e.preset,m=Object(a.useState)(!1),d=Object(u.a)(m,2),h=(d[0],d[1],Object(a.useState)(void 0)),p=Object(u.a)(h,2),f=p[0],y=p[1],b=Object(a.useState)(),g=Object(u.a)(b,2),v=g[0],S=g[1],E=Object(a.useRef)(!1);Object(a.useEffect)(function(){return n.current&&(n.current.dispose(),n.current=void 0),y(void 0),ve(o,s,S).then(function(e){E.current?e.audioUnit.dispose():(e&&(n.current=e.audioUnit),y(e))}),function(){}},[y,s,o,S]),Object(a.useEffect)(function(){return function(){E.current=!0,n.current&&n.current.dispose()}},[]);var P=Object(a.useCallback)(function(){window.open(Se[s],"_blank")},[s]),k="simple-player";return f||(k+=" hide"),r.a.createElement("div",{className:k},null===f?r.a.createElement("div",{className:"no-spores"},"No spores have been made yet."):r.a.createElement("div",null,!f&&r.a.createElement(w,{intervalTime:100,intervalPiece:3,text:o?"Loading Spore #"+o.sporeId:"Loading Latest Spore"}),v&&r.a.createElement(X,{store:t,spore:f,setPreset:c,sporeMetadata:v,preset:l,saturation:80,heat:f&&f.heat,creator:v.creator,audioUnit:f&&f.audioUnit})),!o&&r.a.createElement("div",{onClick:function(){return i(!0)},className:"pushable stem-player-button"},"Expand Player"),!o&&r.a.createElement("div",{onClick:function(){return P()},className:"pushable stem-player-button view-on-opensea"},Se[s]?r.a.createElement("div",null,"OpenSea ",r.a.createElement("span",null,"\u2197")):"Soon"),o&&r.a.createElement("div",{className:"stem-player-button mint-spore"},"Mint Spore",r.a.createElement("div",{className:"spore-tooltip"},"to mint, you must own a spore player")))});var Pe=new(function(){function e(){Object(x.a)(this,e)}return Object(L.a)(e,[{key:"setItem",value:function(e,t){if(!window.isNFT)return window.localStorage.setItem(e,t)}},{key:"removeItem",value:function(e){window.isNFT||window.localStorage.removeItem(e)}},{key:"getItem",value:function(e){return window.isNFT?null:window.localStorage.getItem(e)}}]),e}()),ke=function(){var e=Object(h.a)(d.a.mark(function e(t){var n,a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n=Pe).getItem("blockDate."+t)){e.next=3;break}return e.abrupt("return",new Date(1e3*n.getItem("blockDate."+t)));case 3:if(void 0!==t){e.next=5;break}return e.abrupt("return",void 0);case 5:return e.next=7,re.a.eth.getBlock(t);case 7:if(null!==(a=e.sent)){e.next=10;break}return e.abrupt("return",new Date);case 10:return r=new Date(1e3*a.timestamp),n.setItem("blockDate."+t,a.timestamp),e.abrupt("return",r);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Oe=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.spore,n=e.isSelected,o=e.setSelected,s=Object(a.useState)(),i=Object(u.a)(s,2),c=i[0],l=i[1],m=Object(a.useState)(),d=Object(u.a)(m,2),h=d[0],p=d[1];return Object(a.useEffect)(function(){ke(t.blockNumber).then(l)},[t]),Object(a.useEffect)(function(){y.a.getJson(t.dataHash).then(p)},[t]),r.a.createElement("div",{onClick:function(){y.a.cancel(),o(t)},className:n?"spore-item selected":"spore-item"},r.a.createElement("div",{className:"spore-id"},"Spore #",t.sporeId),r.a.createElement(J,{heat:h}),r.a.createElement("div",{className:"spore-creator"},K(t.creator)),r.a.createElement("div",{className:"spore-date"},c&&function(e){var t=(new Date).getTime()-e.getTime();if(t<36e5)return"".concat(Math.round(t/1e3/60)," min. ago");if(t<1728e5){var n=Math.round(t/1e3/60/60);return"".concat(n,1===n?" hours ago":" hour ago")}return function(e){return e.getMonth()+1+"/"+e.getDate()}(e)}(c)))}),je=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.store,n=e.setShowStemPlayer,o=e.tokenId,s=e.audioUnit,i=e.preset,c=e.setPreset,l=Object(a.useState)([]),m=Object(u.a)(l,2),d=m[0],h=m[1],p=Object(a.useRef)(),f=Object(a.useState)(),w=Object(u.a)(f,2),y=w[0],b=w[1];return Object(a.useEffect)(function(){ge(o).then(function(e){h(e)})},[h,o]),r.a.createElement("div",{className:"list-and-player"},r.a.createElement("div",{ref:p,className:"spores-list"},0===d.length&&r.a.createElement("div",{className:"no-spores-yet"},"No spores have been detected on-chain."),d.map(function(e){return r.a.createElement(Oe,{isSelected:e===y,setSelected:b,spore:e})})),y&&r.a.createElement(Ee,{preset:i,setPreset:c,store:t,audioUnit:s,selected:y,setShowStemPlayer:n}))}),Ne=n(0),Ie=(n(1361),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),o=n[0],s=n[1];Object(a.useEffect)(function(){window.addEventListener("message",i,!1)},[s]);var i=Object(a.useCallback)(function(e){e.data&&Array.isArray(e.data.type)&&"sequencer.start"===e.data.type[0]?s(!0):e.data&&Array.isArray(e.data.type)&&"sequencer.stop"===e.data.type[0]&&s(!1)},[s]),c=" recording-indicator";return o&&(c+=" is-recording"),r.a.createElement("div",{className:c})})),_e=n(108),Te=n(57),Ce=n(1385),Me=n(538),xe=n(212),Le=n(1380),Be=function(e){var t=e.materials,n=e.nodes,a=e.mushroomMat,o=e.position,s=e.scale,i=void 0===s?.5:s;return r.a.createElement("group",{name:"mushroom 3",position:o,rotation:[.12,0,0],scale:i},r.a.createElement("mesh",{name:"hat",geometry:n.hat.geometry,material:a,castShadow:!0,receiveShadow:!0,position:[109.15,398.99,297.3],scale:[.49,1.1,.49]}),r.a.createElement("mesh",{name:"feet",geometry:n.feet.geometry,material:t.feet,castShadow:!0,receiveShadow:!0,position:[103.16,165.95,307.5],scale:[.36,1,.5]}))},He=function(e){e.materials;var t=e.nodes,n=e.mushroomMat,a=e.position,o=e.scale,s=void 0===o?1:o;return r.a.createElement("group",{name:"mushroom1",position:a,rotation:[.12,0,0],scale:s},r.a.createElement("mesh",{name:"top1",geometry:t.top1.geometry,material:n,castShadow:!0,receiveShadow:!0,position:[-97.07,-4.34,14.33]}),r.a.createElement("mesh",{name:"bottom1",geometry:t.bottom1.geometry,material:t.bottom1.material,castShadow:!0,receiveShadow:!0,position:[-97.07,-4.34,14.33]}))},Ae=function(e){e.materials;var t=e.nodes,n=e.mushroomMat,a=e.position,o=e.scale,s=void 0===o?1:o;return r.a.createElement("group",{name:"mushroom2",position:a,rotation:[.12,0,0],scale:s},r.a.createElement("mesh",{name:"top2",geometry:t.top2.geometry,material:n,castShadow:!0,receiveShadow:!0,position:[7.16,13.06,3.97]}),r.a.createElement("mesh",{name:"bottom2",geometry:t.bottom2.geometry,material:t.bottom2.material,castShadow:!0,receiveShadow:!0,position:[7.16,13.06,3.97]}))};function Re(e){var t=Object(Me.a)({},e),n=Object(xe.a)("https://prod.spline.design/4CF6xEKxsHbnQn4O/scene.splinecode"),o=n.nodes,s=n.materials,i=Object(a.useRef)(),c=(new Ne.TextureLoader).load("threeTone.jpg");c.minFilter=Ne.NearestFilter,c.magFilter=Ne.NearestFilter;var l=new Ne.MeshToonMaterial({color:302836,gradientMap:c});return window.addEventListener("message",function(e){if("https://zequencer.mypinata.cloud"!==e.origin)return;var t=e.data;Array.isArray(t)&&4==t.length&&(l.color.r=t[3],l.color.g=t[1],l.color.b=t[0],l.color.addScalar(.25*t[2]))},!1),r.a.createElement(r.a.Fragment,null,r.a.createElement("group",Object.assign({},t,{dispose:null}),r.a.createElement(Be,{position:[145,-100,0],mushroomMat:l,nodes:o,materials:s}),r.a.createElement(Ae,{position:[-110,-50,0],scale:2,mushroomMat:l,nodes:o,materials:s}),r.a.createElement(Ae,{position:[110,-90,0],scale:1.5,mushroomMat:l,nodes:o,materials:s}),r.a.createElement(He,{position:[100,0,0],scale:1,mushroomMat:l,nodes:o,materials:s}),r.a.createElement(Ae,{position:[20,-25,-190],scale:1,mushroomMat:l,nodes:o,materials:s}),r.a.createElement(Be,{position:[45,10,-190],scale:.1,mushroomMat:l,nodes:o,materials:s}),r.a.createElement(He,{position:[-20,25,-290],scale:.7,mushroomMat:l,nodes:o,materials:s}),r.a.createElement("directionalLight",{name:"Directional Light",castShadow:!0,intensity:1,"shadow-mapSize-width":1024,"shadow-mapSize-height":1024,"shadow-camera-near":1,"shadow-camera-far":2500,"shadow-camera-left":-1250,"shadow-camera-right":1250,"shadow-camera-top":1250,"shadow-camera-bottom":-1250,position:[-461.22,260.59,1269.06]}),r.a.createElement(Le.a,{name:"Personal Camera",ref:i,makeDefault:!0,far:1e5,near:-1e5,position:[0,0,1e3],zoom:b.isMobile?.15:.27}),r.a.createElement("hemisphereLight",{name:"Default Ambient Light",intensity:1,color:"#eaeaea",position:[0,1,0]})))}var Fe=n(175),qe=(n(1368),Object(f.b)(function(e,t){return{showPlaylistMenu:e.playlist.showPlaylistMenu}},function(e){return{setShowPlaylistMenu:function(t){return e({type:503,payload:t})}}})(function(e){var t=e.setShowPlaylistMenu,n=e.showPlaylistMenu,o=Object(a.useCallback)(function(e){t(!n)},[n]);return r.a.createElement(a.Suspense,{fallback:null},r.a.createElement("div",{onClick:o,className:"canvas-container"},r.a.createElement(Te.a,{shadows:!0,flat:!0,linear:!0},r.a.createElement(_e.b,null,r.a.createElement(_e.a,{intensity:.85,kernelSize:Fe.a.LARGE,luminanceThreshold:.01,luminanceSmoothing:.5})),r.a.createElement(Re,null),r.a.createElement(Ce.a,{enableZoom:!1,enableRotate:!1,enablePan:!1}))))})),ze={jeremih:"https://zequencer.mypinata.cloud/ipfs/QmeVr2geKp8Z2SX3awdp3JWy4rKNvXKfPq3mToouXhfwcy/?tokenId=666",doodles1:"https://zequencer.mypinata.cloud/ipfs/QmWzLQzUsZ2jquJ54HhckXoX9sNBrYWp13NWQDJfGY5pk1/?tokenId=666",doodles2:"https://zequencer.mypinata.cloud/ipfs/QmWryrHhY6WickEfKDBHQMv2WPwCGqKp1zwZk5kXGRHNbN/?tokenId=666",ragnarok:"https://zequencer.mypinata.cloud/ipfs/QmVquHENE1Dcyq839ajJWRuBHttvuiT5WvcLbqwoEbVvDa/?tokenId=666"},De=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.tokenId,n=Object(a.useRef)();Object(a.useEffect)(function(){var e=document.getElementsByTagName("html")[0];return e.setAttribute("class","bad-scroll"),function(){e.setAttribute("class","")}},[]);var o=t<=20?"https://zequencer.mypinata.cloud/ipfs/Qmb57sHJC8Zq6AYRPy6gGzqYQpevjRAnPbkqRbJTPt1n4o/?tokenId="+t+"&gallery=true":ze[t];return window.stemIFrame=n,[r.a.createElement(qe,null),r.a.createElement(Ie,null),r.a.createElement(I,null),r.a.createElement("iframe",{ref:n,sandbox:"allow-scripts allow-same-origin",height:t<=20?"400":"360",width:t<=20?"340":"310","aria-describedby":"spore",alt:"spore.vision",src:o,className:"zora-mediaObject css-hnzuw7 zora-mediaObject--mediaLoaded zora-mediaObject--isFullPage",style:{borderWidth:"0px"}})]}),We=(n(1369),function(e,t){return new Promise(function(t){var n=new FileReader;if(!e.name.includes(".mp4"))return window.alert("Only accepts .mp4"),void t();n.readAsArrayBuffer(e),n.onloadend=Object(h.a)(d.a.mark(function e(){var a,r;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!((a=n.result).byteLength>52703301)){e.next=5;break}return window.alert("Video file must be under 15 mb"),t(),e.abrupt("return");case 5:return e.next=7,y.a.addArrayBuffer(a);case 7:r=e.sent,t("https://zequencer.io/ipfs/"+r);case 10:case"end":return e.stop()}},e)}))})}),Ue=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.setPlayerChosen,n=e.playerChosen,o=e.setShowStemPlayer,s=e.showStemPlayer,i=Object(p.a)(e,["setPlayerChosen","playerChosen","setShowStemPlayer","showStemPlayer"]),c=Object(a.useState)(),l=Object(u.a)(c,2),m=l[0],d=l[1],h=Object(a.useState)(),f=Object(u.a)(h,2),y=f[0],g=f[1],v=i.match&&i.match.params.tokenId;v&&(v=parseInt(v));var S=Object(a.useRef)(),E=Object(a.useState)(void 0),O=Object(u.a)(E,2),j=O[0],N=O[1],I=Object(a.useState)(!1),_=Object(u.a)(I,2),C=_[0],M=_[1],x=Object(a.useState)(!1),L=Object(u.a)(x,2),B=(L[0],L[1],Object(a.useState)()),H=Object(u.a)(B,2),A=(H[0],H[1],Object(a.useState)()),R=Object(u.a)(A,2),F=(R[0],R[1],Object(a.useState)()),q=Object(u.a)(F,2),z=q[0],D=q[1],W=Object(a.useRef)();Object(a.useEffect)(function(){M(!1)},[s,M]),Object(a.useEffect)(function(){return window.addEventListener("mousewheel",U,{passive:!1}),function(){return window.removeEventListener("mousewheel",U)}},[]),Object(a.useEffect)(function(){S.current&&S.current.buffer&&S.current.dispose()},[s]);var U=function(e){return e.preventDefault()};Object(a.useEffect)(function(){document.title="Spores"},[]);var G="spore";s&&(G+=" showing-spore-player"),C&&(G+=" showing-spores"),Object(a.useEffect)(function(){var e=window.localStorage.getItem("custom-video-background");e&&D(e)},[D]),Object(a.useEffect)(function(){window.addEventListener("drop",J),window.addEventListener("dragenter",function(e){e.preventDefault(),e.dataTransfer.effectAllowed="none",e.dataTransfer.dropEffect="none"},!1),window.addEventListener("dragover",function(e){return e.preventDefault(),e.dataTransfer.effectAllowed="none",!1})},[D,g]);var J=Object(a.useCallback)(function(e){if(e.preventDefault(),e.dataTransfer.effectAllowed="none",e.dataTransfer.dropEffect="none",e.dataTransfer.items){e.dataTransfer.items.length;for(var t=0;t<e.dataTransfer.items.length;t++)"file"===e.dataTransfer.items[t].kind&&(g(!0),We(e.dataTransfer.items[t].getAsFile()).then(function(e){e&&(D(e),window.localStorage.setItem("custom-video-background",e)),g(!1)}))}},[D,g]);return z&&(G+=" custom-video-background"),r.a.createElement("div",{onDrop:J,ref:W,className:G},y&&r.a.createElement("div",{className:"video-progress-bar"},r.a.createElement(w,{width:200,text:"Uploading Video Background"})),r.a.createElement("video",{playsInline:!0,className:"rain-video",autoPlay:!0,loop:!0,muted:!0,src:z||(b.isMobile?"/mobile-rain.mp4":"/desktop-rain.mp4")}),j&&(s?r.a.createElement(P,{clear:function(){return N(void 0)}}):r.a.createElement(k,{setShowCredits:N})),r.a.createElement(T,{showStemPlayer:s||C,setShowStemPlayer:function(e){o(e),M(e)},playerChosen:n,setPlayerChosen:t}),n&&!s&&C&&r.a.createElement(je,{setPreset:d,preset:m,store:i.store,audioUnit:S,tokenId:n,setShowStemPlayer:o}),n&&!C&&(s?r.a.createElement(De,{tokenId:n}):r.a.createElement(Ee,{setPreset:d,preset:m,store:i.store,audioUnit:S,tokenId:n,setShowStemPlayer:o})),n&&(C||s)&&r.a.createElement("div",{onClick:function(){o(!1),M(!1)},className:"spore-button pushable stem-player-button"},"See Latest Spore",r.a.createElement("img",{className:"spore-icon one-spore",src:"/one-spore.svg"})),n&&!C&&!s&&r.a.createElement("div",{onClick:function(){return M(!0)},className:"spore-button pushable stem-player-button"},"See All Spores ",r.a.createElement("img",{className:"spore-icon",src:"/spores-icon-glow2.svg"})),r.a.createElement("div",{onClick:function(){return N(!0)},className:"explainer-button"},"?"))}),Ge=n(1384),Je=n(1381),Qe=n(1382),Ke=n(26);function Ve(e){var t=e.scroll,n=Object(p.a)(e,["scroll"]),o=Object(xe.a)("https://prod.spline.design/3Ksr4pXhJtOTxLZG/scene.splinecode"),s=o.nodes,i=o.materials,c=Object(a.useRef)(),l=Object(a.useRef)(0),u=new Ne.CatmullRomCurve3([new Ne.Vector3(-2,0,195),new Ne.Vector3(-2,-15,30),new Ne.Vector3(-2,-100,50)]);return Object(a.useEffect)(function(){/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(c.current.fov=60)}),Object(Ke.j)(function(){l.current+=.04*(t.current-l.current);var e=l.current;e<1&&c.current.position.set(u.getPointAt(e).x,u.getPointAt(e).y,u.getPointAt(e).z)}),r.a.createElement(r.a.Fragment,null,r.a.createElement("color",{attach:"background",args:["#4b4d52"]}),r.a.createElement("fog",{attach:"fog",args:["#4b4d52",73.518,187.199]}),r.a.createElement("group",Object.assign({},n,{dispose:null}),r.a.createElement(Ge.a,{count:100,scale:[50,70,40],size:20,speed:1.5,position:[-2,-75,-5]}),r.a.createElement(Je.a,{radius:350,depth:50,count:5e3,factor:8,saturation:1,fade:!0,speed:.5}),r.a.createElement(Qe.a,{name:"Personal Camera",ref:c,makeDefault:!0,far:1e5,near:5,fov:45,position:[0,0,200],rotation:[.1,0,0]}),r.a.createElement("mesh",{name:"root 4",geometry:s["root 4"].geometry,material:s["root 4"].material,castShadow:!0,receiveShadow:!0,position:[-39.88,-125.68,-61],rotation:[-.43,.4,1.3],scale:[16.18,17.1,20.82]}),r.a.createElement("mesh",{name:"root 3",geometry:s["root 3"].geometry,material:s["root 3"].material,castShadow:!0,receiveShadow:!0,position:[31.88,-78.42,-53.6],rotation:[-.24,-.68,.21],scale:[28.63,22.5,9.4]}),r.a.createElement("mesh",{name:"root 2",geometry:s["root 2"].geometry,material:s["root 2"].material,castShadow:!0,receiveShadow:!0,position:[-36.47,-47.67,-43.45],rotation:[.55,.32,0],scale:[11.68,12.35,9.4]}),r.a.createElement("mesh",{name:"root",geometry:s.root.geometry,material:s.root.material,castShadow:!0,receiveShadow:!0,position:[-.97,-20.37,-6.91],rotation:[Math.PI/2,0,0],scale:[11.68,9.4,9.4]}),r.a.createElement("mesh",{name:"cover",geometry:s.cover.geometry,material:i.ground,castShadow:!0,receiveShadow:!0,position:[17.99,-14.47,21.13],rotation:[-Math.PI/2,0,0]}),r.a.createElement("pointLight",{name:"Point Light 3",castShadow:!0,intensity:15,decay:7,distance:100,"shadow-mapSize-width":256,"shadow-mapSize-height":256,"shadow-camera-near":100,"shadow-camera-far":2500,color:"#00fbfe",position:[28.37,-82.6,-42.87],scale:.21}),r.a.createElement("pointLight",{name:"Point Light 4",castShadow:!0,intensity:15,decay:7,distance:100,"shadow-mapSize-width":256,"shadow-mapSize-height":256,"shadow-camera-near":100,"shadow-camera-far":2500,color:"#83d9fe",position:[-26,-110.71,-29.43],scale:.21}),r.a.createElement("pointLight",{name:"Point Light 2",castShadow:!0,intensity:15,decay:7,distance:100,"shadow-mapSize-width":256,"shadow-mapSize-height":256,"shadow-camera-near":100,"shadow-camera-far":2500,color:"#63ebf4",position:[-33.08,-48.62,-36.51],scale:.21}),r.a.createElement("mesh",{name:"filler",geometry:s.filler.geometry,material:i.ground,castShadow:!0,receiveShadow:!0,position:[-.71,-14.22,-21.18],rotation:[-Math.PI/2,0,0],scale:[3.44,2.84,.21]}),r.a.createElement("mesh",{name:"underground",geometry:s.underground.geometry,material:i.ground,castShadow:!0,receiveShadow:!0,position:[-.77,-72.19,-34.95],scale:[2.06,3.71,1.37]}),r.a.createElement("mesh",{name:"Rock_Moss_3",geometry:s.Rock_Moss_3.geometry,material:s.Rock_Moss_3.material,castShadow:!0,receiveShadow:!0,position:[22.34,-6.66,-17.11],rotation:[-Math.PI/2,0,-2.96],scale:[12.55,19.32,19.32]}),r.a.createElement("mesh",{name:"Rock_Moss_1",geometry:s.Rock_Moss_1.geometry,material:s.Rock_Moss_1.material,castShadow:!0,receiveShadow:!0,position:[-39.03,-6.29,-3.84],rotation:[-Math.PI/2,0,-.02],scale:34.86}),r.a.createElement("mesh",{name:"Plant_1 6",geometry:s["Plant_1 6"].geometry,material:s["Plant_1 6"].material,castShadow:!0,receiveShadow:!0,position:[26.99,-10.43,142.73],rotation:[-Math.PI/2,0,1.53],scale:[3.27,3.65,3.46]}),r.a.createElement("mesh",{name:"Plant_1 13",geometry:s["Plant_1 13"].geometry,material:s["Plant_1 13"].material,castShadow:!0,receiveShadow:!0,position:[4.22,-11.49,58.39],rotation:[-1.58,.01,2.21],scale:[8.57,8.57,6.3]}),r.a.createElement("mesh",{name:"Plant_1 5",geometry:s["Plant_1 5"].geometry,material:s["Plant_1 5"].material,castShadow:!0,receiveShadow:!0,position:[-21.52,-10.43,154.94],rotation:[-Math.PI/2,0,1.53],scale:8.57}),r.a.createElement("mesh",{name:"Plant_1 3",geometry:s["Plant_1 3"].geometry,material:s["Plant_1 3"].material,castShadow:!0,receiveShadow:!0,position:[-18.97,-10.43,104.6],rotation:[-Math.PI/2,0,.29],scale:8.57}),r.a.createElement("mesh",{name:"Plant_1 2",geometry:s["Plant_1 2"].geometry,material:s["Plant_1 2"].material,castShadow:!0,receiveShadow:!0,position:[-20.49,-10.43,80.95],rotation:[-Math.PI/2,0,1.38],scale:6.48}),r.a.createElement("mesh",{name:"Plant_1 10",geometry:s["Plant_1 10"].geometry,material:s["Plant_1 10"].material,castShadow:!0,receiveShadow:!0,position:[-23.72,-10.43,17.69],rotation:[-Math.PI/2,0,2.8],scale:[3.12,4.42,6.02]}),r.a.createElement("mesh",{name:"Plant_1 9",geometry:s["Plant_1 9"].geometry,material:s["Plant_1 9"].material,castShadow:!0,receiveShadow:!0,position:[-35.51,-10.43,33.82],rotation:[-Math.PI/2,0,3.58],scale:[3.12,4.42,7.7]}),r.a.createElement("mesh",{name:"Plant_1 4",geometry:s["Plant_1 4"].geometry,material:s["Plant_1 4"].material,castShadow:!0,receiveShadow:!0,position:[10.43,-10.43,88.31],rotation:[-1.36,-.08,2.81],scale:[3.12,4.42,7.7]}),r.a.createElement("mesh",{name:"Plant_1 8",geometry:s["Plant_1 8"].geometry,material:s["Plant_1 8"].material,castShadow:!0,receiveShadow:!0,position:[-10.97,-11.75,118.47],rotation:[-Math.PI/2,0,1.97],scale:[8.57,13.55,4.8]}),r.a.createElement("mesh",{name:"Plant_1 11",geometry:s["Plant_1 11"].geometry,material:s["Plant_1 11"].material,castShadow:!0,receiveShadow:!0,position:[14.22,-6.62,2.35],rotation:[-1.45,-.07,-.61],scale:[12.72,9.24,8.26]}),r.a.createElement("mesh",{name:"Plant_1 7",geometry:s["Plant_1 7"].geometry,material:s["Plant_1 7"].material,castShadow:!0,receiveShadow:!0,position:[-1.92,-11.75,80.9],rotation:[-1.53,-.09,.47],scale:8.57}),r.a.createElement("mesh",{name:"Plant_1 12",geometry:s["Plant_1 12"].geometry,material:s["Plant_1 12"].material,castShadow:!0,receiveShadow:!0,position:[-19.89,-10.43,57.32],rotation:[-1.5,.14,2.69],scale:8.57}),r.a.createElement("mesh",{name:"Plant_1",geometry:s.Plant_1.geometry,material:s.Plant_1.material,castShadow:!0,receiveShadow:!0,position:[33.26,-10.43,71.65],rotation:[-Math.PI/2,0,1.38],scale:8.57}),r.a.createElement("mesh",{name:"Plant_4 4",geometry:s["Plant_4 4"].geometry,material:s["Plant_4 4"].material,castShadow:!0,receiveShadow:!0,position:[-.99,-11.07,142.88],rotation:[-Math.PI/2,0,.69],scale:4.22}),r.a.createElement("mesh",{name:"Plant_4 2",geometry:s["Plant_4 2"].geometry,material:s["Plant_4 2"].material,castShadow:!0,receiveShadow:!0,position:[12.05,-11.07,123.52],rotation:[-Math.PI/2,0,-.75],scale:7.51}),r.a.createElement("mesh",{name:"Plant_4 3",geometry:s["Plant_4 3"].geometry,material:s["Plant_4 3"].material,castShadow:!0,receiveShadow:!0,position:[28.36,-10.43,111.41],rotation:[-Math.PI/2,0,-.35],scale:8.34}),r.a.createElement("mesh",{name:"Plant_4 6",geometry:s["Plant_4 6"].geometry,material:s["Plant_4 6"].material,castShadow:!0,receiveShadow:!0,position:[-16.63,-7.86,.12],rotation:[-1.56,-.02,.11],scale:8.22}),r.a.createElement("mesh",{name:"Plant_4 5",geometry:s["Plant_4 5"].geometry,material:s["Plant_4 5"].material,castShadow:!0,receiveShadow:!0,position:[26.04,-10.43,40.82],rotation:[-Math.PI/2,0,-.21],scale:13.08}),r.a.createElement("mesh",{name:"Plant_4",geometry:s.Plant_4.geometry,material:s.Plant_4.material,castShadow:!0,receiveShadow:!0,position:[-28.57,-10.43,93.01],rotation:[-1.55,.05,-.35],scale:13.08}),r.a.createElement("mesh",{name:"Plant_5 2",geometry:s["Plant_5 2"].geometry,material:s["Plant_5 2"].material,castShadow:!0,receiveShadow:!0,position:[27.86,-12.28,132.65],rotation:[-Math.PI/2,0,-1.18],scale:6.95}),r.a.createElement("mesh",{name:"Plant_5 3",geometry:s["Plant_5 3"].geometry,material:s["Plant_5 3"].material,castShadow:!0,receiveShadow:!0,position:[-21.31,-7.6,-33.41],rotation:[-Math.PI/2,0,-.66],scale:10.19}),r.a.createElement("mesh",{name:"Plant_5",geometry:s.Plant_5.geometry,material:s.Plant_5.material,castShadow:!0,receiveShadow:!0,position:[-24.42,-7.6,44.64],rotation:[-Math.PI/2,0,-.66],scale:10.19}),r.a.createElement("mesh",{name:"PineTree_1",geometry:s.PineTree_1.geometry,material:s.PineTree_1.material,castShadow:!0,receiveShadow:!0,position:[49.88,-9.7,94.77],rotation:[-1.52,-.08,-.87],scale:20}),r.a.createElement("mesh",{name:"PineTree_2 2",geometry:s["PineTree_2 2"].geometry,material:s["PineTree_2 2"].material,castShadow:!0,receiveShadow:!0,position:[34.82,-7.81,49.22],rotation:[-Math.PI/2,.03,0],scale:24.02}),r.a.createElement("mesh",{name:"PineTree_2 3",geometry:s["PineTree_2 3"].geometry,material:s["PineTree_2 3"].material,castShadow:!0,receiveShadow:!0,position:[30.28,-7.81,-112.55],rotation:[-Math.PI/2,0,.32],scale:20}),r.a.createElement("mesh",{name:"PineTree_2",geometry:s.PineTree_2.geometry,material:s.PineTree_2.material,castShadow:!0,receiveShadow:!0,position:[48.86,-7.81,2.77],rotation:[-Math.PI/2,0,0],scale:20}),r.a.createElement("mesh",{name:"PineTree_3 3",geometry:s["PineTree_3 3"].geometry,material:s["PineTree_3 3"].material,castShadow:!0,receiveShadow:!0,position:[66.02,-17.17,34.76],rotation:[-Math.PI/2,0,0],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 5",geometry:s["PineTree_3 5"].geometry,material:s["PineTree_3 5"].material,castShadow:!0,receiveShadow:!0,position:[61.8,-7.3,-54.45],rotation:[-Math.PI/2,0,1.93],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 11",geometry:s["PineTree_3 11"].geometry,material:s["PineTree_3 11"].material,castShadow:!0,receiveShadow:!0,position:[-17.75,-13.56,-104.06],rotation:[-Math.PI/2,0,.61],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 10",geometry:s["PineTree_3 10"].geometry,material:s["PineTree_3 10"].material,castShadow:!0,receiveShadow:!0,position:[-98.48,-14.56,-66.63],rotation:[-Math.PI/2,0,.61],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 8",geometry:s["PineTree_3 8"].geometry,material:s["PineTree_3 8"].material,castShadow:!0,receiveShadow:!0,position:[101.28,-14.56,50.98],rotation:[-Math.PI/2,0,.02],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 7",geometry:s["PineTree_3 7"].geometry,material:s["PineTree_3 7"].material,castShadow:!0,receiveShadow:!0,position:[89.79,-14.56,-73.29],rotation:[-Math.PI/2,0,.02],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 6",geometry:s["PineTree_3 6"].geometry,material:s["PineTree_3 6"].material,castShadow:!0,receiveShadow:!0,position:[-99.92,-14.56,30.17],rotation:[-Math.PI/2,0,0],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 4",geometry:s["PineTree_3 4"].geometry,material:s["PineTree_3 4"].material,castShadow:!0,receiveShadow:!0,position:[-51.31,-14.56,-53.36],rotation:[-Math.PI/2,0,0],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3 2",geometry:s["PineTree_3 2"].geometry,material:s["PineTree_3 2"].material,castShadow:!0,receiveShadow:!0,position:[-44.87,-17.17,132.34],rotation:[-Math.PI/2,0,0],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_3",geometry:s.PineTree_3.geometry,material:s.PineTree_3.material,castShadow:!0,receiveShadow:!0,position:[-43.35,-7.81,32.37],rotation:[-Math.PI/2,.02,0],scale:22.92}),r.a.createElement("mesh",{name:"PineTree_5 2",geometry:s["PineTree_5 2"].geometry,material:s["PineTree_5 2"].material,castShadow:!0,receiveShadow:!0,position:[-42.02,-5.71,78.2],rotation:[-1.51,.05,-1.64],scale:31.23}),r.a.createElement("mesh",{name:"PineTree_5",geometry:s.PineTree_5.geometry,material:s.PineTree_5.material,castShadow:!0,receiveShadow:!0,position:[34.89,-12.34,127.44],rotation:[-1.51,.05,0],scale:20}),r.a.createElement("mesh",{name:"WoodLog_Moss",geometry:s.WoodLog_Moss.geometry,material:s.WoodLog_Moss.material,castShadow:!0,receiveShadow:!0,position:[10.38,-6.49,-49.1],rotation:[-1.39,.13,2.18],scale:13.21}),r.a.createElement("mesh",{name:"Rock_Moss_2",geometry:s.Rock_Moss_2.geometry,material:s.Rock_Moss_2.material,castShadow:!0,receiveShadow:!0,position:[-12.74,-3.05,-66.99],rotation:[-Math.PI/2,0,0],scale:29.46}),r.a.createElement("mesh",{name:"top-ground 3",geometry:s["top-ground 3"].geometry,material:i.ground,castShadow:!0,receiveShadow:!0,position:[111.79,-18.3,10.28],rotation:[-Math.PI/2,0,-1.55],scale:[.76,.42,1]}),r.a.createElement("mesh",{name:"top-ground 2",geometry:s["top-ground 2"].geometry,material:i.ground,castShadow:!0,receiveShadow:!0,position:[-96.19,-18.3,-21.01],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[.5,.22,1]}),r.a.createElement("mesh",{name:"top-ground",geometry:s["top-ground"].geometry,material:i.ground,castShadow:!0,receiveShadow:!0,position:[-.04,-16.13,39.95],rotation:[-Math.PI/2,0,-Math.PI/2],scale:[1,.58,1]}),r.a.createElement("pointLight",{name:"Point Light",castShadow:!0,intensity:10,decay:3,distance:100,"shadow-mapSize-width":256,"shadow-mapSize-height":256,"shadow-camera-near":100,"shadow-camera-far":2020.207,color:"#00a6fe",position:[-2.13,7.31,-2.95]}),r.a.createElement("group",{name:"mushroom",position:[-4,-8,.37],rotation:[.12,0,0],scale:.02},r.a.createElement("mesh",{name:"hat",geometry:s.hat.geometry,material:i.hat,castShadow:!0,receiveShadow:!0,position:[109.15,398.99,297.3],scale:[.49,1.1,.49]}),r.a.createElement("mesh",{name:"feet",geometry:s.feet.geometry,material:i.feet,castShadow:!0,receiveShadow:!0,position:[103.16,165.95,307.5],scale:[.36,1,.5]})),r.a.createElement("hemisphereLight",{name:"Default Ambient Light",intensity:.25,color:"#eaeaea",position:[0,1,0]})))}n(22);var Xe=n(17),Ye=n.n(Xe),Ze=n(542),$e=n.n(Ze),et=n(43),tt=n.n(et),nt=n(544);function at(e){var t=e.playerChosen,n=e.setShowStemPlayer,o=e.setPlayerChosen;Object(a.useEffect)(function(){},[t]);var s=Object(a.useState)({goToSlide:0,offsetRadius:2}),i=Object(u.a)(s,2),c=i[0],l=i[1],m=[{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-1.png",alt:"1"}),r.a.createElement("button",{onClick:function(){o(1),n(1)},className:Ye.a.spButton+" pushable"}," SP-1"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-2.png",alt:"2"}),r.a.createElement("button",{onClick:function(){o(2),n(2)},className:Ye.a.spButton+" pushable"}," SP-2"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-3.png",alt:"3"}),r.a.createElement("button",{onClick:function(){o(3),n(3)},className:Ye.a.spButton+" pushable"}," SP-3"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-4.png",alt:"4"}),r.a.createElement("button",{onClick:function(){o(4),n(4)},className:"pushable "+Ye.a.spButton}," SP-4"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-5.png",alt:"5"}),r.a.createElement("button",{onClick:function(){o(5),n(5)},className:"pushable "+Ye.a.spButton}," SP-5"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-6.png",alt:"6"}),r.a.createElement("button",{onClick:function(){o(6),n(6)},className:"pushable "+Ye.a.spButton}," SP-6"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-7.png",alt:"7"}),r.a.createElement("button",{onClick:function(){o(7),n(7)},className:"pushable "+Ye.a.spButton}," SP-7"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-8.png",alt:"8"}),r.a.createElement("button",{onClick:function(){o(8),n(8)},className:"pushable "+Ye.a.spButton}," SP-8"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-9.png",alt:"9"}),r.a.createElement("button",{onClick:function(){o(9),n(9)},className:"pushable "+Ye.a.spButton}," SP-9"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-10.png",alt:"10"}),r.a.createElement("button",{onClick:function(){o(10),n(10)},className:"pushable "+Ye.a.spButton}," SP-10"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-11.png",alt:"11"}),r.a.createElement("button",{onClick:function(){o(11),n(11)},className:"pushable "+Ye.a.spButton}," SP-11"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-12.png",alt:"12"}),r.a.createElement("button",{onClick:function(){o(12),n(12)},className:"pushable "+Ye.a.spButton}," SP-12"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-13.png",alt:"13"}),r.a.createElement("button",{onClick:function(){o(13),n(13)},className:"pushable "+Ye.a.spButton}," SP-13"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-14.png",alt:"14"}),r.a.createElement("button",{onClick:function(){o(14),n(14)},className:"pushable "+Ye.a.spButton}," SP-14"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-15.png",alt:"15"}),r.a.createElement("button",{onClick:function(){o(15),n(15)},className:"pushable "+Ye.a.spButton}," SP-15"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-16.png",alt:"16"}),r.a.createElement("button",{onClick:function(){o(16),n(16)},className:"pushable "+Ye.a.spButton}," SP-16"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-17.png",alt:"17"}),r.a.createElement("button",{onClick:function(){o(17),n(17)},className:"pushable "+Ye.a.spButton}," SP-17"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-18.png",alt:"18"}),r.a.createElement("button",{onClick:function(){o(18),n(18)},className:"pushable "+Ye.a.spButton}," SP-18"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-19.png",alt:"19"}),r.a.createElement("button",{onClick:function(){o(19),n(19)},className:"pushable "+Ye.a.spButton}," SP-19"))},{key:tt()(),content:r.a.createElement("div",{className:Ye.a.caroItem},r.a.createElement("img",{className:Ye.a.noImgSelector,src:"/sp-20.png",alt:"20"}),r.a.createElement("button",{onClick:function(){o(20),n(20)},className:"pushable "+Ye.a.spButton}," SP-20"))}].map(function(e,t){return Object(he.a)({},e,{onClick:function(){return l({goToSlide:t})}})}),d=null,h=null;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:Ye.a.landingContainer},r.a.createElement("div",{className:Ye.a.titleContainer},r.a.createElement("div",{className:Ye.a.title},r.a.createElement("strong",null,"Spore Players")),r.a.createElement("div",{className:Ye.a.navBar},r.a.createElement("a",{href:"/lore",className:Ye.a.navItem},r.a.createElement("b",null,"Lore")),r.a.createElement("div",{className:Ye.a.navItem,style:{marginTop:"-2px"}},r.a.createElement("a",{href:"https://twitter.com/SporesDAO"},r.a.createElement(nt.a,null))))),r.a.createElement("div",{style:{marginLeft:"15px"}},r.a.createElement("p",{className:Ye.a.smallText},"\u2764\ufe0f music NFTs")),r.a.createElement("div",{className:Ye.a.playerCarousel,onTouchStart:function(e){var t=function(e){return e.touches||e.originalEvent.touches}(e)[0];d=t.clientX,h=t.clientY},onTouchMove:function(e){if(d&&h){var t=e.touches[0].clientX,n=e.touches[0].clientY,a=d-t,r=h-n;Math.abs(a)>Math.abs(r)&&l(a>0?{goToSlide:c.goToSlide+1}:{goToSlide:c.goToSlide-1}),d=null,h=null}}},r.a.createElement($e.a,{slides:m,goToSlide:c.goToSlide,offsetRadius:c.offsetRadius})),r.a.createElement("section",{style:{marginTop:"100px",marginBottom:"100px"}},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-evenly",flexWrap:"wrap",alignContent:"center",flexDirection:"column",textAlign:"center"}},r.a.createElement("div",null,r.a.createElement("p",{className:Ye.a.shimmer},"Rarity")),r.a.createElement("div",null,r.a.createElement("p",{className:Ye.a.defPronun},"rar\u2022i\u2022ty | 'rer-\u0259-t\u0113")),r.a.createElement("div",null,r.a.createElement("p",{className:Ye.a.defText},r.a.createElement("i",null,"Spores")," powers a new wave of rarity in music.",r.a.createElement("br",null),r.a.createElement("br",null),"Each ",r.a.createElement("i",null,"Spore Player")," owns a unique version of songs in the ",r.a.createElement("i",null,"Spore")," ecosystem.",r.a.createElement("br",null),r.a.createElement("br",null),"Use the mutated stem slider to uncover the sonic rarity embedded in each ",r.a.createElement("i",null,"Spore Player."))))),r.a.createElement("section",null,r.a.createElement("div",{className:Ye.a.sectionTitle,style:{marginBottom:"10px"}},"Spore Ecosystem Overview"),r.a.createElement("div",null,r.a.createElement("img",{src:b.isMobile?"/spore-overview-mobile.png":"/spore-overview.png",style:{objectFit:"contain",width:"100%"}}))),r.a.createElement("div",{className:Ye.a.poweredByContainer},r.a.createElement("p",{className:Ye.a.smallText},"Powered by"),r.a.createElement("div",null,r.a.createElement("img",{onClick:function(){window.location.href="https://www.ghostwaveform.one"},src:"/indigo-logo-black.png",style:{height:20},className:Ye.a.logo+" pushable"}),r.a.createElement("img",{src:"/x.png",id:Ye.a.x}),r.a.createElement("img",{onClick:function(){window.location.href="https://zequencer.io"},src:"/zeq-logo-black.png",style:{height:20},className:Ye.a.logo+" pushable "+Ye.a.zeqLogo}))),r.a.createElement("section",{style:{height:"10vh"}})))}var rt=n(73),ot=n.n(rt);function st(e){var t=e.playerChosen,n=e.scroll,o=(e.setShowStemPlayer,e.setPlayerChosen,Object(a.useRef)());return Object(a.useEffect)(function(){t||0===n.current||o.current&&o.current.scrollTo(0,o.current.scrollHeight*n.current)},[t]),r.a.createElement("div",{ref:o,className:ot.a.scrollContainer,onScroll:function(e){var t=e.target.scrollTop/(e.target.scrollHeight-window.innerHeight);n.current=t}},r.a.createElement("section",{style:{height:"50vh"},className:ot.a.sectionLeft+" "+ot.a.sectionHero},r.a.createElement("header",null,r.a.createElement("h1",null,"LORE"),r.a.createElement("svg",{width:"15",height:"30",viewBox:"0 0 30 71",fill:"none",xmlns:"http://www.w3.org/2000/svg"},r.a.createElement("rect",{x:"1.5",y:"1.5",width:"27",height:"45",rx:"13.5",stroke:"#2D3A94","stroke-opacity":"0.6","stroke-width":"3"}),r.a.createElement("path",{d:"M15 12V20",stroke:"#2D3A94","stroke-opacity":"0.6","stroke-width":"3","stroke-linecap":"round"}),r.a.createElement("path",{d:"M8 54L14.5 60.5L21 54",stroke:"#2D3A94","stroke-opacity":"0.6","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}),r.a.createElement("path",{d:"M8 63L14.5 69.5L21 63",stroke:"#2D3A94","stroke-opacity":"0.6","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"})))),r.a.createElement("section",{style:{height:"180vh"},className:ot.a.sectionRight+" "+ot.a.sectionFirst},r.a.createElement("p",null,"Do you see it?",r.a.createElement("br",null),"That light in the dark?",r.a.createElement("br",null),"It calls to you.")),r.a.createElement("section",{style:{height:"50vh"},className:ot.a.sectionLeft+" "+ot.a.sectionSecond},r.a.createElement("p",null,"Deep underground...")),r.a.createElement("section",{style:{height:"150vh"},className:ot.a.sectionRight+" "+ot.a.sectionLast},r.a.createElement("p",null,"The spores resonate.",r.a.createElement("br",null),"Awakening from their slumber."),r.a.createElement("button",{onClick:function(){window.location.href="https://spores.vision"},className:"pushable "+ot.a.spButton}," Home")))}n(534);function it(e){console.log(e,e.match),Object(a.useEffect)(function(){document.title="Spores"},[]);var t=e.match&&e.match.params.tokenId;t&&(t=parseInt(t)),console.log("tokenId=",t);var n=Object(a.useState)(t),o=Object(u.a)(n,2),s=o[0],i=o[1],c=Object(a.useState)(void 0!==t),l=Object(u.a)(c,2),m=l[0],d=l[1];Object(a.useEffect)(function(){void 0!==s?window.history.pushState("page2","Title","/sp/"+s):window.history.pushState("page2","Title","/")},[s]);Object(a.useRef)(0);return console.log("store in app.js =",e.store),m||s?r.a.createElement(Ue,{store:e.store,playerChosen:s,setPlayerChosen:i,setShowStemPlayer:d,showStemPlayer:m}):[r.a.createElement(at,{playerChosen:s,setPlayerChosen:i,setShowStemPlayer:d})]}var ct=function(e){return r.a.createElement(it,e)},lt=(n(1372),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.name,n=Object(a.useState)(!1),o=Object(u.a)(n,2),s=o[0],i=o[1],c=Object(a.useState)(!1),l=Object(u.a)(c,2),m=l[0],d=l[1],h=Object(a.useState)(""),p=Object(u.a)(h,2),f=p[0],w=p[1],y="spore showing-spore-player demo";t.includes("doodles")&&(y+=" doodles"),t.includes("ragnarok")&&(y+=" ragnarok");var g="Keyon Christ",v="Twisting Faith";"doodles1"===t&&(g="Doodles",v="Spaceships"),"jeremih"===t&&(g="Jeremih",v="Don't Tell 'Em");var S=Object(a.useCallback)(function(e){"d12efa@71e"===f?i(!0):d(!0)},[f,d,i]);return s?r.a.createElement("div",{className:y},"jeremih"===t&&r.a.createElement("video",{playsInline:!0,className:"rain-video",autoPlay:!0,loop:!0,src:b.isMobile?"/mobile-rain.mp4":"/desktop-rain.mp4"}),r.a.createElement("div",{className:"caurosel player-chosen"},r.a.createElement("div",{className:"spore-player-option chosen"},r.a.createElement(N,{artist:g,song:v}))),r.a.createElement(De,{tokenId:t})):(y+=" password-protected",r.a.createElement("div",{className:y},r.a.createElement("div",{className:"password-box"},r.a.createElement("div",{className:"password-label"},"Password"),r.a.createElement("input",{type:"password",placeholder:"Enter password here",text:f,onChange:function(e){return w(e.target.value)}}),m&&r.a.createElement("div",{className:"password-failed"},"The password you entered is incorrect."),r.a.createElement("div",{onClick:S,className:"password-enter"},"Enter"))))}));Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.match&&e.match.params.tokenId;t&&(t=parseInt(t));var n=Object(a.useState)(t),o=Object(u.a)(n,2),s=o[0],i=o[1],c=Object(a.useState)(void 0!==t),l=Object(u.a)(c,2),m=l[0],d=l[1];return console.log("tokenId=",t,s,m),r.a.createElement(Ue,{playerChosen:s,setPlayerChosen:i,setShowStemPlayer:d,showStemPlayer:m})}),n(1373);function ut(e){console.log(e,e.match),Object(a.useEffect)(function(){document.title="Spores"},[]);var t=e.match&&e.match.params.tokenId;t&&(t=parseInt(t)),console.log("tokenId=",t);var n=Object(a.useState)(t),o=Object(u.a)(n,2),s=o[0],i=o[1],c=Object(a.useState)(void 0!==t),l=Object(u.a)(c,2),m=l[0],d=l[1];Object(a.useEffect)(function(){void 0!==s?window.history.pushState("page2","Title","/sp/"+s):window.history.pushState("page2","Title","/")},[s]);var h=Object(a.useRef)(0);return console.log("store in app.js =",e.store),m||s?r.a.createElement(Ue,{store:e.store,playerChosen:s,setPlayerChosen:i,setShowStemPlayer:d,showStemPlayer:m}):[r.a.createElement(Te.a,{shadows:!0,flat:!0,linear:!0},",",r.a.createElement(_e.b,{smaa:!0},r.a.createElement(_e.a,{intensity:1,kernelSize:Fe.a.VERY_LARGE,luminanceThreshold:.01,luminanceSmoothing:.9})),r.a.createElement(Ve,{scroll:h})),r.a.createElement(st,{playerChosen:s,setPlayerChosen:i,setShowStemPlayer:d,scroll:h})]}var mt=function(e){return r.a.createElement(ut,e)},dt=function(e){return window.spores=!0,r.a.createElement(a.Suspense,{fallback:function(){return r.a.createElement("div",null,"Loading...")}},r.a.createElement(i.a,null,r.a.createElement(c.a,null,r.a.createElement(l.a,{path:"/jeremih/",render:function(e){return r.a.createElement(lt,Object.assign({name:"jeremih"},e,{store:e.store}))}}),r.a.createElement(l.a,{path:"/doodles1/",render:function(e){return r.a.createElement(lt,Object.assign({name:"doodles1"},e,{store:e.store}))}}),r.a.createElement(l.a,{path:"/doodles2/",render:function(e){return r.a.createElement(lt,Object.assign({name:"doodles2"},e,{store:e.store}))}}),r.a.createElement(l.a,{path:"/ragnarok/",render:function(e){return r.a.createElement(lt,Object.assign({name:"ragnarok"},e,{store:e.store}))}}),r.a.createElement(l.a,{path:"/lore",render:function(e){return r.a.createElement(mt,Object.assign({},e,{store:e.store}))}}),r.a.createElement(l.a,{path:"/sp/:tokenId",render:function(e){return r.a.createElement(ct,Object.assign({},e,{store:e.store}))}}),r.a.createElement(l.a,{path:"/",render:function(e){return r.a.createElement(ct,Object.assign({},e,{store:e.store}))}}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ht=n(146),pt=Object(ht.b)({playlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentSong:"Twisting Faith"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 503:return Object(he.a)({},e,{showPlaylistMenu:t.payload});case 504:return Object(he.a)({},e,{currentSong:t.payload});default:return e}}}),ft=Object(ht.c)(pt);s.a.render(r.a.createElement(f.a,{store:ft},r.a.createElement(dt,{store:ft})),document.getElementById("root")),"serviceWorker"in navigator&&(console.log("UNREGISTERING"),navigator.serviceWorker.ready.then(function(e){console.log("regstieration UNREGISTERING",e),e.unregister()}))},17:function(e,t,n){e.exports={spButtons:"Landing_spButtons__2djxy",spButton:"Landing_spButton__2hSCr",logo:"Landing_logo__2eJ8u",zeqLogo:"Landing_zeqLogo__3vu-7",x:"Landing_x__3jCj-",smallText:"Landing_smallText__1lf32",sectionLeft:"Landing_sectionLeft__TAeLA",sectionRight:"Landing_sectionRight__2AtPW",caroItem:"Landing_caroItem__2nMHb",playerCarousel:"Landing_playerCarousel__1a3_L",defText:"Landing_defText__2muuK",noImgSelector:"Landing_noImgSelector__28FIP",landingContainer:"Landing_landingContainer__2-4bn",titleContainer:"Landing_titleContainer__at6Ah",navItem:"Landing_navItem__3JbFa",navBar:"Landing_navBar__17wjm",title:"Landing_title__H83PE",sectionTitle:"Landing_sectionTitle__-2eOU",poweredByContainer:"Landing_poweredByContainer__1KVMs",infoImage:"Landing_infoImage__20UIG",defPronun:"Landing_defPronun__1mf1e",shimmer:"Landing_shimmer__1_IMU"}},174:function(e,t,n){"use strict";n.d(t,"a",function(){return l});n(92);var a=n(19),r={A:"a","A#":"A",B:"b",C:"c","C#":"C",D:"d","D#":"D",E:"e",F:"f","F#":"F",G:"g","G#":"G"},o={A:a.a.utils.asciiToHex("a"),"A#":a.a.utils.asciiToHex("A"),B:a.a.utils.asciiToHex("b"),C:a.a.utils.asciiToHex("c"),"C#":a.a.utils.asciiToHex("C"),D:a.a.utils.asciiToHex("d"),"D#":a.a.utils.asciiToHex("D"),E:a.a.utils.asciiToHex("e"),F:a.a.utils.asciiToHex("f"),"F#":a.a.utils.asciiToHex("F"),G:a.a.utils.asciiToHex("g"),"G#":a.a.utils.asciiToHex("G")},s={};for(var i in o)s[o[i]]=i;for(var c in s={},r)s[r[c]]=c;var l=s},19:function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return s});var a=n(92),r=n.n(a),o=new r.a(new r.a.providers.HttpProvider("https://ropsten.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")),s=new r.a(new r.a.providers.WebsocketProvider("wss://ropsten.infura.io/ws/v3/2f3dce2af1044e88b4851c3d73c3d00c"))},226:function(e,t){},534:function(e,t,n){},549:function(e,t,n){e.exports=n(1375)},555:function(e,t,n){},662:function(e,t){},681:function(e,t){},694:function(e,t){},696:function(e,t){},7:function(e,t,n){"use strict";(function(e){n.d(t,"i",function(){return m}),n.d(t,"h",function(){return d}),n.d(t,"f",function(){return h}),n.d(t,"g",function(){return p}),n.d(t,"n",function(){return f}),n.d(t,"b",function(){return w}),n.d(t,"e",function(){return y}),n.d(t,"d",function(){return b}),n.d(t,"l",function(){return g}),n.d(t,"j",function(){return v}),n.d(t,"k",function(){return S}),n.d(t,"a",function(){return E}),n.d(t,"m",function(){return P}),n.d(t,"c",function(){return k});var a=n(2),r=n(3),o=(n(92),n(174)),s=n(19),i=n(85),c=(window.web3,s.a.utils.padLeft("0x0",64)),l=function(){function e(t,n){Object(a.a)(this,e),this.toConversion=t,this.fromConversion=n}return Object(r.a)(e,[{key:"convertTo",value:function(e){return this.toConversion(e)}},{key:"convertFrom",value:function(e){return e===c?null:this.fromConversion(e)}}]),e}();function u(e){var t="";for(var n in e)0!=e.charCodeAt(n)&&(t+=e.charAt(n));return t}var m=new l(function(e){return function(e){var t=i.decode(e).toString("hex").replace(/^1220/,"");return 64!=t.length?null:"0x"+t}(e)},function(t){return function(t){var n=new e(t.replace(/^0x/,"1220"),"hex");return i.encode(n)}(t)}),d=new l(function(e){return s.a.utils.padLeft(s.a.utils.numberToHex(e),64)},function(e){return s.a.utils.hexToNumber(e)}),h=new l(function(e){return s.a.utils.padLeft(s.a.utils.numberToHex(e),64)},function(e){return u(s.a.utils.toAscii(e))}),p=new l(function(e){return s.a.utils.padLeft(s.a.utils.numberToHex(e),64)},function(e){return s.a.utils.hexToNumber(e)}),f=new l(function(e){return s.a.utils.padLeft(s.a.utils.numberToHex(parseInt(e)),64)},function(e){return s.a.utils.hexToNumber(e)}),w=new l(function(e){return s.a.utils.padRight(s.a.utils.fromAscii(e),64)},function(e){return u(s.a.utils.toAscii(e))}),y=new l(function(e){return s.a.utils.padLeft(s.a.utils.fromAscii(e),64)},function(e){return u(s.a.utils.toAscii(e))}),b=new l(function(e){return s.a.utils.padLeft(s.a.utils.toHex(e),64)},function(e){return function(e){for(var t=0;t<e.length;t++)if("0"!==e.slice(t,t+1))return e.slice(t);return e}(e.slice(2))});var g=new l(function(e){return s.a.utils.padRight(s.a.utils.toHex(e),64)},function(e){return u(s.a.utils.toAscii(e))}),v=new l(function(e){return s.a.utils.padRight(e,64)},function(e){return u(s.a.utils.toAscii(e)).split("").map(function(e){return o.a[e]})}),S=new l(function(e){return s.a.utils.padRight(e,64)},function(e){return o.a[u(s.a.utils.toAscii(e))]}),E=new l(function(e){return s.a.utils.padLeft(e,64)},function(e){return function(e){return"0x"+e.slice(e.length-40)}(e)}),P=new l(function(e){return s.a.utils.padLeft(e[0],64)},function(e){return u(s.a.utils.toAscii(e))}),k=function(e){return new l(function(e){return e},function(t){return t.slice(2,2+64*e)})}}).call(this,n(8).Buffer)},706:function(e,t){},708:function(e,t){},73:function(e,t,n){e.exports={scrollContainer:"Overlay_scrollContainer__aI7Hp",spButtons:"Overlay_spButtons__umh-v",spButton:"Overlay_spButton__hvDOg",logo:"Overlay_logo___xFf1",zeqLogo:"Overlay_zeqLogo__2udbk",x:"Overlay_x__25QWr",smallText:"Overlay_smallText__1jnv7",sectionHero:"Overlay_sectionHero__1XUE6",sectionLeft:"Overlay_sectionLeft__3EzIn",sectionFirst:"Overlay_sectionFirst__3whan",sectionSecond:"Overlay_sectionSecond__2M5sF",sectionLast:"Overlay_sectionLast__3OT5H",sectionRight:"Overlay_sectionRight__1PWub",caroItem:"Overlay_caroItem__QZqpm",playerCarousel:"Overlay_playerCarousel__2_UVT",selected:"Overlay_selected__2BYye",noImgSelector:"Overlay_noImgSelector__2RpJ3"}},733:function(e,t){},735:function(e,t){},741:function(e,t){},743:function(e,t){},779:function(e,t){},781:function(e,t){},788:function(e,t){},790:function(e,t){},796:function(e,t){},797:function(e,t){},810:function(e,t){},812:function(e,t){},820:function(e,t){},822:function(e,t){},828:function(e,t){},836:function(e,t){},838:function(e,t){},84:function(e,t,n){"use strict";(function(e){var a=n(12),r=n.n(a),o=n(29),s=n(2),i=n(3),c=n(72),l=n.n(c),u=n(277),m=new XMLHttpRequest,d="/ip4/3.17.26.249/tcp/4001/ipfs/QmeQRpfSrYcAaqkhNoArDyTUwyYiru2gJp4WY1WegQGjtR",h=[85,110,105,118,101,114,115,97,108,32,83,101,113,101,117,110,99,101,115];window.httpV="http://www.zequencer.io:5001",window.httpsV="https://www.zequencer.io:5002";var p=new(function(){function t(){var e=this;if(Object(s.a)(this,t),this.controllers=new Set,!window.isNFT){"http:"===window.location.protocol?(this.backupIpfs=new l.a("ipfs.infura.io","5001",{protocol:"https"}),window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=l()("www.zequencer.io","5001",{protocol:"http"})):(this.centralIpfs=l()("www.zequencer.io","5001",{protocol:"http"}),this._centralIpfs=this.centralIpfs)):window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=l()("www.zequencer.io","5002",{protocol:"https"})):(this.centralIpfs=l()("www.zequencer.io","5002",{protocol:"https"}),this._centralIpfs=this.centralIpfs),this.ipfs=this.centralIpfs;var n=this;this.connectedLocally=!1,this.finishedTestingLocalConnection=!1,m.onreadystatechange=function(){4==m.readyState&&200==m.status&&(n.ipfs=l()("localhost","5001",{protocol:"http"}),n.connectToCentral(),n.connectedLocally=!0,n.finishedTestingLocalConnection=!0,e.keepSwarmConnectionAlive())},window.isNFT||(m.open("POST","http://localhost:5001/api/v0/swarm/peers",!0),m.timeout=4e3,m.ontimeout=function(){console.log("timed out connecting to local ipfs daemon")}),setTimeout(function(){e.finishedTestingLocalConnection=!0},4e3),m.send("")}}return Object(i.a)(t,[{key:"restart",value:function(){}},{key:"getIPFSPrefix",value:function(){return this.connectedLocally?"http://localhost:5001":"http:"===window.location.protocol?window.httpV:"https:"===window.location.protocol?window.httpsV:void 0}},{key:"getHashUrl",value:function(e){return this.connectedLocally?"http://localhost:8080/ipfs/"+e:(window.location.protocol,"/ipfs/"+e)}},{key:"getPinnedHashes",value:function(){var e=Object(o.a)(r.a.mark(function e(){var t;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ipfs.refs.local();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return e.ref}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"findProvs",value:function(e){var t=this;return new Promise(function(n,a){t.ipfs.dht.findprovs(e,{maxNumProviders:1},function(e,t){n(t)})})}},{key:"connectToCentral",value:function(){try{this.ipfs.swarm.connect(d,function(e,t){}).catch(function(e){return console.log("error")})}catch(e){console.log("error connecting to ipfs")}}},{key:"keepSwarmConnectionAlive",value:function(){var e=this;try{this.ipfs.swarm.connect(d,function(e,t){}).catch(function(e){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}setInterval(function(){if(window.sequencerEngine&&window.sequencerEngine.getSequenceId){var n=window.sequencerEngine.getSequenceId();if(window.sequencerEngine.store.getState().sequencer.isPlaying[n])return}try{e.ipfs.swarm.connect(d,function(e,t){}).catch(function(e){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}},6e4)}},{key:"isConnectedLocally",value:function(){return this.connectedLocally}},{key:"addArrayBuffer",value:function(e,t){return this.addHelper(e,t)}},{key:"addArrayBufferAndSaveToDB",value:function(e,t){return this.addBlobAndSaveToDB(new Blob([new Uint8Array(e)]),t)}},{key:"addHelper",value:function(t){var n=this,a=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);void 0===a&&(a="hello");return new Promise(function(r,o){var s=n._centralIpfs||n.ipfs;s||(s="http:"===window.location.protocol?l()("www.zequencer.io","5001",{protocol:"http"}):l()("www.zequencer.io","5002",{protocol:"https"})),s.add({name:a,path:"hello",content:new e(t)},function(e,t){console.log("IPFS HASH = ",t);var n=t[0].hash;e?o(e):r(n)})})}},{key:"addBuffer",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];return new Promise(function(n,a){var r=t.centralIpfs;r.add(e,function(e,t){if(e)a(e);else{var o=t[0].hash;r.pin.add(o),n(o)}})})}},{key:"addJson",value:function(t){var n=this,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LOCAL",r=arguments.length>2?arguments[2]:void 0;return new Promise(function(o,s){console.log("adding json noUTF=",r,t);var i=n._centralIpfs||n.ipfs;i||(i="http:"===window.location.protocol?l()("www.zequencer.io","5001",{protocol:"http"}):l()("www.zequencer.io","5002",{protocol:"https"})),i.add(e.from(JSON.stringify(t)),function(e,t){if(e)s(e);else{var n=t[0].hash;i.pin.add(n),o(n)}}),"LOCAL"===a&&(i!==n.centralIpfs&&n.addJson(t,"UNIVERSAL",r).then(function(e){return o(e)}),n.addJson(t,"INFURA",r).then(function(e){return o(e)}))})}},{key:"getJson",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.restart(),new Promise(function(i,c){if(s)t.ipfs.cat(e,function(e,t){i(JSON.parse(t.toString("utf8")))});else{var l="/api/v0/cat?arg="+e,u=(n?t.centralIpfs:t.ipfs,new AbortController);t.controllers.add(u);var m=u.signal;setTimeout(function(){u.abort(),t.controllers.delete(u),c()},a);var d="POST",h=t.getIPFSPrefix()+l;if(window.isNFT)return d="GET",h=e,void fetch(h,{signal:m,method:d}).then(function(){var e=Object(o.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());if(window.isNFT)return i({});var p=(new Date).getTime();fetch(h,{signal:m,method:d}).then(function(){var e=Object(o.a)(r.a.mark(function e(n){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=(new Date).getTime(),console.log("raw request took %s ms",a-p),t.readAllChunks(n.body).then(function(e){console.log("read all chunks took %s ms",(new Date).getTime()-a);var n=t.mergeArrays(e,0,!1),r=(new TextDecoder).decode(n);i(JSON.parse(r))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}})}},{key:"addBytesArray",value:function(){var e=Object(o.a)(r.a.mark(function e(t){var n,a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Uint8Array(t.length+h.length)).set(t,0),n.set(h,t.length),e.next=5,this.addHelper(n.buffer);case 5:return a=e.sent,this.ipfs.pin.add(a),e.abrupt("return",a);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pin",value:function(){var e=Object(o.a)(r.a.mark(function e(t){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ipfs.pin.add(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addBlob",value:function(e,t){var n=this;return this.restart(),new Promise(function(a,r){var o,s=new FileReader,i=n;s.onload=function(){var e=this;o=this.result,i.addHelper(o,void 0,t).then(function(t){e.connectedLocally&&i.ipfs.pin.add(t),i.centralIpfs.pin.add(t),a(t)}).catch(function(e){return r(e)})},s.readAsArrayBuffer(e)})}},{key:"addBlobAndSaveToDB",value:function(e,t){}},{key:"converttoarraybuffer",value:function(e){return new Promise(function(t,n){var a=new a;a.onload=function(){t(this.result)},a.readasarraybuffer(e)})}},{key:"readAllChunks",value:function(e){var t=e.getReader(),n=[];return function e(){return t.read().then(function(t){var a=t.value;return t.done?n:(n.push(a),e())})}()}},{key:"getSound",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return new Promise(function(a,s){var i=new AbortController;t.controllers.add(i);var c=i.signal;setTimeout(function(){i.abort(),t.controllers.delete(i),s()},n);var l="GET",u="https://zequencer.io/ipfs/"+e;if(window.spores&&(u="https://zequencer.mypinata.cloud/ipfs/"+e),window.isNFT)return l="GET",u=e,fetch(u,{signal:c,method:l}).then(function(){var e=Object(o.a)(r.a.mark(function e(t){var n;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:n=e.sent,a(new Uint8Array(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());if(window.isNFT)return a([]);var m=(new Date).getTime();fetch(u,{signal:c,method:l}).then(function(){var e=Object(o.a)(r.a.mark(function e(n){var o,s,i,c;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=(new Date).getTime(),console.log("raw response took %s ms",o-m),e.next=4,n.arrayBuffer();case 4:return s=e.sent,i=(new Date).getTime(),console.log("Array buffer tranform took %s ms",(new Date).getTime()-o),c=t.processArray(new Uint8Array(s)),console.log("processing took % ms",(new Date).getTime()-i),a(c),e.abrupt("return");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log("aborted")})})}},{key:"arrayToBuffer",value:function(e){var t=new ArrayBuffer(e.length);return e.map(function(e,n){t[n]=e}),t}},{key:"cancel",value:function(){console.log("cancelling = ",this.controllers),Array.from(this.controllers).forEach(function(e){return e.abort()})}},{key:"processArray",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return e;var t=e,n=this.findEnd(t,h);return-1!==n?t.slice(0,n):e.slice(0,e.length-1024)}},{key:"mergeArrays",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],a=0;for(var r in e)a+=e[r].length;var o=new Uint8Array(a-t),s=0;for(var i in e)0===s?(o.set(e[i].subarray(t),s),s+=e[i].length-t):(o.set(e[i],s),s+=e[i].length);if(!n)return o;var c=o,l=this.findEnd(c,h);return-1!==l?c.slice(0,l):o.slice(0,o.length-1024)}},{key:"findEnd",value:function(e,t){for(var n=e.length-1600,a=e.slice(n).values(),r=0,o=n;o<e.length;o++){if(a.next().value===t[r]){if(0==r&&(n=o),++r===t.length-1)return n}else r=0,n=o}return-1}},{key:"getAudioBuffer",value:function(e,t){var n=this;return this.restart(),new Promise(function(a,r){n.getSound(e).then(function(e){return t.decodeAudioData(u(e),function(e){a(e)},function(e,t,n){n&&r(n)})}).catch(function(e){r(e)})})}}]),t}());t.a=p}).call(this,n(8).Buffer)},848:function(e,t){},850:function(e,t){},869:function(e,t){},873:function(e,t){},875:function(e,t){}},[[549,1,2]]]);
//# sourceMappingURL=main.35ffcb1e.chunk.js.map