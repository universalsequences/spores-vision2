(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1040:function(t,e){},1041:function(t,e){},1057:function(t,e){},1082:function(t,e){},1264:function(t,e,n){},1265:function(t,e,n){},1267:function(t,e,n){},1268:function(t,e,n){},1269:function(t,e,n){},1277:function(t,e,n){},1278:function(t,e,n){},1279:function(t,e,n){},1280:function(t,e,n){},1281:function(t,e,n){},1282:function(t,e,n){},1283:function(t,e,n){},1284:function(t,e,n){},1285:function(t,e,n){},1286:function(t,e,n){},1287:function(t,e,n){},1288:function(t,e,n){},1289:function(t,e,n){},1301:function(t,e,n){},1321:function(t,e,n){},1322:function(t,e,n){},1323:function(t,e,n){},1324:function(t,e,n){},1325:function(t,e,n){},1326:function(t,e,n){},1327:function(t,e,n){},1328:function(t,e,n){},1329:function(t,e,n){},1330:function(t,e,n){},1331:function(t,e,n){},1332:function(t,e,n){},1333:function(t,e,n){},1334:function(t,e,n){},1335:function(t,e,n){},1336:function(t,e,n){},1337:function(t,e,n){},1338:function(t,e,n){},1339:function(t,e,n){},1341:function(t,e,n){},1343:function(t,e,n){"use strict";n.r(e);var r=n(1),o=n.n(r),a=n(129),i=n.n(a),c=(n(577),n(5)),u=n(17),s=n(23),l=n(44),f=function(t){var e=t.ref,n=t.resolution,o=void 0===n?1:n,a=t.width,i=t.height,c=t.vertexShader,u=t.fragmentShader,f=t.className,h=Object(r.useRef)(),d=Object(r.useRef)(!1),p=(Object(r.useRef)((new Date).getTime()),Object(r.useRef)()),y=Object(r.useRef)(),v=Object(r.useRef)(),m=Object(r.useRef)(),g=Object(r.useRef)();Object(r.useEffect)(function(){b(),E()},[]);var b=function(){if(!p.current){p.current=new l.i,p.current.setPixelRatio(2),p.current.setSize(a/o,i/o),p.current.setClearColor(0,0),h&&(h.current=p.current.domElement),p.current.domElement.classList.add(f),e.current.appendChild(p.current.domElement),y.current=new l.e,v.current=new l.a;var t=new l.d(2,2);m.current=Object(s.a)({},m.current,{number1:new l.g(1),number2:new l.g(1),number3:new l.g(1),scroll_y:new l.g(0),width:new l.g(a/1),height:new l.g(i/1)});var n=new l.f({uniforms:m.current,vertexShader:c,fragmentShader:u});g.current=n;var r=new l.c(t,n);y.current.add(r)}};Object(r.useEffect)(function(){g.current&&(g.current.fragmentShader=u,g.current.needsUpdate=!0,E())},[u]),Object(r.useEffect)(function(){},[a,i,o]);var w=Object(r.useCallback)(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];x(m.current,t),e&&E()},[]),x=function(t,e){for(var n in e)n in t?t[n].value=e[n]:(t[n]={value:e[n]},isNaN(e[n])),isNaN(e[n])&&(t[n].value.needsUpdate=!0)};function E(){!d.current&&p.current.domElement&&p.current.render(y.current,v.current)}return{updateUniforms:w,onResize:function(t,e){w({width:t,heigh:e}),void 0!==p.current&&p.current.setSize(t/o,e/o)},dispose:function(){d.current=!0,null!==p.current&&void 0!==p.current&&p.current.domElement.parentNode&&p.current.domElement.parentNode.removeChild(p.current.domElement)}}},h=function(t){return"number"===typeof t?d(t):t.code},d=function(t){Math.floor(t);return t-Math.floor(t)==0?t.toString()+".0":t.toString()},p=function(t){return"\n ".concat(t.function.returnType," ").concat(t.name,"(").concat(t.function.args.map(function(t){var e=t.name,n=t.type;return"".concat(n," ").concat(e)}).join(","),") {\n     ").concat(x(t.function.body.variables),"\n     ").concat(t.function.body.code,"\n }\n ")};function y(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return v(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return v(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function v(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var m,g=function(t){return"\nprecision mediump float;\nuniform float width;\nuniform float height;\n".concat(b(t.uniforms),"\n\nvec3 hsl2rgb(vec3 c) {\n    vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0,4.0,2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0);\n        return c.z + c.y * (rgb - 0.5) * (1.0 - abs(2.0 * c.z - 1.0));\n}\nvec3 rgb2hsl(vec3 c) {\n    float h = 0.0;\n    float s = 0.0;\n    float l = 0.0;\n    float r = c.r;\n    float g = c.g;\n    float b = c.b;\n    float cMin = min( r, min( g, b ) );\n    float cMax = max( r, max( g, b ) );\n    l = ( cMax + cMin ) / 2.0;\n    if ( cMax > cMin ) {\n        float cDelta = cMax - cMin;\n        s = l < .0 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) );\n        if ( r == cMax ) {\n            h = ( g - b ) / cDelta;\n        } else if ( g == cMax ) {\n            h = 2.0 + ( b - r ) / cDelta;\n        } else {\n            h = 4.0 + ( r - g ) / cDelta;\n        }\n        if ( h < 0.0) {\n            h += 6.0;\n        }\n        h = h / 6.0;\n     }\n     return vec3( h, s, l );\n}\n\nvec4 hueshift(vec4 color, float shift) {\n  vec3 hsl = rgb2hsl(vec3(color.x, color.y, color.z));\n  vec3 sRGB = hsl2rgb(vec3(mod(hsl.x + shift, 1.0), hsl.y, hsl.z ));\n  return vec4(sRGB.x, sRGB.y, sRGB.z, color.w);\n}\n\n// Identity matrix.\nconst mat3 identity =  mat3(\n        vec3(1, 0, 0),\n        vec3(0, 1, 0),\n        vec3(0, 0, 1)\n    );\n\nmat2 rotate2D(float angle) {\n    return mat2(\ncos(angle), -sin(angle),sin(angle),cos(angle));\n}\n\n").concat(w(t.functions),"\nvoid main() {\n    ").concat(x(t.variables),"\n    gl_FragColor = ").concat(t.code,"; \n}\n    ")},b=function(t){var e,n="",r=[],o=y(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;r.includes(a)||(n+="uniform float ".concat(a,";"),r.push(a))}}catch(i){o.e(i)}finally{o.f()}return n},w=function(t){var e,n="",r=[],o=y(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;r.includes(a.name)||(n+=p(a),r.push(a.name))}}catch(i){o.e(i)}finally{o.f()}return n},x=function(t){var e,n="",r=[],o=y(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;r.includes(a.name)||(n+="".concat(a.type," ").concat(a.name," = ").concat(a.value.code,";"),r.push(a.name))}}catch(i){o.e(i)}finally{o.f()}return n},E=n(14),O={code:"",functions:[],variables:[],uniforms:[]},j=function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,a=n;o<a.length;o++){var i=a[o];"number"!==typeof i&&i.uniforms&&(t=[].concat(Object(E.a)(t),Object(E.a)(i.uniforms)))}return t},L=function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,a=n;o<a.length;o++){var i=a[o];if("number"!==typeof i){var c=i.functions;c&&c.forEach(function(e){return t.push(e)})}}return t},S=function(){var t=function(){for(var t=[],e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];for(var o=0,a=n;o<a.length;o++){var i=a[o];"number"!==typeof i&&(t=[].concat(Object(E.a)(t),Object(E.a)(i.variables)))}return t}.apply(void 0,arguments),e=L.apply(void 0,arguments);return{uniforms:j.apply(void 0,arguments),variables:t,functions:e,code:""}},I=function(t,e){return"undefined"!==typeof e?{uniforms:[],variables:e,functions:[],code:t}:Object(s.a)({},O,{code:t})},N=function(){return{uniforms:[],functions:[],variables:[{name:"uv",type:"vec2",value:I("(1.0*gl_FragCoord.xy-vec2(width, height))/height")}],code:"uv"}},k=function(){return C(N())},T=function(t,e){return Object(s.a)({},t,{code:"(".concat(t.code,").").concat(e)})},C=function(t){return{x:T(t,"x"),y:T(t,"y"),z:T(t,"z"),w:T(t,"w")}},_=function(t,e){return Object(s.a)({},S(t,e),{code:"vec2(".concat(h(t),", ").concat(h(e),")")})},A=function(t,e,n){return Object(s.a)({},S(t,e,n),{code:"vec3(".concat(h(t),", ").concat(h(e),", ").concat(h(n),")")})},M=function(t,e,n,r){return Object(s.a)({},S(t,e,n,r),{code:"vec4(".concat(h(t),", ").concat(h(e),", ").concat(h(n),", ").concat(h(r),")")})},P=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object(s.a)({},S.apply(void 0,n),{code:n.map(function(t){return"number"===typeof t?h(t):t.code}).join(t)})},z=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return Object(s.a)({},S.apply(void 0,n),{code:"".concat(t,"(").concat(n.map(function(t){return"number"===typeof t?h(t):t.code}).join(","),")")})},F=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return P.apply(void 0,["+"].concat(e))},R=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return P.apply(void 0,["-"].concat(e))},D=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return P.apply(void 0,["*"].concat(e))},G=function(t){return z("abs",t)},B=function(t){return z("normalize",t)},U=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return z.apply(void 0,["pow"].concat(e))},Z=function t(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return 2===n.length?z.apply(void 0,["min"].concat(n)):z("min",n[0],t.apply(void 0,Object(E.a)(n.slice(1))))},Y=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 2===e.length?z.apply(void 0,["max"].concat(e)):z("max",e[0],Z.apply(void 0,Object(E.a)(e.slice(1))))},W=function(t,e,n){return z("mix",t,e,n)},H=function(t,e){return z("dot",t,e)},J=function(t,e){return z("atan",t,e)},V=function(t,e,n){return z("smoothstep",t,e,n)},Q="\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(\n      position, \n      1.0 );\n  }\n",q=(n(581),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(r.useRef)(),n=Object(r.useState)(!1),a=Object(c.a)(n,2),i=a[0],u=a[1],s=Object(r.useState)(""),l=Object(c.a)(s,2),f=l[0],h=l[1],d=Object(r.useCallback)(function(){fetch("https://zequencer.io/spores-waitlist",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:f})}),u(!0)},[u,f]);return o.a.createElement("div",{className:"waitlist flex h-screen  "},o.a.createElement("div",{className:"m-auto inner-waitlist"},o.a.createElement("div",{ref:e,className:"logo-container mx-auto mb-8"},o.a.createElement("img",{className:"m-auto ",src:"/LOGO-SMALL.svg"})),o.a.createElement("div",{className:"info text-lg"},"What's your email?"),o.a.createElement("div",{className:"info-next text-base mx"},"We'll send you an invite when the time is right."),o.a.createElement("input",{className:"w-full email-input mt-6 outline-0 text-base text-white bg-transparent",value:f,placeholder:"Enter your email",onChange:function(t){return h(t.target.value)}}),i&&o.a.createElement("div",{className:"submitted-text"},"You've been added to the waitlist!",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))),o.a.createElement("div",{onClick:d,className:i||""===f?"ok-btn pushable":"ok-btn pushable show"},"OK ",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"})))))})),X=(n(582),function(t){var e="m-2 w-44 h-44 relative rounded-lg z-10 overflow-hidden artist-card";return t.blurred&&(e+=" blur-lg"),o.a.createElement("div",{className:e},o.a.createElement("img",{className:"w-44 h-44",src:"/default-cover.png"}),o.a.createElement("div",{className:"artist-name text-base  px-3 rounded-full absolute top-2 left-2 z-10 text-zinc-200"},t.artistName))}),K=function(t){return o.a.createElement("div",{className:"text-2xl  z-10 flex flex-col mt-5 caurosel-container py-5"},o.a.createElement("div",{className:"mx-auto caurosel-text"},"Minting gives you immediate access to ",o.a.createElement("span",{className:"purple-gradient shimmer"},"remix")," these tracks"),o.a.createElement("div",{className:"p-5 flex flex-wrap caurosel mx-auto"},o.a.createElement(X,{artistName:"Keyon"}),o.a.createElement(X,{artistName:"ZMRH"}),o.a.createElement(X,{artistName:"Reo Cragun",blurred:!0}),o.a.createElement(X,{artistName:"Bloody White",blurred:!0})))};!function(t){t[t.None=0]="None",t[t.OpenWallet=1]="OpenWallet",t[t.Waiting=2]="Waiting",t[t.Confirmed=3]="Confirmed",t[t.Play=4]="Play"}(m||(m={}));var $=n(10),tt=n(171);function et(){et=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var nt=Object(tt.a)("https://tlgvdtldahlwcmdtdftl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRsZ3ZkdGxkYWhsd2NtZHRkZnRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzcwMTg5OTMsImV4cCI6MTk5MjU5NDk5M30.Yq1dNGz3lPIZmL2jN2GKMoKCoo9Al_RQkMRXjKDjEkc"),rt={0:"Vocals",1:"Instruments",2:"Drums",3:"Bass",4:"Guitars"},ot=n(20),at=n(3),it=n(2),ct=Object(at.a)(function t(e,n){Object(it.a)(this,t),this.event=e,this.topics=n;for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];this.data=o}),ut=function(){function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(it.a)(this,t),this.name=e,this.type=n,this.size=64*r}return Object(at.a)(t,[{key:"convertTo",value:function(t){if(void 0!==t&&null!==t)return this.type.convertTo(t)}},{key:"convertFrom",value:function(t){if(void 0!==t&&null!==t)return this.type.convertFrom(t)}}]),t}(),st=new ct("Transfer(address,address,uint256)",[new ut("fromUser",ot.a),new ut("toUser",ot.a),new ut("tokenId",ot.g)]),lt=(new ct("NewSporeCreated(uint256,uint256,address,address,bytes32,bytes32)",[],new ut("sporeId",ot.g),new ut("tokenId",ot.g),new ut("proxy",ot.a),new ut("creator",ot.a),new ut("sporeHash",ot.e),new ut("dataHash",ot.e)),new ct("NewChainCreated(uint256,bytes32,address,address,bytes32)",[],new ut("chainId",ot.g),new ut("name",ot.c),new ut("proxy",ot.a),new ut("creator",ot.a),new ut("chainHash",ot.e)),new ct("NewOfficialSporeCreated(uint256,uint256,address,bytes32,bytes32,string)",[],new ut("spTokenId",ot.g),new ut("sporeId",ot.g),new ut("creator",ot.a),new ut("sporeHash",ot.e),new ut("dataHash",ot.e),new ut("songName",ot.f)),new ct("NewUnofficialSporeCreated(uint256,uint256,address,bytes32,bytes32,address,uint256)",[],new ut("spTokenId",ot.g),new ut("sporeId",ot.g),new ut("creator",ot.a),new ut("sporeHash",ot.e),new ut("dataHash",ot.e),new ut("collectionAddress",ot.a),new ut("tokenId",ot.g))),ft=(new ct("NewSporesPlaylist(uint256,address,string)",[],new ut("playlistId",ot.g),new ut("creator",ot.a),new ut("metadataCID",ot.f)),new ct("SporesPlaylistSong(uint256,address,uint256)",[],new ut("playlistId",ot.g),new ut("collecttionAddress",ot.a),new ut("tokenId",ot.g)),new ct("PlaylistBurned(uint256)",[],new ut("playlistId",ot.g)),new ct("SongGenre(address,uint256,string,address,string)",[],new ut("collectionAddress",ot.a),new ut("tokenId",ot.g),new ut("genre",ot.f),new ut("user",ot.a),new ut("metadataCID",ot.f)),new ct("NewSkin(uint256,bytes32)",[],new ut("skinId",ot.g),new ut("imageHash",ot.e)),new ct("Transfer(address,address,uint256)",[new ut("from",ot.a),new ut("to",ot.a)],new ut("tokens",ot.g)),new ct("NewSong(uint256,string,string,int16,int16,string)",[],new ut("songId",ot.g),new ut("title",ot.f),new ut("artist",ot.f),new ut("bpm",ot.d),new ut("bpmDecimal",ot.d),new ut("key",ot.f))),ht=new ct("NewStem(uint256,uint256,string,uint16,bool)",[],new ut("songId",ot.g),new ut("stemId",ot.g),new ut("uri",ot.f),new ut("duration",ot.g),new ut("isLoop",ot.b)),dt=new ct("NewDefaultSongConfiguration(uint256,uint256)",[],new ut("songId",ot.g),new ut("configId",ot.g)),pt=new ct("SongConfigurationStem(uint256,uint256)",[],new ut("configId",ot.g),new ut("stemId",ot.g)),yt=new ct("NewStemType(uint256,uint8)",[],new ut("stemId",ot.g),new ut("stemType",ot.g)),vt=new ct("NewDropCreated(uint256,address)",[],new ut("songId",ot.g),new ut("dropAddress",ot.a)),mt=new ct("MintPriceUpdated(address,address,uint256)",[],new ut("sender",ot.a),new ut("targetZoraDrop",ot.a),new ut("newMintPrice",ot.g)),gt=new ct("SongAttribute(uint256,bytes32,bytes32)",[new ut("songId",ot.g),new ut("attributeType",ot.c),new ut("attributeValue",ot.c)]),bt=n(6),wt=n(13),xt=n(7),Et=n(28);function Ot(){Ot=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var jt="undefined"!==typeof window.web3,Lt=function(){function t(e){Object(it.a)(this,t),this.address=e,this.distinct=!1,this.selectStatements=[],this.whereClauses=[],this.groupBy=[],this.joinClauses=[],this.limitSize=void 0,this.fromBlockNumber="0x2",this.toBlockNumber=void 0}return Object(at.a)(t,[{key:"from",value:function(t){return this.eventLog=t,this}},{key:"select",value:function(t){return this.selectStatements.push(t),this}},{key:"distinct",value:function(){return this.distinct=!0,this}},{key:"groupBy",value:function(t){return this.groupBy.push(t),this}},{key:"where",value:function(t,e){return this.whereClauses.push(new St(t,e)),this}},{key:"whereIn",value:function(t,e){return this.whereClauses.push(new St(t,void 0,e)),this}},{key:"join",value:function(t,e){this.joinClauses.push(new It(t,e))}},{key:"fromBlock",value:function(t){return this.fromBlockNumber=Et.a.utils.toHex(t),this}},{key:"toBlock",value:function(t){return this.toBlockNumber=Et.a.utils.toHex(t),this}},{key:"limit",value:function(t){return this.limitSize=t,this}},{key:"getTopics",value:function(){var t=[Et.a.utils.sha3(this.eventLog.event)];for(var e in this.eventLog.topics){var n=this.eventLog.topics[parseInt(e)],r=null;for(var o in this.whereClauses){var a=this.whereClauses[parseInt(o)];if(a.name===n.name){var i=void 0!==a.value?a.value:a.valueList[0];r=n.convertTo(i)}}t.push(r)}return t}},{key:"executeQuery",value:function(){var t=this;return console.log("EXECUTING AN ETHEREUM QUERY"),new Promise(function(e,n){Et.a.eth.getPastLogs({address:t.address,topics:t.getTopics(),toBlock:t.toBlockNumber,fromBlock:t.fromBlockNumber},function(r,o){if(r)n(r);else{var a=[];o.reverse();for(var i=Math.min(o.length,t.limitSize||o.length),c=0;c<i;c++)a.push(t.parseResult(o[c]));e(a)}})})}},{key:"watchQuery",value:function(){var t=Object($.a)(Ot().mark(function t(e){var n,r=this;return Ot().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Et.a.eth.getBlockNumber();case 2:n=t.sent,(jt?Et.a:Et.b).eth.subscribe("logs",{address:this.address,topics:this.getTopics(),fromBlock:Et.a.utils.toHex(n)},function(t,n){var o=r.parseResult(n);e(o)});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"parseResult",value:function(t){if(void 0!==t&&null!==t){var e={};for(var n in this.selectStatements){var r=this.selectStatements[parseInt(n)];for(var o in this.eventLog.topics){var a=t.topics[1+parseInt(o)],i=this.eventLog.topics[parseInt(o)];i.name===r&&(e[r]=i.type.convertFrom(a))}var c=0;for(var u in this.eventLog.data){u=parseInt(u);var s=this.eventLog.data[u];if(void 0!==s&&r==s.name){var l=t.data.slice(2+c,2+c+s.size);l="0x"+l,s.type==ot.f&&(l="0x"+t.data.slice(130+64*u)),e[r]=s.convertFrom(l)}c+=s.size}}return e.blockNumber=t.blockNumber,e}}},{key:"getCopy",value:function(){var e=new t(this.address);return e.eventLog=this.eventLog,e.selectStatements=Object(E.a)(this.selectStatements),e.joinClauses=Object(E.a)(this.joinClauses),e.groupBy=Object(E.a)(this.groupBy),e.fromBlockNumber=this.fromBlockNumber,e.toBlockNumber=this.toBlockNumber,e.limitSize=this.limitSize,e}},{key:"getJson",value:function(){return{address:this.address,eventLog:this.eventLog.event,selectStatements:Object(E.a)(this.selectStatements),whereClauses:Object(E.a)(this.whereClauses),joinClauses:Object(E.a)(this.joinClauses),groupBy:Object(E.a)(this.groupBy),fromBlockNumber:Et.a.utils.hexToNumber(this.fromBlockNumber),toBlockNumber:void 0===this.toBlockNumber?void 0:Et.a.utils.hexToNumber(this.toBlockNumber),limitSize:this.limitSize,distinct:this.distinct}}}]),t}(),St=Object(at.a)(function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(it.a)(this,t),this.name=e,this.value=n,this.valueList=r}),It=Object(at.a)(function t(e,n){Object(it.a)(this,t),this.event=e,this.field=n}),Nt=Lt;function kt(){kt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Tt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var n,r=Object(xt.a)(t);if(e){var o=Object(xt.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(wt.a)(this,n)}}var Ct=new(function(){function t(){Object(it.a)(this,t),this.runningQueries=new Set}return Object(at.a)(t,[{key:"submit",value:function(t){var e=this;return new Promise(function(){var n=Object($.a)(kt().mark(function n(r,o){var a;return kt().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e.runningQueries.size>=4)){n.next=5;break}return n.next=3,e.sleep(20);case 3:n.next=0;break;case 5:e.runningQueries.add(t),a="https://zequencer.io"+(a="/search"),window.LOCAL_BACKEND_FLAG&&"localhost"===window.location.hostname&&(a="/search"),fetch(a,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(n){e.removeQuery(t),r(n||[])}).catch(function(n){e.removeQuery(t)});case 10:case"end":return n.stop()}},n)}));return function(t,e){return n.apply(this,arguments)}}())}},{key:"removeQuery",value:function(t){this.runningQueries.delete(t)}},{key:"sleep",value:function(t){return new Promise(function(e,n){setTimeout(e,t)})}}]),t}()),_t=function(t){Object(bt.a)(n,t);var e=Tt(n);function n(t){return Object(it.a)(this,n),e.call(this,t)}return Object(at.a)(n,[{key:"executeQuery",value:function(){var t=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(e,n){if(window.isNFT)return e([]);Ct.submit(t.getJson()).then(e)})}}]),n}(Nt),At="0xBEEF8B1A18B376A82D87d1797359A7aDF09f3dCc";function Mt(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Pt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pt(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Pt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function zt(){zt=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Ft=function(){var t=Object($.a)(zt().mark(function t(e){var n,r,o,a,i,c,u=arguments;return zt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=!(u.length>1&&void 0!==u[1])||u[1],r=new _t(At).from(ft).select("title").select("artist"),void 0!==e&&(r=r.where("songId",parseInt(e))),t.next=5,r.executeQuery(!0,!0);case 5:if(o=t.sent,n){t.next=8;break}return t.abrupt("return",o[0]);case 8:if(void 0===e){t.next=17;break}return a=[{songId:parseInt(e)}],t.next=12,Ut(a);case 12:return i=t.sent,o[0].attributes=i[e],t.abrupt("return",o[0]);case 17:return t.next=19,Ut();case 19:return c=t.sent,o.forEach(function(t){return t.attributes=c[t.songId]}),t.abrupt("return",o);case 22:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Rt=function(){var t=Object($.a)(zt().mark(function t(e){return zt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ft(e,!1);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={title:"unreleased",artist:"yo"};case 5:return t.abrupt("return",t.t0);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Dt="https://spores-stems.s3.us-east-2.amazonaws.com/",Gt=function(){var t=Object($.a)(zt().mark(function t(e){var n,r,o,a,i,c,u;return zt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=Array.from(new Set([].concat(Object(E.a)(e.synths.map(function(t){return"ipfs://"+t[1].slice(Dt.length)})),Object(E.a)(e.drums.map(function(t){return"ipfs://"+t[1].slice(Dt.length)}))))),r=new _t(At).from(ht).select("stemId").whereIn("uri",n),t.next=4,r.executeQuery();case 4:o=t.sent,a={},i=Mt(o);try{for(i.s();!(c=i.n()).done;)u=c.value,a[Dt+u.uri.slice("ipfs://".length)]=u.stemId}catch(s){i.e(s)}finally{i.f()}return t.abrupt("return",a);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Bt=function(t,e,n,r,o){var a=n;if(0===e.length)return{};for(var i=Math.max(e[0][2],r),u={},s=e[0][1],l=0,f=[].concat(Object(E.a)(e.slice(1)),[[0,0,o]]);l<f.length;l++){var h=f[l],d=Object(c.a)(h,3),p=(d[0],d[1]),y=d[2],v=t?t[s||p]:s||p;s=p;var m=y-(i||0);i=y,u[v]||(u[v]=0),u[v]+=m}var g={};for(var b in u)void 0!==b&&"none"!==b&&"0"!==b&&(g[b]=100*u[b]/a);return g},Ut=function(){var t=Object($.a)(zt().mark(function t(e){var n,r,o,a,i,c,u,s,l,f;return zt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new _t(At).from(gt),e&&(r=e.map(function(t){return t.songId}),n=n.whereIn("songId",r)),t.next=4,n.executeQuery(!0,!0);case 4:o=t.sent,a={},i=Mt(o),t.prev=7,i.s();case 9:if((c=i.n()).done){t.next=19;break}if(u=c.value,s=u.songId,l=u.attributeType,"\x01"===(f=u.attributeValue)?f=!0:"\0"===f?f=!1:null===f&&(f=!1),a[s]||(a[s]={}),!a[s][l]){t.next=16;break}return t.abrupt("continue",17);case 16:a[s][l]=f;case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),i.e(t.t0);case 24:return t.prev=24,i.f(),t.finish(24);case 27:return t.abrupt("return",a);case 28:case"end":return t.stop()}},t,null,[[7,21,24,27]])}));return function(e){return t.apply(this,arguments)}}(),Zt=function(){var t=Object($.a)(zt().mark(function t(e){var n,r,o,a,i,c,u,s,l,f,h,d,p,y;return zt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://spores-stems.s3.us-east-2.amazonaws.com/",e="ipfs://"+e.slice("https://spores-stems.s3.us-east-2.amazonaws.com/".length),n=new _t(At).from(ht).where("uri",e),t.next=5,n.executeQuery();case 5:return r=t.sent,o=r[0],a=o.songId,i=o.stemId,c=new _t(At).from(yt).where("stemId",i),t.next=10,c.executeQuery();case 10:return u=t.sent,s=u.map(function(t){return t.stemType}),l=new _t(At).from(ft).where("songId",a),t.next=15,l.executeQuery();case 15:return f=t.sent,h=f[0],d=h.artist,p=h.title,y={stemId:i,artist:d,title:p,types:s},t.abrupt("return",y);case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Yt=(n(851),{}),Wt=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){t.tooltip;var e=t.setTooltip,n=Object(r.useRef)();Object(r.useEffect)(function(){return window.addEventListener("message",a),function(){return window.removeEventListener("message",a)}},[e]);var a=Object(r.useCallback)(function(t){if("sample-engaged"===t.data.type){var r=t.data.body;e(void 0),clearTimeout(n.current),Yt[r]?(console.log("stem we got=",Yt[r],r),e(Yt[r])):Zt(r).then(function(t){Yt[r]=t,console.log("stem we got=",t,r),e(t)}),n.current=setTimeout(function(){e(void 0)},4e3)}},[e]);return o.a.createElement(o.a.Fragment,null)}),Ht=n(66);function Jt(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Vt(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Vt(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Vt(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Qt=function(t,e){var n,r=e,o=I("10000000.0"),a=0,i=Jt(t);try{for(i.s();!(n=i.n()).done;){var c=n.value;if(r=W(c.color,r,V(0,c.blur,c.sdf)),a>0&&c.intersect){var u=Y(o,F(c.sdf,.05));r=W(c.intersectionColor,r,V(0,c.blur,F(u,.001)))}o=Z(o,c.sdf),a++}}catch(s){i.e(s)}finally{i.f()}return r},qt=(n(852),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.percentage,n=t.radius,r=t.className,a=void 0===r?"":r,i=2*(n-12)*Math.PI,c={},u=[];return u.push(e/100*i),u.push((100-e)/100*i),o.a.createElement("svg",{className:"circular-progress "+a,width:2*n+"px",height:2*n+"px"},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},o.a.createElement("stop",{offset:"0%","stop-color":"#afe5ff"}),o.a.createElement("stop",{offset:"50%","stop-color":"#7373f9"}),o.a.createElement("stop",{offset:"100%","stop-color":"#3d62ff"}))),o.a.createElement("circle",{className:"outter-circle",strokeWidth:6,style:c,cx:n+6,cy:n+6,r:n-12}),e>0&&o.a.createElement("circle",{className:"inner-circle",strokeDashoffset:n+1.5+(n-24)/2,strokeWidth:6,strokeDasharray:u.join(","),stroke:"url(#linear)",style:c,cx:n+6,cy:n+6,r:n-12}))})),Xt=function(t){return{type:"rectangle",x:t.x,y:t.y,width:t.width||0,height:t.height||0,radius:t.radius||0}},Kt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=0;return function(n){var r=t+"rectSDF"+e++,o={name:r,function:function(t){var e=t.x,n=t.y,r=t.radius,o=t.width,a=t.height,i=[];return"number"!==typeof e&&(i=[].concat(Object(E.a)(i),Object(E.a)(e.uniforms))),"number"!==typeof n&&(i=[].concat(Object(E.a)(i),Object(E.a)(n.uniforms))),console.log("SHAPE x/y uniforms",i,e,n),{args:[{name:"p",type:"vec2"}],body:{variables:[],uniforms:i,functions:[],code:"\n    p -= ".concat(_(e,n).code,";\n    vec4 r = ").concat(M(r,r,r,r).code,";\n    vec2 b = ").concat(_(o,a).code,";\n    r.xy = (p.x>0.0)?r.xy : r.zw;\n    r.x  = (p.y>0.0)?r.x  : r.y;\n    vec2 q = abs(p)-b+r.x;\n    return min(max(q.x,q.y),0.0) + length(max(q,0.0)) - r.x;\n")},returnType:"float"}}(n)};return Object(s.a)({},N(),{uniforms:o.function.body.uniforms,functions:[o],code:"".concat(r,"(uv)")})}},$t=function(t){return{variables:[],functions:[],code:t,uniforms:[t]}};function te(t,e){var n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=t},[t]),Object(r.useEffect)(function(){if(null!==e){var t=setInterval(function(){n.current()},e);return function(){return clearInterval(t)}}},[e])}var ee=function(t,e,n,r){var o={name:n,function:r||ne(t,e)},a=N();return{uniforms:o.function.body.uniforms,variables:a.variables,functions:[].concat(Object(E.a)(o.function.body.functions),[o]),code:"".concat(o.name,"(uv)")}},ne=function(t,e){var n=t.shapes.map(function(t){return e(t)});return console.log("shape fragments=",n),{args:[{name:"uv",type:"vec2"}],body:{variables:[],uniforms:j.apply(void 0,Object(E.a)(n)),functions:L.apply(void 0,Object(E.a)(n)),code:re(n,t.operation)},returnType:"float"}},re=function(t,e){var n="\n        float scene = 1000.0;\n        float a = 0.0;\n        float b = 0.0;\n        float k = 0.0;\n        float m = 0.0;\n        float h = 0.0;\n        float s = 0.0;\n    ";"SMOOTH_UNION"===e.type&&("number"===typeof e.factor?n+="k = ".concat(h(e.factor),";"):n+="k = ".concat(e.factor.code,";"));for(var r=0;r<t.length;r++){var o=t[r];"SMOOTH_UNION"===e.type?n+=ae(o,e.factor):n+=oe(o)}return n+="\n    return scene;\n    "},oe=function(t){return"\n    a = ".concat(t.code,";\n    if (a < scene) {\n        scene = a;\n    }\n    ")},ae=function(t,e){return"\n    a = ".concat(t.code,";\n    b = scene;\n    \n    h = max( k-abs(a-b), 0.0 )/k;\n    m = pow(h, 1.55)*0.5;\n    s = m*k/1.55; \n\n    if (a < scene) {\n        scene = a - s;\n    } else {\n        scene = b - s;\n    }\n    ")},ie=Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.setFinished,n=t.playerRef;t.radius;console.log("ZPORE LOADING ");var a=Object(r.useRef)(),i=Object(r.useState)(0),u=Object(c.a)(i,2),s=u[0],l=u[1],h=(Object(r.useRef)([]),Object(r.useRef)(0)),d=Object(r.useRef)(0),p=Object(r.useRef)(1),y=Object(r.useState)(g(M(k().x,k().y,1,1))),v=Object(c.a)(y,2),m=v[0],b=v[1],w=f({vertexShader:Q,fragmentShader:m,ref:a,className:"shader",width:320,height:320,resolution:1}).updateUniforms;Object(r.useEffect)(function(){var t,e,n,r,o,a=Xt({x:0,y:0,width:.6,height:.6,radius:.2}),i=Xt({x:0,y:0,width:.9,height:.9,radius:.9}),c=ee({shapes:[a,i],operation:{type:"SMOOTH_UNION",factor:.3}},Kt()),u=U(V(0,.35,U(k().x,2)),.9),s=U(V(0,.35,U(k().y,2)),.9),l=F(c,D(u,s,1.2)),f=D(2*Math.PI,$t("c")),h=C((t=N(),e=3*Math.PI/2,D(t,z("rotate2D",e)))),d=V(R(f,.2),f,F(J(h.y,D(-1,h.x)),Math.PI)),p=V(R(f,.2),0,F(J(h.y,D(-1,h.x)),Math.PI)),y=(n=M(.2,.6,.99,1),o=D(.9,p),r=z("sin",o),z("hueshift",n,r)),v=W(y,D(1.5,M(.9,.9,.94,1)),d),m={sdf:l,blur:.009,size:0,color:D(.021,$t("c"),M($t("c"),R(1,$t("c")),1,1)),intersect:!1},w={sdf:R(G(l),.005151),blur:.009,size:0,color:v,intersect:!1},x=g(Qt([m,w],M(0,0,0,0)));b(x)},[]),Object(r.useEffect)(function(){w({c:s/100})},[s]),Object(r.useEffect)(function(){return window.addEventListener("message",x),function(){return window.removeEventListener("message",x)}},[l,s,e,n]),te(Object(r.useCallback)(function(){d.current>94&&(p.current*=.99);var t=d.current+.1*p.current;l(t),d.current=t},[l]),20);var x=Object(r.useCallback)(function(t){"loading-progress"===t.data.type&&(p.current=Math.min(7,Math.max(4.5,(t.data.body-h.current)/10)),h.current=t.data.body,d.current>h.current&&(p.current*=.5)),"Finished Loading Project"===t.data&&(n&&(console.log("acknowledging"),n.current.contentWindow.postMessage({type:"finished-acknowledged",body:!0},"*")),d.current=100,l(100),setTimeout(function(){e(!0)},1e3))},[l,e,s,n]);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:a,className:"circular-progress"}))});function ce(){ce=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var ue=function(t){var e=t.alpha,n=t.isAuthenticating,a=t.authenticated,i=t.finished,c=t.setFinished,u=t.remove,s=t.setRemove,l=t.account,f=t.entered,h=t.setEntered;Object(r.useEffect)(function(){l&&i&&h(!0)},[l,h,i]),Object(r.useEffect)(function(){f&&setTimeout(function(){s(!0)},30)},[f,s]),Object(r.useEffect)(function(){var t=localStorage.getItem("oauthToken");t&&fetch("https://zequencer.io/auth/twitterName?oauthToken=".concat(t)).then(function(){var t=Object($.a)(ce().mark(function t(e){var n,r;return ce().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,r=n.twitterName,n.wallet,console.log("twitter name retrieved=",r);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[]);var d=Object(r.useCallback)(Object($.a)(ce().mark(function t(){var e,n,r,o;return ce().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://zequencer.io/auth/twitter");case 2:return e=t.sent,t.next=5,e.json();case 5:n=t.sent,r=n.oauthToken,o=n.redirect,localStorage.setItem("oauthToken",r),window.location.href=o;case 9:case"end":return t.stop()}},t)})),[]);return u?o.a.createElement(o.a.Fragment,null):o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:f?"enter-overlay hide":i?"enter-overlay loaded":"enter-overlay"},o.a.createElement("div",{className:"inner-overlay"},i&&o.a.createElement("img",{className:"spores-logo",src:"/LOGO-SMALL.svg"}),!i&&(a||n)&&o.a.createElement(ie,{setFinished:c}),i?o.a.createElement("div",{className:"click-text mt-8"},l?"":o.a.createElement(Ht.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect to Enter"}),e&&o.a.createElement("div",{className:"flex my-4"},o.a.createElement("div",{className:"w-32 h-0.5 bg-stone-200 mt-2"}),o.a.createElement("div",{className:"text-sm mx-4"},"or"),o.a.createElement("div",{className:"w-32 h-0.5 bg-stone-200 mt-2"})),e&&o.a.createElement("button",{onClick:d,className:"twitter-sign-in px-3 py-2 twitter-sign-in bg-black text-white rounded-lg"},o.a.createElement("div",{className:"flex inner-sign-in"},o.a.createElement("img",{src:"/twitter-logo.svg",className:"w-4 mt-1 h-4 mr-4"}),o.a.createElement("span",null,"Sign-In with Twitter")))):o.a.createElement("div",{className:"click-text no-btn"},o.a.createElement("div",null,"zorb + spore = zpores"),o.a.createElement("div",null,"remix songs using color"))))},se=n(72),le={endPoint:"https://api.zora.co/graphql",networks:[{network:se.ZDKNetwork.Ethereum,chain:se.ZDKChain.Goerli}],apiKey:"ROLsxj1Z_MDY40UDQszIIw"},fe=(new se.ZDK(le),function(t){if(t.indexOf("base64,")>=0){var e=atob(t.slice(t.indexOf("base64,")+"base64,".length));return JSON.parse(e)}return""}),he=n(67),de=n(345),pe=n(544);function ye(){ye=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var ve=function(){var t=Object($.a)(ye().mark(function t(e,n){var r,o,a;return ye().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new he.ethers.providers.InfuraProvider("mainnet","2f3dce2af1044e88b4851c3d73c3d00c"),o=pe.IERC721Metadata__factory.connect(e,r),t.prev=2,n=he.ethers.BigNumber.from(n),t.next=6,o.tokenURI(n);case 6:return a=t.sent,t.abrupt("return",a);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",void 0);case 13:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e,n){return t.apply(this,arguments)}}();function me(){me=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function ge(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return be(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return be(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function be(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var we=function(){var t=Object($.a)(me().mark(function t(e){var n,r,o,a,i,c,u,s,l;return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.ownerAddress,r=new Nt(e.collectionAddress).from(st).select("tokenId").where("toUser",n),t.next=4,r.executeQuery();case 4:o=t.sent,a=[],i=ge(o),t.prev=7,i.s();case 9:if((c=i.n()).done){t.next=34;break}if(u=c.value,!(a.length>=1&&e.singleton)){t.next=13;break}return t.abrupt("break",34);case 13:return t.next=15,xe(e.collectionAddress,n,u.tokenId);case 15:if(t.sent){t.next=18;break}return t.abrupt("continue",32);case 18:if(e.fetchImage){t.next=21;break}return a.push({tokenId:u.tokenId}),t.abrupt("continue",32);case 21:return t.prev=21,t.next=24,ve(e.collectionAddress,u.tokenId);case 24:s=t.sent,l=fe(s),a.push({tokenId:u.tokenId,image:{url:l.image}}),t.next=32;break;case 29:t.prev=29,t.t0=t.catch(21),console.log("error parsing",t.t0);case 32:t.next=9;break;case 34:t.next=39;break;case 36:t.prev=36,t.t1=t.catch(7),i.e(t.t1);case 39:return t.prev=39,i.f(),t.finish(39);case 42:return t.abrupt("return",a);case 43:case"end":return t.stop()}},t,null,[[7,36,39,42],[21,29]])}));return function(e){return t.apply(this,arguments)}}(),xe=function(){var t=Object($.a)(me().mark(function t(e,n,r){var o,a;return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=new Nt(e).from(st).select("tokenId").select("toUser").where("tokenId",r),t.next=3,o.executeQuery();case 3:if((a=t.sent).sort(function(t,e){return e.blockNumber-t.blockNumber}),!a[0]){t.next=7;break}return t.abrupt("return",a[0].toUser.toLowerCase()===n.toLowerCase());case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}();function Ee(){Ee=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Oe={endPoint:"https://api.zora.co/graphql",networks:[{network:se.ZDKNetwork.Ethereum,chain:se.ZDKChain.Mainnet}],apiKey:"ROLsxj1Z_MDY40UDQszIIw"},je=(new se.ZDK(Oe),function(){var t=Object($.a)(Ee().mark(function t(e){return Ee().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Se(e)){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,we({collectionAddress:"0x4e30bd0c525466e1bbb0b9028a596260c12b1561",ownerAddress:e,singleton:!0});case 4:if(0!==t.sent.length){t.next=7;break}return t.abrupt("return",!1);case 7:return t.abrupt("return",!0);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),Le=["0xdc94060e37dcb8816188508536595019c8F0C98a","0x73055A1Fb3262FdDD62130e738942d7f38BC33D4","0x986c67a613031A670a216CC3314Adf9d8e9D028E","0x32ec773ed7B5a54D1f0ac77944caF76ED30E6b86","0xA10Cf1E641B024DC543e63b91A4e269212434c7B","0x5090c4Fead5Be112b643BC75d61bF42339675448","0x259E48aA05fAf359bEfC098F186E595375C2A076","0x6B2bb44Db912896F56f0422b3E2Dfa524ff05FB4","0x47cE1C3e938eDd59E6d6F46814171f66a3A1B791","0x01eacADF51FF60916157E32A58F640fe854e530F","0xB647Ea7A94b87Ae4E0cab5C344ac7637A0f9986C","0x1d14d9e297DfbcE003f5A8EbcF8cBa7fAEe70B91","0xE5501BC2B0Df6D0D7daAFC18D2ef127D9e612963","0xA016804E2112ed15073CD7D23B5233A8B3CAc478","0x220327dDFC23B64aA074683b06DCfA3538Db8807","0x36dF210E3AE69F637ecE4AF772797139e25aba2e","0x9a02EADA9F68b202B07AA7524D93d26EBdD5192d","0x1dE9a2cbB15733EC57BF139445231A3E044B90d0","0xbd35f000c4CB7E96f3BBa77DdABbAc74d35dBF6f","0x5d2Ba8b228C100C031eBFc704fF1Ff1552E58907","0xbCefc4906b443e4DB64E2b00b9af2C39e76c785c","0xD0f7fBf89106aB6Eda8b3CbcA65C085fcCb87209","0x5E3367F1F6CD4f772439ca239568F16CB5FED858","0x621b35b50c508f3497437Ae777dEe70D052D6AD9","0x808a2adbD0a3fc679e3F7CD18d4f579BFCaaEC9C","0xe7925D190aea9279400cD9a005E33CEB9389Cc2b","0xb9f5039273a63275d2f15e3c970bdbfcf47d0a5f","0x0d2637F4b304E4D2A86078eeF60EfcF4DAF1168d","0xfe839686Ff71160B24C4478CB7c762314f262307","0xd6559897107Ad73aBCc2b81840222c949f3DbB12","0xfe839686Ff71160B24C4478CB7c762314f262307","0x0d2637F4b304E4D2A86078eeF60EfcF4DAF1168d","0xdBAf6F4434a3b60B7461A0ae50c2083fE19d5CDb","0x8D3b79Ee106C808c1fcF6972a7862aC66399ff02","0x26eF03A20AaeDA8aaFCeE4E146DC6B328195947C","0x87C59E0b19e358190c5Fd576E61fE82e0b64141A","0x8bcb6e436eb92a2c6459ad64aa3c4c049ffb44ed","0xf72e075e2add0f59dc0691515f36aff1c86b259c","0x0a7c3007f2156ff8db9579efb7adbbd7212d3c3c","0x4b7973786CF9271E3f6422767279173F3fF17De5","0x33fB4a4BeC92B78513B3673Fa859784A4Aeadc33","0x5B93FF82faaF241c15997ea3975419DDDd8362c5","0xE76fF0CC2E48D89e839E6a720546Cfd6a11DCabA","0xd4013D123329754119EcD369f5cf10b62fFD4264","0x270B5a2cAABfa57c54bb041EA7d944C97e124a42","0xD86555FbEd73a30A0F0279Ec3eD72C97621B1C2F","0xdE6ab026BB29136523ec81c0673738c166EcC8f5"],Se=function(t){return Le.map(function(t){return t.toLowerCase()}).includes(t.toLowerCase())},Ie=n(258),Ne=n(24),ke=(n(909),{}),Te=function(t){var e=t.address,n=t.className,a=Object(r.useState)(null),i=Object(c.a)(a,2),u=i[0],s=i[1];return Object(r.useEffect)(function(){if(e)if(ke[e])ke[e].then(s);else{var t=Object(Ne.i)({address:e});ke[e]=t,t.then(function(t){s(t)})}},[e,s]),o.a.createElement("span",{className:"ens-name "+n},u||(e?Ce(e):""))},Ce=function(t){return t.slice(0,4)+"..."+t.slice(t.length-2)},_e=n(26);function Ae(){Ae=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Me=function(){var t=Object($.a)(Ae().mark(function t(e){var n,r;return Ae().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://zequencer.io",t.next=3,fetch("https://zequencer.io/fetchRemixes",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();function Pe(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return ze(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ze(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ze(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fe(){Fe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Re=function(){var t=Object($.a)(Fe().mark(function t(e,n){var r,o,a,i;return Fe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new _t(At).from(ft).select("title").select("artist"),e&&(r=r.whereIn("songId",e)),t.next=4,r.executeQuery();case 4:if(o=t.sent,a=De(o).map(function(t){return{title:t.title,artist:t.artist,songId:t.songId,bpm:t.bpm,key:t.key}}),n){t.next=8;break}return t.abrupt("return",a);case 8:return t.next=10,Ge(e);case 10:return i=t.sent,t.abrupt("return",a.map(function(t){return Object(s.a)({},t,{attributes:i[t.songId],isHidden:void 0!==i[t.songId]["hide-song"]&&i[t.songId]["hide-song"]})}));case 12:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),De=function(t){var e,n=[],r=[],o=Pe(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;n.includes(a.songId)||(r.push(a),n.push(a.songId))}}catch(i){o.e(i)}finally{o.f()}return r},Ge=function(){var t=Object($.a)(Fe().mark(function t(e){var n,r,o,a,i,c,u,s,l,f;return Fe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new _t(At).from(gt),e&&(n=n.whereIn("songId",e)),t.next=4,n.executeQuery();case 4:r=t.sent,o={},a=Pe(r),t.prev=7,a.s();case 9:if((i=a.n()).done){t.next=20;break}if(c=i.value,u=c.songId,s=c.attributeType,l=c.attributeValue,c.blockNumber,f=!0,"\x01"===l?f=!0:"\0"===l?f=!1:null===l&&(f=!1),u in o||(o[u]={}),!(s in o[u])){t.next=17;break}return t.abrupt("continue",18);case 17:"crossfade-stems"===s?o[u]["crossfade-stems"]=f:"hide-song"===s?o[u]["hide-song"]=f:o[u]["start-time"]=l;case 18:t.next=9;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(7),a.e(t.t0);case 25:return t.prev=25,a.f(),t.finish(25);case 28:return t.abrupt("return",o);case 29:case"end":return t.stop()}},t,null,[[7,22,25,28]])}));return function(e){return t.apply(this,arguments)}}();function Be(){Be=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Ue=function(t,e){return new Promise(function(e){console.log("add json to pinata json=",t);var n=JSON.stringify(t);fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{pinata_api_key:"2afa704153a1f9a98eb4",pinata_secret_api_key:"f5fed89080affd585837040a8af8a11a473d65eae1f2393ba178d94bfaf9c00a","Content-Type":"application/json"},body:n}).then(function(){var t=Object($.a)(Be().mark(function t(n){var r;return Be().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n.json();case 2:r=t.sent,console.log("json = ",r),e(r.IpfsHash);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})};function Ze(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Ye(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ye(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ye(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function We(){We=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var He=function(){var t=Object($.a)(We().mark(function t(e,n,r){var o,a,i,c;return We().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Je(e,n,r);case 2:return o=t.sent,a=window.localStorage.getItem("save-inventory"),i=[],i=null!==a?JSON.parse(a):[],t.next=8,Ue(o);case 8:return c=t.sent,i.push(c),window.localStorage.setItem("save-inventory",JSON.stringify(i)),t.abrupt("return",c);case 12:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),Je=function(){var t=Object($.a)(We().mark(function t(e,n,r){var o,a,i,c,u,s,l,f,h,d;return We().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(o=[],a={},i=[],c=0;c<r.ids.length;c++)u=r.ids[c],s=r.contractAddresses[c],l=r.stemPercentages[c],f="Stem ".concat(s," #").concat(u),o.push({trait_type:f,value:"".concat(l,"%")}),a[f]=l,i.push({contract_addres:s,token_id:u});return a.bpm=parseFloat(r.bpm),o.push({trait_type:"bpm",value:r.bpm}),a.detune=parseFloat(r.detune),o.push({trait_type:"detune",value:r.detune}),a.zorb=r.zorbId,o.push({trait_type:"zorb",value:r.zorbId}),t.next=12,Re([n]);case 12:return h=t.sent,d=h[0].title,t.abrupt("return",{name:d,tokenId:-1,songId:n,creator:e,attributes:a,tokenContract:{name:"pending"},metadata:{animation_url:r.contentURI,image:r.coverArtURI,image_url:r.coverArtURI,name:d,description:"leaks",remix_dna:i,attributes:o},mintInfo:{toAddress:e,mintContext:{blockTimestamp:(new Date).toUTCString()}}});case 15:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),Ve=function(){var t=Object($.a)(We().mark(function t(e,n){var r,o,a,i,c,u,s;return We().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=window.localStorage.getItem("save-inventory"),o=[],o=null!==r?JSON.parse(r):[],a=[],i=[],c=Ze(o),t.prev=6,s=We().mark(function t(){var r,o,c,s,l;return We().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.value,o="https://zequencer.mypinata.cloud/ipfs/"+r,t.next=4,fetch(o);case 4:return c=t.sent,t.next=7,c.json();case 7:if(s=t.sent,l=s.metadata.animation_url,void 0===n||parseInt(s.songId)===n){t.next=11;break}return t.abrupt("return","continue");case 11:s.shareHash=r,e.find(function(t){return t.metadata.animation_url===l})||(a.push(s),i.push(r));case 13:case"end":return t.stop()}},t)}),c.s();case 9:if((u=c.n()).done){t.next=16;break}return t.delegateYield(s(),"t0",11);case 11:if("continue"!==t.t0){t.next=14;break}return t.abrupt("continue",14);case 14:t.next=9;break;case 16:t.next=21;break;case 18:t.prev=18,t.t1=t.catch(6),c.e(t.t1);case 21:return t.prev=21,c.f(),t.finish(21);case 24:return window.localStorage.setItem("save-inventory",JSON.stringify(i)),t.abrupt("return",a);case 26:case"end":return t.stop()}},t,null,[[6,18,21,24]])}));return function(e,n){return t.apply(this,arguments)}}();function Qe(){Qe=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var qe=["0x0fb5e3b3f254cbdccd69d31bcb0e92b83d381a0a","0x45FC43177EB8D9105d28d13Ce95133845a7D163F"].map(function(t){return t.toLowerCase()}),Xe=function(t){return"https://www.entropyplus.xyz/api/login"+t},Ke=n(64),$e=n.n(Ke),tn=n(165),en=(n(240),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e.a.Master.context;Object(it.a)(this,t),this.duration=0,this.source=void 0,this.buffer=void 0,this.playbackRate=1,this.looping=!1,this.playSound.bind(this),this.context=e,this.seek.bind(this),this.stopSound.bind(this),this.gain=new $e.a.Gain(1),this.gain.connect($e.a.Master),this.splitter=new $e.a.Split,this.leftWaveform=new $e.a.Analyser({type:"waveform",size:512}),this.rightWaveform=new $e.a.Analyser({type:"waveform",size:512}),this.splitter.left.connect(this.leftWaveform),this.splitter.right.connect(this.rightWaveform),this.gain.connect(this.splitter)}return Object(at.a)(t,[{key:"dispose",value:function(){void 0!==this.source&&this.source.disconnect(),this.buffer=void 0,this.source=void 0}},{key:"getContext",value:function(){return this.context}},{key:"playSound",value:function(t,e,n){void 0==t&&(t=0),void 0!=this.source&&this.source.stop(),this.source=$e.a.Master.context.createBufferSource(),this.source.connect(this.gain),this.source.buffer=this.buffer,this.source.loop=n,this.source.start(0,Math.max(0,t),e)}},{key:"seek",value:function(t){this.stopSound(),this.playSound(t)}},{key:"stopSound",value:function(){void 0!=this.source&&this.source.stop()}},{key:"loadRawBuffer",value:function(t){console.log("LOADING BUFFER"),this.buffer=t,this.duration=t.duration}},{key:"setBuffer",value:function(t){console.log("LOADING BUFFER"),this.buffer=t,this.duration=t.duration}}]),t}());var nn=function(t){return new Promise(function(e,n){setTimeout(e,t)})};function rn(){rn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var on,an=0,cn={},un=function(){var t=Object($.a)(rn().mark(function t(e,n){return rn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:on||((on=new Worker(window.isNFT?"mp3Worker.js":"/mp3Worker.js")).onmessage=function(t){cn[t.data.id]=t.data}),on.postMessage({mp3Data:e,isNFT:window.isNFT,id:n});case 2:if(cn[n]){t.next=7;break}return t.next=5,nn(100);case 5:t.next=2;break;case 7:return t.abrupt("return",cn[n]);case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),sn=function(){var t=Object($.a)(rn().mark(function t(e){var n,r,o,a,i,c,u,s,l,f,h;return rn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,un(e,an++);case 2:for(n=t.sent,r=n.decoded,o=n.sampleRate,a=n.position,i=$e.a.Master.context,2,c=i.createBuffer(2,a/2,o),u=c.getChannelData(0),s=c.getChannelData(1),l=0;l<r.length;l+=2)f=r[l],h=r[l+1],u[l/2]=f>=32768?-(65536-f)/32768:f/32767,s[l/2]=h>=32768?-(65536-h)/32768:h/32767;return t.abrupt("return",c);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();function ln(){ln=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}n(240);var fn={},hn=function(t,e){return new Promise(function(){var n=Object($.a)(ln().mark(function n(r,o){var a,i,c;return ln().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!fn[e]){n.next=2;break}return n.abrupt("return",r(fn[e]));case 2:if(void 0!==t){n.next=5;break}return o(),n.abrupt("return");case 5:if(n.prev=5,n.prev=6,a=t.slice(0,4),"RIFF"!==(new TextDecoder).decode(a)){n.next=18;break}return n.next=12,$e.a.Master.context.decodeAudioData(t);case 12:i=n.sent,console.log("r =",i),e&&(fn[e]=i),r(i),n.next=23;break;case 18:return n.next=20,sn(new Int8Array(t));case 20:c=n.sent,e&&(fn[e]=c),r(c);case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(6),o(n.t0);case 28:n.next=33;break;case 30:n.prev=30,n.t1=n.catch(5),o(n.t1);case 33:case"end":return n.stop()}},n,null,[[5,30],[6,25]])}));return function(t,e){return n.apply(this,arguments)}}())};function dn(){dn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var pn=n(240),yn=function(){var t=Object($.a)(dn().mark(function t(e){var n,r,o,a,i;return dn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.startsWith("http")){t.next=29;break}return n=e,e.includes("ipfs")&&("ipfs/",r=e.indexOf("ipfs/"),e=e.slice(r+"ipfs/".length),"https://spores-stems.s3.us-east-2.amazonaws.com/",e="https://spores-stems.s3.us-east-2.amazonaws.com/"+e),t.prev=3,t.next=6,fetch(e);case 6:if(403!==(o=t.sent).status){t.next=16;break}return t.next=10,fetch(n);case 10:return a=t.sent,t.next=13,a.blob();case 13:return t.abrupt("return",t.sent);case 16:return t.next=18,o.blob();case 18:return t.abrupt("return",t.sent);case 19:t.next=29;break;case 21:return t.prev=21,t.t0=t.catch(3),t.next=25,fetch(n);case 25:return i=t.sent,t.next=28,i.blob();case 28:return t.abrupt("return",t.sent);case 29:return t.next=31,tn.a.getSound(e,1e7);case 31:return t.abrupt("return",t.sent);case 32:case"end":return t.stop()}},t,null,[[3,21]])}));return function(e){return t.apply(this,arguments)}}();function vn(){vn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var mn=function(t){t.songId;var e=t.remixId,n=t.setRemixId,o=t.show,a=t.headless,i=t.remixes,u=t.playerRef,s=t.playStatus,l=Object(r.useState)(),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(r.useState)(),y=Object(c.a)(p,2),v=y[0],m=y[1],g=Object(r.useState)(!0),b=Object(c.a)(g,2),w=b[0],x=b[1],E=function(t,e,n){var o=Object(r.useState)(),a=Object(c.a)(o,2),i=a[0],u=a[1],s=Object(r.useRef)(),l=Object(r.useState)(),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(r.useState)(!1),y=Object(c.a)(p,2),v=y[0],m=y[1],g=Object(r.useRef)(),b=Object(r.useState)(!1),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(r.useRef)(),j=Object(r.useCallback)(function(){g.current=(new Date).getTime(),O.current.playSound(0,1e5,n),E(!0)},[E]),L=Object(r.useCallback)(function(){O.current.stopSound(0),E(!1)},[E]),S=Object(r.useCallback)(function(){x?(O.current.stopSound(0),E(!1)):j()},[x,E]),I=Object(r.useCallback)(function(){i&&i.dispose()},[i]);return Object(r.useEffect)(function(){t?(O.current&&(O.current.stopSound(),E(!1)),s.current===t&&O.current?j():(m(!0),d(!1),yn(t).then(function(){var n=Object($.a)(dn().mark(function n(r){var o,a,i;return dn().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!r.arrayBuffer){n.next=6;break}return n.next=3,r.arrayBuffer();case 3:n.t0=n.sent,n.next=7;break;case 6:n.t0=pn(r);case 7:return o=n.t0,n.next=10,hn(o,t);case 10:a=n.sent,i=void 0,O.current?((i=O.current).stopSound(),E(!1)):i=new en($e.a.Master.context),i.setBuffer(a),u(i),O.current=i,d(!0),m(!1),window.finishedLoadingAudio&&window.finishedLoadingAudio(),e&&j(),s.current=t;case 21:case"end":return n.stop()}},n)}));return function(t){return n.apply(this,arguments)}}()))):O.current&&(O.current.stopSound(),E(!1))},[t,u,d,m,E,e]),{loaded:h,loading:v,setLoaded:d,audioPlayer:i,dispose:I,togglePlay:S,play:j,startTime:g,isPlaying:x,stop:L}}(v,w,!0),O=E.audioPlayer,j=E.stop,L=E.loading,S=E.togglePlay,I=E.startTime,N=E.isPlaying,k=E.play,T=Object(r.useRef)(!1);return Object(r.useEffect)(function(){h&&n(h.tokenId)},[h,n]),Object(r.useEffect)(function(){!o&&h&&(j(),d(void 0))},[d,h,o,j]),Object(r.useEffect)(function(){void 0===e&&(T.current=!0)},[]),Object(r.useEffect)(function(){if(void 0!==e&&!T.current){if(a||x(!1),0===i.length)return;if("string"===typeof e){fetch("https://zequencer.mypinata.cloud/ipfs/"+e).then(function(){var t=Object($.a)(vn().mark(function t(e){var n,r,o;return vn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,console.log("JSON RETRIEVED=",n),r=n.metadata.animation_url,o=i.find(function(t){return t.metadata.animation_url===r}),d(o||n);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){})}else{var t=i.find(function(t){return t.tokenId===e});t&&(d(t),T.current=!0)}}},[a,x,e,d,i]),Object(r.useEffect)(function(){if(h){var t=h.metadata.animation_url;m(t)}else m(void 0)},[h,O,i,m]),Object(r.useEffect)(function(){var t;o&&1===s&&(t=u.current)&&t.contentWindow.postMessage({type:"toggle-play",body:!0},"*")},[o,s,u]),{audioPlayer:O,playing:h,play:k,isPlaying:N,setAutoPlay:x,setPlaying:d,togglePlay:S,loading:L,startTime:I}},gn=function(){function t(){Object(it.a)(this,t),this.abi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"songId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"configId",type:"uint256"}],name:"NewDefaultSongConfiguration",type:"event"},{inputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"artist",type:"string"},{internalType:"string[]",name:"stemURIs",type:"string[]"},{internalType:"enum Songs.StemType[][]",name:"stemTypes",type:"uint8[][]"},{internalType:"bool[]",name:"isLoops",type:"bool[]"},{internalType:"uint16[]",name:"durations",type:"uint16[]"},{internalType:"int16",name:"bpm",type:"int16"},{internalType:"int16",name:"bpmDecimal",type:"int16"},{internalType:"string",name:"key",type:"string"}],name:"newSong",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"songId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"artist",type:"string"},{indexed:!1,internalType:"int16",name:"bpm",type:"int16"},{indexed:!1,internalType:"int16",name:"bpmDecimal",type:"int16"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"NewSong",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"songId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stemId",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint16",name:"duration",type:"uint16"},{indexed:!1,internalType:"bool",name:"isLoop",type:"bool"}],name:"NewStem",type:"event"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"},{internalType:"string[]",name:"stemURIs",type:"string[]"},{internalType:"enum Songs.StemType[][]",name:"stemTypes",type:"uint8[][]"},{internalType:"uint16[]",name:"durations",type:"uint16[]"},{internalType:"bool[]",name:"isLoops",type:"bool[]"}],name:"newStems",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"stemId",type:"uint256"},{indexed:!1,internalType:"enum Songs.StemType",name:"stemType",type:"uint8"}],name:"NewStemType",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"configId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stemId",type:"uint256"}],name:"SongConfigurationStem",type:"event"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"},{internalType:"uint256[]",name:"stemIds",type:"uint256[]"}],name:"updateSongConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"}],name:"getDefaultSongConfiguration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"}],name:"getSong",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"artist",type:"string"},{internalType:"int16",name:"bpm",type:"int16"},{internalType:"int16",name:"bpmDecimal",type:"int16"},{internalType:"string",name:"key",type:"string"}],internalType:"struct Songs.Song",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"configId",type:"uint256"}],name:"getSongConfiguration",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stemId",type:"uint256"}],name:"getStem",outputs:[{components:[{internalType:"string",name:"uri",type:"string"},{internalType:"uint16",name:"duration",type:"uint16"},{internalType:"bool",name:"isLoop",type:"bool"}],internalType:"struct Songs.Stem",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stemId",type:"uint256"}],name:"getStemTypes",outputs:[{internalType:"enum Songs.StemType[]",name:"",type:"uint8[]"}],stateMutability:"view",type:"function"}],this.contractAddress="0xBEEF8B1A18B376A82D87d1797359A7aDF09f3dCc"}return Object(at.a)(t,[{key:"getContract",value:function(t){return new t.eth.Contract(this.abi,this.contractAddress)}}]),t}();function bn(){bn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function wn(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return xn(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xn(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function xn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var En=(new gn).contractAddress,On={},jn=function(t){var e=void 0===t?-1:t;if(On[e])return On[e];var n=new Promise(function(){var t=Object($.a)(bn().mark(function t(e){var n,r,o,a,i,c,u,s;return bn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new _t(En).from(gt),t.next=3,n.executeQuery();case 3:return r=t.sent,console.log("HIDDEN RESULTS=",r),o=new _t(En).from(ft),t.next=8,o.executeQuery();case 8:a=t.sent,i=[],c=wn(a),t.prev=11,s=function(){var t=u.value;if(i.some(function(e){return e.songId===t.songId}))return"continue";i.push(t)},c.s();case 14:if((u=c.n()).done){t.next=20;break}if("continue"!==s()){t.next=18;break}return t.abrupt("continue",18);case 18:t.next=14;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(11),c.e(t.t0);case 25:return t.prev=25,c.f(),t.finish(25);case 28:e(i);case 29:case"end":return t.stop()}},t,null,[[11,22,25,28]])}));return function(e){return t.apply(this,arguments)}}());return On[e]=n,n};function Ln(){Ln=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Sn={},In=function(t){if(Sn[t])return Sn[t];var e=new Promise(function(){var e=Object($.a)(Ln().mark(function e(n){var r,o,a;return Ln().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,jn();case 2:return r=e.sent,o=new _t(At).from(vt).select("dropAddress").select("songId"),void 0!==t&&(o=o.where("songId",parseInt(t))),e.next=7,o.executeQuery();case 7:a=e.sent,void 0!==t?n(a[0].dropAddress):(a.forEach(function(t){return t.song=r.find(function(e){return e.songId===t.songId})}),n(a));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());return Sn[t]=e,e},Nn=(n(1264),function(){return o.a.createElement("svg",{width:" 32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M16 3C13.4288 3 10.9154 3.76244 8.77759 5.1909C6.63975 6.61935 4.97351 8.64968 3.98957 11.0251C3.00563 13.4006 2.74819 16.0144 3.2498 18.5362C3.75141 21.0579 4.98953 23.3743 6.80762 25.1924C8.6257 27.0105 10.9421 28.2486 13.4638 28.7502C15.9856 29.2518 18.5995 28.9944 20.9749 28.0104C23.3503 27.0265 25.3807 25.3603 26.8091 23.2224C28.2376 21.0846 29 18.5712 29 16C28.9934 12.5542 27.6216 9.25145 25.1851 6.81491C22.7486 4.37837 19.4458 3.00661 16 3ZM20.7125 19.2875C20.9003 19.4771 21.0056 19.7332 21.0056 20C21.0056 20.2668 20.9003 20.5229 20.7125 20.7125C20.5214 20.8973 20.2659 21.0006 20 21.0006C19.7341 21.0006 19.4786 20.8973 19.2875 20.7125L16 17.4125L12.7125 20.7125C12.5214 20.8973 12.2659 21.0006 12 21.0006C11.7341 21.0006 11.4786 20.8973 11.2875 20.7125C11.0997 20.5229 10.9944 20.2668 10.9944 20C10.9944 19.7332 11.0997 19.4771 11.2875 19.2875L14.5875 16L11.2875 12.7125C11.128 12.5182 11.0466 12.2715 11.0589 12.0205C11.0712 11.7694 11.1765 11.5319 11.3542 11.3542C11.532 11.1765 11.7694 11.0712 12.0205 11.0589C12.2715 11.0465 12.5182 11.128 12.7125 11.2875L16 14.5875L19.2875 11.2875C19.4818 11.128 19.7285 11.0465 19.9795 11.0589C20.2306 11.0712 20.4681 11.1765 20.6458 11.3542C20.8235 11.5319 20.9288 11.7694 20.9411 12.0205C20.9535 12.2715 20.872 12.5182 20.7125 12.7125L17.4125 16L20.7125 19.2875Z",fill:"white"}))}),kn=function(){return o.a.createElement("svg",{width:" 32",height:"32",viewBox:"0 0 32 32",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{d:"M16 3C13.4288 3 10.9154 3.76244 8.77759 5.1909C6.63975 6.61935 4.97351 8.64968 3.98957 11.0251C3.00563 13.4006 2.74819 16.0144 3.2498 18.5362C3.75141 21.0579 4.98953 23.3743 6.80762 25.1924C8.6257 27.0105 10.9421 28.2486 13.4638 28.7502C15.9856 29.2518 18.5995 28.9944 20.9749 28.0104C23.3503 27.0265 25.3807 25.3603 26.8091 23.2224C28.2376 21.0846 29 18.5712 29 16C28.9934 12.5542 27.6216 9.25145 25.1851 6.81491C22.7486 4.37837 19.4458 3.00661 16 3ZM22.1875 13.725L14.8625 20.725C14.6731 20.9031 14.4225 21.0016 14.1625 21C14.0354 21.0018 13.9093 20.9785 13.7913 20.9313C13.6733 20.8841 13.5658 20.814 13.475 20.725L9.81251 17.225C9.71092 17.1364 9.62831 17.0281 9.56963 16.9067C9.51095 16.7854 9.47741 16.6534 9.47104 16.5187C9.46467 16.3841 9.48559 16.2495 9.53255 16.1231C9.57951 15.9968 9.65154 15.8812 9.7443 15.7834C9.83706 15.6856 9.94865 15.6075 10.0723 15.5539C10.196 15.5003 10.3293 15.4723 10.4641 15.4715C10.5989 15.4707 10.7325 15.4972 10.8568 15.5493C10.9811 15.6015 11.0936 15.6783 11.1875 15.775L14.1625 18.6125L20.8125 12.275C21.0069 12.1054 21.2594 12.0174 21.5172 12.0296C21.7749 12.0418 22.018 12.1532 22.1955 12.3404C22.3731 12.5277 22.4714 12.7763 22.4699 13.0343C22.4684 13.2924 22.3672 13.5398 22.1875 13.725Z",fill:"white"}))},Tn=function(){return o.a.createElement("div",{className:"absolute z-30 bottom-30 entropy-decision rounded-full"},o.a.createElement("div",{className:"btn px-3 rounded-full pushable"},o.a.createElement(Nn,null)),o.a.createElement("div",{className:"ml-auto btn px-3 rounded-full pushable"},o.a.createElement(kn,null)))},Cn=(n(1265),function(t){return console.log("remix =",t.remix),o.a.createElement("div",{className:"headless-provenance flex"},o.a.createElement("div",{className:""},t.remix.metadata.artist),o.a.createElement("div",{className:"mx-2"},"x"),o.a.createElement(Te,{className:"",address:t.remix.creator}))}),_n={goerli:"0xe0Da76A68731162f678E9acDFc91F2266bcDBA3C"};function An(){An=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Mn=_n,Pn=function(t){var e=Object(r.useState)(),n=Object(c.a)(e,2),o=n[0],a=n[1],i=Object(r.useState)(),u=Object(c.a)(i,2),s=u[0],l=u[1];return Object(r.useEffect)(function(){void 0!==t&&Fn(t).then(function(t){a(t),zn(t).then(l)})},[t]),{mintPrice:s,dropAddress:o}},zn=function(){var t=Object($.a)(An().mark(function t(e){var n,r,o,a;return An().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new _t(Mn.goerli).from(mt).where("targetZoraDrop",e),t.next=4,n.executeQuery();case 4:return r=t.sent,o=r[0],console.log("result.newMintPrice=",o.newMintPrice),a=o.startsWith&&o.startsWith("0x")?Rn(o.newMintPrice.slice(3)):o.newMintPrice/1e18,console.log("MINT PRICE WE GOT=",a),t.abrupt("return",a);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Fn=function(){var t=Object($.a)(An().mark(function t(e){var n,r,o;return An().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new _t(At).from(vt).select("dropAddress").select("songId").where("songId",parseInt(e)),t.next=3,n.executeQuery();case 3:if((r=t.sent)[0]){t.next=6;break}return t.abrupt("return");case 6:return o=r[0].dropAddress,t.abrupt("return",o);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Rn=function(t){return parseInt(t,16)/1e18},Dn=Object(tt.a)("https://tlgvdtldahlwcmdtdftl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRsZ3ZkdGxkYWhsd2NtZHRkZnRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzcwMTg5OTMsImV4cCI6MTk5MjU5NDk5M30.Yq1dNGz3lPIZmL2jN2GKMoKCoo9Al_RQkMRXjKDjEkc");function Gn(){Gn=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Bn=function(){var t=Object($.a)(Gn().mark(function t(e){var n,r;return Gn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.includes("https://")&&("/ipfs/",n=e.indexOf("/ipfs/"),e=e.slice(n+"/ipfs/".length)),t.next=3,Dn.from("unstable_leaks").insert([{content_uri:e}]);case 3:r=t.sent,r.data,r.error;case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Un=n(1363),Zn=n(1366),Yn=n(545),Wn=n(546),Hn=n(53),Jn=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.url,n=t.setShowModal,a=t.showShareModal,i=t.type,u=t.lowerGradInverted,s=t.buttonBgColor,l=Object(r.useState)(!1),f=Object(c.a)(l,2),h=f[0],d=f[1],p=e;return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:(a?" showing-modal":"")+"share-button pushable",onMouseUp:function(t){t.stopPropagation(),n(!0)}},o.a.createElement(Yn.a,{style:{fill:Hn.isMobile?u:s}})),a&&o.a.createElement("div",{onMouseUp:function(t){return t.stopPropagation()},onMouseDown:function(t){return t.stopPropagation()},className:"share-button-modal"},o.a.createElement("div",{className:"share-upper-container"},o.a.createElement("div",null,o.a.createElement("p",null,"remix"===i?"Share Remix":"Share Song")),o.a.createElement("div",{onClick:function(){return n(!1)},className:"share-close-button"},"x")),o.a.createElement("div",{className:"share-url-field"},o.a.createElement("p",null,e),o.a.createElement(Wn.a,{className:"pushable",style:{color:h?"#84ff98":"white",cursor:"pointer"},onClick:function(){navigator.clipboard.writeText(e),d(!0)}})),o.a.createElement("div",{className:"share-icon-container"},o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Un.a,{url:p,title:"Play this leak on Spores!"},o.a.createElement(Zn.a,{size:32,round:!0}))))))}),Vn=(n(1267),function(t){var e=Object(r.useCallback)(function(e){e.stopPropagation(),e.target.parentNode.blur(),e.target.blur(),e.currentTarget.blur(),t.resume&&"suspended"===$e.a.Master.context._context.state?$e.a.Master.context._context.resume().then(function(e){return t.play()}):t.play()},[t.isPlaying]);return o.a.createElement("div",{style:t.style||{},onClick:e,onMouseDown:function(t){return t.stopPropagation()},onTouchStart:function(t){return t.stopPropagation()},className:"play-btn-wrapper"},o.a.createElement("div",{style:{borderColor:t.isPlaying?t.color:"transparent transparent transparent "+t.color},className:t.isPlaying?"play-btn playing":"play-btn "}))}),Qn={def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"},qn={def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"},Xn=n(102),Kn=n.n(Xn),$n=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],tr={},er=function(t){return tr[t]?tr[t]:(tr[t]=new Promise(function(e){new(new Kn.a(new Kn.a.providers.HttpProvider("https://mainnet.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")).eth.Contract)($n,"0xCa21d4228cDCc68D4e23807E5e370C07577Dd152").methods.tokenURI(t).call().then(function(n){var r="data:application/json;base64,";if(n.startsWith(r)){var o=atob(n.slice(r.length)),a=JSON.parse(o);console.log("zorb=%s",t),console.log(a.image),e(a.image)}})}),tr[t])},nr={};function rr(t){var e=t.r,n=t.g,r=t.b;e/=255,n/=255,r/=255;var o=Math.min(e,n,r),a=Math.max(e,n,r),i=a-o,c=0,u=0;return c=0==i?0:a==e?(n-r)/i%6:a==n?(r-e)/i+2:(e-n)/i+4,(c=Math.round(60*c))<0&&(c+=360),u=(a+o)/2,{h:c,s:+(100*(0==i?0:i/(1-Math.abs(2*u-1)))).toFixed(1),l:u=+(100*u).toFixed(1)}}function or(t){return"hsl("+t.h+","+t.s+"%,"+t.l+"%)"}function ar(t){var e=(t=t.substring(4)).split(","),n=Object(c.a)(e,3),r=n[0],o=n[1],a=n[2],i=o.indexOf("%");return o=o.substring(0,i),i=a.indexOf("%"),a=a.substring(0,i),{h:parseFloat(r),s:parseFloat(o),l:parseFloat(a)}}function ir(t,e,n){n/=100;var r=e*Math.min(n,1-n)/100,o=function(e){var o=(e+t/30)%12,a=n-r*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return"#".concat(o(0)).concat(o(8)).concat(o(4))}var cr=function(){function t(){Object(it.a)(this,t)}return Object(at.a)(t,[{key:"transparent",value:function(t,e){return t.slice(0,t.length-1)+", "+e+")"}},{key:"intToRGB",value:function(t){var e=(16777215&t).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e}},{key:"hueShift",value:function(t,e){var n=ar(t);return or({h:n.h+e,s:n.s,l:n.l})}},{key:"warm",value:function(t){return or({h:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:141)-t,s:arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l:50})}},{key:"compliment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=ar(t),r=n.h;return 0===r&&r++,or({h:r+=10*e%255,s:n.s,l:n.l})}},{key:"saturate",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;if(t){if(t.startsWith("hsl")){var o=ar(t),a=o.h,i=o.s,c=o.l;return c*=n,r&&(c=r),t=or({h:a,s:i=Math.min(i*e,100),l:c})}var u=rr(this.getRGB(t)),s=u.h,l=u.s,f=u.l;return f*=n,r&&(f=r),t=or({h:s,s:l=Math.min(l*e,100),l:f})}}},{key:"brighten",value:function(t,e){if(t.startsWith("hsl")){var n=ar(t);return or(n=function(t,e){var n=t.h,r=t.s,o=t.l;return{h:n,s:r,l:o*e}}(n,e))}var r=nr[t+"."+e];if(r)return r;var o=Math.min(255,Math.floor(parseInt(t.slice(1,3),16)*e)),a=Math.min(255,Math.floor(parseInt(t.slice(3,5),16)*e)),i=Math.min(255,Math.floor(parseInt(t.slice(5),16)*e));o=o.toString(16),a=a.toString(16),i=i.toString(16),1===o.length&&(o="0"+o),1===a.length&&(a="0"+a),1===i.length&&(i="0"+i);var c="#"+o+a+i;return nr[t+"."+e]=c,c}},{key:"getBrightness",value:function(t){var e=this.getRGB(t);return.299*e.r+.587*e.g+.114*e.b}},{key:"rawHSLToHex",value:function(t){return ir(t.h,t.s,t.l)}},{key:"hslToHex",value:function(t){var e=ar(t);return ir(e.h,e.s,e.l)}},{key:"getRGB",value:function(t){return{r:Math.floor(parseInt(t.slice(1,3),16)),g:Math.floor(parseInt(t.slice(3,5),16)),b:Math.floor(parseInt(t.slice(5),16))}}},{key:"rgbToHex",value:function(t){var e=rr({r:t.r,g:t.g,b:t.b});return this.rawHSLToHex(e)}}]),t}();function ur(){ur=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var sr=new cr,lr=function(){var t=Object($.a)(ur().mark(function t(e){var n,r,o,a,i,c,u,s,l;return ur().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,er(e);case 2:n=t.sent,"data:image/svg+xml;base64,",r=atob(n.slice("data:image/svg+xml;base64,".length)),o=[],a=0,i=['stop-color="','fill="','fill="'];case 8:if(!(a<i.length)){t.next=29;break}c=i[a],u=r.indexOf(c);case 11:if(!(u>-1)){t.next=26;break}if(r=r.slice(c.length+u),s=r.indexOf('"'),!(l=r.slice(0,s)).startsWith("hsl")){t.next=19;break}l=sr.hslToHex(l),t.next=22;break;case 19:if(!l.startsWith("url")&&"transparent"!==l){t.next=22;break}return u=r.indexOf(c),t.abrupt("continue",11);case 22:l&&o.push(l),u=r.indexOf(c),t.next=11;break;case 26:a++,t.next=8;break;case 29:return t.abrupt("return",o);case 30:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),fr=function(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),r=1;r<e;r++)n[r-1]=arguments[r];return{uniforms:t.function.body.uniforms,variables:t.function.body.variables,functions:t.function.body.functions,code:"".concat(t.name,"(").concat(n.map(function(t){return"number"===typeof t?h(t):t.code}).join(","),")")}},hr=function(t){return B(A(R(fr(t,_(F(k().x,1e-4),k().y)),fr(t,_(R(k().x,1e-4),k().y))),R(fr(t,_(k().x,F(k().y,1e-4))),fr(t,_(k().x,R(k().y,1e-4)))),2e-4))};function dr(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return pr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pr(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function pr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yr=function(t,e){return 2==t?[{idx:e,width:2}]:3==t?[{idx:e,width:2}]:9===t?[{idx:e,width:2},{idx:e+1,width:2}]:6===t?[{idx:e,width:1},{idx:e+1,width:2}]:7===t?[{idx:e,width:2},{idx:e+1,width:1}]:[]},vr=function(t,e,n){switch(t){case 0:return[];case 1:return[0];case 2:return[0,e];case 3:return[0,1];case 4:return[0,1+e];case 5:return[0,e,2*e];case 6:return[0,1,2];case 7:return[0,1,1+e];case 8:return[0,1,e];case 9:return[0,1+e,e];case 10:return[0,1,e,1+e];case 11:return[0,1,2,3];case 12:return[0,1,2,e,1+e];case 13:return[0,1,2,1+e,2+e];case 14:return[0,1,e,1+e,2+e];default:return[]}},mr=function(t,e,n,o,a,i){var u=Object(r.useState)(g(M(1,1,1,1))),l=Object(c.a)(u,2),h=l[0],d=l[1];Object(r.useEffect)(function(){var n=function(t,e){for(var n=t.xCount,r=t.yCount,o=t.spacing,a=t.alternate,i=e.x,c=e.y,u=e.width,s=e.height,l=e.radius,f=[],h=i-n/2*(u+o.x*u)+1*u-.5*a.x*u,d=c-r/2*(s+o.y*s)+1*s-.5*a.y*s,p=0;p<n;p++)for(var y=0;y<r;y++){var v=y%2===1?a.x:0,m=p%2===1?a.y:0;f.push({type:"rectangle",x:h+p*(u+o.x*u)+v*u,y:d+y*(s+o.y*s)+m*s,width:u,height:s,radius:l})}return f}({xCount:4,yCount:4,spacing:{y:1.02,x:1.04},alternate:{y:0,x:1}},Xt({x:0,y:0,width:.18,height:.18,radius:.18})),r=function(t,e,n){var r,o=[],a=0,i=n.reverse(),c=Kt("yo"),u=dr(t);try{for(u.s();!(r=u.n()).done;){var s=r.value;if(0!==s.length){var l="scene"+a,f={shapes:s,operation:e},h=ne(f,c),d={name:l+"smoothed",function:{returnType:"float",args:[{name:"uv",type:"vec2"}],body:{uniforms:[],functions:[],variables:[],code:"return 1.8*pow(smoothstep(-0.10, .1981753576592919866, ".concat(l,"(uv)), 4.);")}}},p=hr(d),y=A(-.11,.2138,.151130192),v=D(.293913139,H(y,p)),m=A(.5238,-.83,1.3915195),g=D(.59951515132689,H(m,p)),b=A(-.81891595195,-.515939391,1.174419191918),w=B(F(y,b)),x=B(F(m,b)),E=U(D(.95,H(p,w)),24),O=U(D(.969,H(p,x)),12),j=F(E,O),L=ee(f,c,l,h);L.functions.push(d);var S={sdf:L,blur:.009,size:0,color:D(F(D(.51513593,j),v,g),n[a%n.length]),intersect:a%3>0,intersectionColor:D(F(D(.321513593,j),v,g),i[a%n.length])};o.push(S),a++}}}catch(I){u.e(I)}finally{u.f()}return o}(function(t,e,n,r){var o,a=[],i=0,c=dr(t);try{for(c.s();!(o=c.n()).done;){var u=o.value,l=vr(u,e,n),f=[],h=yr(u,i);if(h.length>0){var d,p=dr(h);try{for(p.s();!(d=p.n()).done;){var y=d.value,v=y.idx,m=y.width;if(v>=m*n)break;var g=r[v%r.length].width*m;f.push(Object(s.a)({},r[v%r.length],{x:r[v%r.length].x+(1==m?0:g/2),width:g}))}}catch(E){p.e(E)}finally{p.f()}}else{var b,w=dr(l);try{for(w.s();!(b=w.n()).done;){var x=b.value;f.push(r[(i+x)%r.length])}}catch(E){w.e(E)}finally{w.f()}}a.push(f),i++}}catch(E){c.e(E)}finally{c.f()}return a}(t,4,4,n),{type:"SMOOTH_UNION",factor:.155},e),o=Qt(r,M(0,0,0,1)),a=g(o);d(a)},[e,d,t]),f({fragmentShader:h,resolution:1,width:o,height:a,ref:n,vertexShader:Q,className:i})},gr=n(54),br=function(t){var e=t.zorbId,n=Object(gr.a)(t,["zorbId"]),a=Object(r.useState)(void 0),i=Object(c.a)(a,2),u=i[0],s=i[1];return Object(r.useEffect)(function(){void 0!==e&&er(e).then(s)},[s,e]),u?o.a.createElement("img",Object.assign({},n,{src:u})):""},wr=function(t){for(var e,n=new Uint8Array(4*t),r=0;r<4*t;r++)n[r]=255;return function(r,o){for(var a=new Uint8Array(4*t),i=0;i<t;i++){var c=4*i;a[c]=o?(r[i]+1)/2*255:r[i],a[c+1]=0,a[c+2]=0,a[c+3]=0}return n.set(a,0),e||(e=new l.b(n,t,1)),e.needsUpdate=!0,e}},xr=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.coord,n=t.audioPlayer,a=t.headless,i=Object(r.useRef)(),u=Object(r.useRef)(),f=Object(r.useRef)(wr(512)),h=Object(r.useRef)(),d=Object(r.useRef)(wr(512)),p=Object(r.useState)({x:e.x,y:e.y,leftChannel:f.current(new Array(512).fill(255),!0),rightChannel:d.current(new Array(512).fill(255),!0)}),y=Object(c.a)(p,2),v=y[0],m=y[1];Object(r.useEffect)(function(){},[e,m]);var g=function(t){var e=t.canvasRef,n=t.ref,o=t.resolution,a=void 0===o?1:o,i=t.width,c=t.height,u=t.vertexShader,f=void 0===u?"\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(\n    position, \n    1.0 );\n}\n":u,h=t.fragmentShader,d=t.uniforms,p=Object(r.useRef)((new Date).getTime()),y=Object(r.useRef)(),v=Object(r.useRef)(),m=Object(r.useRef)(),g=Object(r.useRef)({}),b=Object(r.useRef)();Object(r.useEffect)(function(){w()},[]);var w=function(){y.current=new l.i,y.current.setPixelRatio(2),y.current.setSize(i/a,c/a),y.current.setClearColor(0,0),e&&(e.current=y.current.domElement),n.current.appendChild(y.current.domElement),v.current=new l.e,m.current=new l.a;var t=new l.d(2,2);g.current=Object(s.a)({},g.current,{x:{value:20},y:{value:40},width:{value:i/2},height:{value:c/2}}),x(g.current,d);var r=new l.f({uniforms:g.current,vertexShader:f,fragmentShader:h});b.current=r;var o=new l.c(t,r);v.current.add(o)};Object(r.useEffect)(function(){g.current.width.value=i,g.current.height.value=c,y.current.setSize(i/a,c/a)},[i,c,a]);var x=function(t,e){for(var n in e)n in t?t[n].value=e[n]:(t[n]={value:e[n]},isNaN(e[n])&&(t[n].type="t")),isNaN(e[n])&&(t[n].type="t",t[n].value.needsUpdate=!0)};function E(){if(y.current.domElement){console.log("renderering!"),b.current.uniforms.time={value:((new Date).getTime()-p.current)/1e3},b.current.needsUniformUpdate=!0,b.current.needsUpdate=!0;var t="leftChannel";"t"===b.current.uniforms[t].type&&(b.current.uniforms[t].value.needsUpdate=!0,b.current.uniforms[t].value),y.current.render(v.current,m.current)}else console.log("no dom element")}return Object(r.useEffect)(function(){for(var t in d)t in b.current.uniforms?b.current.uniforms[t].value=d[t]:(b.current.uniforms[t]={value:d[t]},isNaN(d[t])&&(b.current.uniforms[t].type="t")),isNaN(d[t])&&(b.current.uniforms[t].type="t",b.current.uniforms[t].value.needsUpdate=!0);b.current&&(b.current.needsUpdate=!0),E()},[d]),{updateUniforms:Object(r.useCallback)(function(t){x(g.current,t),E()},[])}}({ref:i,canvasRef:u,width:130,height:130,uniforms:v,fragmentShader:"\n\nuniform float x;\nuniform float y;\nuniform float width;\nuniform float height;\nuniform float time;\nuniform sampler2D leftChannel;\nuniform sampler2D rightChannel;\nuniform sampler2D imageTexture;\n\nfloat piecewise(sampler2D iChannel0, float x, float res) {\n    float xTimesRes = x * res;\n\n    // Left sample point:\n    float x1 = floor(xTimesRes) / res;\n    float y1 = texture(iChannel0, vec2(x1, 0.0)).x;\n\n    // Right sample point:\n    float x2 = ceil(xTimesRes) / res;\n    float y2 = texture(iChannel0, vec2(x2, 0.0)).x;\n\n    // Prevent small breaks in the line:\n    x2 += 0.001;    \n\n    // Fit half of a sine wave between sample points:\n    float sine = sin(((x - x1) / (x2 - x1) * 2.0 - 1.0) * 1.5707963267);\n    return y1 + (0.5 + 0.5 * sine) * (y2 - y1);\n}\n\nvec2 getOscPoint(float x) {\n\n   float alignment = 0.9375;\n   float returnTuning = .224399476;\n\n   float left = x * alignment;\n   float right = fract(x - returnTuning / alignment) * alignment;\n    \n   float pointX = piecewise(leftChannel,left, 40.0);\n   float pointY = piecewise(rightChannel,right, 40.0);\n\n   return vec2(pointX, pointY);\n}\n\nfloat getStereo(vec2 uv) {\n    int samples = 500;\n    float oneOverN = 1.0 / float(samples);\n    \n    float posOffset = 0.0;\n    float timeOffset = 0.0;\n    float xOffset = fract(posOffset + timeOffset) * oneOverN;\n    float lineWidth = 0.001;\n    \n    float acc = 0.0;\n    for (int i = 0; i < samples; i++) {\n        float x = float(i) * oneOverN + xOffset;\n        vec2 point = getOscPoint(x);\n\n        vec2 pa = point - uv;\n        float d = dot(pa, pa);\n        \n        acc += 1.0 / (d + lineWidth*lineWidth); // Inverse square law\n    }\n\t\n    return acc * oneOverN * 3.01 * lineWidth;\n}\n\n\nvoid main() {\n  vec2 uv = (1.0*gl_FragCoord.xy-vec2(width, height))/height + vec2(1.0, 1.0);\n\n  float o = getStereo(uv*.5);\n  gl_FragColor = vec4(o, o,o ,o);\n  //gl_FragColor = vec4(texture2D(rightChannel, vec2(gl_FragCoord.x/width, gl_FragCoord.y/height)).xy, 0.0, 1.0);\n}\n"}).updateUniforms;return te(Object(r.useCallback)(function(){if(n){var t=[n.leftWaveform.getValue(),n.rightWaveform.getValue()],e=t[0],r=t[1],o=f.current(e,!0),a=d.current(r,!0);o.needsUpdate=!0,a.needsUpdate=!0;var i=Object(s.a)({},v,{leftChannel:o,rightChannel:a});g(i),h.current=o}},[n,m,v]),a?4:35),o.a.createElement("div",{ref:i,className:"shader-square absolute"})});n(1268);function Er(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Or(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Or(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Or(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var jr=function(t){var e=t.x,n=t.y;return{x:65+130*(e*=.45),y:130-(65+130*(n*=.45))}},Lr=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.headless,n=t.remix,a=t.audioPlayer,i=t.animationData,u=t.isPlaying,s=t.duration,l=Object(r.useRef)(),f=Object(r.useState)({x:65,y:65}),h=Object(c.a)(f,2),d=h[0],p=h[1],y=Object(r.useState)(),v=Object(c.a)(y,2),m=v[0],g=v[1],b=Object(r.useState)(),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(r.useState)([]),j=Object(c.a)(O,2),L=j[0],S=j[1],I=Object(r.useState)([]),N=Object(c.a)(I,2),k=N[0],T=N[1];Object(r.useEffect)(function(){if(i)if(i.synths){for(var t=Array.from(new Set(i.synths.map(function(t){return t.stemId}).filter(function(t){return t}))),e=t.length;e<3;e++)t.push(-1);T(t);for(var n=(t=Array.from(new Set(i.drums.map(function(t){return t.stemId}).filter(function(t){return t})))).length;n<3;n++)t.push(-1);S(t)}else S([-1,-1,-1]),T([-1,-1,-1]);else p({x:65,y:65})},[i,S,T,p]),Object(r.useEffect)(function(){u&&(l.current=(new Date).getTime())},[u]),te(Object(r.useCallback)(function(){if(u&&i){var t=(new Date).getTime()-l.current;t/=1e3,t%=s;var e,n=i,r=[],o=[];i.movements&&(n=i.movements,o=i.drums,r=i.synths);var a,c=Er(n);try{for(c.s();!(a=c.n()).done;){var f=a.value,h=f.time,d=f.movement;if(t<=h){p(jr(e||d));break}e=d}}catch(N){c.e(N)}finally{c.f()}var y,v=void 0,m=Er(o);try{for(m.s();!(y=m.n()).done;){var b=y.value,w=b.time,x=b.stemId;if(t<=w){g(void 0===v?x:v);break}v=void 0===x?null:x}}catch(N){m.e(N)}finally{m.f()}v=void 0;var O,j=Er(r);try{for(j.s();!(O=j.n()).done;){var L=O.value,S=L.time,I=L.stemId;if(t<=S){E(void 0===v?I:v);break}v=void 0===I?null:I}}catch(N){j.e(N)}finally{j.f()}}},[p,u,i,s,E,g]),50);var C=n&&n.metadata.attributes.find(function(t){return"zorb"===t.trait_type}).value;return o.a.createElement("div",{className:"player-animation"},o.a.createElement("div",{className:"relative"},o.a.createElement(xr,{headless:e,audioPlayer:a,coord:d}),o.a.createElement(br,{style:{left:d.x,top:d.y},className:"player-zorb absolute z-30 w-8 h-8",zorbId:C}),o.a.createElement("svg",{className:"animation-background absolute z-1 top-0 left-0"},o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"2",dy:"1",stdDeviation:"2","flood-opacity":"0.25"}),"),"),o.a.createElement("linearGradient",{id:"linear-gradient",x1:d.x+"%",y1:d.y+"%",x2:"75%",y2:"0%"},o.a.createElement("stop",{offset:"-20%","stop-color":"#6f6d6d"}),o.a.createElement("stop",{offset:"50%","stop-color":"#c9c4c4"}),o.a.createElement("stop",{offset:"100%","stop-color":"#6f6d6d"}))),o.a.createElement("path",{filter:"url(#shadow)",d:"M70 20C70 8.95431 61.0457 0 50 0C38.9543 0 30 8.9543 30 20C30 20 31.0457 30 20 30C8.95431 30 0 38.9543 0 50C0 61.0457 8.9543 70 20 70C31.0457 70 30 80 30 80C30 91.0457 38.9543 100 50 100C61.0457 100 70 91.0457 70 80C70 80 68.9543 70 80 70C91.0457 70 100 61.0457 100 50C100 38.9543 91.0457 30 80 30C68.9543 30 70 20 70 20Z",fill:"white"}),o.a.createElement("path",{filter:"url(#shadow)",d:"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z",stroke:"black","stroke-opacity":"0.6"}),o.a.createElement("path",{filter:"url(#shadow)",d:"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z",stroke:"black","stroke-opacity":"0.6"}),o.a.createElement("path",{filter:"url(#shadow)",d:"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z",stroke:"black","stroke-opacity":"0.6"}),k.map(function(t,e){return o.a.createElement("circle",{className:"synth-option",cx:39+11*e,cy:1===e?12:20,r:"2",fill:x===t?Zr("0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc "+t):"#54545494"})}),L.map(function(t,e){return o.a.createElement("circle",{cx:39+11*e,cy:1===e?88:80,r:"2",fill:m===t?Zr("0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc "+t):"#54545494"})}),o.a.createElement("rect",{x:"30",y:"30",width:"40",height:"40",rx:"15",fill:"#16161682"}))))}),Sr=(n(1269),n(248)),Ir=n.n(Sr);function Nr(){Nr=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function kr(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Tr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Tr(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Tr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Cr=new cr,_r=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=Ir()(t),r=Cr.getRGB(n);r.r,r.g,r.b;return Cr.hslToHex(Cr.saturate(n,3,1,e))},Ar=function(t){var e,n=(e=t,{r:Math.floor(parseInt(e.slice(1,3),16)),g:Math.floor(parseInt(e.slice(3,5),16)),b:Math.floor(parseInt(e.slice(5),16))});return M(n.r/255,n.g/255,n.b/255,1)},Mr=function(t){var e,n=[],r=kr(Object(E.a)(t).sort(function(t,e){return e.percentage-t.percentage}));try{for(r.s();!(e=r.n()).done;){var o=e.value,a="".concat(o.contractAddress," ").concat(o.tokenId);n.push(_r(a))}}catch(i){r.e(i)}finally{r.f()}return n},Pr=function(){var t=Object($.a)(Nr().mark(function t(e,n){var r,o,a,i,u,s,l,f,h;return Nr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,lr(n);case 2:return r=t.sent.map(Ar),o=Mr(e).map(Ar),console.log("colors=",o),console.log("zorb colors=",r),1===o.length?o=[].concat(Object(E.a)(o),[M(0,.13,.12,1)]):0===o.length&&(o=[M(.1,.05,.02,1),M(.85,.13,.12,1)]),a=o,i=Object(c.a)(a,2),u=i[0],s=i[1],r.reverse(),l=M(.01,.01,.01,1),f=M(.2,.2,.2,1),h=[W(r[0],r[4],D(D(.3,F(.31,k().x)),D(.1,k().y))),W(l,f,D(k().x,k().y)),W(r[2],D(.9,s),D(2,F(.4,k().x),F(.28,k().y))),W(D(.8,u),s,D(1,D(F(.25,k().x),F(-.4,k().y)))),W(l,f,D(k().x,k().y))],e.length<2&&h.reverse(),t.abrupt("return",h);case 14:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}();function zr(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Fr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Fr(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Fr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Rr(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Dr(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dr(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Dr(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Gr=n(248),Br=(new gn).contractAddress,Ur=new cr,Zr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,n=Gr(t),r=Ur.getRGB(n),o=r.r,a=r.g,i=r.b;Math.abs(o/a-1)<.1&&(a/=14,o*=4.5,n=Ur.rgbToHex({r:o,g:a,b:i}));return Ur.hslToHex(Ur.saturate(n,9.2,1,e))},Yr=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.headless,n=t.audioPlayer,a=t.drops,i=t.stats,u=t.remix,s=t.remixDNA,l=t.attributes,f=t.animationData,h=t.duration,d=t.isPlaying,p=Object(r.useRef)(),y=Object(r.useState)({}),v=Object(c.a)(y,2),m=v[0],g=v[1],b=Object(r.useState)([0,14,0,0,2,1,4,0,13,0,0,0,0,1,4,1]),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(r.useState)([M(1,1,1,1)]),j=Object(c.a)(O,2),L=j[0],S=j[1],I=Object(r.useState)("white"),N=Object(c.a)(I,2),k=N[0],T=N[1],C=Object(r.useState)("white"),_=Object(c.a)(C,2),A=_[0],P=_[1];Object(r.useEffect)(function(){u&&(console.log("zorb to get=",u.attributes.zorb),lr(u.attributes.zorb).then(function(t){T(t[0]),P(t[4])}))},[T,P,u]),mr(x,L,p,245,235,"puzzle-shader"),Object(r.useEffect)(function(){u&&(Pr(function(t){var e,n=[],r=zr(Object.keys(t).filter(function(t){return t.includes("Stem")}));try{for(r.s();!(e=r.n()).done;){var o=e.value,a=o.split(" "),i=Object(c.a)(a,3),u=(i[0],i[1]),s=i[2],l=parseInt(s.slice(1));n.push({contractAddress:u.toLowerCase(),tokenId:l,percentage:parseFloat(t[o])})}}catch(f){r.e(f)}finally{r.f()}return n}(l),l.zorb).then(S),E(function(t,e){var n=Object.keys(t).filter(function(t){return t.includes("Stem")}),r=[];if(n.length<3){for(var o=0;o<n.length;o++)r.push(0);r.push(1+parseInt(e)%5)}var a,i=0,u=Rr(n);try{for(u.s();!(a=u.n()).done;){var s=a.value,l=s.split(" "),f=Object(c.a)(l,3),h=(f[0],f[1],f[2]);h=h.slice&&parseInt(h.slice(1));var d=parseFloat(t[s]);(d>50||i<3)&&(r.push(1+(h%5+Math.min(13,Math.floor(16*d/100)))%15),i++),r.push(0),r.push(0)}}catch(p){u.e(p)}finally{u.f()}return r}(l,u.tokenId)))},[u,S,l]),Object(r.useEffect)(function(){if(l){var t,e={},n=Object.keys(l).filter(function(t){return t.includes("Stem")}),r=[],o={},a=Rr(n);try{for(a.s();!(t=a.n()).done;){var i=t.value,u=i.split(" "),s=Object(c.a)(u,3),f=(s[0],s[1]),h=s[2];h=h.slice&&parseInt(h.slice(1)),"0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc"===f.toLowerCase()&&(r.push(h),o[h]=l[i])}}catch(d){a.e(d)}finally{a.f()}new _t(Br).from(ht).whereIn("stemId",r).executeQuery().then(function(t){var n=t.map(function(t){return t.songId});new _t(Br).from(ft).whereIn("songId",n).executeQuery().then(function(n){var r,a=Rr(t);try{var i=function(){var t=r.value,a=n.find(function(e){return e.songId===t.songId});if(!a)return"continue";var i=a.title;e[i]||(e[i]=[]),t.percentage=o[t.stemId],e[i].push(t)};for(a.s();!(r=a.n()).done;)i()}catch(d){a.e(d)}finally{a.f()}g(e)})})}},[l,s,g]);var z=l&&Object.keys(l).filter(function(t){return t.includes("Stem")});i=i&&i.zorbDNA;var F={};if(z){var R,D=Rr(z);try{var G=function(){var t=R.value,e=t.split(" "),n=Object(c.a)(e,3),r=(n[0],n[1]),o=n[2];o=o.slice&&parseInt(o.slice(1));var a=i&&i[r]&&i[r],u=a&&a.find(function(t){return parseInt(t.tokenId)===o}),s=u&&u.zorbId;F[r]||(F[r]=[]);var f=l[t];F[r].push({zorbId:s,contractAddress:r,tokenId:o,percentage:f})};for(D.s();!(R=D.n()).done;)G()}catch(B){D.e(B)}finally{D.f()}}return Object(r.useEffect)(function(){},[u]),o.a.createElement("div",{ref:p,className:"remix-dna-details relative"},Object.keys(F).map(function(t){return"0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc"===t.toLowerCase()?Object.keys(m).map(function(t){return o.a.createElement("div",{className:"contract-container relative"},o.a.createElement("div",{style:{background:"linear-gradient(124deg, ".concat(k,", ").concat(A,")")},className:"drop-name"},t))}):o.a.createElement("div",{className:"contract-container relative"},o.a.createElement("div",{style:{background:"linear-gradient(124deg, ".concat(k,", ").concat(A,")")},className:"drop-name "},a[t]?a[t].title+" \ud80c\udf4a":"stems"))}),o.a.createElement(Lr,{headless:e,audioPlayer:n,remix:u,animationData:f,isPlaying:d,duration:h}),o.a.createElement("div",{style:{background:"linear-gradient(124deg, ".concat(k,", ").concat(A,")")},className:"remix-bpm text-xs rounded-full px-3 flex absolute bottom-2 right-2"},o.a.createElement("span",null,l&&Math.round(l.bpm)),o.a.createElement("span",{className:"ml-2 "},"BPM")))}),Wr="N",Hr="S",Jr="W",Vr="E",Qr=function(t,e){switch(t){case Wr:return" c 0 -5 0 -5 0 -".concat(e);case Hr:return" c 0 5 0 5 0 ".concat(e);case Vr:return" c 5 0 5 0 ".concat(e," 0");case Jr:return" c -5 0 -5 0 -".concat(e," 0")}},qr=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;switch(t){case"SW":return" c 0, ".concat(e,", ").concat(e,", ").concat(e," ").concat(e,", ").concat(e," ");case"SE":return" c ".concat(e,", 0 ").concat(e,", -").concat(e," ").concat(e,", -").concat(e," ");case"NE":return" c 0, -".concat(e," -").concat(e,", -").concat(e," -").concat(e,", -").concat(e," ");case"NW":return" c -".concat(e,", 0 -").concat(e,", ").concat(e," -").concat(e,", ").concat(e," ")}},Xr=function t(e,n,r,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{sideLength:e,nextLength:n},c=function(t){return t>e?"":(e-=t,Qr(o,t))};return{go:c,smooth:function(t,r,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;if(a>e)return c(a-e);switch(e-=Math.abs(a),n-=r,o){case Hr:return" c 0,".concat(t," ").concat(r,",").concat(i," ").concat(r,",").concat(a," ");case Vr:return" c ".concat(t,",0 ").concat(i,",").concat(-r," ").concat(a,",").concat(-r," ");case Wr:return" c 0,".concat(-t," ").concat(-r,",").concat(-i," ").concat(-r,",").concat(-a," ");case Jr:return" c ".concat(-t,",0 ").concat(-i,",").concat(r," ").concat(-a,",").concat(r," ")}},complete:function(){var t=qr(o===Hr?"SW":o===Wr?"NE":o===Vr?"SE":"NW",r);return Qr(o,e)+" "+t},next:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return t(n,i.sideLength,e,o===Hr?Vr:o===Vr?Wr:o===Jr?Hr:Jr,a+1,{sideLength:i.nextLength,nextLength:i.sideLength})}}};function Kr(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return $r(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $r(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function $r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var to=function(t,e,n,r){var o=e%2===0?r:n,a=e%2===0?n:r;return Array.isArray(t)?[o*t[0]/100,a*t[1]/100,o*t[2]/100]:o*t/100},eo=function(t,e,n){var r,o=e,a=n,i=Kr(t.filter(function(t){return"attribute"===t.type}));try{for(i.s();!(r=i.n()).done;){var c=r.value;"radius"===c.value.type&&(o=c.value.value),"relative"===c.type&&(a=c.value)}}catch(u){i.e(u)}finally{i.f()}return{radius:o,relative:a}},no=function(t){var e,n=[],r=Kr(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;o.operations?n=[].concat(Object(E.a)(n),Object(E.a)(o.operations)):n.push(o)}}catch(a){r.e(a)}finally{r.f()}return n},ro=function(t,e){return{type:"attribute",value:{type:t,value:e}}},oo=function(t){return{type:"walk",value:t}},ao=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return{depth:function(n){return t(e,n,r,o)},tension:function(o){return t(e,n,r,o)},start:function(e){return t(e,n,r,o)},end:function(r){return t(e,n,r,o)},mirror:function(){return t(e,-n,r,o)},type:"smooth",value:[e,n,r,o]}},io=function t(e,n,r){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4?arguments[4]:void 0,i=ao(e,n,r),c=ao(e,-o*n,r);return{factor:function(o){return t(e,n,r,o,a)},walk:function(a){return t(e,n,r,o,a)},operations:a?[i,oo(a),c]:[i,c]}},co=function(t){return ro("radius",t)},uo=(n(1277),function(t){var e=t.top,n=void 0===e?0:e,a=t.children,i=t.style,u=t.svgFilter,l=t.fill,f=void 0===l?"#0000008c":l,h=t.stroke,d=void 0===h?"white":h,p=t.className,y=void 0===p?"":p,v=t.algo,m=void 0===v?[]:v,g=t.relative,b=void 0===g||g,w=t.radius,x=void 0===w?60:w,O=Object(r.useRef)(),j=Object(r.useState)({width:0,height:0}),L=Object(c.a)(j,2),S=L[0],I=L[1],N=Object(r.useCallback)(function(){if(O.current){var t={width:O.current.offsetWidth,height:O.current.offsetHeight};I(t)}},[I]);Object(r.useEffect)(function(){new ResizeObserver(N).observe(O.current)},[]);var k=Math.max(20,S.width-2*x),T=Math.max(20,S.height-2*x),C=((new Date).getTime(),function(t){var e,n=t.radius,r=t.algo,o=t.relative,a=t.width,i=t.height,c=t.top,u="M 0, ".concat(n+(void 0===c?0:c)," "),s=void 0,l=0,f=0,h=0,d=n,p=Kr(r);try{for(p.s();!(e=p.n()).done;){var y=e.value,v=eo(y,d,o),m=(v._radius,v._relative);void 0===m&&(m=o),y=y.filter(function(t){return"attribute"!==t.type});var g=no(y),b=0;s||(s=Xr(i,a,n,Hr));var w,x=Kr(g);try{for(x.s();!(w=x.n()).done;){var O,j=w.value,L=m?to(j.value,l,a,i):j.value;"walk"===j.type?u+=s.go(L):(b+=L[1],u+=(O=s).smooth.apply(O,Object(E.a)(L)))}}catch(S){x.e(S)}finally{x.f()}u+=s.complete(),s=s.next(),b<0&&(l%2===0?f+=-b:h+=-b),l++}}catch(S){p.e(S)}finally{p.f()}return{xIncrease:f,yIncrease:h,d:u}}({width:k,height:T,algo:m,radius:x,relative:b,top:n})),_=C.d,A=C.xIncrease,M=C.yIncrease;(new Date).getTime();return o.a.createElement("div",{style:Object(s.a)({},i,{blockSize:"fit-content"}),ref:O,className:"relative flex flex-col "+y},o.a.createElement("svg",{width:A+S.width+100+"px",height:M+S.height+100+"px",className:"absolute top-0 left-0 z-0"},u&&u.def,o.a.createElement("path",{filter:u&&u.name,stroke:d,fill:f,d:_})),a)}),so=function(t){var e=t.fill,n=t.relative,r=t.params,a=t.className,i=t.children,c=t.svgFilter,u=t.style;return o.a.createElement(uo,{style:u,svgFilter:c||Qn,fill:e||"#ffffff29",stroke:"#ffffff26",relative:n||!1,algo:lo(r),radius:r.radius,className:a},i)},lo=function(t){return[[oo(t.walk1),ao().start(t.a).end(t.b).tension(t.c).depth(t.depth1a),oo(t.walk2),ao().start(t.a).end(t.b).tension(t.c).depth(-t.depth1b)],[],[oo(t.walk3),ao().start(t.a).end(t.b).tension(t.c).depth(t.depth2a),oo(t.walk4),ao().start(t.a).end(t.b).tension(t.c).depth(-t.depth2b)],[]]};function fo(){fo=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function ho(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return po(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return po(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function po(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var yo=function(t){return t.slice(0,t.indexOf("("))},vo=function(t){for(t=t.toString();t.length<4;)t="0"+t;return t},mo=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.audioPlayer,n=t.swipeDirection,a=t.remix,i=t.deltaY,u=t.isPlaying,s=t.stats,l=t.duration,f=t.headless,h=Object(r.useState)({}),d=Object(c.a)(h,2),p=d[0],y=d[1];Object(r.useEffect)(function(){In().then(function(t){var e,n={},r=ho(t);try{for(r.s();!(e=r.n()).done;){var o=e.value;n[o.dropAddress]=o.song}}catch(a){r.e(a)}finally{r.f()}y(n)})},[]);var v=Object(r.useState)({a:10,b:17,c:12,walk1:28,walk2:38,walk3:65,walk4:0,depth1a:8,depth1b:8,depth2a:12,depth2b:12,radius:52}),m=Object(c.a)(v,2),g=m[0],b=(m[1],Object(r.useState)(void 0)),w=Object(c.a)(b,2),x=w[0],E=w[1];Object(r.useEffect)(function(){a&&fetch(a.metadata.image_url).then(function(){var t=Object($.a)(fo().mark(function t(e){var n;return fo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.json();case 3:n=t.sent,E(n),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),E(void 0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}())},[a,E]);var O={transform:"translate(0px,".concat(i,"px)")},j=(f?"headless ":"")+"remix-details";return j+=0!=i?" dragging":" standard-position",1==n.current?j+=" swipe-up":-1===n.current&&(j+=" swipe-down"),o.a.createElement(so,{style:O,svgFilter:qn,fill:"#f3f4ff33",relative:!0,params:g,className:j},o.a.createElement("div",{className:"inner-details px-5 py-5 flex-1 flex flex-col z-30"},a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"name-text mb-3 text-lg"},yo(a.metadata.name)),o.a.createElement("div",{className:"token-text mb-3 text-lg"},-1===a.tokenId?"   ":vo(a.tokenId)),o.a.createElement("img",{className:"logo-small",src:"/Subtract.svg"})),o.a.createElement("div",{className:"remix-dna-container"},o.a.createElement(Yr,{headless:f,drops:p,audioPlayer:e,duration:l,stats:s,isPlaying:u,animationData:x,remix:a,attributes:a&&a.attributes,remixDNA:a&&a.metadata.remix_dna}))))}),go=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(r.useState)(0),n=Object(c.a)(e,2),a=n[0],i=n[1];return te(Object(r.useCallback)(function(){i((a+1)%100)},[i,a]),t.rate),o.a.createElement(qt,{className:t.className,percentage:a,radius:t.radius||30})}),bo=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.audioPlayer,n=t.startTime,a=t.isPlaying,i=Object(r.useState)(0),u=Object(c.a)(i,2),s=u[0],l=u[1],f=Object(r.useRef)(),h=Object(r.useRef)();Object(r.useEffect)(function(){return window.addEventListener("mouseup",p),window.addEventListener("mousemove",d),window.addEventListener("touchend",p),function(){window.removeEventListener("mouseup",p),window.removeEventListener("mousemove",d),window.removeEventListener("touchend",p)}},[]);var d=Object(r.useCallback)(function(t){if(h.current){var r=f.current.getBoundingClientRect(),o=(t.clientX-r.left)/f.current.offsetWidth*e.buffer.duration;n.current=(new Date).getTime()-1e3*o,e.seek(o)}},[]),p=Object(r.useCallback)(function(){h.current=!1},[]);return te(Object(r.useCallback)(function(){a&&e&&l(((new Date).getTime()-n.current)/1e3/e.buffer.duration*100%100)},[a,e]),20),o.a.createElement("div",{ref:f,onMouseDown:function(){h.current=!0},onTouchStart:function(){h.current=!0},className:"scrub-bar bg-black h-4 w-full"},o.a.createElement("div",{style:{left:.99*s+"%"},className:"playhead w-8 h-8 bg-white"}))});n(1278);function wo(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return xo(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xo(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function xo(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Eo(){Eo=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Oo=function(){var t=Object($.a)(Eo().mark(function t(e,n,r,o){var a,i,c,u;return Eo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return a={args:[e,r,o],value:1e18*n},i="localhost"===window.location.hostname?"http://localhost:9090":"https://zequencer.io",t.next=6,fetch(i+"/gasless-spore",{method:"POST",body:JSON.stringify(a),headers:{Accept:"application/json","Content-Type":"application/json"}});case 6:return c=t.sent,t.next=9,c.json();case 9:u=t.sent,console.log(u);case 11:case"end":return t.stop()}},t)}));return function(e,n,r,o){return t.apply(this,arguments)}}(),jo=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.entropy,n=t.deltaY,a=t.swipeDirection,i=t.headless,u=t.isDragging,s=t.duration,l=t.startTime,f=t.audioPlayer,h=t.loading,d=t.togglePlay,p=t.isPlaying,y=t.playing,v=t.remixStats,m=t.fullscreen,g=t.setFullScreen,b=Object(r.useState)(!1),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(_e.c)(),j=O.data,L=(O.isError,O.isLoading,Pn(y&&y.songId)),S=L.dropAddress,I=L.mintPrice;Object(r.useCallback)(function(t){t.stopPropagation();var e,n=y.metadata,r=n.animation_url,o=n.image,a=n.attributes,i=(n.remix_dna,y.attributes),u=i.zorb,s=i.bpm,l=i.detune,f=[],h=[],d=[],p=wo(a);try{for(p.s();!(e=p.n()).done;){var v=e.value,m=v.trait_type,g=v.value,b=m;if(b.includes("Stem")){var w=b.split(" "),x=Object(c.a)(w,3),E=(x[0],x[1]),O=x[2];O=parseInt(O.slice(1)),h.push(O),f.push(E),d.push(parseInt(g.slice(0,g.length-1)))}}}catch(N){p.e(N)}finally{p.f()}var L={contentURI:r,coverArtURI:o,zorbId:u,detune:l.toString(),bpm:s.toString(),contractAddresses:f.slice(0,7),ids:h.slice(0,7),stemPercentages:d.slice(0,7)};console.log("to post=",L),Oo(S,I,j.address,L)},[y,I,S,j]);Object(r.useEffect)(function(){y&&!h&&g(!0)},[y,h]);Object(r.useCallback)(function(t){t.stopPropagation();var e=y.metadata.animation_url;Bn(e)},[y]);var N=y&&y.metadata.attributes.find(function(t){return"zorb"===t.trait_type}).value,k=y&&y.metadata.image;return[o.a.createElement("div",{className:(m&&y?"":"invisible ")+"fullscreen-backdrop",onMouseUp:function(){u.current||g(!1)}},y&&!i&&o.a.createElement(Jn,{setShowModal:E,type:"remix",showShareModal:x,url:"spores.vision/beta/"+y.songId+"/"+(y.shareHash||y.tokenId),lowerGradInverted:"black",buttonBgColor:"white"}),!x&&o.a.createElement(mo,{swipeDirection:a,deltaY:n,playing:y,headless:i,audioPlayer:f,duration:s,isPlaying:p,stats:y&&v[y.tokenId],remix:y})),y&&e.token&&o.a.createElement(Tn,{remix:y}),i&&y&&o.a.createElement(Cn,{remix:y}),y&&!i&&o.a.createElement("div",{className:"currently-playing"},h&&o.a.createElement(go,null),!h&&o.a.createElement(Vn,{resume:!0,play:function(t){d(t)},isPlaying:p}),!h&&o.a.createElement(bo,{audioPlayer:f,startTime:l,isPlaying:p}),!h&&o.a.createElement("img",{onClick:function(){return g(!0)},src:k,className:"gen-img pushable"}),!h&&y&&!h&&o.a.createElement(br,{className:"zorb",zorbId:N}),!h&&o.a.createElement(Te,{address:y.creator}))]}),Lo=function(t){var e=t.onClick,n=t.style,r=t.className;return o.a.createElement("svg",{onClick:e,style:n,className:r,width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M41 20.5C41 31.8218 31.8218 41 20.5 41C9.17816 41 0 31.8218 0 20.5C0 9.17816 9.17816 0 20.5 0C31.8218 0 41 9.17816 41 20.5ZM37.094 20.6053C37.094 27.9587 33.1119 33.9198 28.1998 33.9198C23.2877 33.9198 19.3056 27.9587 19.3056 20.6053C19.3056 13.252 23.2877 7.29089 28.1998 7.29089C33.1119 7.29089 37.094 13.252 37.094 20.6053ZM11.3341 17.5415C12.9216 17.5415 14.2085 15.176 14.2085 12.258C14.2085 9.34002 12.9216 6.97451 11.3341 6.97451C9.74669 6.97451 8.45981 9.34002 8.45981 12.258C8.45981 15.176 9.74669 17.5415 11.3341 17.5415Z",fill:"#0000FF"}))};function So(){So=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Io=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.entropy,n=Object(r.useState)(""),a=Object(c.a)(n,2),i=a[0],u=a[1],s=Object(r.useState)("3e5pyEZFDJDy74p"),l=Object(c.a)(s,2),f=l[0],h=l[1],d=Object(r.useCallback)(Object($.a)(So().mark(function t(){return So().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:e.login(i,f);case 1:case"end":return t.stop()}},t)})),[i,f]);return o.a.createElement("div",{className:"flex w-full h-100 z-30 absolute text-black"},o.a.createElement("div",{className:"m-auto w-64 h-64 p-3 bg-white rounded-lg flex flex-col items-start"},e.loginFailed&&o.a.createElement("div",{className:"bg-red-600 text-white"},"Login failed"),o.a.createElement("span",{className:"underline"},"Username"),o.a.createElement("input",{className:"bg-zinc-100",onChange:function(t){return u(t.target.value)},value:i}),o.a.createElement("span",{className:"underline"},"Password"),o.a.createElement("input",{className:"bg-zinc-100",onChange:function(t){return h(t.target.value)},value:f}),o.a.createElement("div",{onClick:function(){return d()},className:"items-start pushable mt-3 text-white bg-black px-5 py-1 rounded-full"},"Login"),o.a.createElement(Lo,{className:"mx-auto mt-5"})))}),No=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.title,n=t.secondaryTitle,r=t.entropy,a=Object(_e.c)(),i=(a.data,a.isError,a.isLoading,[[],[oo(40),ao().start(18).end(25).tension(10).depth(20),oo(10),ao().start(28).end(45).tension(10).depth(-20)],[],[]]);return o.a.createElement(uo,{relative:!1,svgFilter:Qn,className:"ancestral-source",fill:"black",stroke:"transparent",algo:i,radius:28},o.a.createElement("div",{className:"pt-3 z-30 flex w-full"},o.a.createElement("img",{className:"logo-small",src:"/LOGO-SMALL.svg"}),o.a.createElement("div",{className:"song-name"},e),o.a.createElement("div",{className:"artist-name"},n),r.hasPermission&&o.a.createElement(Lo,{style:{marginTop:"-8px"},onClick:function(){return r.setShowLogin(!0)},className:"pushable ml-3"}),r.hasPermission&&r.token&&o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{fill:"red",d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))))}),ko=(n(1279),function(t){var e=t/1e3/60;if(e<60)return Math.ceil(e)+" min. ";var n=e/60;if(n<48)return Math.ceil(n)+" hrs. ";var r=n/24;return Math.round(r)+" days "}),To=(n(1280),n(248)),Co=new cr,_o=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.traits;return o.a.createElement("div",{className:"stem-traits"},e.filter(function(t){return t.trait_type.includes("Stem")}).map(function(t){var e,n=t.trait_type;return t.value,o.a.createElement("div",{style:{backgroundColor:(e=n,Co.saturate(To(e),4,1,50))},className:"stem-trait"})}))});function Ao(){Ao=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Mo=function(t){var e=t.showSongName,n=t.params,a=(t.stats,t.refs),i=t.setRefs,u=t.remix,s=t.playing,l=(t.audioPlayer,t.setPlaying),f=(t.isPlaying,t.togglePlay),h=(t.play,Object(r.useRef)()),d=Object(r.useState)(!1),p=Object(c.a)(d,2),y=p[0],v=p[1],m=Object(r.useState)(),g=Object(c.a)(m,2),b=g[0],w=g[1],x=Object(r.useState)(),O=Object(c.a)(x,2),j=O[0],L=O[1];if(Object(r.useEffect)(function(){var t=u.metadata;L(t);var e=t.attributes.find(function(t){return"zorb"===t.trait_type}).value;er(e).then(w)},[u]),Object(r.useEffect)(function(){b&&!a.includes(h)&&i([].concat(Object(E.a)(a),[h]))},[b,a,i]),!j)return"";var S=j.attributes;oo(n.walk1),ao().start(n.a).end(n.b).tension(n.c).depth(n.depth1a),oo(n.walk2),ao().start(n.a).end(n.b).tension(n.c).depth(-n.depth1b),oo(n.walk3),ao().start(n.a).end(n.b).tension(n.c).depth(n.depth2a),oo(n.walk4),ao().start(n.a).end(n.b).tension(n.c).depth(-n.depth2b);return o.a.createElement(so,{params:n,className:s===u?"zorb-remix-option playing":"zorb-remix-option"},o.a.createElement("div",{className:"z-30 flex flex-col w-full cursor-pointer inner-card"+(e?" larger":""),onClick:Object($.a)(Ao().mark(function t(){return Ao().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$e.a.Master.context._context.resume();case 2:l(u);case 3:case"end":return t.stop()}},t)})),ref:h},o.a.createElement("div",{className:"inner"},o.a.createElement(_o,{traits:S}),b&&o.a.createElement("img",{onMouseOver:function(){return v(!0)},onMouseLeave:function(){return v(!1)},className:"zorb-image",src:b}),o.a.createElement("div",{className:"token-id"},-1===u.tokenId?"":u.tokenId)),o.a.createElement("div",{className:y?"hover-name show":"hover-name"},o.a.createElement(Te,{address:u.creator})),-1===u.tokenId?o.a.createElement("div",{className:"pending-time leak-time mx-auto text-xs text-center text-lime-200"},o.a.createElement("div",null,"pending"),o.a.createElement(go,{radius:30,rate:10})):o.a.createElement("div",{className:"pt-1 leak-time flex text-xs text-center mx-auto color-zinc-200"},o.a.createElement("span",{className:"mx-auto"},function(t){var e=new Date(t.mintInfo.mintContext.blockTimestamp),n=e&&(new Date).getTime()-e.getTime();return ko(n)}(u))),e&&o.a.createElement("div",{className:"pt-0 leak-time flex text-xs text-center mx-auto text-stone-700"},o.a.createElement("span",{className:"mx-auto pb-2"},"pending"===u.tokenContract.name?"":u.tokenContract.name)),s&&o.a.createElement("div",{onClick:function(t){t.stopPropagation(),f(),l(void 0)},className:"pause-button"})))},Po=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.togglePlay,n=t.isPlaying,a=t.play,i=t.headless,u=(t.radius,t.remixStats),l=t.songId,f=t.remixes,h=t.hide,d=t.audioPlayer,p=t.setPlaying,y=t.playing,v=(t.entropyToken,t.isProfile),m=t.entropy,g=Object(gr.a)(t,["togglePlay","isPlaying","play","headless","radius","remixStats","songId","remixes","hide","audioPlayer","setPlaying","playing","entropyToken","isProfile","entropy"]),b=Object(r.useState)([]),w=Object(c.a)(b,2),x=w[0],O=w[1];Object(r.useEffect)(function(){v||Ve(f,parseInt(l)).then(O)},[f,O,l,v]);var j=Object(r.useState)([]),L=Object(c.a)(j,2),S=L[0],I=L[1],N=(Object(r.useRef)(),Object(r.useState)(Object(s.a)({a:10,b:17,c:12,walk1:28,walk2:13,walk3:39,walk4:0,depth1a:10,depth1b:10,depth2a:10,depth2b:12,radius:14},g.params))),k=Object(c.a)(N,2),T=k[0],C=(k[1],Object(r.useState)("")),_=Object(c.a)(C,2),A=_[0],M=_[1],P=Object(r.useState)(""),z=Object(c.a)(P,2),F=z[0],R=z[1];return Object(r.useEffect)(function(){void 0!==l&&Rt(l).then(function(t){var e=t.artist,n=t.title;M(e),R(n)})},[l,M,R]),o.a.createElement("div",{className:"zorb-remix-view "+g.className},o.a.createElement("div",{onClick:h,className:"back-btn"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"}," ",o.a.createElement("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})," ")),!i&&o.a.createElement(No,{title:g.title||F,secondaryTitle:g.secondaryTitle||A,entropy:m}),m.showLogin&&o.a.createElement(Io,{entropy:m}),o.a.createElement("div",{className:"zorb-children"},[].concat(Object(E.a)(x),Object(E.a)(f)).map(function(t){return o.a.createElement(Mo,{key:t.songId+"-"+t.tokenId,showSongName:g.secondaryTitle,params:T,togglePlay:e,isPlaying:n,play:a,stats:u[t.tokenId],audioPlayer:d,refs:S,setPlaying:p,playing:y,setRefs:I,remix:t})})))});n(1281);function zo(){zo=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Fo=Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef,playStatus:t.playback.playStatus}},function(t){return{}})(function(t){var e=t.isProfile,n=t.className,a=t.params,i=t.remixes,u=t.remixId,s=t.songId,l=t.show,f=t.setRemixId,h=t.setShow,d=t.playerRef,p=t.playStatus,y=t.title,v=t.secondaryTitle,m=t.headless,g=function(){var t=Object(r.useState)(),e=Object(c.a)(t,2),n=e[0],o=e[1],a=Object(_e.c)(),i=a.data,u=(a.isError,a.isLoading,i&&i.address),s=Object(r.useState)(!1),l=Object(c.a)(s,2),f=l[0],h=l[1],d=Object(r.useState)(!1),p=Object(c.a)(d,2),y=p[0],v=p[1],m=Object(r.useState)(!1),g=Object(c.a)(m,2),b=g[0],w=g[1];Object(r.useEffect)(function(){},[f,o]),Object(r.useEffect)(function(){var t=window.localStorage.getItem("entropy_token");if(t){var e=JSON.parse(t),n=1e3*e.access_expires;new Date(n).getTime()<Date.now()||o(e.access)}},[]);var x=Object(r.useCallback)(function(){var t=Object($.a)(Qe().mark(function t(e,n){var r,a;return Qe().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Xe("/token/"),t.next=3,fetch(r,{method:"POST",body:JSON.stringify({username:e,password:n}),headers:{"Content-Type":"application/json"},credentials:"include"});case 3:return t.sent,v(!1),o("TEST"),t.abrupt("return");case 10:a=t.sent,window.localStorage.setItem("entropy_token",JSON.stringify(a)),o(a.access),t.next=17;break;case 15:o(void 0),w(!0);case 17:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),[w,v]);return Object(r.useEffect)(function(){u&&h(qe.includes(u.toLowerCase()))},[u,h]),{hasPermission:f,login:x,loginFailed:b,token:n,showLogin:y,setShowLogin:v}}(),b=Object(r.useState)({}),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(r.useState)(!1),j=Object(c.a)(O,2),L=j[0],S=j[1],I=mn({songId:s,remixId:u,setRemixId:f,show:l,headless:m,remixes:i,playerRef:d,playStatus:p}),N=I.audioPlayer,k=I.playing,T=I.play,C=I.isPlaying,_=I.setAutoPlay,A=I.setPlaying,M=I.togglePlay,P=I.loading,z=I.startTime,F=function(t){var e=t.setPlaying,n=t.playing,o=t.remixes,a=t.setAutoPlay,i=t.fullscreen,u=Object(r.useState)(.1*window.innerHeight),s=Object(c.a)(u,2),l=s[0],f=(s[1],Object(r.useState)(0)),h=Object(c.a)(f,2),d=h[0],p=h[1],y=Object(r.useRef)(1),v=Object(r.useRef)({x:0,y:0}),m=Object(r.useRef)(!1),g=Object(r.useRef)(!1),b=Object(r.useRef)(!1);Object(r.useEffect)(function(){return window.addEventListener("touchstart",x),window.addEventListener("mousedown",w),window.addEventListener("touchmove",O),window.addEventListener("mousemove",j),window.addEventListener("touchend",E),window.addEventListener("mouseup",E),function(){window.removeEventListener("touchstart",x),window.removeEventListener("mousedown",w),window.removeEventListener("touchend",E),window.removeEventListener("mouseup",E),window.removeEventListener("touchmove",O),window.removeEventListener("mousemove",j)}},[o,i,n,e,p,a]);var w=Object(r.useCallback)(function(t){i&&(b.current=!1,v.current={x:t.pageX,y:t.pageY},m.current=!0)},[n,i]),x=Object(r.useCallback)(function(t){if(i){b.current=!1;var e=t.touches[0];v.current={x:e.pageX,y:e.pageY},m.current=!0}},[n,i]),E=Object(r.useCallback)(function(t){g.current&&t.stopPropagation(),b.current||(y.current=0),m.current=!1,g.current=!1,p(0)},[p]),O=Object(r.useCallback)(function(t){L({x:t.touches[0].pageX,y:t.touches[0].pageY})},[o,n,e,p,a]),j=Object(r.useCallback)(function(t){L({x:t.pageX,y:t.pageY})},[o,n,e,p,a]),L=Object(r.useCallback)(function(t){if(m.current){var r,i,c=t.y-v.current.y;if(Math.abs(c)>1&&(g.current=!0),p(c),Math.abs(c)>l){m.current=!1,b.current=!0,p(0),a(!0);var u=o.indexOf(n),s=c>0?-1:1;y.current=s;var f=o[(r=u+s,i=o.length,(r%i+i)%i)];e(f)}}},[o,n,e,p,a]);return{deltaY:d,isDragging:g,swipeDirection:y}}({playing:k,remixes:i,setPlaying:A,setAutoPlay:_,fullscreen:L}),R=F.deltaY,D=F.isDragging,G=F.swipeDirection;return Object(r.useEffect)(function(){s&&In(s).then(function(){var t=Object($.a)(zo().mark(function t(e){var n,r,o;return zo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://zequencer.io/searchRemixes/"+e,t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:o=t.sent,E(o);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[s]),Object(r.useEffect)(function(){return d&&d.current&&d.current.contentWindow&&d.current.contentWindow.postMessage({type:"sleep-ui",body:l?1:0},"*"),function(){d&&d.current&&d.current.contentWindow&&d.current.contentWindow.postMessage({type:"sleep-ui",body:0},"*")}},[l,d]),l?[o.a.createElement(Po,{headless:m,remixStats:x,songId:s,audioPlayer:N,setAutoPlay:_,isPlaying:C,entropy:g,className:n,togglePlay:M,title:y,secondaryTitle:v,play:T,playing:k,isProfile:e,setPlaying:function(t){_(!0),A(t)},params:a,hide:function(){N&&N.stopSound(),h(!1),f(void 0)},remixes:i}),o.a.createElement(jo,{deltaY:R,fullscreen:L,setFullScreen:S,swipeDirection:G,isDragging:D,songId:s,entropy:g,headless:m,remixId:u,duration:N&&N.duration,remixStats:x,stats:k&&x[k.tokenId],startTime:z,loading:P,isPlaying:C,togglePlay:M,playing:k,audioPlayer:N})]:""}),Ro=function(t){var e=t.setShowProfile,n=t.address,a=Object(r.useState)(),i=Object(c.a)(a,2),u=i[0],s=i[1],l=Object(r.useState)([]),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(_e.i)({address:n}).data,y=Object(_e.g)({name:n}),v=y.data;y.isError,y.isLoading;return Object(r.useEffect)(function(){u&&Ve(u).then(d)},[u]),Object(r.useEffect)(function(){n&&(Object(Ie.setZoraApiKey)("ROLsxj1Z_MDY40UDQszIIw"),!v&&n.includes(".eth")||(console.log("ensAddress=",v,n),Me({user:n.includes(".eth")?v:n}).then(s)))},[s,n,v]),u?o.a.createElement(Fo,{params:{radius:18,walk1:50,walk2:20,walk3:70,depth1a:15,depth1b:15,depth2a:15,depth2b:15},isProfile:!0,className:"profile-page",title:p||(n.startsWith("0x")?Ce(n):n),secondaryTitle:"remixes",setRemixId:function(){return 21},show:!0,setShow:function(){return e(!1)},remixes:[].concat(Object(E.a)(h),Object(E.a)(u))}):o.a.createElement(o.a.Fragment,null)},Do={0:function(t){return"quadrants"===t.type&&t.body[2]>.5},1:function(t){return"quadrants"===t.type&&t.body[1]>.5},2:function(t){return"quadrants"===t.type&&t.body[0]>.5},3:function(t){return"quadrants"===t.type&&t.body[3]>.5},4:function(t){return"playback-rate"===t.type&&Math.abs(1-t.body)>.2},5:function(t){return"finished-rotating"===t.type},6:function(t){return"zorbs-expanded"===t.type&&1===t.body},7:function(t){return"selected-drum-loop"===t.type},8:function(t){return"selected-synth-loop"===t.type},9:function(t){return"zorb-moved"===t.type},10:function(t){return"zorb-pressed"===t.type},11:function(t){return!("is-looping"!==t.type||!t.body)},12:function(t){return"loop-length"===t.type},13:function(t){return"is-looping"===t.type}},Go={0:{text:[o.a.createElement("span",null,"Drag the orb to the bottom-left corner to hear the ",o.a.createElement("span",{className:"orange-gradient"},"acoustic version"))],position:[-.19,-.22],arrow:{transform:"rotate(45deg)",top:"-8px",right:"-8px"}},1:{text:[o.a.createElement("span",null,"Dope! Now drag it to the bottom-right to create a ",o.a.createElement("span",{className:"purple-gradient"},"wobble"))],position:[.19,-.22],arrow:{transform:"rotate(135deg)",top:"-16px",left:"-16px"}},2:{text:[o.a.createElement("span",null,"Sweet \ud83e\udd75! ",o.a.createElement("span",{className:"ice-gradient"},"Blur")," your sounds by dragging to the top right corner")],position:[.19,.08],arrow:{transform:"rotate(225deg)",bottom:"-16px",left:"-16px"}},3:{text:[o.a.createElement("span",null,"Fire \ud83d\udd25, now all you need is to add ",o.a.createElement("span",{className:"orange-gradient"},"stutter")," using the top left corner!")],position:[-.19,.08],arrow:{transform:"rotate(135deg)",bottom:"-16px",right:"-16px"}},4:{text:[o.a.createElement("span",null,"Move this orb up and down to make the song ",o.a.createElement("span",{className:"orange-gradient"},"fast")," or ",o.a.createElement("span",{className:"purple-gradient"},"slowwww")," \ud83d\udc22")],position:[.2,0],arrow:{bottom:"-20px",right:"30px"}},5:{text:[o.a.createElement("span",null,"Rotate the spore to ",o.a.createElement("span",{className:"purple-gradient"},"scrub")," to different points in the song \ud83c\udf00 ")],position:[0,.12],arrow:{bottom:"-20px",right:"68px"}},6:{text:["Click this button to show additional stem controls"],position:[0,-.3],arrow:{bottom:"-20px",right:"70px"}},7:{text:[o.a.createElement("span",null,"Click these buttons to hear different ",o.a.createElement("span",{className:"orange-gradient"},"drum loops"))],position:[0,-.27],arrow:{bottom:"-20px",right:"70px"}},8:{text:[o.a.createElement("span",null,o.a.createElement("span",{className:"orange-gradient"},"Enable/disable")," crazy ",o.a.createElement("span",{className:"orange-gradient"},"instrument stems")," with these buttons.")],position:[.14,.08],arrow:{transform:"rotate(180deg)",top:"-20px",right:"72px"}},9:{text:[o.a.createElement("span",null,"Now, ",o.a.createElement("span",{className:"orange-gradient"},"move the joystick")," to ",o.a.createElement("i",null,"play")," the stem like an ",o.a.createElement("span",{className:"orange-gradient"},"instrument")),o.a.createElement("span",{className:"italic"},"Only plays while the joystick is down.")],position:[.14,.08],arrow:{transform:"rotate(180deg)",top:"-20px",left:"66px"}},10:{text:[o.a.createElement("span",null,"The surrounding ",o.a.createElement("span",{className:"orange-gradient"},"circle")," shows where you are in the ",o.a.createElement("span",{className:"orange-gradient"},"loop"))],position:[.14,.08],arrow:{transform:"rotate(180deg)",top:"-20px",left:"66px"}},11:{text:[o.a.createElement("span",null,o.a.createElement("span",{className:"orange-gradient"},"Press and hold")," these buttons to ",o.a.createElement("span",{className:"orange-gradient"},"loop")," the entire beat.")],position:[0,-.25],arrow:{bottom:"-20px",left:"66px"}},12:{text:[o.a.createElement("span",null,"These 3 buttons now control the ",o.a.createElement("span",{className:"orange-gradient"},"length")," of the loop"),o.a.createElement("span",{className:"italic"},"1/4th, 1/2th, & 1 bar.")],position:[-.14,-.2],arrow:{bottom:"-20px",left:"68px"}},13:{text:[o.a.createElement("span",null,"Click the background to ",o.a.createElement("span",{className:"orange-gradient"},"stop looping"),".")],position:[-.13,.1],arrow:{bottom:"-20px",right:"72px"}},15:{text:[o.a.createElement("span",null,"Sick remix! Click here to ",o.a.createElement("span",{className:"orange-gradient"},"save")," it")],style:{left:"25px",bottom:"100px"},arrow:{bottom:"-20px",left:Hn.isMobile?"10px":"15px"}}},Bo=function(t,e){var n=window.innerWidth,r=window.innerHeight;return e+=.1,{left:t*r+n/2-76,top:window.innerHeight-(e*r+r/2)}},Uo=Object(u.b)(function(t,e){return{playStatus:t.playback.playStatus}},function(t){return{}})(function(t){var e=t.step,n=t.setStep,a=t.shown,i=t.setHide,c=t.hide,u=(t.playerRef,t.setFinished),s=t.playStatus,l=Object(r.useRef)(),f=Go[e];if(Object(r.useEffect)(function(){a.current[e]=!c},[e,c]),Object(r.useEffect)(function(){s&&(clearTimeout(l.current),l.current=setTimeout(function(){i(!1),n(15)},8e4))},[s,i,n]),Object(r.useEffect)(function(){6!=e?14==e&&i(!0):i(!0)},[i,u,e]),!f||c)return"";var h=f.text,d=f.position,p=f.arrow,y=f.style,v=y||Bo(d[0],d[1]),m=v.left,g=v.top;if(e>0&&a.current[e])return"";var b="tutorial-tooltip text-xs";return 15===e&&(b+=" saving-tooltip"),o.a.createElement("div",{onClick:function(){15===e&&(console.log("clicking"),u(!0),i(!0))},style:y||{left:m+"px",top:g+"px"},className:b},h.map(function(t){return o.a.createElement("p",null,t)}),p&&o.a.createElement("div",{style:p,className:"arrow"}))}),Zo=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.setShowTutorial,n=t.zorbId,r=t.finished;return void 0===n?"":o.a.createElement("div",{onClick:function(){return e(!1)},className:"tooltip-closer pushable flex w-52 text-center tutorial-closer fixed bottom-0 mx-auto left-0 right-0 px-4 pt-2 pb-1 z-30"},o.a.createElement("span",{className:"mx-auto"}," ",r?"let's go":"skip tutorial"),o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"})))}),Yo=(n(1282),n(1283),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.zorbId,n=t.showTutorial,a=t.setShowTutorial,i=t.playerRef,u=Object(r.useState)(!1),s=Object(c.a)(u,2),l=s[0],f=s[1],h=Object(r.useState)(!1),d=Object(c.a)(h,2),p=d[0],y=d[1],v=Object(r.useState)(!1),m=Object(c.a)(v,2),g=m[0],b=m[1],w=function(t,e){var n=Object(r.useState)(0),o=Object(c.a)(n,2),a=o[0],i=o[1],u=Object(r.useRef)({});Object(r.useEffect)(function(){if(t.current)return t.current.contentWindow.postMessage({type:"tutorial-mode",body:1},"*"),t.current.contentWindow.postMessage({type:"tutorial-arrow-mode",body:1},"*"),function(){t.current&&(console.log("setting tutorial mode to false"),t.current.contentWindow.postMessage({type:"tutorial-mode",body:0},"*"))}},[]),Object(r.useEffect)(function(){t.current&&(a>=6&&t.current.contentWindow.postMessage({type:"tutorial-mode",body:0},"*"),t.current.contentWindow.postMessage({type:"tutorial-step",body:a},"*"))},[a]),Object(r.useEffect)(function(){return window.addEventListener("message",s),function(){return window.removeEventListener("message",s)}},[i,a,e]);var s=Object(r.useCallback)(function(t){var n=function(t){if("zorbs-expanded"===t.type)return 7}(t.data);if(void 0!==n&&!u.current[n])return i(n),void e(!1);Do[a]&&Do[a](t.data)&&i(a+1)},[a,i,e]);return{step:a,setStep:i,shown:u}}(i,b),x=w.step,E=w.setStep,O=w.shown;return Object(r.useEffect)(function(){a(!g)},[g]),Object(r.useEffect)(function(){x>=15&&a(!1)},[x,a]),l?"":[i.current&&o.a.createElement(Uo,{setFinished:y,playerRef:i,setHide:b,hide:g,step:x,shown:O,setStep:E}),n&&!g&&o.a.createElement(Zo,{finished:p,zorbId:e,setShowTutorial:function(t){f(!t),a(t)}})]})),Wo=(n(1284),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){return o.a.createElement("div",{className:"no-access absolute top-0 left-0 w-full h-full flex"},o.a.createElement("div",{className:"absolute z-30 top-3 right-3"},o.a.createElement(Ht.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect to Enter"})),o.a.createElement("span",{className:"m-auto"},"You must be a member of ",o.a.createElement("a",{href:"https://nouns.build/dao/0x4e30bd0c525466e1bbb0b9028a596260c12b1561/"},"SporesDAO")," to access right now."))})),Ho=[{__typename:"Token",tokenId:"3974",image:{url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgxMDAsIDcxJSwgODQlKSIgLz48c3RvcCBvZmZzZXQ9IjM5LjU4JSIgc3RvcC1jb2xvcj0iaHNsKDEwMCwgNzMlLCA4MCUpIiAvPjxzdG9wIG9mZnNldD0iNzIuOTIlIiBzdG9wLWNvbG9yPSJoc2woMTgxLCA3OCUsIDcyJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCgxODksIDkwJSwgNjUlKSIgLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9ImhzbCgxODksIDk1JSwgNjQlKSIgLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LDUpIj48cGF0aCBkPSJNMTAwIDUwQzEwMCAyMi4zODU4IDc3LjYxNDIgMCA1MCAwQzIyLjM4NTggMCAwIDIyLjM4NTggMCA1MEMwIDc3LjYxNDIgMjIuMzg1OCAxMDAgNTAgMTAwQzc3LjYxNDIgMTAwIDEwMCA3Ny42MTQyIDEwMCA1MFoiIGZpbGw9InVybCgjZ3pyKSIgLz48cGF0aCBzdHJva2U9InJnYmEoMCwwLDAsMC4wNzUpIiBmaWxsPSJ0cmFuc3BhcmVudCIgc3Ryb2tlLXdpZHRoPSIxIiBkPSJNNTAsMC41YzI3LjMsMCw0OS41LDIyLjIsNDkuNSw0OS41Uzc3LjMsOTkuNSw1MCw5OS41UzAuNSw3Ny4zLDAuNSw1MFMyMi43LDAuNSw1MCwwLjV6IiAvPjwvZz48L3N2Zz4="}},{__typename:"Token",tokenId:"4557",image:{url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgxMjEsIDcxJSwgOTYlKSIgLz48c3RvcCBvZmZzZXQ9IjM5LjU4JSIgc3RvcC1jb2xvcj0iaHNsKDEyMiwgNzclLCA4OSUpIiAvPjxzdG9wIG9mZnNldD0iNzIuOTIlIiBzdG9wLWNvbG9yPSJoc2woMTI4LCA4NCUsIDc2JSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCgxMzAsIDg3JSwgNjUlKSIgLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9ImhzbCgxMzEsIDg3JSwgNjQlKSIgLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LDUpIj48cGF0aCBkPSJNMTAwIDUwQzEwMCAyMi4zODU4IDc3LjYxNDIgMCA1MCAwQzIyLjM4NTggMCAwIDIyLjM4NTggMCA1MEMwIDc3LjYxNDIgMjIuMzg1OCAxMDAgNTAgMTAwQzc3LjYxNDIgMTAwIDEwMCA3Ny42MTQyIDEwMCA1MFoiIGZpbGw9InVybCgjZ3pyKSIgLz48cGF0aCBzdHJva2U9InJnYmEoMCwwLDAsMC4wNzUpIiBmaWxsPSJ0cmFuc3BhcmVudCIgc3Ryb2tlLXdpZHRoPSIxIiBkPSJNNTAsMC41YzI3LjMsMCw0OS41LDIyLjIsNDkuNSw0OS41Uzc3LjMsOTkuNSw1MCw5OS41UzAuNSw3Ny4zLDAuNSw1MFMyMi43LDAuNSw1MCwwLjV6IiAvPjwvZz48L3N2Zz4="}},{tokenId:"10318",image:{url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCg5MSwgNzElLCA5NCUpIiAvPjxzdG9wIG9mZnNldD0iMzkuNTglIiBzdG9wLWNvbG9yPSJoc2woOTEsIDcyJSwgODMlKSIgLz48c3RvcCBvZmZzZXQ9IjcyLjkyJSIgc3RvcC1jb2xvcj0iaHNsKDY0LCA3NSUsIDY5JSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCg2MSwgODMlLCA2NCUpIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iaHNsKDYxLCA4NyUsIDYzJSkiIC8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw1KSI+PHBhdGggZD0iTTEwMCA1MEMxMDAgMjIuMzg1OCA3Ny42MTQyIDAgNTAgMEMyMi4zODU4IDAgMCAyMi4zODU4IDAgNTBDMCA3Ny42MTQyIDIyLjM4NTggMTAwIDUwIDEwMEM3Ny42MTQyIDEwMCAxMDAgNzcuNjE0MiAxMDAgNTBaIiBmaWxsPSJ1cmwoI2d6cikiIC8+PHBhdGggc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDc1KSIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTUwLDAuNWMyNy4zLDAsNDkuNSwyMi4yLDQ5LjUsNDkuNVM3Ny4zLDk5LjUsNTAsOTkuNVMwLjUsNzcuMywwLjUsNTBTMjIuNywwLjUsNTAsMC41eiIgLz48L2c+PC9zdmc+"}},{tokenId:"10848",image:{url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgzMjYsIDcyJSwgODQlKSIgLz48c3RvcCBvZmZzZXQ9IjM5LjU4JSIgc3RvcC1jb2xvcj0iaHNsKDMyNiwgNzglLCA3NSUpIiAvPjxzdG9wIG9mZnNldD0iNzIuOTIlIiBzdG9wLWNvbG9yPSJoc2woMTEsIDg3JSwgNjMlKSIgLz48c3RvcCBvZmZzZXQ9IjkwLjYzJSIgc3RvcC1jb2xvcj0iaHNsKDE1LCA5MSUsIDU4JSkiIC8+PHN0b3Agb2Zmc2V0PSIxMDAlIiBzdG9wLWNvbG9yPSJoc2woMTUsIDkxJSwgNTclKSIgLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LDUpIj48cGF0aCBkPSJNMTAwIDUwQzEwMCAyMi4zODU4IDc3LjYxNDIgMCA1MCAwQzIyLjM4NTggMCAwIDIyLjM4NTggMCA1MEMwIDc3LjYxNDIgMjIuMzg1OCAxMDAgNTAgMTAwQzc3LjYxNDIgMTAwIDEwMCA3Ny42MTQyIDEwMCA1MFoiIGZpbGw9InVybCgjZ3pyKSIgLz48cGF0aCBzdHJva2U9InJnYmEoMCwwLDAsMC4wNzUpIiBmaWxsPSJ0cmFuc3BhcmVudCIgc3Ryb2tlLXdpZHRoPSIxIiBkPSJNNTAsMC41YzI3LjMsMCw0OS41LDIyLjIsNDkuNSw0OS41Uzc3LjMsOTkuNSw1MCw5OS41UzAuNSw3Ny4zLDAuNSw1MFMyMi43LDAuNSw1MCwwLjV6IiAvPjwvZz48L3N2Zz4="}},{tokenId:"21871",image:{size:"850",url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgzNTUsIDcxJSwgOTUlKSIgLz48c3RvcCBvZmZzZXQ9IjM5LjU4JSIgc3RvcC1jb2xvcj0iaHNsKDM1NSwgNzMlLCA4NiUpIiAvPjxzdG9wIG9mZnNldD0iNzIuOTIlIiBzdG9wLWNvbG9yPSJoc2woMzI4LCA3OCUsIDcwJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCgzMjUsIDkwJSwgNTYlKSIgLz48c3RvcCBvZmZzZXQ9IjEwMCUiIHN0b3AtY29sb3I9ImhzbCgzMjUsIDk1JSwgNTUlKSIgLz48L3JhZGlhbEdyYWRpZW50PjwvZGVmcz48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSg1LDUpIj48cGF0aCBkPSJNMTAwIDUwQzEwMCAyMi4zODU4IDc3LjYxNDIgMCA1MCAwQzIyLjM4NTggMCAwIDIyLjM4NTggMCA1MEMwIDc3LjYxNDIgMjIuMzg1OCAxMDAgNTAgMTAwQzc3LjYxNDIgMTAwIDEwMCA3Ny42MTQyIDEwMCA1MFoiIGZpbGw9InVybCgjZ3pyKSIgLz48cGF0aCBzdHJva2U9InJnYmEoMCwwLDAsMC4wNzUpIiBmaWxsPSJ0cmFuc3BhcmVudCIgc3Ryb2tlLXdpZHRoPSIxIiBkPSJNNTAsMC41YzI3LjMsMCw0OS41LDIyLjIsNDkuNSw0OS41Uzc3LjMsOTkuNSw1MCw5OS41UzAuNSw3Ny4zLDAuNSw1MFMyMi43LDAuNSw1MCwwLjV6IiAvPjwvZz48L3N2Zz4="}}];var Jo={endPoint:"https://api.zora.co/graphql",networks:[{network:se.ZDKNetwork.Ethereum,chain:se.ZDKChain.Mainnet}],apiKey:"ROLsxj1Z_MDY40UDQszIIw"},Vo=(new se.ZDK(Jo),{}),Qo=(n(1285),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.setShowProfile,n=t.zorbId,a=Object(r.useState)(),i=Object(c.a)(a,2),u=i[0],s=i[1],l=Object(_e.c)(),f=l.data;l.isError,l.isLoading;return Object(r.useEffect)(function(){void 0!==n&&er(n).then(s)},[n,s]),o.a.createElement("div",{onClick:function(t){t.stopPropagation(),e(f.address)},className:"profile-button pushable ml-auto h-6 px-1 flex"},u?o.a.createElement("img",{className:"w-4 h-4 m-auto",src:u}):f&&o.a.createElement(Te,{className:"px-2 text-sm mx-0",address:f.address}))})),qo=(n(1286),Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.playerRef,n=t.setIsScrubbing,a=t.isScrubbing,i=Object(r.useRef)(!1),u=Object(r.useRef)(),l=Object(r.useState)(0),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(r.useState)({duration:0,progress:0}),y=Object(c.a)(p,2),v=y[0],m=y[1];Object(r.useEffect)(function(){return window.addEventListener("message",g),function(){return window.removeEventListener("message",g)}},[m,v]);var g=Object(r.useCallback)(function(t){"song-position"===t.data.type&&m(Object(s.a)({},v,{progress:t.data.body})),"song-duration"===t.data.type&&m(Object(s.a)({},v,{duration:t.data.body}))},[m,v]),b=Object(r.useCallback)(function(){i.current=!0,n(!0)},[n]);Object(r.useEffect)(function(){a||(i.current=!1)},[a]);var w=Object(r.useCallback)(function(){i.current=!1,n(!1)},[n]);Object(r.useEffect)(function(){return window.addEventListener("mouseup",w),window.addEventListener("touchend",w),function(){window.removeEventListener("mouseup",w),window.removeEventListener("touchend",w)}},[n]),Object(r.useEffect)(function(){return window.addEventListener("mousemove",x),window.addEventListener("touchmove",x),function(){window.removeEventListener("mousemove",x),window.removeEventListener("touchmove",x)}},[e,d]);var x=Object(r.useCallback)(function(t){if(e&&e.current&&i.current){t.touches&&(t=t.touches[0]);var n=100*(t.clientX-u.current.getBoundingClientRect().left)/u.current.offsetWidth;d(Math.max(0,Math.min(100,n))),e.current.contentWindow.postMessage({type:"seek-to-percentage",body:Math.max(0,Math.min(100,n))},"*")}},[e,d]),E=i.current?h:v.progress,O="hsl(".concat((180+E/100*360)%360,"deg 83% 55%)");return o.a.createElement("div",{ref:u,onMouseDown:b,onTouchStart:b,className:"scrub-bar h-3 w-5/6 bg-black"},o.a.createElement("div",{style:{width:E+"%"},className:"absolute w-8 h-4 inner-playbar"}),o.a.createElement("div",{onMouseDown:b,onTouchStart:b,style:{left:E+"%"},className:"absolute playhead-wrapper"},o.a.createElement("div",{style:{backgroundColor:O},className:"w-8 h-6 playhead rounded-full"})))}));function Xo(){Xo=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Ko(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return $o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $o(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function $o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ta=(new gn).contractAddress,ea=void 0,na=function(){var t=Object($.a)(Xo().mark(function t(e){var n,r,o,a,i,c,u,s,l,f,h,d,p,y,v,m,g,b,w,x,E;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e||!ea){t.next=2;break}return t.abrupt("return",ea);case 2:return n=new _t(ta).from(ft),e&&n.whereIn("songId",e),t.next=6,n.executeQuery();case 6:return r=t.sent,t.next=9,ra(r.map(function(t){return t.songId}));case 9:o=t.sent,a=[],i=Ko(r),t.prev=12,i.s();case 14:if((c=i.n()).done){t.next=71;break}return u=c.value,s=u.songId,l=new _t(ta).from(ht).where("songId",s),t.next=20,l.executeQuery(!0,!0);case 20:f=t.sent,h=!1,d=Ko(a),t.prev=23,d.s();case 25:if((p=d.n()).done){t.next=32;break}if(p.value.songId!==s){t.next=30;break}return h=!0,t.abrupt("break",32);case 30:t.next=25;break;case 32:t.next=37;break;case 34:t.prev=34,t.t0=t.catch(23),d.e(t.t0);case 37:return t.prev=37,d.f(),t.finish(37);case 40:if(!h){t.next=42;break}return t.abrupt("continue",69);case 42:return y=f.map(function(t){return t.stemId}),v=new _t(ta).from(yt).whereIn("stemId",y),m=o[s],t.next=47,v.executeQuery(!0,!0);case 47:g=t.sent,b=[],w=Ko(f),t.prev=50,E=function(){var t=x.value;if(b.some(function(e){return e.stemId===t.stemId}))return"continue";t.isDefaultStem=!!m&&m.includes(t.stemId);var e=g.filter(function(e){return e.stemId===t.stemId});t.stemTypes=e.map(function(t){return t.stemType}),t.prettyStemTypes=e.map(function(t){return rt[t.stemType]}),b.push(t)},w.s();case 53:if((x=w.n()).done){t.next=59;break}if("continue"!==E()){t.next=57;break}return t.abrupt("continue",57);case 57:t.next=53;break;case 59:t.next=64;break;case 61:t.prev=61,t.t1=t.catch(50),w.e(t.t1);case 64:return t.prev=64,w.f(),t.finish(64);case 67:u.stems=b,a.push(u);case 69:t.next=14;break;case 71:t.next=76;break;case 73:t.prev=73,t.t2=t.catch(12),i.e(t.t2);case 76:return t.prev=76,i.f(),t.finish(76);case 79:return ea=a,t.abrupt("return",a);case 81:case"end":return t.stop()}},t,null,[[12,73,76,79],[23,34,37,40],[50,61,64,67]])}));return function(e){return t.apply(this,arguments)}}(),ra=function(){var t=Object($.a)(Xo().mark(function t(){var e,n,r,o,a,i,c,u,s,l,f,h,d,p,y;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new _t(ta).from(dt),t.next=3,e.executeQuery(!0,!0);case 3:n=t.sent,r=new Set,o={},a=Ko(n);try{for(a.s();!(i=a.n()).done;)c=i.value,r.has(c.songId)||(o[c.configId]=c.songId),r.add(c.songId)}catch(v){a.e(v)}finally{a.f()}return u=(u=Object.keys(o)).map(function(t){return parseInt(t)}),s=new _t(ta).from(pt).whereIn("configId",u),t.next=13,s.executeQuery(!0,!0);case 13:l=t.sent,f={},h=Ko(l);try{for(h.s();!(d=h.n()).done;)p=d.value,y=o[p.configId],f[y]||(f[y]=[]),f[y].push(p.stemId)}catch(v){h.e(v)}finally{h.f()}return t.abrupt("return",f);case 18:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),oa=na,aa=[8,9,13];function ia(){ia=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function ca(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return ua(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ua(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ua(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var sa=function(){var t=Object($.a)(ia().mark(function t(e){var n,r,o,a,i,c,u,s,l,f,h,d,p;return ia().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e),t.next=3,oa([e]);case 3:n=t.sent,r=n[0],console.log("build"),console.log(r),o=0,a=[],i=[],c=ca(r.stems);try{for(c.s();!(u=c.n()).done;)1===(s=u.value).prettyStemTypes.length&&"Instruments"===s.prettyStemTypes[0]&&a.push(o),1===s.prettyStemTypes.length&&"Drums"===s.prettyStemTypes[0]&&i.push(o),o++}catch(y){c.e(y)}finally{c.f()}if(!(a.length>=3)){t.next=29;break}case 13:if(l){t.next=25;break}return t.next=16,fa(e);case 16:return h=t.sent,console.log("other songId = ",h),t.next=20,oa([h]);case 20:f=t.sent[0],console.log("other song=",f),l=la(f.stems,"Instrument"),t.next=13;break;case 25:l.song=f,d=Math.floor(3*Math.random()),console.log("chose synth index=",a[d],l),r.stems[a[d]]=l;case 29:return t.next=31,Ut([{songId:e}]);case 31:return p=t.sent,console.log("attributes",p,e),r.attributes=p[e],console.log("built song=",r),t.abrupt("return",r);case 36:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),la=function(t,e){return console.log("getStemForType",t,e),t.find(function(t){return 1===t.prettyStemTypes.length&&"Instruments"===t.prettyStemTypes[0]})},fa=function(){var t=Object($.a)(ia().mark(function t(e){var n,r,o;return ia().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,jn();case 2:return n=t.sent,r=n.map(function(t){return t.songId}).filter(function(t){return![].concat(Object(E.a)(aa),[e,7,4]).includes(t)}),o=Math.floor(Math.random()*r.length),t.abrupt("return",r[o]);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),ha=function(t){return{type:514,payload:t}},da=function(t){return{type:515,payload:t}},pa=function(t){return{type:516,payload:t}},ya=(n(1287),Object(u.b)(function(t,e){return{songLoaded:t.spore.songLoaded,playerRef:t.spore.playerRef}},function(t){return{setSongLoaded:function(e){return t(da(e))},setLeakLoaded:function(e){return t(ha(e))}}})(function(t){var e=Object(r.useState)([]),n=Object(c.a)(e,2),a=n[0],i=n[1],u=Object(r.useState)(),l=Object(c.a)(u,2),f=l[0],h=l[1];Object(r.useEffect)(function(){Re(void 0,!0).then(function(t){return i(t.filter(function(t){return!t.isHidden}).sort(function(t,e){return e.songId-t.songId}))})},[]);var d=Object(r.useCallback)(function(e){h(e.songId),sa(e.songId).then(function(e){t.playerRef.current.contentWindow.postMessage({type:"switch-songs",body:Object(s.a)({},e,{autoPlay:!0})},"*")}),t.setSongLoaded(e.songId),t.setLeakLoaded(void 0)},[t.playerRef,h]);Object(r.useEffect)(function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}},[]);var p=Object(r.useCallback)(function(e){"song-switch-completed"===e.data.type&&t.hide()},[h]);return o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"pt-4 song-selector"},o.a.createElement("div",{className:"header-columns"},o.a.createElement("div",{className:"p-2 flex text-xs"},o.a.createElement("div",{className:"w-48 text-center"},"title"),o.a.createElement("div",{className:"w-48 text-center"},"artist"))),a.map(function(e){return o.a.createElement("div",{onClick:function(){return d(e)},className:f===e.songId===e.songId||(parseInt(t.songLoaded)===e.songId?"bg-zinc-500 text-white ":"")+"pl-2 py-1 flex cursor-pointer text-xs rounded-lg song-option"},o.a.createElement("div",{className:"w-48"},e.title),o.a.createElement("div",{className:"w-48 text-zinc-500"},e.artist),f==e.songId&&o.a.createElement(go,{radius:16}))}))})),va=function(t){var e=t/1e3/60;if(e<60)return Math.ceil(e)+" min. ";var n=e/60;if(n<48)return Math.ceil(n)+" hours ";var r=n/24;return Math.round(r)+" days "},ma=(Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.timeElapsed,n=Object(r.useRef)(0),a=Object(r.useState)("wants to play"),i=Object(c.a)(a,2),u=i[0],s=i[1];return te(Object(r.useCallback)(function(){s(void 0),n.current++,n.current%2===1?s("wants to play"):s("leaked "+va(e)+" ago")},[u,e]),4e3),u?o.a.createElement("span",{className:"time-and-text italic ml-1 "+(n.current%2===0?" odd ":" even")},u):""}),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.zorb1,n=t.zorb2;return o.a.createElement("div",{className:"zorb-multiplayer"},o.a.createElement("img",{src:"/multiplayer-part.svg",className:"image-part-1"}),o.a.createElement("img",{className:"zorb-img part-1",x:"50",y:"50",width:"35",height:"35",src:n}),o.a.createElement("img",{className:"zorb-img part-2",x:"91",y:"71",width:"35",height:"35",src:e}),o.a.createElement("img",{src:"/multiplayer-part.svg",className:"image-part-2"}))}),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.onClick,n=t.className;return o.a.createElement("svg",{onClick:e,className:n+" close-btn z-30 ml-2 w-4 h-5 ",viewPort:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"1",y1:"11",x2:"11",y2:"1",stroke:"white","stroke-width":"2"}),o.a.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11",stroke:"white","stroke-width":"2"}))}));var ga=function(t){var e=~~(t/3600),n=~~(t%3600/60),r=~~t%60,o="";return e>0&&(o+=e+":"+(n<10?"0":"")),o+=n+":"+(r<10?"0":""),o+=""+r},ba=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(r.useState)({duration:0,progress:0}),n=Object(c.a)(e,2),a=n[0],i=n[1];Object(r.useEffect)(function(){return window.addEventListener("message",u),function(){return window.removeEventListener("message",u)}},[i,a]);var u=Object(r.useCallback)(function(t){"song-position"===t.data.type&&i(Object(s.a)({},a,{progress:t.data.body})),"song-duration"===t.data.type&&i(Object(s.a)({},a,{duration:t.data.body}))},[i,a]);return o.a.createElement("div",{className:(t.className||"text-sm")+" clock"},ga(a.progress/100*a.duration)," / ",ga(a.duration))}),wa=(n(1288),Object(u.b)(function(t,e){return{songLoading:t.spore.songLoading}},function(t){return{setSongLoading:function(e){return t(pa(e))}}})(function(t){var e=t.playerRef,n=t.setSongLoading,a=t.songLoading,i=Object(r.useState)(!1),u=Object(c.a)(i,2),s=u[0],l=u[1],f=Object(r.useState)(!1),h=Object(c.a)(f,2),d=h[0],p=h[1];Object(r.useEffect)(function(){window.addEventListener("message",v)},[l,p]);var y=Object(r.useCallback)(function(){e.current.contentWindow.postMessage({type:"toggle-play",body:!0},"*"),s&&l(!1)},[s,l]),v=Object(r.useCallback)(function(t){if("jacker-status"===t.data.type){var e=parseInt(t.data.body);l(e),p(!0),n(!1)}},[l,p]);return a?o.a.createElement(go,{className:"loading-song",radius:25}):d?o.a.createElement("div",{className:"simple-controls"},o.a.createElement(Vn,{play:y,isPlaying:s})):void 0})),xa=Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef,a:window.A||6,b:window.B||60,c:window.C||20}},function(t){return{}})(function(t){t.showTutorial,t.hideLeaks;var e=t.nextLeak,n=(t.chooseLeak,t.artist),a=t.songId,i=t.title,u=t.playerRef,s=t.playCount,l=t.setShowRemixes,f=t.setRemixes,h=t.zorbId,d=t.setShowProfile,p=(t.remixes,t.tooltip,t.userZorbs),y=(Object(gr.a)(t,["showTutorial","hideLeaks","nextLeak","chooseLeak","artist","songId","title","playerRef","playCount","setShowRemixes","setRemixes","zorbId","setShowProfile","remixes","tooltip","userZorbs"]),Object(r.useState)(!1)),v=Object(c.a)(y,2),m=(v[0],v[1]),g=Object(r.useState)(!1),b=Object(c.a)(g,2),w=b[0],x=b[1];Object(r.useEffect)(function(){void 0!==a&&(Object(Ie.setZoraApiKey)("ROLsxj1Z_MDY40UDQszIIw"),Me({songId:parseInt(a)}).then(f))},[a,f]);var E=Object(r.useState)(),O=Object(c.a)(E,2),j=(O[0],O[1]);Object(r.useEffect)(function(){e&&er(e.attributes.zorb).then(j)},[e,j]);var L,S=[[],[oo(140),ao().start(10).end(30).tension(10).depth(40),oo(30),ao().start(10).end(50).tension(30).depth(-20)],[],[]],I=(L=!0,ro("relative",L),oo(Hn.isMobile?38:32),ao().start(window.A).end(window.B).tension(window.C).depth(70),oo(Hn.isMobile?40:50),ao().start(10).end(12).tension(30).depth(-70),e&&e.mintInfo.toAddress,p&&p[0]&&p[0].image.url,e&&new Date(e.mintInfo.mintContext.blockTimestamp));I&&((new Date).getTime(),I.getTime());return[o.a.createElement("div",{svgFilter:{def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"},relative:!1,radius:12,className:(void 0===h?"invisible ":"")+(w?"showing-songs ":"")+"zpore-control-header "+(e?" ":""),algo:S,fill:w?"#0000004a":"#ffffff33",stroke:"transparent"},o.a.createElement("div",{className:"flex z-20 flex-col  overflow-hidden inner-control"},o.a.createElement("div",{onClick:function(){return x(!w)},className:"w-full px-3 py-2 flex flex-col text-sm top-header"},o.a.createElement("div",{className:"flex"},o.a.createElement("img",{className:"w-10 h-10",src:"/default-cover.png"}),o.a.createElement("div",{className:"ml-2 flex flex-col flex-1"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"text-black mr-auto"},i),o.a.createElement(Qo,{zorbId:h,setShowProfile:d})),o.a.createElement("div",{className:"text-black zpore-artist-name underline cursor-pointer"},(n||"").trim())))),w&&o.a.createElement(ya,{hide:function(){return x(!1)}}),o.a.createElement("div",{className:(w?"invisible ":"")+"w-full pt-3 px-3 pb-1 flex"},o.a.createElement("div",{className:"flex"},u&&o.a.createElement(wa,{playerRef:u}),o.a.createElement(ba,{className:"text-black text-xs"})),o.a.createElement("div",{onClick:function(){return l(!0)},className:"ml-auto remixes-btn text-xs  text-black"},s," plays \u2197")),o.a.createElement(qo,{setIsScrubbing:m})))]}),Ea=(n(1289),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.zorbStartPosition,n=e.image,a=e.x,i=e.y,u=Object(r.useState)(!1),s=Object(c.a)(u,2),l=s[0],f=s[1],h=function(t,e){t="--"+t,document.documentElement.style.setProperty(t,e)};return Object(r.useEffect)(function(){var t=window.innerWidth,e=window.innerHeight;h("zorb-start-x",a+-25+"px"),h("zorb-start-y",i+-25+"px"),h("zorb-mid-x",t/2-25+"px"),h("zorb-mid-y",t/2-25+"px"),h("zorb-end-x",t/2-25+"px"),h("zorb-end-y",e/2-25+"px"),f(!0),setTimeout(function(){f(!1)},1e3)},[e,a,i,f]),l?o.a.createElement("img",{style:{left:a,top:i},className:"zorb-animation animate-it",src:n}):""})),Oa=n(19),ja=(n(1290),n(1301),Object(u.b)(function(t,e){return{}},null)(function(t){t.text;var e=t.className,n=void 0===e?"":e,a=(t.width,t.intervalTime),i=void 0===a?100:a,u=t.intervalPiece,s=void 0===u?10:u,l=Object(r.useState)(24),f=Object(c.a)(l,2),h=(f[0],f[1]);Object(r.useEffect)(function(){var t=setInterval(function(){h(function(t){return(t+s)%100})},i);return function(){return clearInterval(t)}},[]);return o.a.createElement("div",{className:"progress-bar "+n},o.a.createElement("div",{style:{borderRadius:"35px",height:"70px",width:"70px",position:"absolute",margin:"auto",left:"0",right:"0",top:"0",bottom:"0"}},o.a.createElement("img",{style:{width:"100%"},src:"/spores-icon-glow.svg"})))})),La=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.songId,n=t.hide,a=t.download,i=t.transaction,u=t.downloading,s=t.isWaitingForSignature,l=Object(r.useState)(!1),f=Object(c.a)(l,2),h=f[0],d=f[1];return u?o.a.createElement("div",{className:"download-test downloading"},o.a.createElement(ja,null)):s?o.a.createElement("div",{className:"waiting download-test"},"We are transmitting your remix on-chain.",o.a.createElement("div",{className:"test-net"},"This is on a test-network, as we develop this."),o.a.createElement(ja,null)):o.a.createElement("div",{className:"download-test"},o.a.createElement("span",null,"Your remix is now beaming into other spores. Download your remix ",o.a.createElement("a",{target:"_blank",href:"https://zequencer.mypinata.cloud/ipfs/"+a},"here"),". "),o.a.createElement("br",null),o.a.createElement("div",{className:"flex"},o.a.createElement("div",{onClick:n,className:"px-3 py-1 text-md ok-button pushable"},"OK ",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))),o.a.createElement(Jn,{setShowModal:d,type:"remix",showShareModal:h,url:"spores.vision/beta/"+e+"/"+i,lowerGradInverted:"black",buttonBgColor:"black"})))}),Sa=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.start,n=t.player,a=t.setIsPlaying,i=t.width,u=t.startRef,s=t.lengthRef,l=t.isPlaying,f=Object(r.useState)(0),h=Object(c.a)(f,2),d=h[0],p=h[1],y=Object(r.useCallback)(function(){if(l){var t=3/n.duration;d+t>u.current+s.current?(a(!1),p(u.current)):p(d+t)}},[l,p,d,n]);return Object(r.useEffect)(function(){p(e)},[l,e]),te(y,30),o.a.createElement("div",{style:{left:30+d/100*i*2+"px"},className:"playhead"})}),Ia=Object(u.b)(function(t,e){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},function(t){return{}})(function(t){var e=t.width,n=t.buffer,a=t.start,i=t.length,u=function(t){var e=t.buffer,n=t.start,o=t.length,a=Object(r.useRef)(!1),i=Object(r.useRef)(n),u=Object(r.useRef)(o),s=Object(r.useState)(!1),l=Object(c.a)(s,2),f=l[0],h=l[1],d=Object(r.useState)(new en($e.a.Master.context)),p=Object(c.a)(d,2),y=p[0];p[1],Object(r.useEffect)(function(){i.current=n,u.current=o,h(!1),y.stopSound()},[n,o,h]),Object(r.useEffect)(function(){},[e]);var v=Object(r.useCallback)(function(){if(!a.current){var t=new AudioBuffer({length:e[0].length,sampleRate:44100,numberOfChannels:e.length});t.copyToChannel(e[0],0),e[1]&&t.copyToChannel(e[1],1),y.setBuffer(t),a.current=!0}y.playSound(i.current/100*y.duration,u.current/100*y.duration)},[]),m=Object(r.useCallback)(function(){f?y.stopSound():v(),h(!f)},[f,h,n,o]);return{player:y,setIsPlaying:h,startRef:i,lengthRef:u,play:m,isPlaying:f,stop:function(){return y.stopSound()}}}({buffer:n,start:a,length:i}),s=u.startRef,l=u.lengthRef,f=(u.playhead,u.stop),h=u.play,d=u.isPlaying,p=u.setIsPlaying,y=u.player;return Object(r.useEffect)(function(){return function(){return f()}},[]),[o.a.createElement("div",{className:"control-btn-container"},o.a.createElement(Vn,{isPlaying:d,play:h})),o.a.createElement(Sa,{start:a,length:i,width:e,startRef:s,lengthRef:l,isPlaying:d,setIsPlaying:p,player:y})]}),Na=function(t){return 1/(8*t/60)},ka=function(t,e){return t=Math.round(10*t)/10,e&&t<10?"0"+t:t},Ta=Object(u.b)(function(t){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},void 0)(function(t){var e=t.endTime,n=t.length,a=t.isStableBPM,i=t.beatGuide,u=t.setIsStableBPM,s=t.start,l=t.buffer,f=t.bpm,h=t.detune,d=t.setBPM,p=t.setDetune;return Object(r.useEffect)(function(){var t=s;s=s/100*l[0].length/44100;for(var r=(t+n)/100*l[0].length/44100,o=0,a=0,f=0,h=new Set,y=0;y<i.length;y++){var v=Object(c.a)(i[y],4),m=(v[0],v[1]),g=v[2],b=v[3],w=l[0].length/44100-(e-m);w>=s&&w<r&&(o+=g,a+=b,f++,h.add(g))}u(1===h.size),d(o/f),p(a/f)},[s,n,l,i,u,e,d,p]),o.a.createElement("div",{className:"start-info"},o.a.createElement("div",{className:"flex-col w-8 flex"},o.a.createElement("span",{className:"slice-len text-center"},Math.round(f)),o.a.createElement("span",{className:"text-zinc-500 text-xs text-center"},"bpm")),o.a.createElement("div",{className:"flex-col w-8 flex"},o.a.createElement("span",{className:"slice-len text-center"},h>0?"+":"",ka(h/100)),o.a.createElement("span",{className:"mx-1 text-zinc-500 text-xs text-center"},"tuning")),o.a.createElement("div",{className:"mt-0.5 ml-auto w-16 flex flex-col"},o.a.createElement("div",{className:"text-xs flex w-full h-4"},o.a.createElement("div",{className:"label mt-0.5"},"00:",ka(s,!0)),o.a.createElement("div",{className:"text-xs ml-auto text-zinc-500"},"s")),o.a.createElement("span",{className:"mt-0.5 mx-1 text-zinc-500 text-xs text-center"},"start")),!a&&o.a.createElement("div",{className:"not-stable-bpm"},o.a.createElement("div",{className:"text-xs italic"},"unstable bpm")))}),Ca=Object(u.b)(function(t,e){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},function(t){return{}})(function(t){var e=t.bpm,n=t.setBPM,r=t.isStableBPM,a=t.setIsStableBPM,i=t.length,c=t.detune,u=t.setDetune,s=t.beatGuide,l=t.endTime,f=t.start,h=t.buffer,d=t.width,p=t.dragStartControl,y=t.dragEndControl;return o.a.createElement("div",{style:{left:30+f/100*(2*d)+"px",width:i/100*(2*d)+"px"},className:"slicer"},o.a.createElement("div",{onMouseDown:p,onTouchStart:p,className:"start-control"},o.a.createElement(Ta,{bpm:e,setBPM:n,length:i,detune:c,setDetune:u,beatGuide:s,endTime:l,isStableBPM:r,setIsStableBPM:a,start:f,buffer:h}),o.a.createElement("div",{className:"arrow-left"})),o.a.createElement("div",{onTouchStart:y,onMouseDown:y,className:"end-control"},o.a.createElement("div",{className:"arrow-right"})))});function _a(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Aa(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Aa(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Aa(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Ma=function(t){var e=t.endTime,n=t.loopsData,o=t.zorbMovements,a=t.stemsData,i=t.remixesHistory,u=(t.startStep,t.silence),l=t.start,f=t.length,h=t.buffer,d=t.draggingStart,p=t.draggingEnd,y=Object(r.useState)({}),v=Object(c.a)(y,2),m=v[0],g=v[1];return Object(r.useEffect)(function(){var t=Pa(n.synths,l,f,h,e),r=Pa(n.drums,l,f,h,e),u=Pa(i,l,f,h,e,!0),d=Pa(o,l,f,h,e,!0).filter(function(t){return"none"!==t[1]}).map(function(t){var n=Object(c.a)(t,3),r=(n[0],n[1]),o=n[2];return za(r,o,h,e,l)}).filter(function(t){return t.time>=0}),p=t.map(function(t){var n=Object(c.a)(t,3),r=(n[0],n[1]),o=n[2];return Fa(r,o,h,e,l)}).filter(function(t){return t.time>=0}),y=r.map(function(t){var n=Object(c.a)(t,3),r=(n[0],n[1]),o=n[2];return Fa(r,o,h,e,l)}).filter(function(t){return t.time>=0}),v=h[0].length/44100,m=e-v+v*l/100,b=m+v*f/100,w=function(t,e,n,r,o){var a=Bt(e,t.synths,n,r,o),i=Bt(e,t.drums,n,r,o),c=Bt(void 0,t.remixes,n,r,o),u=Object(s.a)({},a,i);return delete u[void 0],{stemIds:Object.keys(u).map(function(t){return parseInt(t)}),percentages:Object.values(u).map(Math.round),remixPercentages:c,movements:t.movements,synths:t.synthMovements.map(function(t){return Object(s.a)({},t,{stemId:e[t.stemId]})}),drums:t.drumMovements.map(function(t){return Object(s.a)({},t,{stemId:e[t.stemId]})})}}({synths:t,drums:r,remixes:u,movements:d,synthMovements:p,drumMovements:y},a,b-m,m,b);g(w)},[u,a,l,f,g,e,i,o,p,d]),{croppedStemsData:m}},Pa=function(t,e,n,r,o,a){t=t.map(function(t){return[isNaN(t[0])?0:t[0],t[1],t[2]]});var i=r[0].length/44100,u=o-i+i*e/100,s=u+i*n/100;if(0===t.length)return[];var l,f=void 0,h=t[0][2],d=_a(t);try{for(d.s();!(l=d.n()).done;){var p=l.value,y=Object(c.a)(p,3),v=(y[0],y[1],y[2]);if(v>=u){f=h||v;break}h=v}}catch(L){d.e(L)}finally{d.f()}void 0===f&&(f=t[t.length-1][2]);var m=void 0;h=void 0;var g,b=_a(t);try{for(b.s();!(g=b.n()).done;){var w=g.value,x=Object(c.a)(w,3),O=(x[0],x[1],x[2]);if(O>=s){m=h||O;break}h=O}}catch(L){b.e(L)}finally{b.f()}void 0===m&&(m=t[t.length-1][2]);var j=t.filter(function(t){return t[2]>=f&&t[2]<=m});return j[0]&&j[0][2]>u&&((j=[[0,"none",0]].concat(Object(E.a)(j)))[0][2]=u),j},za=function(t,e,n,r,o){var a=n[0].length/44100;return{time:e-=r-a+a*o/100,movement:{x:t[0],y:t[1]}}},Fa=function(t,e,n,r,o){var a=n[0].length/44100;return{time:e-=r-a+a*o/100,stemId:t}};function Ra(){Ra=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Da(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Ga(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ga(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ga(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}"0xdAA94fBd00C9a23B4e3b4f684d1103Ff1dDfF972".toLowerCase();var Ba=function(){var t=Object($.a)(Ra().mark(function t(e,n,r,o,a){var i,u,s,l,f,h,d,p,y,v,m,g,b,w,x,E,O,j,L,S,I,N,k,T,C,_=arguments;return Ra().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=_.length>5&&void 0!==_[5]?_[5]:1,u=_.length>6?_[6]:void 0,s=_.length>7?_[7]:void 0,l=_.length>8?_[8]:void 0,f=new _t(At).from(vt).select("dropAddress").select("songId").where("songId",parseInt(r)),t.next=8,f.executeQuery();case 8:if((h=t.sent)[0]){t.next=11;break}return t.abrupt("return");case 11:d=h[0].dropAddress,p=a.stemIds,y=a.percentages,v=a.remixPercentages,m=[],g=Da(p);try{for(g.s();!(b=g.n()).done;)b.value,m.push(At)}catch(e){g.e(e)}finally{g.f()}for(w in v)x=w.split(","),E=Object(c.a)(x,2),O=E[0],j=E[1],m.push(O),p.push(parseInt(j)),y.push(Math.max(0,v[w]));return t.next=19,Ue({movements:a.movements,synths:a.synths,drums:a.drums});case 19:return L=t.sent,S=Ua(m,p,y),I={contentURI:"https://zequencer.mypinata.cloud/ipfs/"+o,coverArtURI:"https://zequencer.mypinata.cloud/ipfs/"+L,zorbId:i,stemPercentages:S.stemPercentages.map(function(t){return Math.max(0,Math.round(t))}),bpm:u.toString(),detune:s.toString(),contractAddresses:S.contractAddresses,ids:S.stemIds},console.log("addToInventory songId=",r),t.next=25,He(n,parseInt(r),I);case 25:return N=t.sent,k=[d,n,I],console.log("mint price=",l),T={args:k,value:1e18*l},console.log("BODY TO MINT=",T),"https://zequencer.io",t.next=34,fetch("https://zequencer.io/gasless-spore",{method:"POST",body:JSON.stringify(T),headers:{Accept:"application/json","Content-Type":"application/json"}});case 34:return C=t.sent,t.next=37,C.json();case 37:return t.sent,t.abrupt("return",N);case 39:case"end":return t.stop()}},t)}));return function(e,n,r,o,a){return t.apply(this,arguments)}}(),Ua=function(t,e,n){if(t.length<=9)return{stemIds:e,contractAddresses:t,stemPercentages:n};for(var r=[],o=[],a=[],i=[],c=[],u=[],s=0;s<t.length;s++){var l=e[s],f=t[s],h=n[s];f.toLowerCase()==="0xBEEF8B1A18B376A82D87d1797359A7aDF09f3dCc".toLowerCase()?(r.push(l),o.push(f),a.push(h)):(i.push(l),c.push(f),u.push(h))}return{stemPercentages:[].concat(u,a).slice(0,9),stemIds:[].concat(i,r).slice(0,9),contractAddresses:[].concat(c,o).slice(0,9)}};var Za=n(549),Ya=n.n(Za);function Wa(){Wa=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Ha=function(){var t=Object($.a)(Wa().mark(function t(e,n,r){var o,a,i,c,u,s,l,f,h,d,p,y;return Wa().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:for(o=e[0].length,a=Math.ceil(n/100*e[0].length),i=Math.ceil(r/100*o),c=new Float32Array(i),u=new Float32Array(i),s=!1,a<0&&(a=0,n=0,s=!0),c.set(e[0].subarray(a,a+i)),u.set(e[1].subarray(a,a+i)),l=0,f=0;f<c.length;f++)l+=Math.pow(c[f],2);return h=Math.sqrt(l/c.length),d="localhost"===window.location.hostname?"http://localhost:9090":"https://zequencer.io",fetch(d+"/save-stats",{method:"POST",body:JSON.stringify({start:n,length:r,average:h}),headers:{Accept:"application/json","Content-Type":"application/json"}}),p=Ja([c,u]),t.next=17,Va(p,!0);case 17:return y=t.sent,s&&Bn(y),t.abrupt("return",y);case 20:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}(),Ja=function(t){for(var e=[],n=new Ya.a.Mp3Encoder(t.length,44100,128),r=t[0],o=t[1],a=0;a<r.length;a+=1152){for(var i=r.subarray(a,a+1152),c=o?o.subarray(a,a+1152):void 0,u=0;u<i.length;u++)i[u]*=32767.5,c&&(c[u]*=32767.5);(s=c?n.encodeBuffer(i,c):n.encodeBuffer(i)).length>0&&e.push(s)}var s;return(s=n.flush()).length>0&&e.push(s),new Blob(e,{type:"audio/mp3"})},Va=function(t,e){return new Promise(function(n){var r=new FormData;e?r.append("file",t):r.append("file",new Blob([t]));fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{pinata_api_key:"66a8464d59553776562c",pinata_secret_api_key:"96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109"},body:r}).then(function(){var t=Object($.a)(Wa().mark(function t(e){var r;return Wa().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:r=t.sent,n(r.IpfsHash);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})};function Qa(){Qa=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var qa=Object(u.b)(function(t,e){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},function(t){return{}})(function(t){var e=t.isCaptioning,n=t.onCancel,a=t.isStableBPM,i=t.account,c=t.setDownloading,u=t.setSaving,s=t.saving,l=t.setIsCaptioning,f=t.bpm,h=t.detune,d=t.mintPrice,p=t.screenshot,y=t.songId,v=t.caption,m=t.buffer,g=t.signer,b=t.setIsWaitingForSignature,w=t.setDownload,x=t.stemsData,E=t.loopsData,O=t.startStep,j=t.silence,L=t.endTime,S=t.remixesHistory,I=t.zorbMovements,N=t.setTransaction,k=t.zorbId,T=t.start,C=t.length,_=t.draggingStart,A=t.draggingEnd,M=function(t){var e=t.songId,n=t.mintPrice,o=t.isStableBPM,a=t.bpm,i=t.detune,c=t.stemsData,u=t.screenshot,s=t.caption,l=t.buffer,f=t.signer,h=t.start,d=t.setIsWaitingForSignature,p=t.setDownloading,y=t.length,v=t.setDownload,m=t.stop,g=t.setTransaction,b=t.zorbId,w=Object(_e.c)(),x=w.data;return w.isError,w.isLoading,Object(r.useCallback)(Object($.a)(Qa().mark(function t(){var r,u;return Qa().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("saving w stems data=",c),m(),console.log("BUFFER =",l),t.next=6,Ha(l,h,y);case 6:return r=t.sent,console.log("songId for remix=",e),v(r),p(!1),d(!0),o||Bn(r),t.next=15,Ba(f,x.address,e,r,c,b,a,i,n);case 15:u=t.sent,g(u),d(!1);case 18:case"end":return t.stop()}},t)})),[x,o,c,x,u,s,f,h,n,d,a,i,e,v,p,y,v])}({bpm:f,detune:h,isStableBPM:a,mintPrice:d,stemsData:Ma({draggingStart:_,draggingEnd:A,stemsData:x,loopsData:E,start:T,length:C,startStep:O,silence:j,buffer:m,endTime:L,remixesHistory:S,zorbMovements:I}).croppedStemsData,screenshot:p,songId:y,caption:v,buffer:m,signer:g,start:T,setIsWaitingForSignature:b,setDownloading:c,length:C,setDownload:w,stop:function(){return[]},setTransaction:N,zorbId:k});return o.a.createElement("div",{className:e?"slice-toolbar captioning":"slice-toolbar"},o.a.createElement("div",{onClick:e?function(){return l(!1)}:n,className:"cancel-btn pushable"},e?"Edit":"Cancel"),i&&i.address?o.a.createElement("div",{onClick:function(){c(!0),setTimeout(function(){u(!0),M()},40)},className:(s?"opacity-20 ":"")+"done-btn pushable"},"Save"):o.a.createElement("div",{className:"final-connect"},o.a.createElement(Ht.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})," "))});function Xa(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Ka(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ka(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Ka(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var $a=function(t,e,n,r){arguments.length>4&&void 0!==arguments[4]&&arguments[4];var o,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16,i=e[0].length/44100,u=[],s=Xa(t=Object(E.a)(t).reverse());try{for(s.s();!(o=s.n()).done;){var l=o.value,f=Object(c.a)(l,2),h=f[0],d=f[1];if(h%a===0){var p=(r-d)/i*n;u.push([n-p,h%32===0])}}}catch(y){s.e(y)}finally{s.f()}return u};function ti(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return ei(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ei(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ei(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n(348);var ni=Object(u.b)(function(t){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},void 0)(function(t){var e=t.width,n=(t.silence,t.buffer),a=(t.bpm,t.waveform),i=void 0===a?[]:a,u=t.endTime,s=t.start,l=t.length,f=t.height,h=void 0===f?100:f,d=(t.startStep,t.beatGuide),p=(t.startRef,t.lengthRef,Object(r.useState)([])),y=Object(c.a)(p,2),v=y[0],m=y[1];Object(r.useEffect)(function(){for(var t=[],e=0;e<i.length;e+=4)t.push(i[e]*h);m(t)},[i,m]);var g=s/100*v.length,b=$a(d,n,2*e,u),w=function(t){return 2*e*s/n.duration>=t&&t<=2*e*(s+l)/n.duration};return o.a.createElement("svg",{width:2*e,height:h},v.map(function(t,n){return o.a.createElement("rect",{className:(n>=g&&n<=g+l/100*v.length?"sliced-region":"")+(n%2===0?" even ":" odd"),x:2*n/v.length*e,y:h/2-t/2,height:t,width:2})}),b.map(function(t,e){var n=Object(c.a)(t,2),r=n[0],a=n[1];return o.a.createElement("rect",{x:r,y:a?h-(w(r)?30:15):h-(w(r)?10:5),height:(a?30:6)*(w(r)?1:.5),width:2,className:w(r)?"inside beat-ruler":"beat-ruler",fill:"red"})}))}),ri=(Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.caption,n=t.setCaption;return o.a.createElement("div",{className:"captioner"},o.a.createElement("input",{placeholder:"Describe your sound...",value:e,onChange:function(t){return n(t.target.value)}}))}),n(1321),Object(u.b)(function(t,e){return{}},function(t){return{setSlicePoints:function(e,n){return t({type:517,payload:{start:e,length:n}})},setSliceLength:function(e){return t({type:518,payload:e})}}})(function(t){var e=t.store,n=t.silence,a=t.songId,i=t.endTime,u=t.screenshot,s=t.zorbId,l=t.beatGuide,f=t.waveform,h=t.setSlicePoints,d=t.setSliceLength,p=t.buffer,y=t.onCancel,v=t.zorbMovements,m=t.remixesHistory,g=t.startStep,b=t.stemsData,w=t.loopsData,x=Object(_e.c)(),E=x.data,O=(x.isError,x.isLoading,Object(r.useRef)()),j=Object(_e.l)().data,L=Object(r.useState)(),S=Object(c.a)(L,2),I=S[0],N=S[1],k=Object(r.useState)(""),T=Object(c.a)(k,2),C=T[0],_=(T[1],Object(r.useState)()),A=Object(c.a)(_,2),M=A[0],P=A[1],z=Object(r.useState)(!1),F=Object(c.a)(z,2),R=F[0],D=F[1],G=Object(r.useState)(!1),B=Object(c.a)(G,2),U=B[0],Z=B[1],Y=Object(r.useState)(),W=Object(c.a)(Y,2),H=W[0],J=W[1],V=Object(r.useState)(),Q=Object(c.a)(V,2),q=Q[0],X=Q[1],K=Object(r.useState)(),$=Object(c.a)(K,2),tt=$[0],et=$[1],nt=Object(r.useState)(120),rt=Object(c.a)(nt,2),ot=rt[0],at=rt[1],it=Object(r.useState)(!0),ct=Object(c.a)(it,2),ut=ct[0],st=ct[1],lt=Object(r.useState)(0),ft=Object(c.a)(lt,2),ht=ft[0],dt=ft[1];Object(r.useEffect)(function(){return function(){return h(0,100)}},[]),Object(r.useEffect)(function(){var t=Hn.isMobile?300:O.current.offsetWidth;J((t-60)/2)},[J]);var pt=function(t){var e=t.store,n=t.ref,o=t.bpm,a=void 0===o?90:o,i=t.width,u=t.buffer,s=t.startStep,l=t.silence,f=(t.waveform,t.endTime),h=t.beatGuide,d=t.setSlicePoints,p=t.setLength,y=Object(r.useState)(),v=Object(c.a)(y,2),m=v[0],g=v[1],b=Object(r.useState)(),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(r.useCallback)(function(t){var e=u[0].length/44100,n=t/100*e,r=Na(a),o=n/r,i=16-o%16;return i>8&&(i=-o%16),t+r*i*100/e},[u]),j=Object(r.useCallback)(function(t){var e,n=$a(h,u,2*i,f,l,64).filter(function(t){var e=Object(c.a)(t,2);return e[0],e[1]}).map(function(t){return t[0]}).map(function(t){return t/(2*i)*100}),r=1e8,o=-1,a=ti(n);try{for(a.s();!(e=a.n()).done;){var s=e.value,d=Math.abs(s-t);d<r&&(o=s,r=d)}}catch(p){a.e(p)}finally{a.f()}return o<-1&&(o=n[0]),o},[s,u,l,a,f,l,i,h]),L=Object(r.useCallback)(function(t){if(e&&(void 0!==m||void 0!==x)){t.touches&&(t=t.touches[0]);var r=n.current.getBoundingClientRect(),o=t.pageX-r.left;if(void 0!==m){var a=100*(o-m.x)/(2*i),c=m.start+a;c=Math.max(0,Math.min(100,c)),d(c,Math.min(100-c,m.length-a))}else{var u=100*(o-x.x)/(2*i),s=x.length+u;p(Math.min(100-e.getState().spore.slicePoints.start,Math.max(0,s)))}}},[m,i,x,p,s,u,l,a,e]),S=Object(r.useCallback)(function(t){if(e){t.touches&&(t=t.touches[0]);var r=n.current.getBoundingClientRect(),o=t.clientX-r.left;g({x:o,start:e.getState().spore.slicePoints.start,length:e.getState().spore.slicePoints.length})}},[g,e]),I=Object(r.useCallback)(function(t){if(e){t.touches&&(t=t.touches[0]);var r=n.current.getBoundingClientRect(),o=t.clientX-r.left,a=e.getState().spore.slicePoints.length;E({x:o,length:a})}},[E,e]),N=Object(r.useCallback)(function(){if(e){if(m||x){var t=j(e.getState().spore.slicePoints.start),n=e.getState().spore.slicePoints.length,r=O(n);d(t,Math.min(100-t,r))}g(void 0),E(void 0)}},[m,x,p,E,g,u,e]);return Object(r.useEffect)(function(){if(!m&&e){var t=j(0),n=e.getState().spore.slicePoints.length,r=O(n);d(t,Math.min(100-t,r))}},[h,u,u,i,f,l,e]),Object(r.useEffect)(function(){return window.addEventListener("mousemove",L),window.addEventListener("touchmove",L),window.addEventListener("mouseup",N),window.addEventListener("touchend",N),function(){window.removeEventListener("mousemove",L),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",N),window.removeEventListener("mouseup",N)}},[m,i,x,p,g,E,u,a,s,l,e]),{dragEndControl:I,dragStartControl:S,draggingStart:m,draggingEnd:x}}(Object(Oa.a)({store:e,setLength:d,setSlicePoints:h,ref:O,width:H,buffer:p,startStep:g,silence:n,waveform:f,endTime:i,beatGuide:l},"endTime",i)),yt=pt.dragEndControl,vt=pt.dragStartControl,mt=pt.draggingStart,gt=pt.draggingEnd,bt=Pn(a),wt=(bt.dropAddress,bt.mintPrice);return tt||R||M?o.a.createElement("div",{className:"slicer-backdrop"},o.a.createElement(La,{songId:a,hide:function(t){return y(!0)},download:q,transaction:tt,downloading:R,isWaitingForSignature:M})):o.a.createElement("div",{className:"slicer-backdrop"},o.a.createElement("div",{className:"slice-waveform"},o.a.createElement(Ia,{buffer:p,width:H}),o.a.createElement("div",{ref:O,className:"waveform-container"},H&&o.a.createElement(ni,{endTime:i,beatGuide:l,silence:n,height:Hn.isMobile?90:100,buffer:p,startStep:g,waveform:f,width:H}),!U&&o.a.createElement(Ca,{bpm:ot,setBPM:at,setIsStableBPM:st,isStableBPM:ut,detune:ht,setDetune:dt,beatGuide:l,endTime:i,buffer:p,width:H,dragStartControl:vt,dragEndControl:yt})),o.a.createElement("div",{className:"slice-guide-info"},"slice your remix to beam into other spores")),R?"":q?o.a.createElement("div",{className:"slice-toolbar"},o.a.createElement("div",{onClick:y,className:"done-btn pushable continue"},"Continue")):o.a.createElement(qa,{draggingStart:mt,draggingEnd:gt,isCaptioning:U,onCancel:y,isStableBPM:ut,account:E,setDownloading:D,setSaving:N,saving:I,setIsCaptioning:Z,bpm:ot,detune:ht,mintPrice:wt,screenshot:u,songId:a,caption:C,buffer:p,signer:j,setIsWaitingForSignature:P,setDownload:X,stemsData:b,setTransaction:et,zorbId:s,loopsData:w,startStep:g,silence:n,endTime:i,remixesHistory:m,zorbMovements:v}))}));function oi(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return ai(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ai(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ai(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var ii=function(t){for(var e=t[0],n=Math.ceil(e.length/500),r=[],o=0;o<e.length;o+=n){for(var a=0,i=o;i<o+n;i++)a+=Math.pow(e[i],2);var c=Math.sqrt(a/n);r.push(c)}return r},ci=function(t){var e,n=0,r=oi(t);try{for(r.s();!(e=r.n()).done;){n+=e.value.recLength}}catch(p){r.e(p)}finally{r.f()}for(var o=[],a=0;a<2;a++){var i,c=new Float32Array(n),u=0,s=oi(t);try{for(s.s();!(i=s.n()).done;){var l=i.value;if(!l.buffers[a])return;var f,h=oi(l.buffers[a]);try{for(h.s();!(f=h.n()).done;){var d=f.value;c.set(d,u),u+=d.length}}catch(p){h.e(p)}finally{h.f()}}}catch(p){s.e(p)}finally{s.f()}o.push(c)}return o};n(1322);function ui(){ui=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var si=Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{setSongLoaded:function(e){return t(da(e))},setSongLoading:function(e){return t(pa(e))},setLeakLoaded:function(e){return t(ha(e))}}})(function(t){var e=t.store,n=t.playerRef,a=t.zorbId,i=t.setIsSlicing,u=t.songId,l=t.setSongLoaded,f=t.setSongLoading,h=t.setLeakLoaded,d=function(){var t=Object(r.useState)(),e=Object(c.a)(t,2),n=e[0],o=e[1],a=Object(r.useState)(),i=Object(c.a)(a,2),u=i[0],l=i[1],f=Object(r.useState)(),h=Object(c.a)(f,2),d=h[0],p=h[1],y=Object(r.useState)(),v=Object(c.a)(y,2),m=v[0],g=v[1],b=Object(r.useState)(),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(r.useRef)({}),j=Object(r.useState)(),L=Object(c.a)(j,2),S=L[0],I=L[1],N=Object(r.useState)(),k=Object(c.a)(N,2),T=k[0],C=k[1],_=Object(r.useState)(),A=Object(c.a)(_,2),M=A[0],P=A[1],z=Object(r.useState)(),F=Object(c.a)(z,2),R=F[0],D=F[1],G=Object(r.useState)(),B=Object(c.a)(G,2),U=B[0],Z=B[1],Y=Object(r.useState)([]),W=Object(c.a)(Y,2),H=W[0],J=W[1],V=Object(r.useState)([]),Q=Object(c.a)(V,2),q=Q[0],X=Q[1];Object(r.useEffect)(function(){S&&S.drums&&S.synths&&Gt(S).then(function(t){C(t)})},[S]),Object(r.useEffect)(function(){return window.addEventListener("message",K),function(){return window.removeEventListener("message",K)}},[S,p,D,l,o,I,P,Z,X]);var K=Object(r.useCallback)(function(t){if("drum-loops-data"===t.data.type){var e=Object(s.a)({},O.current,{drums:t.data.body});O.current=e,I(e)}else if("synth-loops-data"===t.data.type){var n=Object(s.a)({},O.current,{synths:t.data.body});O.current=n,I(n)}"zpore-screenshot"===t.data.type&&o(t.data.body),"zorb-movements"===t.data.type&&X(t.data.body),"slice-audio-buffer"===t.data.type&&"bang"!==t.data.body&&(console.log("receieved slice-audio-buffer"),l(ci(t.data.body))),"slice-silence"===t.data.type&&g(t.data.body),"slice-start-step"===t.data.type&&E(t.data.body),t.data.type,"beat-guide"===t.data.type&&(console.log("received beat guide"),Z(t.data.body)),"end-time"===t.data.type&&D(t.data.body),"remixes-history"===t.data.type&&J(t.data.body)},[S,D,X,p,o,l,E,I,Z,J]);Object(r.useEffect)(function(){u&&p(ii(u))},[u,p]);var $=Object(r.useCallback)(function(){l(void 0),p(void 0)},[l,p]);return{zorbMovements:q,remixesHistory:H,buffer:u,screenshot:n,silence:m,startStep:x,stemsData:T,onCancel:$,beatGuide:U,startTime:M,waveform:d,loopsData:S,endTime:R}}(),p=d.buffer,y=d.screenshot,v=d.silence,m=d.beatGuide,g=(d.startTime,d.startStep),b=d.endTime,w=d.stemsData,x=d.loopsData,E=d.onCancel,O=d.remixesHistory,j=d.zorbMovements,L=d.waveform,S=Object(r.useState)(!1),I=Object(c.a)(S,2),N=I[0],k=I[1];Object(r.useEffect)(function(){p&&i(!0)},[p,i]);var T=Object(r.useCallback)(function(){var t=Object($.a)(ui().mark(function t(e){var r,o;return ui().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return f(!0),t.next=3,Re(void 0,!0);case 3:return r=(r=t.sent).filter(function(t){return!t.isHidden}),!0===e?(r.sort(function(t,e){return t.songId-e.songId}),(o=r.find(function(t){return t.songId>parseInt(u)}))||(o=r.find(function(t){return t.songId!==parseInt(u)}))):o=r.find(function(t){return t.songId===parseInt(u)}),console.log("song id to fetch=",o.songId),t.next=9,oa([parseInt(o.songId)]);case 9:o=(o=t.sent)[0],console.log("returned=",o),console.log("switching songs=",o),n.current.contentWindow.postMessage({type:"switch-songs",body:Object(s.a)({},o,{autoPlay:!0})},"*"),l(o.songId),h(void 0);case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),[u,n]),C=Object(r.useCallback)(function(){k(!0),n.current.contentWindow.postMessage({type:"slice-audio",body:""},"*")},[n]);return Object(r.useEffect)(function(){p&&m&&x&&void 0!==b&&k(!1)},[k,p,m,x,b]),[o.a.createElement("div",{className:"slice-recorder"},o.a.createElement("img",{src:"/HIFI-SAVE.svg",onClick:C,className:(N?"pointer-events-none opacity-25 ":"")+"pushable slice-recorder"}),o.a.createElement("div",{className:"rec-dot"})),p&&m&&x&&void 0!==b?o.a.createElement(ri,{zorbId:a,screenshot:y,remixesHistory:O,songId:u,silence:v,startStep:g,beatGuide:m,loopsData:x,store:e,endTime:b,zorbMovements:j,stemsData:w,onCancel:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(),i(!1),T(t)},buffer:p,waveform:L}):""]});function li(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return fi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fi(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function fi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var hi=function(t){var e=Object(r.useState)(0),n=Object(c.a)(e,2),a=n[0],i=n[1],u=Object(r.useState)(!1),s=Object(c.a)(u,2),l=s[0],f=s[1],h=Object(r.useCallback)(function(){if(!l){var e=t.text.text.map(function(t){return t.length}).reduce(function(t,e){return t+e},0);a<e?i(a+1):a==e&&f(!0)}},[i,a,f,t.text,l]);Object(r.useEffect)(function(){i(0),f(!1)},[t.text.text,i,f]),te(h,20);var d=di(t.text.text,a,t.text.gradients);return o.a.createElement("div",{className:"type-writer "+(l?"finished":"")},d.map(function(t,e){return o.a.createElement("p",null,t)}),!t.isFinalStep&&o.a.createElement("div",{className:"next-arrow"}))},di=function(t,e,n){var r,a=[],i=0,c=li(t);try{for(c.s();!(r=c.n()).done;){var u=r.value;if(!(i>e)){var s,l=u.slice(0,e-i).split("#"),f=[],h=0,d=0,p=li(l);try{for(p.s();!(s=p.n()).done;){var y=s.value;h%2===0?f.push(y):(f.push(o.a.createElement("span",{className:"".concat(n[d],"-gradient")},y)),d++),h++}}catch(v){p.e(v)}finally{p.f()}a.push(f),i+=u.length}}}catch(v){c.e(v)}finally{c.f()}return a},pi=(n(1323),[{text:["sup!","#Spores# let\u2019s you remix songs on chain \ud83e\uddec"],gradients:["orange","orange"]},{text:["on the surface, it feels like a #gameboy# for #music# \ud83d\udc7e"],gradients:["orange","green"]},{text:["underneath, we\u2019re building the future of music creation \ud83c\udf08 using #ai#, #synesthesia#, and #human curation# \ud83e\uddec"],gradients:["orange","purple","green"]},{text:["mission: seed your remixes into #planet earth# \ud83d\ude08"],gradients:["blue","orange"]},{text:["#ready#?"],gradients:["green"]}]),yi=function(t){var e=t.step,n=t.setStep,r=4===e?" final-step ":"";return o.a.createElement("div",{onClick:function(){return n(Math.min(4,e+1))},className:r+"text-xl gameboy-text absolute bottom-0 z-30 mx-auto w-full h-32  pitch-deck-container p-3"},t.showText&&o.a.createElement(hi,{isFinalStep:4===e,text:pi[e]}))};n(1324);function vi(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return mi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return mi(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function mi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var gi=Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.zorbs,n=t.account,a=t.setZorbId,i=t.zorbId,u=t.playerRef,s=Object(r.useRef)(),l=Object(r.useState)(!1),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(r.useState)(!0),y=Object(c.a)(p,2),v=y[0],m=y[1],g=Object(r.useState)(0),b=Object(c.a)(g,2),w=b[0],x=b[1];Object(r.useEffect)(function(){n&&setTimeout(function(){d(!0)},750)},[n]),Object(r.useEffect)(function(){window.addEventListener("message",E)},[m,a]),Object(r.useEffect)(function(){if(i&&v&&u){var t=e.find(function(t){return parseInt(t.tokenId)==i}).image.url;u.current.contentWindow.postMessage({type:"zorb-id",body:t},"*")}},[i,v,e,u]);var E=Object(r.useCallback)(function(t){"lootbox-item-selected"===t.data.type&&(console.log("Received lootbox item seelcted=",t.data.body),a(parseInt(t.data.body)))},[m,a]);Object(r.useEffect)(function(){if(v&&e&&u&&u.current){var t,n={},r=vi(e);try{for(r.s();!(t=r.n()).done;){var o=t.value;n[o.tokenId]=o.image.url}}catch(a){r.e(a)}finally{r.f()}u.current.contentWindow.postMessage({type:"lootbox",body:n},"*")}},[e,u,v]),Object(r.useEffect)(function(){e[0]},[e]);var O=Object(r.useState)(!1),j=Object(c.a)(O,2),L=j[0],S=j[1];return Object(r.useEffect)(function(){void 0!==i&&setTimeout(function(){S(!0)},1e3)},[i]),L?"":o.a.createElement("div",{ref:s,className:w<4?" stopping-propagation zs-container":"zs-container pointer-events-none"},void 0===i?o.a.createElement(yi,{showText:h,step:w,setStep:x}):"",o.a.createElement("div",{onClick:function(){return console.log("zorb selector clicked")},className:"zorb-selector"},!i&&o.a.createElement("p",null),0===e.length&&n?o.a.createElement("div",{className:"no-zorbs"},"No zorbs detected. "):0===e.length&&o.a.createElement("div",{className:"connect-button-wrapper zorb-connect"},o.a.createElement(Ht.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"}))))}),bi=(n(1325),n(1326),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){return o.a.createElement("div",{className:"glossary-items"},o.a.createElement("div",{className:"helper-item item-1"},o.a.createElement("p",{className:"glossary-number"},"1"),o.a.createElement("p",{className:"glossary-term"},"CHANGE MODE"),o.a.createElement("p",{className:"glossary-definition"},"PRESS TO SWITCH TO LOOP MODE, ALLOWING YOU TO LOOP THE TRACK AND ACCESS SECONDARY SLIDERS*.")),o.a.createElement("div",{className:"helper-item item-2"},o.a.createElement("p",{className:"glossary-number"},"2"),o.a.createElement("p",{className:"glossary-term"},"JUICE / LOOP*"),o.a.createElement("p",{className:"glossary-definition"},'ADJUST THE AMOUNT OF "JUICE", THAT THE EXTERNAL LOOP CONTRIBUTES, OR LOOP A SECTION OF THE TRACK.')),o.a.createElement("div",{className:"helper-item item-3"},o.a.createElement("p",{className:"glossary-number"},"3"),o.a.createElement("p",{className:"glossary-term"},"PITCH UP / PITCH DOWN*"),o.a.createElement("p",{className:"glossary-definition"},"SLIDE TO RAISE THE PITCH AND SPEED UP, OR LOWER THE PITCH AND SLOW DOWN THE TRACK.")),o.a.createElement("div",{className:"helper-item item-4"},o.a.createElement("p",{className:"glossary-number"},"4"),o.a.createElement("p",{className:"glossary-term"},"STUTTER / SPACE*"),o.a.createElement("p",{className:"glossary-definition"},"CONTROL STUTTERING WHICH REPEATS THE TRACK OR ADD VASTNESS TO IT WITH SPACE.")),o.a.createElement("div",{className:"helper-item item-5"},o.a.createElement("p",{className:"glossary-number"},"5"),o.a.createElement("p",{className:"glossary-term"},"ACOUSTIFY / GATE*"),o.a.createElement("p",{className:"glossary-definition"},"RAISE THE GUITAR LEVELS OR CONTROL THE GATE EFFECT AT DIFFERENT RATES.")),o.a.createElement("div",{className:"helper-item item-6"},o.a.createElement("p",{className:"glossary-number"},"6"),o.a.createElement("p",{className:"glossary-term"},"CHANGE LOOP"),o.a.createElement("p",{className:"glossary-definition"},"SWITCH TO THE NEXT LOOP TO INTERWEAVE INTO THE TRACK.")))})),wi=(n(1327),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){t.hideWaveform,t.isWaveformRainbow;var e=t.buttonTextColor,n=t.playerRef,a=t.innerControls?window.innerWidth:330,i=Object(r.useRef)(),u=Object(r.useRef)(),s=Object(r.useState)(),l=Object(c.a)(s,2),f=(l[0],l[1]),h=Object(r.useState)(0),d=Object(c.a)(h,2),p=d[0],y=d[1],v=Object(r.useState)(0),m=Object(c.a)(v,2),g=m[0],b=m[1],w=Object(r.useState)(!1),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(r.useState)(!1),L=Object(c.a)(j,2),S=L[0],I=L[1],N=(Object(r.useRef)(0),Object(r.useState)(void 0)),k=Object(c.a)(N,2),T=k[0],C=k[1];Object(r.useEffect)(function(){return window.addEventListener("mouseup",_),window.addEventListener("mousemove",P),window.addEventListener("touchmove",P),function(){window.removeEventListener("mouseup",_),window.removeEventListener("mousemove",P),window.removeEventListener("touchmove",P)}},[S,C,I]);var _=Object(r.useCallback)(function(){I(!1)},[I]);Object(r.useEffect)(function(){return window.addEventListener("message",A,!1),function(t){return window.removeEventListener("message",A,!1)}},[y,b,O,f]);var A=Object(r.useCallback)(function(t){if("waveform-data"===t.data.type&&f(t.data.body),"song-player-progress"===t.data.type){var e=parseInt(t.data.body);y(e)}if("jacker-playback-status"===t.data.type){var n=parseInt(t.data.body);b(n),n&&O(!0)}},[E,y,b,O,f]),M=Object(r.useCallback)(function(){n.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")},[]),P=Object(r.useCallback)(function(t){if(S){t.touches&&(t=t.touches[0]);var e=i.current.getBoundingClientRect(),r=(t.clientX-e.left)/a*100;r=Math.max(0,Math.min(100,r)),C(r),n.current.contentWindow.postMessage({type:"jacker-seek",body:r},"*")}},[S,C]);if(!E)return"";var z={borderColor:e};return p=S&&T?T:p,o.a.createElement("div",{onMouseDown:function(t){I(!0),P(t)},onTouchStart:function(t){I(!0),P(t)},className:"shuffle-buttons"},o.a.createElement("div",{className:"play-and-slider"},o.a.createElement(Vn,{color:e,style:z,isPlaying:g,play:M}),o.a.createElement("div",{ref:i,style:z,className:"slider-container"},o.a.createElement("div",{style:{backgroundColor:e,width:a*(100-p)/100,left:a*p/100},className:"slider-inner"}),o.a.createElement("div",{ref:u,onMouseDown:function(t){t.stopPropagation(),I(!0)},onTouchStart:function(t){t.stopPropagation(),I(!0)},style:{backgroundColor:e,left:a*p/100},className:"slider-scrubber"}))))}));function xi(){xi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Ei=function(){var t=Object($.a)(xi().mark(function t(e){var n,r;return xi().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new _t("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(lt).where("sporeId",parseInt(e)),t.next=3,n.executeQuery();case 3:return r=t.sent,t.abrupt("return",r[0]);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Oi=(n(1328),"https://zequencer.mypinata.cloud/ipfs/".concat("QmWV7gqvBeXT9VVYEEL5J9oGEvQFDjYZZ4rgGYz9JDk3h7","/?tokenId=40&gallery=true"),Object(u.b)(function(t,e){return{}},function(t){return{setPlayerRef:function(e){return t({type:512,payload:e})}}})(function(t){t.simpleControls;var e=t.zorbId,n=t.isFullScreen,a=t.songTitle,i=void 0===a?"":a,u=(t.collectionAddress,t.tokenId,t.artist),s=t.hideWaveform,l=t.thumbnail,f=(t.setStems,t.stems),h=t.isWaveformRainbow,d=t.url,p=void 0===d?"https://zequencer.mypinata.cloud/ipfs/QmNejpqTsVw3W3872o85XhWiKVG6gUchVJTvS4uUj2fUrC":d,y=t.innerControls,v=t.hideControls,m=t.children,g=t.playerRef,b=t.setPlayerRef,w=t.tiny,x=t.isSimple,E=t.color,O=void 0===E?"white":E,j=Object(_e.c)(),L=(j.data,j.isError,j.isLoading,g||Object(r.useRef)()),S=function(t,e,n){var o=Object(r.useState)(),a=Object(c.a)(o,2),i=a[0],u=a[1],s=Object(r.useState)(window.TEST_REMIX_UPLOAD_FLAG),l=Object(c.a)(s,2),f=l[0],h=l[1],d=Object(r.useState)(),p=Object(c.a)(d,2),y=p[0],v=p[1];Object(r.useEffect)(function(){n&&Ei(n).then(function(t){v(t)})},[n]),Object(r.useEffect)(function(){window.TEST_REMIX_UPLOAD_FLAG&&setTimeout(function(){u("@mmmmm")},5e3)},[]);var m=Object(r.useCallback)(function(){t(),u(void 0),h(void 0),e.current},[u,h,t]);Object(r.useEffect)(function(){return window.addEventListener("message",g,!1),function(){return window.removeEventListener("message",g)}},[u,h]);var g=Object(r.useCallback)(function(t){var n=t.data;if("uploadingRecording"===n.type)e.current&&e.current.contentWindow.postMessage({type:"jacker-stop",body:"please"},"*"),h(!0);else if("sporeRecorded"==n.type){var r={sliderChanges:n.body.sliderData,modeChanges:n.body.modeData};tn.a.addJson(r).then(function(t){u({recordingHash:n.body.recording,dataHash:t})})}},[u,h]);return{recordedRemix:i,uploadingRemix:f,onRemixSigningCompleted:m,remixToPlay:y,setRemixToPlay:v}}(function(){return[]},L),I=(S.totalRemixes,S.recordedRemix,S.uploadingRemix,S.onRemixSigningCompleted,S.remixToPlay,S.setRemixToPlay,function(t){var e=Object(r.useState)(!1),n=Object(c.a)(e,2),o=n[0],a=n[1];Object(r.useEffect)(function(){return window.addEventListener("message",i,!1),function(){return window.removeEventListener("message",i)}},[a]);var i=Object(r.useCallback)(function(t){"Finished Loading Project"===t.data&&a(!0)},[a]);return{loaded:o}}().loaded);return Object(r.useEffect)(function(){},[e,I]),Object(r.useEffect)(function(){},[f,I]),Object(r.useEffect)(function(){b(L)},[]),o.a.createElement("div",{className:"spore-embed-container"},m,l&&o.a.createElement("img",{src:l,className:"cover-image"}),o.a.createElement("div",{className:"spore-embed-helper"},!v&&y&&o.a.createElement(wi,{hideWaveform:s,innerControls:y,isWaveformRainbow:h,buttonTextColor:O,playerRef:L}),o.a.createElement("div",{className:"song-title"},i),o.a.createElement("div",{className:"song-artist"},u),!x&&o.a.createElement("div",{className:"stems-unlocked"},Math.min(11,f)," / 11 STEMS UNLOCKED")),o.a.createElement("div",{className:"flex w-full"},o.a.createElement("iframe",{className:"spore-embed z-20 mx-auto",width:w?400:n?window.innerWidth:340,height:w?500:n?window.innerHeight:400,ref:L,src:p}),!v&&!y&&o.a.createElement(wi,{isWaveformRainbow:h,hideWaveform:s,buttonTextColor:O,playerRef:L})))})),ji=(n(529),n(530),function(t){var e=t.tiny,n=t.simpleControls,a=t.zorbId,i=t.url,u=t.className,s=t.color,l=t.hideWaveform,f=t.collectionAddress,h=t.isSimple,d=t.tokenId,p=t.isFullScreen,y=t.children,v=Object(r.useState)(!1),m=Object(c.a)(v,2),g=(m[0],m[1],Object(r.useState)(3)),b=Object(c.a)(g,2),w=b[0],x=(b[1],Object(r.useState)()),E=Object(c.a)(x,2);E[0],E[1];return o.a.createElement("div",{className:u?"drop nft-jacker jacked "+u:"drop nft-jacker jacked"},o.a.createElement("div",{className:"connect-button-wrapper drop-top"},o.a.createElement(Ht.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement(Oi,{tiny:e,zorbId:a,simpleControls:n,collectionAddress:f,color:s,isFullScreen:p,isSimple:h,tokenId:d,stems:w,isWaveformRainbow:!1,hideWaveform:l,url:i}),o.a.createElement("div",{className:"drop-description"},y,!h&&o.a.createElement("div",{className:"drop-features"},"LISTEN. PLAY. JUICE. PITCH UP. GATE. WOBBLE. STUTTER. LOOP. SPACE. PITCH DOWN. REMIX."),!h&&o.a.createElement("div",{className:"spore-overview"},o.a.createElement("div",{className:"overview-header"},"SPORE OVERVIEW"),o.a.createElement("img",{src:"/spore.svg",className:"spore-overview-image"})),!h&&o.a.createElement(bi,null)))}),Li=(n(531),n(532),"https://main.djdhx85izle40.amplifyapp.com/?gallery=true"),Si=Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef,playStatus:t.playback.playStatus,songId:t.spore.songLoaded}},function(t){return{setPlayStatus:function(e){return t({type:513,payload:e})},setSongLoaded:function(e){return t(da(e))}}})(function(t){var e=t.store;Object(r.useEffect)(function(){window.PLAYLIST_FLAG=!0,window.CHARTS_FLAG=!0,window.TOKEN_LOCK_FLAG=!0,window.LOCAL_BACKEND_FLAG=!0,window.CHILLRX_FLAG=!1,window.ABOUT_TO_END_FLAG=!1,window.TEST_REMIX_UPLOAD_FLAG=!1,window.OWN_FAKE_SPORE_FLAG="localhost"===window.location.hostname},[]);var n=Object(r.useState)(void 0!==t.remixId?t.remixId.startsWith("Q")?t.remixId:parseInt(t.remixId):void 0),a=Object(c.a)(n,2),i=a[0],u=a[1],s=Object(r.useState)([]),l=Object(c.a)(s,2),f=l[0],h=l[1],d=Object(r.useState)(t.artist),p=Object(c.a)(d,2),y=p[0],v=p[1],m=Object(r.useState)(!1),g=Object(c.a)(m,2),b=g[0],w=g[1],x=Object(r.useState)(),O=Object(c.a)(x,2),j=O[0],L=O[1],S=Object(r.useState)(t.songTitle),I=Object(c.a)(S,2),N=I[0],k=I[1],T=Object(r.useState)(t.showRemixes),C=Object(c.a)(T,2),_=C[0],A=C[1],M=Object(r.useState)(t.profile),P=Object(c.a)(M,2),z=P[0],F=P[1];!function(t){var e=t.setPlayStatus,n=t.showRemixes;Object(r.useEffect)(function(){console.log("setting play status = 0"),e(0)},[n]),Object(r.useEffect)(function(){return window.addEventListener("message",o),function(){return window.removeEventListener("message",o)}},[]);var o=Object(r.useCallback)(function(t){"jacker-status"===t.data.type&&e(t.data.body)},[])}({setPlayStatus:t.setPlayStatus,showRemixes:_||z});var R=Object(r.useState)(!1),D=Object(c.a)(R,2),G=D[0],B=D[1],U=Object(r.useState)(!1),Z=Object(c.a)(U,2),Y=Z[0],W=Z[1],H=Object(r.useState)(!1),J=Object(c.a)(H,2),V=J[0],Q=J[1],q=Object(r.useState)(t.profile||t.showRemixes),X=Object(c.a)(q,2),K=X[0],tt=X[1],rt=Object(r.useState)(void 0),ot=Object(c.a)(rt,2),at=ot[0],it=ot[1],ct=Object(r.useState)(),ut=Object(c.a)(ct,2),st=ut[0],lt=ut[1],ft=Object(r.useState)(void 0),ht=Object(c.a)(ft,2),dt=ht[0],pt=ht[1],yt=Object(_e.c)(),vt=yt.data,mt=(yt.isError,yt.isLoading,Object(r.useState)(!1)),gt=Object(c.a)(mt,2),bt=gt[0],wt=gt[1],xt=function(t){var e=t.account,n=Object(r.useState)(!0),o=Object(c.a)(n,2),a=o[0],i=o[1],u=Object(r.useState)([]),s=Object(c.a)(u,2),l=s[0],f=s[1];return Object(r.useEffect)(function(){if(e&&e.address){var t=e;if(i(!0),Vo[t.address])return void Vo[t.address].then(function(t){f([].concat(Object(E.a)(t.slice(0,0)),Object(E.a)(Ho)))});var n=we({collectionAddress:"0xCa21d4228cDCc68D4e23807E5e370C07577Dd152",ownerAddress:t.address,fetchImage:!0,singleton:!1});n.then(function(t){f([].concat(Object(E.a)(t.slice(0,0)),Object(E.a)(Ho)))}),Vo[t.address]=n}},[e,i,f]),{zorbs:l,isLoading:a}}({account:vt}).zorbs,Et=Object(r.useState)(!0),Ot=Object(c.a)(Et,2),jt=Ot[0],Lt=Ot[1],St=function(t){var e=t.address,n=t.needsAuthentication,o=Object(r.useState)(!0),a=Object(c.a)(o,2),i=a[0],u=a[1],s=Object(r.useState)(!n),l=Object(c.a)(s,2),f=l[0],h=l[1];return Object(r.useEffect)(function(){n||(h(!0),u(!1)),e&&je(e).then(function(t){h(t),u(!1)})},[u,h,e]),{authenticated:f,loading:i}}({address:vt&&vt.address,needsAuthentication:t.beta}),It=St.authenticated,Nt=St.loading,kt=function(t){var e=t.account,n=t.songId,o=Object(r.useState)(0),a=Object(c.a)(o,2),i=a[0],u=a[1],s=Object(r.useState)(),l=Object(c.a)(s,2),f=l[0],h=l[1],d=Object(r.useRef)(0);Object(r.useEffect)(function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}},[n,e&&e.address,i,u]);var p=Object(r.useCallback)(function(t){if("song-position"===t.data.type&&t.data.body<2){if(!e||void 0===n)return;var r=e.address;y(r,n),u(i+1)}},[n,e&&e.address,i,u]),y=function(){var t=Object($.a)(et().mark(function t(e,n){var r;return et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((new Date).getTime()-d.current<15e3)){t.next=2;break}return t.abrupt("return");case 2:return d.current=(new Date).getTime(),t.next=5,nt.from("plays").insert([{song_id:parseInt(n),wallet:e}]);case 5:(r=t.sent).data,r.error;case 8:case"end":return t.stop()}},t)}));return function(e,n){return t.apply(this,arguments)}}(),v=Object(r.useRef)(0);return Object(r.useEffect)(function(){v.current=0},[n]),Object(r.useEffect)(function(){if(void 0!==n){var t=Date.now();t-v.current<5e3||(v.current=t,nt.from("plays").select("*",{count:"exact",head:!0}).eq("song_id",parseInt(n)).then(function(t){t.data;var e=t.count;t.error,h(e)}))}},[n,h,i]),{playCount:f}}({account:vt,songId:t.songId}).playCount;Object(r.useEffect)(function(){void 0!==t._songId&&t.setSongLoaded(t._songId)},[]),Object(r.useEffect)(function(){void 0!==t.songId&&Rt(t.songId).then(function(t){var e=t.title,n=t.artist;k(e),v(n)})},[t.songId,k,v]);var Tt=Object(r.useRef)(0);Object(r.useEffect)(function(){var e=t.alpha?"alpha":"beta";z||(void 0===i?(bt||tt(!1),console.log("BASE=%s",e),window.history.pushState("page2","Title","/".concat(e,"/").concat(t.songId))):-1!==i&&window.history.pushState("page2","Title","/".concat(e,"/").concat(t.songId,"/").concat(i)))},[t.beta,i,z,tt,t.songId,bt,t.beta]),Object(r.useEffect)(function(){var e=t.alpha?"alpha":"beta";z?window.history.pushState("page2","Title","/profile/".concat(z)):(bt||tt(!1),window.history.pushState("page2","Title","/".concat(e,"/").concat(t.songId||0)))},[t.beta,z,tt,bt,t.beta]),Object(r.useEffect)(function(){_||z?(w(!0),console.log("show remix so entering not")):(Q(!1),tt(!1),w(!1),B(!1),it(void 0),lt(void 0))},[z,_,Q,w,B,lt,it]),Object(r.useEffect)(function(){window.addEventListener("click",function(){return Tt.current++})},[]),Object(r.useEffect)(function(){t.playStatus&&wt(!0)},[t.playStatus,wt]),Object(r.useEffect)(function(){void 0!==at&&setTimeout(function(){lt(at)},1e3)},[at,lt]);var Ct="next-gen zpore";return vt&&(Ct+=" connected"),Y&&(Ct+=" is-slicing"),_&&(Ct+=" showing-remixes"),t.isDebug&&(Ct+=" debug-mode"),V&&(Ct+=" zpore-entered"),t.headless&&(Ct+=" headless-ui"),Object(r.useEffect)(function(){},[t.playerRef,t.songId]),o.a.createElement("div",{className:Ct},_&&o.a.createElement(Fo,{setRemixId:u,headless:t.headless,remixId:i,songId:t.songId,remixes:f,show:_,setShow:A}),bt&&o.a.createElement(si,{store:e,songId:t.songId,setIsSlicing:W,zorbId:at}),o.a.createElement(ue,{alpha:t.alpha,finished:G,setFinished:B,remove:K,setRemove:tt,account:vt,entered:V,setEntered:Q,isAuthenticating:Nt,authenticated:It}),V&&o.a.createElement(gi,{zorbs:xt,account:vt,setZorbId:it,zorbId:at,setZorbStartPosition:pt}),!1===It&&!Nt&&o.a.createElement(Wo,null),V&&dt&&o.a.createElement(Ea,{setZorbStartPosition:pt,zorbStartPosition:dt}),o.a.createElement(xa,{playCount:kt,userZorbs:xt,zorbId:at,tooltip:j,showTutorial:jt,setShowProfile:F,remixes:f,setRemixes:h,setShowRemixes:A,showRemixes:_||z,songId:t.songId,artist:y,title:N}),z&&o.a.createElement(Ro,{address:z,setShowProfile:F}),void 0!==at&&t.playerRef&&o.a.createElement(Yo,{playerRef:t.playerRef,zorbId:at,showTutorial:jt,setShowTutorial:Lt}),o.a.createElement(Wt,{tooltip:j,setTooltip:L}),!b&&(!0===It||Nt)&&(V||!z&&void 0===i)&&o.a.createElement(ji,{tiny:t.tiny,zorbId:st,hideWaveform:!0,color:"black",url:void 0!==t._songId?(t.alpha?"https://main.d3j91xpej7t50y.amplifyapp.com/?gallery=true":Li)+"&songId="+t._songId:Li,collectionAddress:void 0,isFullScreen:!0,simpleControls:!0,tokenId:1,className:"thugger",isSimple:!0}))});function Ii(){Ii=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Ni={network:se.ZDKNetwork.Ethereum,chain:se.ZDKChain.Goerli},ki={endPoint:"https://api.zora.co/graphql",networks:[Ni],apiKey:"ROLsxj1Z_MDY40UDQszIIw"},Ti=new se.ZDK(ki),Ci=function(){var t=Object($.a)(Ii().mark(function t(){var e,n,r=arguments;return Ii().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=r.length>0&&void 0!==r[0]?r[0]:"0x211da05b80548e0a2aba59c50b94509af75de5f5",t.prev=1,t.next=4,Ti.collectionStatsAggregate({collectionAddress:e,network:Ni});case 4:return n=t.sent,t.abrupt("return",n.aggregateStat.nftCount);case 8:t.prev=8,t.t0=t.catch(1);case 10:return t.abrupt("return",0);case 11:case"end":return t.stop()}},t,null,[[1,8]])}));return function(){return t.apply(this,arguments)}}(),_i=[{inputs:[{internalType:"contract IZoraFeeManager",name:"_zoraFeeManager",type:"address"},{internalType:"address",name:"_zoraERC721TransferHelper",type:"address"},{internalType:"contract IFactoryUpgradeGate",name:"_factoryUpgradeGate",type:"address"},{internalType:"address",name:"_marketFilterDAOAddress",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"Access_MissingRoleOrAdmin",type:"error"},{inputs:[],name:"Access_OnlyAdmin",type:"error"},{inputs:[],name:"Access_WithdrawNotAllowed",type:"error"},{inputs:[{internalType:"address",name:"proposedAddress",type:"address"}],name:"Admin_InvalidUpgradeAddress",type:"error"},{inputs:[],name:"Admin_UnableToFinalizeNotOpenEdition",type:"error"},{inputs:[],name:"ApprovalCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"ApprovalQueryForNonexistentToken",type:"error"},{inputs:[],name:"ApprovalToCurrentOwner",type:"error"},{inputs:[],name:"ApproveToCaller",type:"error"},{inputs:[],name:"BalanceQueryForZeroAddress",type:"error"},{inputs:[],name:"MarketFilterDAOAddressNotSupportedForChain",type:"error"},{inputs:[],name:"MintToZeroAddress",type:"error"},{inputs:[],name:"MintZeroQuantity",type:"error"},{inputs:[],name:"Mint_SoldOut",type:"error"},{inputs:[],name:"ONLY_OWNER",type:"error"},{inputs:[],name:"ONLY_PENDING_OWNER",type:"error"},{inputs:[{internalType:"address",name:"operator",type:"address"}],name:"OperatorNotAllowed",type:"error"},{inputs:[],name:"OwnerQueryForNonexistentToken",type:"error"},{inputs:[],name:"Presale_Inactive",type:"error"},{inputs:[],name:"Presale_MerkleNotApproved",type:"error"},{inputs:[],name:"Presale_TooManyForAddress",type:"error"},{inputs:[],name:"Purchase_TooManyForAddress",type:"error"},{inputs:[{internalType:"uint256",name:"correctPrice",type:"uint256"}],name:"Purchase_WrongPrice",type:"error"},{inputs:[],name:"RemoteOperatorFilterRegistryCallFailed",type:"error"},{inputs:[],name:"Sale_Inactive",type:"error"},{inputs:[{internalType:"uint16",name:"maxRoyaltyBPS",type:"uint16"}],name:"Setup_RoyaltyPercentageTooHigh",type:"error"},{inputs:[],name:"TransferCallerNotOwnerNorApproved",type:"error"},{inputs:[],name:"TransferFromIncorrectOwner",type:"error"},{inputs:[],name:"TransferToNonERC721ReceiverImplementer",type:"error"},{inputs:[],name:"TransferToZeroAddress",type:"error"},{inputs:[],name:"URIQueryForNonexistentToken",type:"error"},{inputs:[],name:"Withdraw_FundsSendFailure",type:"error"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"previousAdmin",type:"address"},{indexed:!1,internalType:"address",name:"newAdmin",type:"address"}],name:"AdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"beacon",type:"address"}],name:"BeaconUpgraded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"source",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"}],name:"FundsReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newAddress",type:"address"},{indexed:!0,internalType:"address",name:"changedBy",type:"address"}],name:"FundsRecipientChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"withdrawnBy",type:"address"},{indexed:!0,internalType:"address",name:"withdrawnTo",type:"address"},{indexed:!1,internalType:"uint256",name:"amount",type:"uint256"},{indexed:!1,internalType:"address",name:"feeRecipient",type:"address"},{indexed:!1,internalType:"uint256",name:"feeAmount",type:"uint256"}],name:"FundsWithdrawn",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"numberOfMints",type:"uint256"}],name:"OpenMintFinalized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"potentialNewOwner",type:"address"}],name:"OwnerCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"potentialNewOwner",type:"address"}],name:"OwnerPending",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"previousAdminRole",type:"bytes32"},{indexed:!0,internalType:"bytes32",name:"newAdminRole",type:"bytes32"}],name:"RoleAdminChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleGranted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"role",type:"bytes32"},{indexed:!0,internalType:"address",name:"account",type:"address"},{indexed:!0,internalType:"address",name:"sender",type:"address"}],name:"RoleRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"quantity",type:"uint256"},{indexed:!0,internalType:"uint256",name:"pricePerToken",type:"uint256"},{indexed:!1,internalType:"uint256",name:"firstPurchasedTokenId",type:"uint256"}],name:"Sale",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"changedBy",type:"address"}],name:"SalesConfigChanged",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"contract IMetadataRenderer",name:"renderer",type:"address"}],name:"UpdatedMetadataRenderer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"implementation",type:"address"}],name:"Upgraded",type:"event"},{inputs:[],name:"DEFAULT_ADMIN_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"MINTER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"SALES_MANAGER_ROLE",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"quantity",type:"uint256"}],name:"adminMint",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"recipients",type:"address[]"}],name:"adminMintAirdrop",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"burn",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"config",outputs:[{internalType:"contract IMetadataRenderer",name:"metadataRenderer",type:"address"},{internalType:"uint64",name:"editionSize",type:"uint64"},{internalType:"uint16",name:"royaltyBPS",type:"uint16"},{internalType:"address payable",name:"fundsRecipient",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"contractVersion",outputs:[{internalType:"uint32",name:"",type:"uint32"}],stateMutability:"view",type:"function"},{inputs:[],name:"finalizeOpenEdition",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"}],name:"getRoleAdmin",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"grantRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"hasRole",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"string",name:"_contractName",type:"string"},{internalType:"string",name:"_contractSymbol",type:"string"},{internalType:"address",name:"_initialOwner",type:"address"},{internalType:"address payable",name:"_fundsRecipient",type:"address"},{internalType:"uint64",name:"_editionSize",type:"uint64"},{internalType:"uint16",name:"_royaltyBPS",type:"uint16"},{components:[{internalType:"uint104",name:"publicSalePrice",type:"uint104"},{internalType:"uint32",name:"maxSalePurchasePerAddress",type:"uint32"},{internalType:"uint64",name:"publicSaleStart",type:"uint64"},{internalType:"uint64",name:"publicSaleEnd",type:"uint64"},{internalType:"uint64",name:"presaleStart",type:"uint64"},{internalType:"uint64",name:"presaleEnd",type:"uint64"},{internalType:"bytes32",name:"presaleMerkleRoot",type:"bytes32"}],internalType:"struct IERC721Drop.SalesConfiguration",name:"_salesConfig",type:"tuple"},{internalType:"contract IMetadataRenderer",name:"_metadataRenderer",type:"address"},{internalType:"bytes",name:"_metadataRendererInit",type:"bytes"}],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"isAdmin",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"nftOwner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bool",name:"enable",type:"bool"}],name:"manageMarketFilterDAOSubscription",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"metadataRenderer",outputs:[{internalType:"contract IMetadataRenderer",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"minter",type:"address"}],name:"mintedPerAddress",outputs:[{components:[{internalType:"uint256",name:"totalMints",type:"uint256"},{internalType:"uint256",name:"presaleMints",type:"uint256"},{internalType:"uint256",name:"publicMints",type:"uint256"}],internalType:"struct IERC721Drop.AddressMintDetails",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"presaleMintsByAddress",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxiableUUID",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"purchase",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"uint256",name:"maxQuantity",type:"uint256"},{internalType:"uint256",name:"pricePerToken",type:"uint256"},{internalType:"bytes32[]",name:"merkleProof",type:"bytes32[]"}],name:"purchasePresale",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"renounceRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"role",type:"bytes32"},{internalType:"address",name:"account",type:"address"}],name:"revokeRole",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"_salePrice",type:"uint256"}],name:"royaltyInfo",outputs:[{internalType:"address",name:"receiver",type:"address"},{internalType:"uint256",name:"royaltyAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"saleDetails",outputs:[{components:[{internalType:"bool",name:"publicSaleActive",type:"bool"},{internalType:"bool",name:"presaleActive",type:"bool"},{internalType:"uint256",name:"publicSalePrice",type:"uint256"},{internalType:"uint64",name:"publicSaleStart",type:"uint64"},{internalType:"uint64",name:"publicSaleEnd",type:"uint64"},{internalType:"uint64",name:"presaleStart",type:"uint64"},{internalType:"uint64",name:"presaleEnd",type:"uint64"},{internalType:"bytes32",name:"presaleMerkleRoot",type:"bytes32"},{internalType:"uint256",name:"maxSalePurchasePerAddress",type:"uint256"},{internalType:"uint256",name:"totalMinted",type:"uint256"},{internalType:"uint256",name:"maxSupply",type:"uint256"}],internalType:"struct IERC721Drop.SaleDetails",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[],name:"salesConfig",outputs:[{internalType:"uint104",name:"publicSalePrice",type:"uint104"},{internalType:"uint32",name:"maxSalePurchasePerAddress",type:"uint32"},{internalType:"uint64",name:"publicSaleStart",type:"uint64"},{internalType:"uint64",name:"publicSaleEnd",type:"uint64"},{internalType:"uint64",name:"presaleStart",type:"uint64"},{internalType:"uint64",name:"presaleEnd",type:"uint64"},{internalType:"bytes32",name:"presaleMerkleRoot",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address payable",name:"newRecipientAddress",type:"address"}],name:"setFundsRecipient",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract IMetadataRenderer",name:"newRenderer",type:"address"},{internalType:"bytes",name:"setupRenderer",type:"bytes"}],name:"setMetadataRenderer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"setOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint104",name:"publicSalePrice",type:"uint104"},{internalType:"uint32",name:"maxSalePurchasePerAddress",type:"uint32"},{internalType:"uint64",name:"publicSaleStart",type:"uint64"},{internalType:"uint64",name:"publicSaleEnd",type:"uint64"},{internalType:"uint64",name:"presaleStart",type:"uint64"},{internalType:"uint64",name:"presaleEnd",type:"uint64"},{internalType:"bytes32",name:"presaleMerkleRoot",type:"bytes32"}],name:"setSaleConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"args",type:"bytes"}],name:"updateMarketFilterSettings",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"}],name:"upgradeTo",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newImplementation",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"upgradeToAndCall",outputs:[],stateMutability:"payable",type:"function"},{inputs:[],name:"withdraw",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"amount",type:"uint256"}],name:"zoraFeeForAmount",outputs:[{internalType:"address payable",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"zoraFeeManager",outputs:[{internalType:"contract IZoraFeeManager",name:"",type:"address"}],stateMutability:"view",type:"function"},{stateMutability:"payable",type:"receive"}];function Ai(){Ai=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var Mi=function(){var t=Object($.a)(Ai().mark(function t(e,n,r){var o,a;return Ai().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("eth price=",r),o=new he.ethers.Contract("0x211da05b80548e0a2aba59c50b94509af75de5f5",_i,e),t.next=4,o.purchase(n,{value:he.ethers.utils.parseEther(r)});case 4:return a=t.sent,t.abrupt("return",a);case 6:case"end":return t.stop()}},t)}));return function(e,n,r){return t.apply(this,arguments)}}();n(1329);function Pi(){Pi=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}var zi=function(t){var e=Object(r.useState)(0),n=Object(c.a)(e,2),a=n[0],i=n[1],u=t.setStep,s=t.step,l=Object(r.useState)(1),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(r.useState)(1),y=Object(c.a)(p,2),v=y[0],g=y[1],b=Object(_e.l)().data;Object(r.useEffect)(function(){Ci().then(function(t){return i(t)})},[i]),te(Object(r.useCallback)(function(){d(h+1)},[h,d]),80);for(var w=Object(r.useCallback)(Object($.a)(Pi().mark(function e(){var n;return Pi().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!b){e.next=8;break}return u(m.OpenWallet),e.next=4,Mi(b,v,"0");case 4:n=e.sent,u(m.Waiting),t.setTx(n),n.wait(1).then(function(){u(m.Confirmed)});case 8:case"end":return e.stop()}},e)})),[v,b,u]),x=[],E=h,O=0,j=0;j<32;j++){var L=E%4;x.push(o.a.createElement("rect",{x:3*j,y:2,width:j%4*4*L+1,height:8,fill:"#0000008f",className:"animated",style:{animationDelay:O+"ms"}})),E/=2,O+=250}return E=Math.floor(h/2),Math.floor(h/2),o.a.createElement("div",{className:"ml-32 mt-6 mint-block select-none z-10"},o.a.createElement("img",{className:"block-chasis",src:"/block-chasis.svg"}),o.a.createElement("div",{className:"p-3 z-1 flex flex-col inner-chasis pt-5"},o.a.createElement("img",{src:"/mint-cover.png",className:"mx-auto spore-image"}),o.a.createElement("div",{className:(s!==m.None?"opacity-30":"")+" mx-auto flex mt-3 mb-2 "},o.a.createElement("div",{className:"flex flex-col mr-3 mt-3"},o.a.createElement("div",{className:"rounded-full py-1 edition-count w-14 text-center"},v),o.a.createElement("div",{className:"italic text-xs text-center mt-1 text-stone-500"},"spores")),o.a.createElement("div",{className:"flex flex-col "},o.a.createElement("div",{onClick:function(){return g(v+1)},className:"edition-btn rounded-full bg-zinc-600 text-white px-2.5 py-1 mb-2 text-center pushable"},"+"),o.a.createElement("div",{onClick:function(){return g(Math.max(1,v-1))},className:(1===v?"opacity-30":"")+" edition-btn rounded-full bg-zinc-600 text-white px-2.5 py-1 text-center pushable"},"-"))),o.a.createElement("div",{onClick:w,className:(s!==m.None?"bg-transparent-white text-zinc-600 ":" bg-zinc-600 text-white")+" text-lg w-full py-2 text-center  rounded-full mint-btn cursor-pointer"},null===b?o.a.createElement(Ht.a,{label:"Mint 0.005 ETH"}):s===m.OpenWallet?"Confirm in Wallet":s===m.Waiting?o.a.createElement("div",{className:"flex w-44 mx-auto "},o.a.createElement("span",{className:"mr-2"},"Processing")," ",o.a.createElement("svg",{className:"mt-2",width:150,height:"15"},x)):s===m.Confirmed?"Completed":"Mint 0.005 ETH"),o.a.createElement("div",{className:"text-center flex text-xs mx-auto mt-1.5"},a," minted / \u221e")))},Fi=(n(1330),function(t){t.scrollContainer;var e=Object(r.useState)(""),n=Object(c.a)(e,2),a=n[0],i=n[1],u=Object(r.useState)(!1),s=Object(c.a)(u,2),l=s[0],f=s[1],h=Object(r.useState)(!1),d=Object(c.a)(h,2),p=d[0],y=d[1],v=Object(r.useState)(!1),m=Object(c.a)(v,2),g=m[0],b=m[1],w=Object(r.useCallback)(function(){fetch("https://zequencer.io/spores-waitlist",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:a})}),y(!0)},[a,y]),x=Object(r.useCallback)(function(){var t=document.body.offsetHeight+document.body.scrollTop>=document.body.scrollHeight;b(t)},[b]);Object(r.useEffect)(function(){return window.addEventListener("mousewheel",x),window.addEventListener("touchmove",x),window.addEventListener("scroll",x),function(){window.removeEventListener("mousewheel",x),window.removeEventListener("touchmove",x),window.removeEventListener("scroll",x)}},[b]);var E=(l?"active":"")+" email-signup absolute bottom-0 left-0 right-0 mx-auto z-10 p-3";return Hn.isMobile&&!g||(E+=" show"),o.a.createElement("div",{className:E},o.a.createElement("div",{className:"flex flex-col"},p?o.a.createElement("div",{className:"flex h-8 font-semibold"},"You've been added to the waitlist",o.a.createElement("svg",{className:"ml-3 mt-1",height:"13",width:"16"},o.a.createElement("path",{fill:"#00ff1f",d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))):o.a.createElement("div",{className:"flex h-8"},o.a.createElement("input",{onFocus:function(){f(!0)},onBlur:function(){f(!1)},className:"px-2 text-zinc-600",placeholder:"enter your email",value:a,onChange:function(t){return i(t.target.value)},type:"text"}),o.a.createElement("div",{onClick:w,className:(a.includes("@")?"":"opacity-30")+" ml-3 rounded-full join-btn bg-zinc-600 text-white px-3 py-1 pushable"},"join"))))}),Ri=(n(1331),function(t){return 1===t.toString().length?"0"+t.toString():t.toString()}),Di=function(t){var e=Math.floor(t/1e3%60),n=Math.floor(t/6e4%60),r=Math.floor(t/36e5%24);return{days:Math.floor(t/864e5),hours:r,minutes:n,seconds:e}},Gi=function(){var t=Object(r.useRef)(null),e=Object(r.useRef)(null),n=Object(r.useRef)(null),a=Object(r.useRef)(null),i=Object(r.useState)([[0,0],[0,0],[0,0],[0,0]]),u=Object(c.a)(i,2),s=u[0],l=u[1];Object(r.useEffect)(function(){return window.addEventListener("mousemove",f),function(){window.removeEventListener("mousemove",f)}},[l]);var f=Object(r.useCallback)(function(r){l([h(r,t.current),h(r,e.current),h(r,n.current),h(r,a.current)])},[l]),h=function(t,e){var n=e.getBoundingClientRect();return[t.clientX-n.left-250,t.clientY-n.top-250]},d=Object(r.useState)(1e4),p=Object(c.a)(d,2),y=p[0],v=p[1],m=new Date(2023,4,3);te(Object(r.useCallback)(function(){var t=new Date,e=m.getTime()-t.getTime();v(e)},[v]),500);var g=Di(y);return o.a.createElement("div",{className:"flex clock-timer text-zinc-700 z-10"},o.a.createElement("div",{ref:t,className:"flex w-32 mx-1 clock-part overflow-hidden"},o.a.createElement("div",{style:{left:s[0][0],top:s[0][1]},className:"light-gradient"}),o.a.createElement("div",{className:"clock-number mr-1"},Ri(g.days)),o.a.createElement("div",{className:"clock-unit"},o.a.createElement("span",{className:"orange-gradient"},"d"))),o.a.createElement("div",{ref:e,className:"flex w-32 mx-1 clock-part overflow-hidden"},o.a.createElement("div",{style:{left:s[1][0],top:s[1][1]},className:"light-gradient"}),o.a.createElement("div",{className:"clock-number mr-1"},Ri(g.hours)),o.a.createElement("div",{className:"clock-unit"},o.a.createElement("span",{className:"green-gradient"},"h"))),o.a.createElement("div",{ref:n,className:"flex w-32 mx-1 clock-part overflow-hidden"},o.a.createElement("div",{style:{left:s[2][0],top:s[2][1]},className:"light-gradient"}),o.a.createElement("div",{className:"clock-number mr-1"},Ri(g.minutes)),o.a.createElement("div",{className:"clock-unit"},o.a.createElement("span",{className:"blue-gradient"},"m"))),o.a.createElement("div",{ref:a,className:"flex w-32 mx-1 clock-part overflow-hidden"},o.a.createElement("div",{style:{left:s[3][0],top:s[3][1]},className:"light-gradient"}),o.a.createElement("div",{className:"clock-number mr-1"},Ri(g.seconds)),o.a.createElement("div",{className:"clock-unit"},o.a.createElement("span",{className:"purple-gradient"},"s"))))},Bi=(n(1332),function(t){var e=Object(r.useRef)(null),n=Object(r.useRef)(null),a=Object(r.useState)(null),i=Object(c.a)(a,2),u=i[0],s=i[1],l=Object(r.useState)([100,100]),h=Object(c.a)(l,2),d=h[0],p=h[1],y=Object(r.useState)(.87),v=Object(c.a)(y,2),g=v[0],b=v[1],w=Object(r.useState)(.124),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(r.useState)(m.None),L=Object(c.a)(j,2),S=L[0],I=L[1],N=S===m.Confirmed||S===m.Play;Object(r.useEffect)(function(){},[]),Object(r.useEffect)(function(){return window.addEventListener("mousemove",T),function(){return window.removeEventListener("mousemove",T)}},[]),Object(r.useEffect)(function(){return window.addEventListener("mousewheel",k),window.addEventListener("touchmove",k),window.addEventListener("scroll",k),function(){window.removeEventListener("mousewheel",k),window.removeEventListener("touchmove",k),window.removeEventListener("scroll",k)}},[p]);var k=Object(r.useCallback)(function(){if(n.current){var t=n.current.getBoundingClientRect(),e=360*Math.sin(.02*(Math.abs(t.top-window.innerHeight)-350)),r=Math.abs(t.top-window.innerHeight)-350;A({scroll_y:-1*document.body.scrollTop*.004},!1),p([e,r])}},[p]),T=Object(r.useCallback)(function(t){if(n.current){var e=n.current.getBoundingClientRect(),r=t.clientX-e.left-250,o=t.clientY-e.top-250;p([r,o])}},[p]);Object(r.useEffect)(function(){var t=document.documentElement;t.classList.add("bg-white"),t.classList.add("mint-page")},[]);var C=f({vertexShader:Q,fragmentShader:"\nuniform float number1; \nuniform vec4 color1; \nuniform vec4 color2; \nuniform float number2; \nuniform float number3; \nuniform float iframe; \nuniform float width; \nuniform float height; \nuniform float offset_v; \nuniform float scroll_y; \n\n\nconst float EPSILON = 0.0001;\n#define PI 3.141592653589793\n\n#define cx_mul(a, b) vec2(a.x*b.x - a.y*b.y, a.x*b.y + a.y*b.x)\n#define cx_div(a, b) vec2(((a.x*b.x + a.y*b.y)/(b.x*b.x + b.y*b.y)),((a.y*b.x - a.x*b.y)/(b.x*b.x + b.y*b.y)))\n#define cx_sin(a) vec2(sin(a.x) * cosh(a.y), cos(a.x) * sinh(a.y))\n#define cx_cos(a) vec2(cos(a.x) * cosh(a.y), -sin(a.x) * sinh(a.y))\n\n// Identity matrix.\nconst mat3 identity =  mat3(\n        vec3(1, 0, 0),\n        vec3(0, 1, 0),\n        vec3(0, 0, 1)\n    );\n\nmat2 rotate2D(float angle) {\n    return mat2(\ncos(angle), -sin(angle),sin(angle),cos(angle));\n}\n\nmat4 lookAt(vec3 eye, vec3 target, vec3 up) {\n    vec3 z = normalize(eye - target);\n    vec3 x = normalize(cross(up, z));\n    vec3 y = normalize(cross(z, x));\n    mat4 translation = mat4(\n        vec4(1.0, 0.0, 0.0, eye.x),\n    \tvec4(0.0, 1.0, 0.0, eye.y),\n        vec4(0.0, 0.0, 1.0, eye.z),\n        vec4(0.0, 0.0, 0.0, 1.0)\n    );\n    mat4 rotation = transpose(mat4(vec4(x, 0.0),vec4(y, 0.0),vec4(z, 0.0),vec4(0.0, 0.0, 0.0, 1.0)));\n    return translation * rotation;\n}\n\nvec3 getRayDir(mat4 camera, float fov) {\n    fov = radians(fov);\n    vec2 p = 1.0*((gl_FragCoord.xy-vec2(width, height)))/vec2(width, height);\n    vec2 h = vec2(\n        tan(fov / 2.0) * (width / height), \n        tan(fov / 2.0)\n    );\n    vec3 pCam = vec3(p * h, -1.0);\n    return normalize((inverse(camera) * vec4(pCam, 0.0)).xyz);\n}\n\nfloat sdRoundBoxCoord( vec2 p, vec2 off, vec2 b, float r, mat3 transform, float angle ) \n{\n  off -= vec2(0.0, offset_v);\n  vec3 p3 = vec3(p, 0.0);\n  vec3 off3 = vec3(off, 0.0);\n  p3 = (p3 - off3); //*transform;\n  p.x = p3.x;\n  p.y = p3.y;\n  if (angle != 0.0) {\n  p *= rotate2D(angle);\n  }\n  vec2 q = abs(p)-b+r;\n  return min(max(q.x,q.y),0.0) + length(max(q,0.)) - r;\n}\n\nfloat sdRoundBox3DCoord( vec3 p, vec3 off, vec3 b, float r, mat3 transform, float pivot) \n{\n  vec3 q = abs(p) - b;\n  return length(max(q,0.0)) + min(max(q.x,max(q.y,q.z)),0.0) - r;\n}\n\nfloat sdRoundBox( vec2 off, vec2 b, float r ) \n{\n  off -= vec2(0.0, offset_v);\n  vec2 p = (1.0*gl_FragCoord.xy-vec2(width, height))/height;\n  return sdRoundBoxCoord(p, off, b, r, identity, 0.0);\n}\n\nfloat ATan2(float x, float y)\n{\n    float angle = asin(x) > 0.0 ? acos(y) : -acos(y);\n    return angle;\n}\n\nvec3 hsl2rgb(vec3 c) {\n    vec3 rgb = clamp(abs(mod(c.x * 6.0 + vec3(0.0,4.0,2.0), 6.0) - 3.0) - 1.0, 0.0, 1.0);\n        return c.z + c.y * (rgb - 0.5) * (1.0 - abs(2.0 * c.z - 1.0));\n}\nvec3 rgb2hsl(vec3 c) {\n    float h = 0.0;\n    float s = 0.0;\n    float l = 0.0;\n    float r = c.r;\n    float g = c.g;\n    float b = c.b;\n    float cMin = min( r, min( g, b ) );\n    float cMax = max( r, max( g, b ) );\n    l = ( cMax + cMin ) / 2.0;\n    if ( cMax > cMin ) {\n        float cDelta = cMax - cMin;\n        s = l < .0 ? cDelta / ( cMax + cMin ) : cDelta / ( 2.0 - ( cMax + cMin ) );\n        if ( r == cMax ) {\n            h = ( g - b ) / cDelta;\n        } else if ( g == cMax ) {\n            h = 2.0 + ( b - r ) / cDelta;\n        } else {\n            h = 4.0 + ( r - g ) / cDelta;\n        }\n        if ( h < 0.0) {\n            h += 6.0;\n        }\n        h = h / 6.0;\n     }\n     return vec3( h, s, l );\n}\n\nvec4 rainbow(float level)\n{\n\t/*\n\t\tTarget colors\n\t\t=============\n\t\t\n\t\tL  x   color\n\t\t0  0.0 vec4(1.0, 0.0, 0.0, 1.0);\n\t\t1  0.2 vec4(1.0, 0.5, 0.0, 1.0);\n\t\t2  0.4 vec4(1.0, 1.0, 0.0, 1.0);\n\t\t3  0.6 vec4(0.0, 0.5, 0.0, 1.0);\n\t\t4  0.8 vec4(0.0, 0.0, 1.0, 1.0);\n\t\t5  1.0 vec4(0.5, 0.0, 0.5, 1.0);\n\t*/\n\t\n\tfloat r = float(level <= 2.0) + float(level > 4.0) * 0.5;\n\tfloat g = max(1.0 - abs(level - 2.0) * 0.5, 0.0);\n\tfloat b = (1.0 - (level - 4.0) * 0.5) * float(level >= 4.0);\n\treturn vec4(r, g, b, 1.0);\n}\n\nfloat rand(vec2 co){\n    return fract(sin(dot(co, vec2(12.9898, 78.233))) * 43758.5453);\n}\n\nvec3 mod289(vec3 x) {\n\nreturn x - floor(x * (1.0 / 289.0)) * 289.0;\n\n}\nvec4 mod289_4(vec4 x) {\n\nreturn x - floor(x * (1.0 / 289.0)) * 289.0; \n\n}\nvec4 permute(vec4 x) {\n\nreturn mod289_4(((x*34.0)+1.0)*x);\n\n}\nvec4 taylorInvSqrt(vec4 r) {\n\nreturn 1.79284291400159 - 0.85373472095314 * r; \n\n}\nvec3 fade(vec3 t) {\n\nreturn t*t*t*(t*(t*6.0-15.0)+10.0);\n\n}\nfloat perlin(vec3 P) {\n\n    vec3 i0 = mod289(floor(P)), i1 = mod289(i0 + vec3(1.0));\n    vec3 f0 = fract(P), f1 = f0 - vec3(1.0), f = fade(f0);\n    vec4 ix = vec4(i0.x, i1.x, i0.x, i1.x), iy = vec4(i0.yy, i1.yy);\n    vec4 iz0 = i0.zzzz, iz1 = i1.zzzz;\n    vec4 ixy = permute(permute(ix) + iy), ixy0 = permute(ixy + iz0), ixy1 = permute(ixy + iz1);\n    vec4 gx0 = ixy0 * (1.0 / 7.0), gy0 = fract(floor(gx0) * (1.0 / 7.0)) - 0.5;\n    vec4 gx1 = ixy1 * (1.0 / 7.0), gy1 = fract(floor(gx1) * (1.0 / 7.0)) - 0.5;\n    gx0 = fract(gx0); gx1 = fract(gx1);\n    vec4 gz0 = vec4(0.5) - abs(gx0) - abs(gy0), sz0 = step(gz0, vec4(0.0));\n    vec4 gz1 = vec4(0.5) - abs(gx1) - abs(gy1), sz1 = step(gz1, vec4(0.0));\n    gx0 -= sz0 * (step(0.0, gx0) - 0.5); gy0 -= sz0 * (step(0.0, gy0) - 0.5);\n    gx1 -= sz1 * (step(0.0, gx1) - 0.5); gy1 -= sz1 * (step(0.0, gy1) - 0.5);\n    vec3 g0 = vec3(gx0.x,gy0.x,gz0.x), g1 = vec3(gx0.y,gy0.y,gz0.y),\n        g2 = vec3(gx0.z,gy0.z,gz0.z), g3 = vec3(gx0.w,gy0.w,gz0.w),\n        g4 = vec3(gx1.x,gy1.x,gz1.x), g5 = vec3(gx1.y,gy1.y,gz1.y),\n        g6 = vec3(gx1.z,gy1.z,gz1.z), g7 = vec3(gx1.w,gy1.w,gz1.w);\n    vec4 norm0 = taylorInvSqrt(vec4(dot(g0,g0), dot(g2,g2), dot(g1,g1), dot(g3,g3)));\n    vec4 norm1 = taylorInvSqrt(vec4(dot(g4,g4), dot(g6,g6), dot(g5,g5), dot(g7,g7)));\n    g0 *= norm0.x; g2 *= norm0.y; g1 *= norm0.z; g3 *= norm0.w;\n    g4 *= norm1.x; g6 *= norm1.y; g5 *= norm1.z; g7 *= norm1.w;\n    vec4 nz = mix(vec4(dot(g0, vec3(f0.x, f0.y, f0.z)), dot(g1, vec3(f1.x, f0.y, f0.z)),\n        dot(g2, vec3(f0.x, f1.y, f0.z)), dot(g3, vec3(f1.x, f1.y, f0.z))),\n        vec4(dot(g4, vec3(f0.x, f0.y, f1.z)), dot(g5, vec3(f1.x, f0.y, f1.z)),\n            dot(g6, vec3(f0.x, f1.y, f1.z)), dot(g7, vec3(f1.x, f1.y, f1.z))), f.z);\n    return 2.2 * mix(mix(nz.x,nz.z,f.y), mix(nz.y,nz.w,f.y), f.x);\n\n}\n\nvoid main() {\n/*\n    vec2 uv_bound = (1.0*gl_FragCoord.xy-vec2(width, height))/height;\n    if (abs(uv_bound.x) > 0.62 || abs(uv_bound.y + 0.0) > 0.8) {\n       gl_FragColor = vec4(0.0);\n       return;\n    }\n*/\n\nfloat noise_resolution = .87; \nfloat reflection = .124; \nvec2 bad_uv = (1.0*gl_FragCoord.xy-vec2(width, height))/height+vec2(0.0, offset_v);\n\nvec3 xfyz5d7ab88b07754a03b16efea7c776fb5c = (vec3((((bad_uv) * (noise_resolution)).r), (((bad_uv) * (noise_resolution)).g), number1));\nxfyz5d7ab88b07754a03b16efea7c776fb5c.y += scroll_y;\n\nfloat syza4dc54c2534445c9a9443f428c6e96cf = (perlin((xfyz5d7ab88b07754a03b16efea7c776fb5c + (vec3(0.0, reflection, 0.0))))) - (perlin((xfyz5d7ab88b07754a03b16efea7c776fb5c) - ((vec3(0.0, reflection, 0.0)))));\n\nfloat xyz89260d98a5ba40188211d34ff9b59c6d = (perlin((xfyz5d7ab88b07754a03b16efea7c776fb5c + (vec3(reflection, 0.0, 0.0))))) - (perlin((xfyz5d7ab88b07754a03b16efea7c776fb5c) - ((vec3(reflection, 0.0, 0.0)))));\n\nvec3 xyz2b11a4eb90a44e2a9fd4886593b23a73 = normalize((vec3(syza4dc54c2534445c9a9443f428c6e96cf, xyz89260d98a5ba40188211d34ff9b59c6d, 0.064)));\n\nfloat dotted43545fa7ccfb4779918d90454c9f321f = (dot((xyz2b11a4eb90a44e2a9fd4886593b23a73), (normalize((vec3(0.696, -0.825, 3.384))))));\n\nvec4 output3b5972cb12e347c2aa390341f358f1b4 = (vec4(0.494, 0.533, 0.984, 1.000) + vec4(0.376, 0.643, 1.000, 1.000)*cos(0.874*2.*PI*(vec4(0.733, 0.733, 0.733, 1.000)*mix(smoothstep(0.092, 4.290, dotted43545fa7ccfb4779918d90454c9f321f), smoothstep(0.046, 0.693, dotted43545fa7ccfb4779918d90454c9f321f), syza4dc54c2534445c9a9443f428c6e96cf)+vec4(1.000, 1.000, 1.000, 1.000))));\n\nfloat randomUV3efbd09a00cc48bfa7719eba12f2626e = rand(bad_uv);\n\nvec4 backgroundPre46c063fea50542d58e7e6860534d8557 = (mix(output3b5972cb12e347c2aa390341f358f1b4, vec4(1.0, 1.0, 1.0, 0.0), ((((bad_uv.x)) * (1.000) + 1.000)) * (smoothstep(0.622, 1.000, ((bad_uv.y)) * (-0.815)))) + (randomUV3efbd09a00cc48bfa7719eba12f2626e) * (0.038));\n\n\ngl_FragColor = mix(backgroundPre46c063fea50542d58e7e6860534d8557, vec4(0.93, .82, 1.0, 0.9), smoothstep(1.000, -0.271, (length(vec2(mix(((bad_uv.x)) * (number2), (bad_uv.x), ((bad_uv.x)) * (number3)), ((bad_uv.y) + number2))) + (((((bad_uv.y) + number2)) * (2.000) + sin(((bad_uv.x)) * (3.000)))) * (-0.083))));\n}\n",ref:e,className:"cloud-shader",width:window.innerWidth,height:window.innerHeight,resolution:1}),_=C.dispose,A=C.updateUniforms,M=C.onResize;Object(r.useEffect)(function(){N&&(setTimeout(function(){_()},2e3),setTimeout(function(){return I(m.Play)},5e3))},[S,I]),Object(r.useEffect)(function(){window.addEventListener("resize",P)},[]);var P=Object(r.useCallback)(function(){M(window.innerWidth,window.innerHeight)},[]),z=Object(r.useState)(0),F=Object(c.a)(z,2),R=F[0],D=F[1];te(Object(r.useCallback)(function(){if(S!==m.Confirmed){var t=S===m.None?.0016:.002;D(R+(t*=2)),A({number3:Math.sin(2*R),number1:Math.sin(3*R),number2:Math.sin(R)})}},[R,D,b,g,O,E,S]),40);var G=o.a.createElement("div",{className:"flex flex-col relative"},o.a.createElement("div",{className:"mx-10 mt-1 tag-line "},o.a.createElement("div",{className:"flex"},o.a.createElement("img",{src:"/charcoal-logo.svg",className:"logo-text"}),o.a.createElement("div",null,"is your immersive")),o.a.createElement("div",{className:"relative"},"gameboy for remixing music",o.a.createElement("img",{src:"/spores-flower.svg",className:"w-2 h-2 spores-flower opacity-0"})))),B=o.a.createElement("div",{ref:n,className:"tag-details overflow-hidden relative"},o.a.createElement("div",{style:{left:d[0],top:d[1]},className:"light-gradient"}),o.a.createElement("div",{className:"mt-3 text-md"},o.a.createElement("div",{className:"my-3 flex"},o.a.createElement("div",{className:"feature-name flex"},o.a.createElement("span",{className:"orange-gradient feature shimmer"},"modify")," \ud83c\udf08 "),o.a.createElement("span",{className:"ml-2"}," pitch and speed of any song")),o.a.createElement("div",{className:"my-3 flex"},o.a.createElement("div",{className:"feature-name flex"},o.a.createElement("span",{className:"green-gradient feature shimmer"},"transform")," \ud83d\ude08"),o.a.createElement("span",{className:"ml-2"},"effects and filters")),o.a.createElement("div",{className:"my-3 flex"},o.a.createElement("div",{className:"feature-name flex"},o.a.createElement("span",{className:"purple-gradient feature shimmer"},"clip")," \u2702\ufe0f "),o.a.createElement("span",{className:"ml-2"}," your creation onchain"))));return o.a.createElement("div",{ref:e,className:(N?"minted-and-ready ":"")+"flex flex-col h-full pt-16 mint-layout text-zinc-700 z-10"},N&&o.a.createElement("div",{className:"zpore-ready-container"}," ",o.a.createElement(Si,Object.assign({beta:!0,alpha:!0},t,{songTitle:"unreleased",_songId:20}))," "),N&&S!==m.Play&&o.a.createElement("div",{className:"absolute top-0 left-0 w-full h-full  confirmed-modal flex"},o.a.createElement("div",{className:"m-auto text-3xl"},o.a.createElement("span",{className:"ice-gradient shimmer"},"Welcome"))),!N&&o.a.createElement("img",{src:"/spores-flower.svg",className:"mx-auto w-8 mb-8 z-10 opacity-0"}),!N&&o.a.createElement("div",{className:"flex flex-col mx-auto z-10"},o.a.createElement(Gi,null)),!N&&Hn.isMobile?o.a.createElement("div",{className:"mx-auto p-10 mt-10 mint-details z-10"},G,o.a.createElement(zi,{tx:u,setTx:s,step:S,setStep:I}),B):N?"":o.a.createElement("div",{className:"flex mx-auto p-10 mt-10 mint-details z-10"},o.a.createElement("div",{className:"flex-col"},G,B),o.a.createElement(zi,{setStep:I,step:S,tx:u,setTx:s})),!N&&o.a.createElement(K,null),!N&&o.a.createElement(Fi,{scrollContainer:e}))});function Ui(){Ui=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,n){return t[e]=n}}function u(t,e,n,r){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=s(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function s(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(j([])));v&&v!==e&&n.call(v,o)&&(p=v);var m=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=s(t[o],t,a);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=s(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,l;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(m,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(m),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new b(u(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(m),c(m,i,"Generator"),c(m,o,function(){return this}),c(m,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),E(n),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;E(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:j(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},t}function Zi(t,e){var n="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!n){if(Array.isArray(t)||(n=function(t,e){if(!t)return;if("string"===typeof t)return Yi(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Yi(t,e)}(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(t)},n:function(){var t=n.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Yi(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Wi=Object(tt.a)("https://tlgvdtldahlwcmdtdftl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRsZ3ZkdGxkYWhsd2NtZHRkZnRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzcwMTg5OTMsImV4cCI6MTk5MjU5NDk5M30.Yq1dNGz3lPIZmL2jN2GKMoKCoo9Al_RQkMRXjKDjEkc"),Hi=function(){var t=Object(r.useState)(0),e=Object(c.a)(t,2),n=e[0],a=e[1],i=Object(r.useState)(0),u=Object(c.a)(i,2),s=u[0],l=u[1];Object(r.useEffect)(function(){return window.addEventListener("message",f),function(){return window.removeEventListener("message",f)}},[a,l]);var f=Object(r.useCallback)(function(t){"leak-levels-a"===t.data.type&&a(t.data.body),"leak-levels-b"===t.data.type&&l(t.data.body)},[a,l]);return o.a.createElement("div",{className:"absolute h-8 right-0 top-0 flex leak-levels"},o.a.createElement("div",{className:"w-2 h-8 relative"},o.a.createElement("div",{style:{height:100*n+"%"},className:"w-2 bg-red-500 absolute left-0 bottom-0 rounded-lg"})),o.a.createElement("div",{className:"w-2 h-8 relative ml-0.5 "},o.a.createElement("div",{style:{backgroundColor:"blue",height:100*s+"%"},className:"w-2 bg-teal-500 absolute left-0 bottom-0 rounded-lg"})))},Ji=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.leak,n=Object(r.useRef)(0),a=Object(r.useRef)(0),i=Object(r.useState)(),u=Object(c.a)(i,2),s=u[0],l=u[1],f=Object(r.useCallback)(function(){var t=(new Date).getTime()-a.current;l(100*Math.min(1,t/5e3))},[l]);return Object(r.useEffect)(function(){a.current=(new Date).getTime(),n.current++},[e]),te(f,50),o.a.createElement("div",{style:{width:150},className:"ml-4 h-2 bg-zinc-500 p-0.5 rounded-full "+(100===s?"  opacity-0":"")},o.a.createElement("div",{style:{width:146*s/100},className:"h-1 bg-white overflow-hidden"+(n.current%2===0?" ml-auto":"")}))}),Vi=(n(1333),function(t){return(t=t.trim()).length>12?t.slice(0,12)+"...":t}),Qi=(Object(u.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.zorbId,n=t.hideLeaks,a=t.leak,i=t.playerRef,u=Object(r.useState)([]),s=Object(c.a)(u,2),l=(s[0],s[1]);Object(r.useEffect)(function(){var t=a.attributes.zorb;er(t).then(function(t){return er(e).then(function(e){return l([t,e])})})},[a,l]);var f=[[],[co(3)],[co(5)],[co(5),oo(50),io(10,15,30)]],h=Object(r.useCallback)(function(){n()},[i]),d=a.mintInfo.toAddress;return o.a.createElement(uo,{relative:!1,svgFilter:{def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"},algo:f,radius:24,fill:"#ffffff33",stroke:"transparent",className:"leak-controller fixed z-30"},o.a.createElement("div",{className:"text-xs z-30 pt-3 pb-1 pl-4 pr-1"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",null,Vi(a.song.title)," "),o.a.createElement("div",{className:"px-2 py-1 bg-white text-black ml-2 text-xs rounded-full leak-label"},"leak #",a.tokenId)),o.a.createElement("div",{className:"flex text-zinc-100"},o.a.createElement("div",{className:"mr-1 text-xs artist-name"},a.song.artist),o.a.createElement("div",{className:"cross mr-1"},"x"),o.a.createElement(Te,{className:"text-xs mr-2 ",address:d}))),o.a.createElement(Hi,null),o.a.createElement(Ji,{leak:a}),o.a.createElement(ma,{onClick:h,className:"close-icon"}))}),n(1334),function(){var t=Object(r.useState)({a:10,b:17,c:12,walk1:28,walk2:38,walk3:65,walk4:0,depth1a:8,depth1b:8,depth2a:12,depth2b:12,radius:52}),e=Object(c.a)(t,2),n=e[0];e[1];Object(r.useEffect)(function(){var t=document.getElementById("root");t&&t.classList.add("stats-page")},[]);var a=Object(r.useState)({}),i=Object(c.a)(a,2),u=i[0],s=i[1],l=Object(r.useState)([]),f=Object(c.a)(l,2),h=f[0],d=f[1];return Object(r.useEffect)(function(){(console.log("get plays by wallet"),new Promise(function(t){Wi.from("plays_by_wallet").select("*").then(function(){var e=Object($.a)(Ui().mark(function e(n){var r,o,a,i,c,u;return Ui().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.data,!n.error){e.next=3;break}return e.abrupt("return");case 3:o={},a=Zi(r),e.prev=5,a.s();case 7:if((i=a.n()).done){e.next=15;break}return c=i.value,e.next=11,Object(Ne.i)({address:c.wallet});case 11:u=e.sent,o[u||c.wallet]={address:c.wallet,plays:c.count};case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),a.e(e.t0);case 20:return e.prev=20,a.f(),e.finish(20);case 23:t(o);case 24:case"end":return e.stop()}},e,null,[[5,17,20,23]])}));return function(t){return e.apply(this,arguments)}}())})).then(s),Me({}).then(d)},[]),0==Object.keys(u).length?o.a.createElement("div",{className:"flex w-full h-full flex-col nft-jacker next-gen "},o.a.createElement(ja,{className:"m-auto"})):o.a.createElement("div",{className:"flex w-full h-full flex-col"},o.a.createElement(so,{svgFilter:void 0,style:{},className:"stats-box",fill:"#00000085",relative:!0,params:n},o.a.createElement("div",{className:"w-96 p-8 z-30 text-white"},o.a.createElement("div",{className:"total-remixes"},"Total Remixes: ",h.length),o.a.createElement("div",{className:"text-xs flex"},o.a.createElement("div",{className:"w-96 underline"},"Wallet"),o.a.createElement("div",{className:"w-8 underline"},"Plays"),o.a.createElement("div",{className:"ml-3 w-8 underline"},"Remixes")),Object.keys(u).map(function(t){return o.a.createElement("div",{className:"text-xs flex"},o.a.createElement("div",{className:"w-96"},o.a.createElement("a",{href:"/profile/".concat(t)},t.includes(".eth")?t:Vi(t))),o.a.createElement("div",{className:"w-8"},u[t].plays),o.a.createElement("div",{className:"ml-3 w-8"},h.filter(function(e){return e.creator.toLowerCase()==u[t].address.toLowerCase()}).length))}))))}),qi=(n(1335),"\n\nuniform sampler2D video;\nuniform float width;\nuniform float height;\nuniform float gateStrength;\nuniform float playRate;\nuniform float isRolling;\nuniform float ticks;\nuniform float rollRate;\nuniform float blurring;\nuniform float filterSliderValue;\nuniform float spaceEffectLevels;\nuniform float spaceSliderValue;\n\nvec4 blur(float Size) {\nfloat Pi = 6.28318530718; // Pi*2\n    \n    // GAUSSIAN BLUR SETTINGS {{{\n    float Directions = 16.0; // BLUR DIRECTIONS (Default 16.0 - More is better but slower)\n    float Quality = 4.0; // BLUR QUALITY (Default 4.0 - More is better but slower)\n    //float Size = 8.0; // BLUR SIZE (Radius)\n    // GAUSSIAN BLUR SETTINGS }}}\n   \n    vec2 Radius = Size/vec2(width, height); //iResolution.xy;\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n    // Pixel colour\n    vec4 Color = texture2D(video, uv);\n    \n    // Blur calculations\n    for( float d=0.0; d<Pi; d+=Pi/Directions)\n    {\n\t\tfor(float i=1.0/Quality; i<=1.0; i+=1.0/Quality)\n        {\n\t\t\tColor += texture2D(video, uv+vec2(cos(d),sin(d))*Radius*i);\t\t\n        }\n    }\n    \n    // Output to screen\n    Color /= Quality * Directions - 15.0;\n\n    return Color*0.6;\n}\nvec4 blur9(sampler2D image, vec2 direction) {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec2 resolution =  vec2(width, height); \n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\n// A single iteration of Bob Jenkins' One-At-A-Time hashing algorithm.\nuint hash( uint x ) {\n    x += ( x << 10u );\n    x ^= ( x >>  6u );\n    x += ( x <<  3u );\n    x ^= ( x >> 11u );\n    x += ( x << 15u );\n    return x;\n}\n\n// Compound versions of the hashing algorithm I whipped together.\nuint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\nuint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\nuint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\n\n\n// Construct a float with half-open range [0:1] using low 23 bits.\n// All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\nfloat floatConstruct( uint m ) {\n    const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\n    const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\n\n    m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\n    m |= ieeeOne;                          // Add fractional part to 1.0\n\n    float  f = uintBitsToFloat( m );       // Range [1:2]\n    return f - 1.0;                        // Range [0:1]\n}\n\n\n\n// Pseudo-random value in half-open range [0:1].\nfloat rand( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\nfloat rand( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n\n\n".concat("\n\n\nvec4 glitch()\t{\n\nbool autoScan  = true;\nfloat xScanline=rollRate/64.0;\nfloat xScanline2=rollRate/32.0;\nfloat xScanlineSize=0.5;\nfloat xScanlineSize2=0.25;\nfloat yScanline = spaceSliderValue;\nfloat yScanlineAmount = spaceSliderValue + 0.05;\nfloat grainLevel = spaceSliderValue + 0.1;\nbool scanFollow = true;\nfloat analogDistort = 1.0;\nfloat bleedAmount = 1.0;\nfloat bleedDistort = 0.5;\nfloat bleedRange = 1.0;\nvec4 colorBleedL = vec4(0.8-spaceEffectLevels, 0.0, 0.4+spaceEffectLevels, 1.0);\nvec4 colorBleedC = vec4(0.0, 0.5, 0.9, 1.0);\nvec4 colorBleedR = vec4(0.8-spaceSliderValue, 0.0, 0.4+spaceEffectLevels, 1.0);\n\n\nfloat TIME = ticks / 10.0;\n   vec2 RENDERSIZE = vec2(width, height);\n   float tau = 6.283185307179586476925286766559;\n   vec2 isf_FragNormCoord = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n\tfloat\tactualXLine = (!autoScan) ? xScanline : mod(xScanline + ((1.0+sin(0.34*TIME))/2.0 + (1.0+sin(TIME))/3.0 + (1.0+cos(2.1*TIME))/3.0 + (1.0+cos(0.027*TIME))/2.0)/3.5,1.0);\n\tfloat\tactualXLineWidth = (!autoScan) ? xScanlineSize : 2.0 * xScanlineSize * ((1.0+sin(1.2*TIME))/2.0 + (1.0+cos(3.91*TIME))/3.0 + (1.0+cos(0.014*TIME))/2.0)/3.5;\n\tvec2\tloc = isf_FragNormCoord;\n\tvec4\tvhs = texture2D(video, loc);\n\tfloat\tdx = 1.0+actualXLineWidth/25.0-abs(distance(loc.y, actualXLine));\n\tfloat\tdx2 = 1.0+xScanlineSize2/10.0-abs(distance(loc.y, xScanline2));\n\tfloat\tdy = (1.0-abs(distance(loc.y, yScanline)));\n\tif (autoScan)\n\t\tdy = (1.0-abs(distance(loc.y, mod(yScanline+TIME,1.0))));\n\t\n\tdy = (dy > 0.5) ? 2.0 * dy : 2.0 * (1.0 - dy);\n\t\n\tfloat\trX = (scanFollow) ? rand(vec3(dy,actualXLine,analogDistort)) : rand(vec3(dy,bleedAmount,analogDistort));\n\tfloat\txTime = (actualXLine > 0.5) ? 2.0 * actualXLine : 2.0 * (1.0 - actualXLine);\n\t\n\tloc.x += yScanlineAmount * dy * 0.025 + analogDistort * rX/(RENDERSIZE.x/2.0);\n\t\n\tif(dx2 > 1.0 - xScanlineSize2 / 10.0)\t{\n\t\tfloat\trX2 = (dy * rand(vec3(dy,dx2,dx)) + dx2) / 4.0;\n\t\tfloat\tdistortAmount = analogDistort * (sin(rX * tau / dx2) + cos(rX * tau * 0.78 / dx2)) / 10.0;\n\t\t//loc.y = xScanline2;\n\t\tloc.x += (1.0 + distortAmount * sin(tau * (loc.x) / rX2 ) - 1.0) / 15.0;\n\t}\n\tif(dx > 1.0 - actualXLineWidth / 25.0)\n\t\tloc.y = actualXLine;\n\n\tloc.x = mod(loc.x,1.0);\n\tloc.y = mod(loc.y,1.0);\n\t\n\tvec4\tc = texture2D(video, loc);\n\tfloat\tx = (loc.x*320.0)/320.0;\n\tfloat\ty = (loc.y*240.0)/240.0;\n\tfloat\tbleed = 0.0;\n\t\n\tif (scanFollow)\n\t\tc -= rand(vec3(x, y, xTime)) * xTime / (5.0-grainLevel);\n\telse\n\t\tc -= rand(vec3(x, y, bleedAmount)) * (bleedAmount/20.0) / (5.0-grainLevel);\n\t\n\tif (bleedAmount > 0.0)\t{\n\t\ttexture2D(video, loc + vec2(0.01, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.02, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.01, 0.01)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(-0.02, 0.02)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.0, -0.03)).r;\n\t\tbleed /= 6.0;\n\t\tbleed *= bleedAmount;\n\t}\n\n\tif (bleed > 0.1){\n\t\tfloat\tbleedFreq = 1.0;\n\t\tfloat\tbleedX = 0.0;\n\t\tif (autoScan)\n\t\t\tbleedX = x + bleedDistort * (yScanlineAmount + (1.5 + cos(TIME / 13.0 + tau*(bleedDistort+(1.0-loc.y))))/2.0) * sin((TIME / 9.0 + bleedDistort) * tau + loc.y * loc.y * tau * bleedFreq) / 8.0;\n\t\telse\n\t\t\tbleedX = x + (yScanlineAmount + (1.0 + sin(tau*(bleedDistort+loc.y)))/2.0) * sin(bleedDistort * tau + loc.y * loc.y * tau * bleedFreq) / 10.0;\n\t\tvec4\tcolorBleed = (bleedX < 0.5) ? mix(colorBleedL, colorBleedC, 2.0 * bleedX) : mix(colorBleedR, colorBleedC, 2.0 - 2.0 * bleedX);\n\t\tif (scanFollow)\n\t\t\tc += bleed * max(xScanlineSize,xTime) * colorBleed;\n\t\telse\n\t\t\tc += bleed * colorBleed;\n\t}\n   return c;\n}\n\n","\n\n").concat("\nvec4 filterColor(vec4 color) {\n   vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n   float val = filterSliderValue;\n   vec4 sampled = texture2D(video, uv - vec2(0.1*pow(val, 2.0), 0.1*filterSliderValue));\n   sampled.g = 0.0;\n   sampled.b = 0.0;\n   float ival = 1.0-val;\n   vec4 lp = mix(color, vec4(color.x*ival, color.y*pow(ival, 3.0), color.z*pow(ival+0.1, 0.5), 1.0), smoothstep(0.5, 1.0, val));\n   return mix(mix(color, sampled, pow(val, 0.03)), lp, pow(val, 0.3));\n}\n\n","\n\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec4 blurred = blurring > 0.0 ? blur9(video, vec2(blurring*3.0, blurring*1.0)) : vec4(0.0);\n\n/*\n  vec4 blurred = mix(\n    blur(blurring*4.0), \n    \n*/\n  vec4 sampled = texture2D(video, uv);\n  float _gate = (1.0-gateStrength);\n\n  vec4 glitched = spaceSliderValue > 0.0 || isRolling == 1.0 ? glitch() : vec4(0.0);\n  vec3 gammaColor = mix(\n    mix(\n      sampled.xyz, \n      glitched.xyz, \n      isRolling), \n   blurred.xyz, pow(blurring, 0.3));\n        \n  vec3 color = pow(gammaColor, vec3(2.0));\n  // grayscale conversion\n  float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));\n  // regamma\n  float gammaGray = sqrt(gray);\n  vec4 greyImage = vec4(gammaGray, gammaGray, gammaGray, 1.0);\n  vec4 _color = \n    _gate *\n    mix(\n      greyImage, \n      mix(\n        mix(\n          sampled, \n          glitched, \n          isRolling + spaceSliderValue*(0.3+spaceEffectLevels)), \n        blurred, \n        pow(blurring, 0.3)\n      ), \n      pow(playRate, 4.0));\n  _color.w = 1.0;\n  gl_FragColor = filterSliderValue > 0.0 ? filterColor(_color) : _color;\n}\n")),Xi=function(t){var e=Object(r.useState)(50),n=Object(c.a)(e,2),o=n[0],a=n[1],i=Object(r.useState)(50),u=Object(c.a)(i,2),s=u[0],l=u[1];Object(r.useEffect)(function(){return t.current.addEventListener("loadeddata",f),function(){return t.current.removeEventListener("loadeddata",f)}},[a,l]);var f=Object(r.useCallback)(function(){var e=t.current.offsetHeight;a(e);var n=t.current.offsetWidth;l(n)},[a,l]);return{width:s,height:o}},Ki=function(t){var e=t.canvasRef,n=t.ref,o=t.resolution,a=void 0===o?2:o,i=t.videoRef,c=t.width,u=t.height,f=t.vertexShader,h=t.fragmentShader,d=t.uniforms,p=Object(r.useRef)(),y=Object(r.useRef)(),v=Object(r.useRef)(),m=Object(r.useRef)();Object(r.useRef)(0);Object(r.useEffect)(function(){g(),b()},[]);var g=function(){p.current=new l.i,p.current.setPixelRatio(2),p.current.setSize(c/a,u/a),e&&(e.current=p.current.domElement),n.current.appendChild(p.current.domElement),y.current=new l.e,v.current=new l.a;var t=new l.d(2,2);m.current=Object(s.a)({video:{value:new l.h(i.current)},width:{value:c/2},height:{value:u/2}},d.current);var r=new l.f({uniforms:m.current,vertexShader:f,fragmentShader:h}),o=new l.c(t,r);y.current.add(o)};function b(){requestAnimationFrame(b),function(){if(!p.current.domElement)return;p.current.render(y.current,v.current)}()}Object(r.useEffect)(function(){m.current.width.value=c,m.current.height.value=u,p.current.setSize(c/a,u/a)},[c,u,a])},$i=function(t){var e=t.canvasRef,n=t.videoRef,a=t.uniforms,i=t.started,c=Object(r.useRef)(),u=Xi(n),s=u.width,l=u.height;Ki({canvasRef:e,uniforms:a,resolution:1,ref:c,videoRef:n,fragmentShader:qi,vertexShader:"\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(\n    position, \n    1.0 );\n}\n",width:s,height:l});var f="video absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full";return Hn.isMobile&&!i&&(f+=" hide"),o.a.createElement("div",{style:{height:l,width:s},ref:c,className:f})},tc=(n(1336),function(t){var e=t.color,n=t.playerRef,a=Object(r.useRef)(),i=Object(r.useRef)(),u=Object(r.useState)(),s=Object(c.a)(u,2),l=(s[0],s[1]),f=Object(r.useState)(0),h=Object(c.a)(f,2),d=h[0],p=h[1],y=Object(r.useState)(0),v=Object(c.a)(y,2),m=(v[0],v[1]),g=Object(r.useState)(!1),b=Object(c.a)(g,2),w=b[0],x=b[1],E=Object(r.useState)(!1),O=Object(c.a)(E,2),j=O[0],L=O[1],S=(Object(r.useRef)(0),Object(r.useState)(void 0)),I=Object(c.a)(S,2),N=I[0],k=I[1];Object(r.useEffect)(function(){return window.addEventListener("mouseup",T),window.addEventListener("mousemove",_),window.addEventListener("touchmove",_),function(){window.removeEventListener("mouseup",T),window.removeEventListener("mousemove",_),window.removeEventListener("touchmove",_)}},[j,k,L]);var T=Object(r.useCallback)(function(){L(!1)},[L]);Object(r.useEffect)(function(){return window.addEventListener("message",C,!1),function(t){return window.removeEventListener("message",C,!1)}},[p,m,x,l]);var C=Object(r.useCallback)(function(t){if("waveform-data"===t.data.type&&l(t.data.body),"song-player-progress"===t.data.type){var e=parseFloat(t.data.body);p(e)}if("jacker-playback-status"===t.data.type){var n=parseInt(t.data.body);m(n),n&&x(!0)}},[w,p,m,x,l]),_=(Object(r.useCallback)(function(){n.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")},[]),Object(r.useCallback)(function(t){if(j){t.touches&&(t=t.touches[0]);var e=a.current.getBoundingClientRect(),r=(t.clientX-e.left)/e.width*100;r=Math.max(0,Math.min(100,r)),k(r),n.current.contentWindow.postMessage({type:"jacker-seek",body:r},"*")}},[j,k]));if(!w)return"";var A={borderColor:e};return d=j&&N?N:d,o.a.createElement("div",{onMouseDown:function(t){L(!0),_(t)},onTouchStart:function(t){L(!0),_(t)},ref:a,style:A,className:"relative h-1.5 rounded-lg w-full playbar"},o.a.createElement("div",{style:{width:100-d+"%",left:d+"%"},className:"w-full h-full rounded-lg absolute playbar-remaining"}),o.a.createElement("div",{ref:i,onMouseDown:function(t){t.stopPropagation(),L(!0)},onTouchStart:function(t){t.stopPropagation(),L(!0)},style:{left:d+"%"},className:"rounded-xl absolute z-50 w-3 h-3 -top-0.5 bg-white hover:bg-red-500"}))});function ec(t){var e=~~(t/3600),n=~~(t%3600/60),r=~~t%60,o="";return e>0&&(o+=e+":"+(n<10?"0":"")),o+=n+":"+(r<10?"0":""),o+=""+r}var nc=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.videoRef,n=t.playerRef,a=t.started,i=Xi(e),u=i.width,s=i.height,l=Object(r.useState)(0),f=Object(c.a)(l,2),h=f[0],d=f[1];Object(r.useEffect)(function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}},[d]);var p=Object(r.useCallback)(function(t){if("song-player-progress"===t.data.type){var e=parseFloat(t.data.body);d(e/100*232)}},[d]);return o.a.createElement("div",{className:"z-50 absolute top-1/2  md:h-full md:w-4/6 md:transform md:translate-y-1/3 w-full",style:Hn.isMobile?{top:s}:{width:u}},o.a.createElement(tc,{playerRef:n,color:"white"}),a&&o.a.createElement("div",{className:"absolute md:left-0 left-4 top-3 text-xs"},ec(h)),a&&o.a.createElement("div",{className:"absolute md:right-0 right-4 top-3 text-xs"},"-",ec(Math.abs(h-232))))}),rc={"space-slider-value":"spaceSliderValue","filter-slider-value":"filterSliderValue","juice-slider-value":"juiceSliderValue","space-effect-levels":"spaceEffectLevels","gate-strength":"gateStrength","song-bpm":"songBPM","playback-bpm":"playbackBPM","is-rolling":"isRolling","rolling-rate":"rollRate"},oc=function(t){var e=t.ref,n=t.playerRef,o=Object(r.useRef)(),a=Object(r.useRef)(0),i=Object(r.useRef)(!1),u=Object(r.useRef)(0),s=(Object(r.useRef)(0),Object(r.useRef)(0),Object(r.useRef)(),Object(r.useRef)(0),Object(r.useRef)(void 0)),l=Object(r.useRef)(void 0),f=function(){return l.current&&(new Date).getTime()-l.current<=3e3},h=function(t){l.current=(new Date).getTime()},d=Object(r.useRef)(.1),p=Object(r.useRef)({blurring:{value:0},playRate:{value:1},isRolling:{value:0},rollRate:{value:32},filterSliderValue:{value:0},spaceSliderValue:{value:0},spaceEffectLevels:{value:0},ticks:{value:0},gateStrength:{value:0}}),y=Object(r.useState)(!1),v=Object(c.a)(y,2),m=v[0],g=v[1],b=Object(r.useState)(!1),w=Object(c.a)(b,2),x=w[0],E=w[1];Object(r.useEffect)(function(){window.addEventListener("message",S,!1)},[g,E]),Object(r.useEffect)(function(){setInterval(function(){O()},25)},[]);var O=function(){if(p.current.blurring.value>0){var t=p.current.blurring.value;((t=Math.max(0,Math.min(2,t+d.current)))>=2||t<=0)&&(d.current<0?d.current=.1:d.current=-5e-5),p.current.blurring.value=t,d.current>0?d.current*=1.8:(d.current*=1.6,d.current=Math.max(-.15,d.current))}},j=Object(r.useCallback)(function(){var t=e.current.playbackRate,r=Math.min(232,e.current.currentTime+10/t),o=100*r/232;n.current.contentWindow.postMessage({type:"jacker-seek",body:o},"*"),n.current.currentTime=r},[]),L=Object(r.useCallback)(function(){var t=e.current.playbackRate,r=Math.max(0,e.current.currentTime-10/t),o=100*r/232;n.current.contentWindow.postMessage({type:"jacker-seek",body:o},"*"),n.current.currentTime=r},[]),S=Object(r.useCallback)(function(t){if(!function(t,e){var n=rc[t.type];return!(!n||!e.current[n])&&(e.current[n].value=parseFloat(t.body),!0)}(t.data,p)){if("jacker-playback-status"===t.data.type){E(!0);var n=parseInt(t.data.body);n?e.current.play():e.current.pause(),g(n)}if("song-player-progress"===t.data.type){p.current.ticks.value++;var r=232*(parseFloat(t.data.body)/100),c=r-e.current.currentTime,l=Math.abs(c)>.2&&!f();r<=a.current||a.current;if(e.current.currentTime-u.current<.1&&(u.current=e.current.currentTime),Math.abs(c)>.5&&(l=!0),l&&h(),l||r<=a.current||r>=a.current+1){e.current.fastSeek&&p.current.isRolling.value&&32===p.current.rollRate.value?e.current.fastSeek(r):e.current.currentTime=r,i.current=!1}a.current=r,void 0!==s.current&&(s.current++,s.current>1&&(s.current=void 0))}if("song-bpm"===t.data.type){var y=t.data.body;o.current=parseFloat(y)}if("playback-bpm"===t.data.type){var v=t.data.body;if(o.current){0==p.current.blurring.value&&(p.current.blurring.value=.1,d.current=.1),d.current*=.92;var m=v/o.current;e.current.currentTime;p.current.playRate.value=m,e.current.playbackRate=m,f()||h()}}}},[g,E]);return{uniforms:p,isPlaying:m,started:x,rewind:L,fastForward:j}},ac=(n(1337),n(1338),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.videoURL,n=void 0===e?"https://zequencer.mypinata.cloud/ipfs/QmU6xYLumQ8TXiJXpNV3g5m5bwmeZDyigpagwdQ3b8wy7T":e,a=t.playerURL,i=void 0===a?"https://zequencer.mypinata.cloud/ipfs/".concat("Qmd2UjeaJkoeF5uE3dmwKQv6VY3NoAzsZFRGFsRcaUoTn3","/?tokenId=24&gallery=true"):a,u=t.lightweight,s=Object(r.useRef)(),l=Object(r.useRef)(),f=Object(r.useRef)(),h=oc({ref:s,playerRef:f}),d=h.started,p=h.rewind,y=h.fastForward,v=h.isPlaying,m=h.uniforms,g=Object(r.useState)(!1),b=Object(c.a)(g,2),w=b[0],x=b[1];Object(r.useEffect)(function(){!Hn.isMobile&&d&&x(!0)},[d,x]),Object(r.useEffect)(function(){!v&&d?x(!0):v&&Hn.isMobile&&setTimeout(function(){x(!1)},1e3)},[v,x,d]);var E=Object(r.useCallback)(function(){Hn.isMobile&&x(!w)},[w,x]),O="drop nft-jacker jacked video-jacker";return Hn.isMobile&&!d&&(O+=" dark-setting"),u&&(O+=" lightweight"),o.a.createElement("div",{className:O},o.a.createElement(Oi,{hideWaveform:!0,isSimple:!0,playerRef:f,videoRef:s,innerControls:Hn.isMobile,songTitle:"VERIFIED FEAT. CHIIEF DIIN",artist:"HALEEK MAUL",hideControls:!0,url:i}),o.a.createElement("div",{className:"z-50 h-1/3 md:z-10 fixed md:h-full w-full flex items-center justify-center"},!u&&o.a.createElement($i,{canvasRef:l,started:d,videoRef:s,uniforms:m}),o.a.createElement("video",{preload:"auto",preLoad:"auto",onClick:E,className:"absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full",style:{opacity:u?1:0},crossorigin:"",ref:s,muted:!0,playsInline:!0,src:n}),o.a.createElement(nc,{videoRef:s,playerRef:f,started:d})),w&&o.a.createElement("div",{className:"play-controls z-50 absolute left-0 right-0 mx-auto w-4 md:w-28"},o.a.createElement("img",{onClick:p,className:"rew pushable",src:"/rewind-icon.svg"}),o.a.createElement(Vn,{isPlaying:v,play:function(){return function(t){t.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")}(f)}}),o.a.createElement("img",{onClick:y,className:"fwd pushable",src:"/fast-forward-icon.svg"})))})),ic=(n(1339),Object(u.b)(function(t,e){return{}},function(t){return{}})(function(){var t=Object(r.useState)(!1),e=Object(c.a)(t,2),n=e[0],a=e[1],i=Object(r.useState)(1),u=Object(c.a)(i,2),s=u[0],l=u[1];return n?o.a.createElement("div",{className:"gen3-info"},o.a.createElement("div",{onClick:function(){return a(!1)},className:"pushable exit-btn"},"x"),o.a.createElement("img",{onClick:function(){return s<3?l(s+1):0},className:"pitch-deck-image",src:"/spores-pitch-".concat(s,".jpg")}),o.a.createElement("div",{className:"page-navigator"},o.a.createElement("div",{className:s>1?"prev-btn":"prev-btn hide",onClick:function(){return l(s-1)}}),o.a.createElement("div",{className:"page-info"},s," / 3"),o.a.createElement("div",{className:s<3?"next-btn":"hide next-btn",onClick:function(){return l(s+1)}}))):o.a.createElement("div",{onClick:function(){return a(!0)},className:"gen3-btn pushable"},o.a.createElement("div",{className:"gen3-text"},"Gen3 Vision \ud80c\udf4a"))})),cc=Object(u.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(r.useState)(!1),n=Object(c.a)(e,2),a=n[0],i=n[1],u=Object(r.useState)(!1),s=Object(c.a)(u,2),l=s[0],f=s[1];return Object(r.useEffect)(function(){a&&setTimeout(function(){f(!0)},1e3)},[a,f]),o.a.createElement("div",{className:"next-gen"},!l&&o.a.createElement("div",{className:a?"enter-overlay hide":"enter-overlay"},o.a.createElement("div",{onClick:function(){return i(!0)},className:"inner-overlay"},o.a.createElement("img",{className:"",src:"/spore-logo-future2.jpeg"}),o.a.createElement("div",{className:"click-text"},"Click to Enter"))),l&&o.a.createElement(ic,null),o.a.createElement(ji,{hideWaveform:!0,color:"black",url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmbtfXrV8ZUxM5PweH5EZKnpawpBDQsPHvn4Fk9rXzM3Vg","/?tokenId=32&gallery=true"),collectionAddress:"0x0000000000000000000000000000000000000001",isFullScreen:!0,tokenId:1,className:"thugger",artist:"Young Thug",isSimple:!0,songTitle:"Hop Out Ft. Wiz Kalifa"}))}),uc=(n(1340),n(1362)),sc=n(1364),lc=n(1365),fc=(n(1341),n(118)),hc=n(533),dc=n(68),pc=n(552),yc=Object(Ne.b)([dc.b.mainnet,dc.b.goerli],[Object(de.a)({infuraId:"2f3dce2af1044e88b4851c3d73c3d00c"}),Object(pc.a)()]),vc=yc.chains,mc=yc.provider,gc=Object(fc.a)({appName:"Spore Players",chains:vc}).connectors,bc=Object(_e.b)({autoConnect:!0,connectors:gc,provider:mc}),wc=function(t){var e=t.store;return window.spores=!0,o.a.createElement(r.Suspense,{fallback:function(){return o.a.createElement("div",null,"Loading...")}},o.a.createElement(_e.a,{client:bc},o.a.createElement(Ht.d,{chains:vc,theme:Object(hc.a)({accentColor:"black",accentColorForeground:"white",borderRadius:"small"})},o.a.createElement(uc.a,null,o.a.createElement(sc.a,null,o.a.createElement(lc.a,{path:"/qntm1/",render:function(t){return o.a.createElement(Si,Object.assign({},t,{store:t.store}))}}),o.a.createElement(lc.a,{path:"/qntm-remixes/",render:function(t){return o.a.createElement(Si,Object.assign({},t,{showRemixes:!0,store:t.store}))}}),o.a.createElement(lc.a,{path:"/zp-stats/",render:function(t){return o.a.createElement(Qi,Object.assign({},t,{showRemixes:!0,store:t.store}))}}),o.a.createElement(lc.a,{path:"/demoneyes/",render:function(t){return o.a.createElement(Si,Object.assign({},t,{songTitle:"Demon Eyes",_songId:1,store:t.store}))}}),o.a.createElement(lc.a,{path:"/mint/",render:function(t){return o.a.createElement(Bi,Object.assign({},t,{store:t.store}))}}),o.a.createElement(lc.a,{path:"/headless/:songId/:remixId",render:function(t){return o.a.createElement(Si,Object.assign({},t,{headless:!0,showRemixes:!0,remixId:t.match.params.remixId,songTitle:"unreleased",_songId:t.match.params.songId,store:t.store}))}}),o.a.createElement(lc.a,{path:"/zp/:songId/:remixId",render:function(t){return o.a.createElement(Si,Object.assign({},t,{showRemixes:!0,remixId:t.match.params.remixId,songTitle:"unreleased",_songId:t.match.params.songId,store:t.store}))}}),o.a.createElement(lc.a,{path:"/profile/:address",render:function(t){return o.a.createElement(Si,Object.assign({},t,{profile:t.match.params.address,songTitle:"unreleased",_songId:20,store:e}))}}),o.a.createElement(lc.a,{path:"/tesla/:songId",render:function(t){return o.a.createElement(Si,Object.assign({},t,{tiny:!0,songTitle:"unreleased",_songId:t.match.params.songId,store:t.store}))}}),o.a.createElement(lc.a,{path:"/debug/:songId",render:function(t){return o.a.createElement(Si,Object.assign({isDebug:!0,store:e},t,{songTitle:"unreleased",_songId:t.match.params.songId}))}}),o.a.createElement(lc.a,{path:"/beta/:songId/:remixId",render:function(t){return o.a.createElement(Si,Object.assign({},t,{beta:!0,showRemixes:!0,remixId:t.match.params.remixId,songTitle:"unreleased",_songId:t.match.params.songId,store:e}))}}),o.a.createElement(lc.a,{path:"/beta/:songId",render:function(t){return o.a.createElement(Si,Object.assign({beta:!0,store:e},t,{songTitle:"unreleased",_songId:t.match.params.songId}))}}),o.a.createElement(lc.a,{path:"/beta",render:function(t){return o.a.createElement(Si,Object.assign({beta:!0,store:e},t,{songTitle:"unreleased",_songId:20}))}}),o.a.createElement(lc.a,{path:"/alpha/:songId",render:function(t){return o.a.createElement(Si,Object.assign({beta:!0,alpha:!0,store:e},t,{songTitle:"unreleased",_songId:t.match.params.songId}))}}),o.a.createElement(lc.a,{path:"/alpha",render:function(t){return o.a.createElement(Si,Object.assign({alpha:!0,beta:!0,store:e},t,{songTitle:"unreleased",_songId:20}))}}),o.a.createElement(lc.a,{path:"/zp/:songId",render:function(t){return o.a.createElement(Si,Object.assign({beta:!1,store:e},t,{songTitle:"unreleased",_songId:t.match.params.songId}))}}),o.a.createElement(lc.a,{path:"/next-gen/",render:function(t){return o.a.createElement(cc,Object.assign({},t,{store:t.store}))}}),o.a.createElement(lc.a,{path:"/video/",render:function(t){return o.a.createElement(ac,null)}}),o.a.createElement(lc.a,{path:"/",render:function(t){return o.a.createElement(q,Object.assign({},t,{store:t.store}))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xc=n(172),Ec=Object(xc.b)({playback:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playStatus:0},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case 513:return Object(s.a)({},t,{playStatus:e.payload});default:return t}},playlist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentSong:"Twisting Faith"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case 503:return Object(s.a)({},t,{showPlaylistMenu:e.payload});case 504:return console.log("SETTING CURRENT PLAYLIST SONG=",e.payload),Object(s.a)({},t,{currentSong:e.payload});case 511:return console.log("SETTING PLAYLIST LOADED=",e.payload),Object(s.a)({},t,{playlistLoaded:e.payload});default:return t}},spore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{slicePoints:{start:0,length:100}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case 515:return Object(s.a)({},t,{songLoaded:e.payload});case 518:return Object(s.a)({},t,{slicePoints:{start:t.slicePoints.start,length:e.payload}});case 517:return Object(s.a)({},t,{slicePoints:e.payload});case 516:return Object(s.a)({},t,{songLoading:e.payload});case 514:return Object(s.a)({},t,{leakLoaded:e.payload});case 512:return Object(s.a)({},t,{playerRef:e.payload});case 510:return Object(s.a)({},t,{secondsRemaining:e.payload});case 509:return Object(s.a)({},t,{usedCheatCode:e.payload});case 505:return Object(s.a)({},t,{tokenId:e.payload});case 508:return Object(s.a)({},t,{pendingSpores:e.payload});case 506:return Object(s.a)({},t,{soldPlayers:e.payload});default:return t}}}),Oc=Object(xc.c)(Ec);i.a.render(o.a.createElement(u.a,{store:Oc},o.a.createElement(wc,{store:Oc})),document.getElementById("root")),"serviceWorker"in navigator&&(console.log("UNREGISTERING"),navigator.serviceWorker.ready.then(function(t){console.log("regstieration UNREGISTERING",t),t.unregister()}))},165:function(t,e,n){"use strict";(function(t){var r=n(10),o=n(2),a=n(3),i=n(103),c=n.n(i);function u(){u=function(){return t};var t={},e=Object.prototype,n=e.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(I){c=function(t,e,n){return t[e]=n}}function s(t,e,n,r){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(t,e,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return S()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=x(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var u=l(t,e,n);if("normal"===u.type){if(r=n.done?"completed":"suspendedYield",u.arg===f)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r="completed",n.method="throw",n.arg=u.arg)}}}(t,n,i),a}function l(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(I){return{type:"throw",arg:I}}}t.wrap=s;var f={};function h(){}function d(){}function p(){}var y={};c(y,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(L([])));m&&m!==e&&n.call(m,o)&&(y=m);var g=p.prototype=h.prototype=Object.create(y);function b(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var r;this._invoke=function(o,a){function i(){return new e(function(r,i){!function r(o,a,i,c){var u=l(t[o],t,a);if("throw"!==u.type){var s=u.arg,f=s.value;return f&&"object"==typeof f&&n.call(f,"__await")?e.resolve(f.__await).then(function(t){r("next",t,i,c)},function(t){r("throw",t,i,c)}):e.resolve(f).then(function(t){s.value=t,i(s)},function(t){return r("throw",t,i,c)})}c(u.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function x(t,e){var n=t.iterator[e.method];if(void 0===n){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,t.iterator,e.arg);if("throw"===r.type)return e.method="throw",e.arg=r.arg,e.delegate=null,f;var o=r.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(n.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:S}}function S(){return{value:void 0,done:!0}}return d.prototype=p,c(g,"constructor",p),c(p,"constructor",d),d.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,n,r,o,a){void 0===a&&(a=Promise);var i=new w(s(e,n,r,o),a);return t.isGeneratorFunction(n)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&n.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function r(n,r){return i.type="throw",i.arg=t,e.next=n,r&&(e.method="next",e.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),u=n.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),O(n),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;O(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:L(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},t}var s=n(240),l=new XMLHttpRequest,f="/ip4/3.17.26.249/tcp/4001/ipfs/QmeQRpfSrYcAaqkhNoArDyTUwyYiru2gJp4WY1WegQGjtR",h=[85,110,105,118,101,114,115,97,108,32,83,101,113,101,117,110,99,101,115];window.httpV="http://www.zequencer.io:5001",window.httpsV="https://www.zequencer.io:5002";var d=new(function(){function e(){var t=this;if(Object(o.a)(this,e),this.controllers=new Set,!window.isNFT){"http:"===window.location.protocol?(this.backupIpfs=new c.a("ipfs.infura.io","5001",{protocol:"https"}),window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"})):(this.centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"}),this._centralIpfs=this.centralIpfs)):window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"})):(this.centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"}),this._centralIpfs=this.centralIpfs),this.ipfs=this.centralIpfs;var n=this;this.connectedLocally=!1,this.finishedTestingLocalConnection=!1,l.onreadystatechange=function(){4==l.readyState&&200==l.status&&(n.ipfs=c()("localhost","5001",{protocol:"http"}),n.connectToCentral(),n.connectedLocally=!0,n.finishedTestingLocalConnection=!0,t.keepSwarmConnectionAlive())},window.isNFT||(l.open("POST","http://localhost:5001/api/v0/swarm/peers",!0),l.timeout=4e3,l.ontimeout=function(){console.log("timed out connecting to local ipfs daemon")}),setTimeout(function(){t.finishedTestingLocalConnection=!0},4e3),l.send("")}}return Object(a.a)(e,[{key:"restart",value:function(){}},{key:"getIPFSPrefix",value:function(){return this.connectedLocally?"http://localhost:5001":"http:"===window.location.protocol?window.httpV:"https:"===window.location.protocol?window.httpsV:void 0}},{key:"getHashUrl",value:function(t){return"https://zequencer.io/ipfs/"+t}},{key:"getPinnedHashes",value:function(){var t=Object(r.a)(u().mark(function t(){var e;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ipfs.refs.local();case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return t.ref}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"findProvs",value:function(t){var e=this;return new Promise(function(n,r){e.ipfs.dht.findprovs(t,{maxNumProviders:1},function(t,e){n(e)})})}},{key:"connectToCentral",value:function(){try{this.ipfs.swarm.connect(f,function(t,e){}).catch(function(t){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}}},{key:"keepSwarmConnectionAlive",value:function(){var t=this;try{this.ipfs.swarm.connect(f,function(t,e){}).catch(function(t){return console.log("error")})}catch(e){console.log("error connecting to ipfs")}setInterval(function(){if(window.sequencerEngine&&window.sequencerEngine.getSequenceId){var n=window.sequencerEngine.getSequenceId();if(window.sequencerEngine.store.getState().sequencer.isPlaying[n])return}try{t.ipfs.swarm.connect(f,function(t,e){}).catch(function(t){return console.log("error")})}catch(e){console.log("error connecting to ipfs")}},6e4)}},{key:"isConnectedLocally",value:function(){return this.connectedLocally}},{key:"addArrayBuffer",value:function(t,e){return this.addHelper(t,e)}},{key:"addArrayBufferAndSaveToDB",value:function(t,e){return this.addBlobAndSaveToDB(new Blob([new Uint8Array(t)]),e)}},{key:"addHelper",value:function(e){var n=this,r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);void 0===r&&(r="hello");return new Promise(function(o,a){var i=n._centralIpfs||n.ipfs;i||(i="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),i.add({name:r,path:"hello",content:new t(e)},function(t,e){console.log("IPFS HASH = ",e);var n=e[0].hash;t?a(t):o(n)})})}},{key:"addBuffer",value:function(t){var e=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];return new Promise(function(n,r){var o=e.centralIpfs;o.add(t,function(t,e){if(t)r(t);else{var a=e[0].hash;o.pin.add(a),n(a)}})})}},{key:"addJson",value:function(e){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LOCAL",o=arguments.length>2?arguments[2]:void 0;return new Promise(function(a,i){console.log("adding json noUTF=",o,e);var u=n._centralIpfs||n.ipfs;u||(u="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),u.add(t.from(JSON.stringify(e)),function(t,e){if(t)i(t);else{var n=e[0].hash;u.pin.add(n),a(n)}}),"LOCAL"===r&&(u!==n.centralIpfs&&n.addJson(e,"UNIVERSAL",o).then(function(t){return a(t)}),n.addJson(e,"INFURA",o).then(function(t){return a(t)}))})}},{key:"getJson",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.restart(),new Promise(function(i,c){if(a)e.ipfs.cat(t,function(t,e){i(JSON.parse(e.toString("utf8")))});else{var s="/api/v0/cat?arg="+t,l=(n?e.centralIpfs:e.ipfs,new AbortController);e.controllers.add(l);var f=l.signal;setTimeout(function(){l.abort(),e.controllers.delete(l),c()},o);var h="POST",d=e.getIPFSPrefix()+s;if(window.isNFT)return h="GET",d=t,void fetch(d,{signal:f,method:h}).then(function(){var t=Object(r.a)(u().mark(function t(e){var n;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,i(n);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());if(window.isNFT)return i({});var p=(new Date).getTime();fetch(d,{signal:f,method:h}).then(function(){var t=Object(r.a)(u().mark(function t(n){var r;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:r=(new Date).getTime(),console.log("raw request took %s ms",r-p),e.readAllChunks(n.body).then(function(t){console.log("read all chunks took %s ms",(new Date).getTime()-r);var n=e.mergeArrays(t,0,!1),o=(new TextDecoder).decode(n);i(JSON.parse(o))});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}})}},{key:"addBytesArray",value:function(){var t=Object(r.a)(u().mark(function t(e){var n,r;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(n=new Uint8Array(e.length+h.length)).set(e,0),n.set(h,e.length),t.next=5,this.addHelper(n.buffer);case 5:return r=t.sent,this.ipfs.pin.add(r),t.abrupt("return",r);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"pin",value:function(){var t=Object(r.a)(u().mark(function t(e){return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ipfs.pin.add(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addBlob",value:function(t,e){var n=this;return this.restart(),new Promise(function(r,o){var a,i=new FileReader,c=n;i.onload=function(){var t=this;a=this.result,c.addHelper(a,void 0,e).then(function(e){t.connectedLocally&&c.ipfs.pin.add(e),c.centralIpfs.pin.add(e),r(e)}).catch(function(t){return o(t)})},i.readAsArrayBuffer(t)})}},{key:"addBlobAndSaveToDB",value:function(t,e){}},{key:"converttoarraybuffer",value:function(t){return new Promise(function(e,n){var r=new r;r.onload=function(){e(this.result)},r.readasarraybuffer(t)})}},{key:"readAllChunks",value:function(t){var e=t.getReader(),n=[];return function t(){return e.read().then(function(e){var r=e.value;return e.done?n:(n.push(r),t())})}()}},{key:"getSound",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return new Promise(function(o,a){var i=new AbortController;e.controllers.add(i);var c=i.signal;setTimeout(function(){i.abort(),e.controllers.delete(i),a()},n);var s="GET",l="https://zequencer.io/ipfs/"+t;if(window.spores&&(l="https://zequencer.mypinata.cloud/ipfs/"+t),window.isNFT)return s="GET",l=t,fetch(l,{signal:c,method:s}).then(function(){var t=Object(r.a)(u().mark(function t(e){var n;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.arrayBuffer();case 2:n=t.sent,o(new Uint8Array(n));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());if(window.isNFT)return o([]);var f=(new Date).getTime();fetch(l,{signal:c,method:s}).then(function(){var t=Object(r.a)(u().mark(function t(n){var r,a,i,c;return u().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=(new Date).getTime(),console.log("raw response took %s ms",r-f),t.next=4,n.arrayBuffer();case 4:return a=t.sent,i=(new Date).getTime(),console.log("Array buffer tranform took %s ms",(new Date).getTime()-r),c=e.processArray(new Uint8Array(a)),console.log("processing took % ms",(new Date).getTime()-i),o(c),t.abrupt("return");case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){console.log("aborted")})})}},{key:"arrayToBuffer",value:function(t){var e=new ArrayBuffer(t.length);return t.map(function(t,n){e[n]=t}),e}},{key:"cancel",value:function(){console.log("cancelling = ",this.controllers),Array.from(this.controllers).forEach(function(t){return t.abort()})}},{key:"processArray",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return t;var e=t,n=this.findEnd(e,h);return-1!==n?e.slice(0,n):t.slice(0,t.length-1024)}},{key:"mergeArrays",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;for(var o in t)r+=t[o].length;var a=new Uint8Array(r-e),i=0;for(var c in t)0===i?(a.set(t[c].subarray(e),i),i+=t[c].length-e):(a.set(t[c],i),i+=t[c].length);if(!n)return a;var u=a,s=this.findEnd(u,h);return-1!==s?u.slice(0,s):a.slice(0,a.length-1024)}},{key:"findEnd",value:function(t,e){for(var n=t.length-1600,r=t.slice(n).values(),o=0,a=n;a<t.length;a++){if(r.next().value===e[o]){if(0==o&&(n=a),++o===e.length-1)return n}else o=0,n=a}return-1}},{key:"getAudioBuffer",value:function(t,e){var n=this;return this.restart(),new Promise(function(r,o){n.getSound(t).then(function(t){return e.decodeAudioData(s(t),function(t){r(t)},function(t,e,n){n&&o(n)})}).catch(function(t){o(t)})})}}]),e}());e.a=d}).call(this,n(11).Buffer)},20:function(t,e,n){"use strict";(function(t){n.d(e,"e",function(){return l}),n.d(e,"d",function(){return f}),n.d(e,"g",function(){return h}),n.d(e,"c",function(){return d}),n.d(e,"a",function(){return p}),n.d(e,"f",function(){return y}),n.d(e,"b",function(){return v});var r=n(2),o=n(3),a=(n(102),n(28)),i=n(115),c=(window.web3,a.a.utils.padLeft("0x0",64)),u=function(){function t(e,n){Object(r.a)(this,t),this.toConversion=e,this.fromConversion=n}return Object(o.a)(t,[{key:"convertTo",value:function(t){return this.toConversion(t)}},{key:"convertFrom",value:function(t){return t===c?null:this.fromConversion(t)}}]),t}();function s(t){var e="";for(var n in t)0!=t.charCodeAt(n)&&(e+=t.charAt(n));return e}var l=new u(function(t){return function(t){var e=i.decode(t).toString("hex").replace(/^1220/,"");return 64!=e.length?null:"0x"+e}(t)},function(e){return function(e){var n=new t(e.replace(/^0x/,"1220"),"hex");return i.encode(n)}(e)}),f=(new u(function(t){return a.a.utils.padLeft(a.a.utils.numberToHex(t),64)},function(t){return a.a.utils.hexToNumber(t)}),new u(function(t){return a.a.utils.padLeft(a.a.utils.numberToHex(t),64)},function(t){return s(a.a.utils.toAscii(t))})),h=(new u(function(t){return a.a.utils.padLeft(a.a.utils.numberToHex(t),64)},function(t){return a.a.utils.hexToNumber(t)}),new u(function(t){return a.a.utils.padLeft(a.a.utils.numberToHex(parseInt(t)),64)},function(t){return a.a.utils.hexToNumber(t)})),d=new u(function(t){return a.a.utils.padRight(a.a.utils.fromAscii(t),64)},function(t){return s(a.a.utils.toAscii(t))});new u(function(t){return a.a.utils.padLeft(a.a.utils.fromAscii(t),64)},function(t){return s(a.a.utils.toAscii(t))}),new u(function(t){return a.a.utils.padLeft(a.a.utils.toHex(t),64)},function(t){return function(t){for(var e=0;e<t.length;e++)if("0"!==t.slice(e,e+1))return t.slice(e);return t}(t.slice(2))});new u(function(t){return a.a.utils.padRight(a.a.utils.toHex(t),64)},function(t){return s(a.a.utils.toAscii(t))});var p=new u(function(t){return a.a.utils.padLeft(t,64)},function(t){return function(t){return"0x"+t.slice(t.length-40)}(t)}),y=new u(function(t){return a.a.utils.padLeft(t[0],64)},function(t){return s(a.a.utils.toAscii(t))});var v=new u(function(t){return a.a.utils.padLeft(a.a.utils.numberToHex(parseInt(t)),64)},function(t){try{return 1===a.a.utils.hexToNumber(t)}catch(e){return t}},!1)}).call(this,n(11).Buffer)},28:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return i});var r=n(102),o=n.n(r),a=new o.a(new o.a.providers.HttpProvider("https://mainnet.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")),i=new o.a(new o.a.providers.WebsocketProvider("wss://mainnet.infura.io/ws/v3/2f3dce2af1044e88b4851c3d73c3d00c"))},308:function(t,e){},348:function(t,e,n){"use strict";(function(t){n.d(e,"a",function(){return o});n(28);var r=n(115);function o(t){var e=r.decode(t).toString("hex").replace(/^1220/,"");return 64!=e.length?null:"0x"+e}}).call(this,n(11).Buffer)},529:function(t,e,n){},530:function(t,e,n){},531:function(t,e,n){},532:function(t,e,n){},571:function(t,e,n){t.exports=n(1343)},577:function(t,e,n){},581:function(t,e,n){},582:function(t,e,n){},598:function(t,e){},600:function(t,e){},602:function(t,e){},606:function(t,e){},630:function(t,e){},632:function(t,e){},645:function(t,e){},647:function(t,e){},673:function(t,e){},675:function(t,e){},762:function(t,e){},763:function(t,e){},851:function(t,e,n){},852:function(t,e,n){},854:function(t,e){},855:function(t,e){},909:function(t,e,n){},980:function(t,e){}},[[571,1,2]]]);