(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1001:function(e,t){},1061:function(e,t){},1062:function(e,t){},1078:function(e,t){},1103:function(e,t){},1284:function(e,t,n){},1285:function(e,t,n){},1286:function(e,t,n){},1287:function(e,t,n){},1288:function(e,t,n){},1289:function(e,t,n){},1290:function(e,t,n){},1291:function(e,t,n){},1292:function(e,t,n){},1293:function(e,t,n){},1294:function(e,t,n){},1295:function(e,t,n){},1296:function(e,t,n){},1299:function(e,t,n){},1300:function(e,t,n){},1302:function(e,t,n){},1303:function(e,t,n){},1304:function(e,t,n){},1313:function(e,t,n){},1314:function(e,t,n){},1315:function(e,t,n){},1316:function(e,t,n){},1336:function(e,t,n){},1337:function(e,t,n){},1347:function(e,t,n){},1348:function(e,t,n){},1349:function(e,t,n){},1350:function(e,t,n){},1351:function(e,t,n){},1352:function(e,t,n){},1353:function(e,t,n){},1354:function(e,t,n){},1355:function(e,t,n){},1356:function(e,t,n){},1357:function(e,t,n){},1358:function(e,t,n){},1359:function(e,t,n){},1382:function(e,t,n){},1384:function(e,t,n){"use strict";n.r(t);var r=n(1),o=n.n(r),a=n(135),i=n.n(a),c=(n(596),n(6)),s=n(16),u=(n(600),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(""),u=Object(c.a)(s,2),l=u[0],f=u[1],d=Object(r.useCallback)(function(){i(!0)},[i]);return o.a.createElement("div",{className:"waitlist flex h-screen  "},o.a.createElement("div",{className:"m-auto inner-waitlist"},o.a.createElement("img",{style:{width:"200px"},className:"mx-auto",src:"/spore-logo-future4.png"}),o.a.createElement("div",{className:"info text-lg"},"What's your email?"),o.a.createElement("div",{className:"info-next text-base mx"},"We'll send you an invite when the time is right."),o.a.createElement("input",{className:"w-full email-input mt-6 outline-0 text-base text-white bg-transparent",value:l,placeholder:"Enter your email",onChange:function(e){return f(e.target.value)}}),a&&o.a.createElement("div",{className:"submitted-text"},"You've been added to the waitlist!",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))),o.a.createElement("div",{onClick:d,className:a||""===l?"ok-btn pushable":"ok-btn pushable show"},"OK ",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"})))))})),l=(n(601),"\n\nuniform sampler2D video;\nuniform float width;\nuniform float height;\nuniform float gateStrength;\nuniform float playRate;\nuniform float isRolling;\nuniform float ticks;\nuniform float rollRate;\nuniform float blurring;\nuniform float filterSliderValue;\nuniform float spaceEffectLevels;\nuniform float spaceSliderValue;\n\nvec4 blur(float Size) {\nfloat Pi = 6.28318530718; // Pi*2\n    \n    // GAUSSIAN BLUR SETTINGS {{{\n    float Directions = 16.0; // BLUR DIRECTIONS (Default 16.0 - More is better but slower)\n    float Quality = 4.0; // BLUR QUALITY (Default 4.0 - More is better but slower)\n    //float Size = 8.0; // BLUR SIZE (Radius)\n    // GAUSSIAN BLUR SETTINGS }}}\n   \n    vec2 Radius = Size/vec2(width, height); //iResolution.xy;\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n    // Pixel colour\n    vec4 Color = texture2D(video, uv);\n    \n    // Blur calculations\n    for( float d=0.0; d<Pi; d+=Pi/Directions)\n    {\n\t\tfor(float i=1.0/Quality; i<=1.0; i+=1.0/Quality)\n        {\n\t\t\tColor += texture2D(video, uv+vec2(cos(d),sin(d))*Radius*i);\t\t\n        }\n    }\n    \n    // Output to screen\n    Color /= Quality * Directions - 15.0;\n\n    return Color*0.6;\n}\nvec4 blur9(sampler2D image, vec2 direction) {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec2 resolution =  vec2(width, height); \n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\n// A single iteration of Bob Jenkins' One-At-A-Time hashing algorithm.\nuint hash( uint x ) {\n    x += ( x << 10u );\n    x ^= ( x >>  6u );\n    x += ( x <<  3u );\n    x ^= ( x >> 11u );\n    x += ( x << 15u );\n    return x;\n}\n\n// Compound versions of the hashing algorithm I whipped together.\nuint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\nuint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\nuint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\n\n\n// Construct a float with half-open range [0:1] using low 23 bits.\n// All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\nfloat floatConstruct( uint m ) {\n    const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\n    const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\n\n    m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\n    m |= ieeeOne;                          // Add fractional part to 1.0\n\n    float  f = uintBitsToFloat( m );       // Range [1:2]\n    return f - 1.0;                        // Range [0:1]\n}\n\n\n\n// Pseudo-random value in half-open range [0:1].\nfloat rand( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\nfloat rand( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n\n\n".concat("\n\n\nvec4 glitch()\t{\n\nbool autoScan  = true;\nfloat xScanline=rollRate/64.0;\nfloat xScanline2=rollRate/32.0;\nfloat xScanlineSize=0.5;\nfloat xScanlineSize2=0.25;\nfloat yScanline = spaceSliderValue;\nfloat yScanlineAmount = spaceSliderValue + 0.05;\nfloat grainLevel = spaceSliderValue + 0.1;\nbool scanFollow = true;\nfloat analogDistort = 1.0;\nfloat bleedAmount = 1.0;\nfloat bleedDistort = 0.5;\nfloat bleedRange = 1.0;\nvec4 colorBleedL = vec4(0.8-spaceEffectLevels, 0.0, 0.4+spaceEffectLevels, 1.0);\nvec4 colorBleedC = vec4(0.0, 0.5, 0.9, 1.0);\nvec4 colorBleedR = vec4(0.8-spaceSliderValue, 0.0, 0.4+spaceEffectLevels, 1.0);\n\n\nfloat TIME = ticks / 10.0;\n   vec2 RENDERSIZE = vec2(width, height);\n   float tau = 6.283185307179586476925286766559;\n   vec2 isf_FragNormCoord = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n\tfloat\tactualXLine = (!autoScan) ? xScanline : mod(xScanline + ((1.0+sin(0.34*TIME))/2.0 + (1.0+sin(TIME))/3.0 + (1.0+cos(2.1*TIME))/3.0 + (1.0+cos(0.027*TIME))/2.0)/3.5,1.0);\n\tfloat\tactualXLineWidth = (!autoScan) ? xScanlineSize : 2.0 * xScanlineSize * ((1.0+sin(1.2*TIME))/2.0 + (1.0+cos(3.91*TIME))/3.0 + (1.0+cos(0.014*TIME))/2.0)/3.5;\n\tvec2\tloc = isf_FragNormCoord;\n\tvec4\tvhs = texture2D(video, loc);\n\tfloat\tdx = 1.0+actualXLineWidth/25.0-abs(distance(loc.y, actualXLine));\n\tfloat\tdx2 = 1.0+xScanlineSize2/10.0-abs(distance(loc.y, xScanline2));\n\tfloat\tdy = (1.0-abs(distance(loc.y, yScanline)));\n\tif (autoScan)\n\t\tdy = (1.0-abs(distance(loc.y, mod(yScanline+TIME,1.0))));\n\t\n\tdy = (dy > 0.5) ? 2.0 * dy : 2.0 * (1.0 - dy);\n\t\n\tfloat\trX = (scanFollow) ? rand(vec3(dy,actualXLine,analogDistort)) : rand(vec3(dy,bleedAmount,analogDistort));\n\tfloat\txTime = (actualXLine > 0.5) ? 2.0 * actualXLine : 2.0 * (1.0 - actualXLine);\n\t\n\tloc.x += yScanlineAmount * dy * 0.025 + analogDistort * rX/(RENDERSIZE.x/2.0);\n\t\n\tif(dx2 > 1.0 - xScanlineSize2 / 10.0)\t{\n\t\tfloat\trX2 = (dy * rand(vec3(dy,dx2,dx)) + dx2) / 4.0;\n\t\tfloat\tdistortAmount = analogDistort * (sin(rX * tau / dx2) + cos(rX * tau * 0.78 / dx2)) / 10.0;\n\t\t//loc.y = xScanline2;\n\t\tloc.x += (1.0 + distortAmount * sin(tau * (loc.x) / rX2 ) - 1.0) / 15.0;\n\t}\n\tif(dx > 1.0 - actualXLineWidth / 25.0)\n\t\tloc.y = actualXLine;\n\n\tloc.x = mod(loc.x,1.0);\n\tloc.y = mod(loc.y,1.0);\n\t\n\tvec4\tc = texture2D(video, loc);\n\tfloat\tx = (loc.x*320.0)/320.0;\n\tfloat\ty = (loc.y*240.0)/240.0;\n\tfloat\tbleed = 0.0;\n\t\n\tif (scanFollow)\n\t\tc -= rand(vec3(x, y, xTime)) * xTime / (5.0-grainLevel);\n\telse\n\t\tc -= rand(vec3(x, y, bleedAmount)) * (bleedAmount/20.0) / (5.0-grainLevel);\n\t\n\tif (bleedAmount > 0.0)\t{\n\t\ttexture2D(video, loc + vec2(0.01, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.02, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.01, 0.01)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(-0.02, 0.02)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.0, -0.03)).r;\n\t\tbleed /= 6.0;\n\t\tbleed *= bleedAmount;\n\t}\n\n\tif (bleed > 0.1){\n\t\tfloat\tbleedFreq = 1.0;\n\t\tfloat\tbleedX = 0.0;\n\t\tif (autoScan)\n\t\t\tbleedX = x + bleedDistort * (yScanlineAmount + (1.5 + cos(TIME / 13.0 + tau*(bleedDistort+(1.0-loc.y))))/2.0) * sin((TIME / 9.0 + bleedDistort) * tau + loc.y * loc.y * tau * bleedFreq) / 8.0;\n\t\telse\n\t\t\tbleedX = x + (yScanlineAmount + (1.0 + sin(tau*(bleedDistort+loc.y)))/2.0) * sin(bleedDistort * tau + loc.y * loc.y * tau * bleedFreq) / 10.0;\n\t\tvec4\tcolorBleed = (bleedX < 0.5) ? mix(colorBleedL, colorBleedC, 2.0 * bleedX) : mix(colorBleedR, colorBleedC, 2.0 - 2.0 * bleedX);\n\t\tif (scanFollow)\n\t\t\tc += bleed * max(xScanlineSize,xTime) * colorBleed;\n\t\telse\n\t\t\tc += bleed * colorBleed;\n\t}\n   return c;\n}\n\n","\n\n").concat("\nvec4 filterColor(vec4 color) {\n   vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n   float val = filterSliderValue;\n   vec4 sampled = texture2D(video, uv - vec2(0.1*pow(val, 2.0), 0.1*filterSliderValue));\n   sampled.g = 0.0;\n   sampled.b = 0.0;\n   float ival = 1.0-val;\n   vec4 lp = mix(color, vec4(color.x*ival, color.y*pow(ival, 3.0), color.z*pow(ival+0.1, 0.5), 1.0), smoothstep(0.5, 1.0, val));\n   return mix(mix(color, sampled, pow(val, 0.03)), lp, pow(val, 0.3));\n}\n\n","\n\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec4 blurred = blurring > 0.0 ? blur9(video, vec2(blurring*3.0, blurring*1.0)) : vec4(0.0);\n\n/*\n  vec4 blurred = mix(\n    blur(blurring*4.0), \n    \n*/\n  vec4 sampled = texture2D(video, uv);\n  float _gate = (1.0-gateStrength);\n\n  vec4 glitched = spaceSliderValue > 0.0 || isRolling == 1.0 ? glitch() : vec4(0.0);\n  vec3 gammaColor = mix(\n    mix(\n      sampled.xyz, \n      glitched.xyz, \n      isRolling), \n   blurred.xyz, pow(blurring, 0.3));\n        \n  vec3 color = pow(gammaColor, vec3(2.0));\n  // grayscale conversion\n  float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));\n  // regamma\n  float gammaGray = sqrt(gray);\n  vec4 greyImage = vec4(gammaGray, gammaGray, gammaGray, 1.0);\n  vec4 _color = \n    _gate *\n    mix(\n      greyImage, \n      mix(\n        mix(\n          sampled, \n          glitched, \n          isRolling + spaceSliderValue*(0.3+spaceEffectLevels)), \n        blurred, \n        pow(blurring, 0.3)\n      ), \n      pow(playRate, 4.0));\n  _color.w = 1.0;\n  gl_FragColor = filterSliderValue > 0.0 ? filterColor(_color) : _color;\n}\n")),f=n(24),d=function(e){var t=Object(r.useState)(50),n=Object(c.a)(t,2),o=n[0],a=n[1],i=Object(r.useState)(50),s=Object(c.a)(i,2),u=s[0],l=s[1];Object(r.useEffect)(function(){return e.current.addEventListener("loadeddata",f),function(){return e.current.removeEventListener("loadeddata",f)}},[a,l]);var f=Object(r.useCallback)(function(){var t=e.current.offsetHeight;a(t);var n=e.current.offsetWidth;l(n)},[a,l]);return{width:u,height:o}},h=n(35),p=n(67),m=function(e){var t=e.canvasRef,n=e.ref,o=e.resolution,a=void 0===o?2:o,i=e.videoRef,c=e.width,s=e.height,u=e.vertexShader,l=e.fragmentShader,f=e.uniforms,d=Object(r.useRef)(),m=Object(r.useRef)(),y=Object(r.useRef)(),v=Object(r.useRef)();Object(r.useRef)(0);Object(r.useEffect)(function(){g(),b()},[]);var g=function(){d.current=new p.l,d.current.setPixelRatio(2),d.current.setSize(c/a,s/a),t&&(t.current=d.current.domElement),n.current.appendChild(d.current.domElement),m.current=new p.f,y.current=new p.a;var e=new p.e(2,2);v.current=Object(h.a)({video:{value:new p.k(i.current)},width:{value:c/2},height:{value:s/2}},f.current);var r=new p.g({uniforms:v.current,vertexShader:u,fragmentShader:l}),o=new p.c(e,r);m.current.add(o)};function b(){requestAnimationFrame(b),function(){if(!d.current.domElement)return;d.current.render(m.current,y.current)}()}Object(r.useEffect)(function(){v.current.width.value=c,v.current.height.value=s,d.current.setSize(c/a,s/a)},[c,s,a])},y=function(e){var t=e.canvasRef,n=e.videoRef,a=e.uniforms,i=e.started,c=Object(r.useRef)(),s=d(n),u=s.width,h=s.height;m({canvasRef:t,uniforms:a,resolution:1,ref:c,videoRef:n,fragmentShader:l,vertexShader:"\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(\n    position, \n    1.0 );\n}\n",width:u,height:h});var p="video absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full";return f.isMobile&&!i&&(p+=" hide"),o.a.createElement("div",{style:{height:h,width:u},ref:c,className:p})},v=(n(605),function(e){var t=Object(r.useCallback)(function(t){t.stopPropagation(),t.target.parentNode.blur(),t.target.blur(),t.currentTarget.blur(),e.play()},[e.isPlaying]);return o.a.createElement("div",{style:e.style||{},onClick:t,onMouseDown:function(e){return e.stopPropagation()},onTouchStart:function(e){return e.stopPropagation()},className:"play-btn-wrapper"},o.a.createElement("div",{style:{borderColor:e.isPlaying?e.color:"transparent transparent transparent "+e.color},className:e.isPlaying?"play-btn playing":"play-btn "}))}),g=(n(606),function(e){var t=e.color,n=e.playerRef,a=Object(r.useRef)(),i=Object(r.useRef)(),s=Object(r.useState)(),u=Object(c.a)(s,2),l=(u[0],u[1]),f=Object(r.useState)(0),d=Object(c.a)(f,2),h=d[0],p=d[1],m=Object(r.useState)(0),y=Object(c.a)(m,2),v=(y[0],y[1]),g=Object(r.useState)(!1),b=Object(c.a)(g,2),w=b[0],E=b[1],x=Object(r.useState)(!1),j=Object(c.a)(x,2),O=j[0],k=j[1],L=(Object(r.useRef)(0),Object(r.useState)(void 0)),S=Object(c.a)(L,2),N=S[0],T=S[1];Object(r.useEffect)(function(){return window.addEventListener("mouseup",I),window.addEventListener("mousemove",A),window.addEventListener("touchmove",A),function(){window.removeEventListener("mouseup",I),window.removeEventListener("mousemove",A),window.removeEventListener("touchmove",A)}},[O,T,k]);var I=Object(r.useCallback)(function(){k(!1)},[k]);Object(r.useEffect)(function(){return window.addEventListener("message",C,!1),function(e){return window.removeEventListener("message",C,!1)}},[p,v,E,l]);var C=Object(r.useCallback)(function(e){if("waveform-data"===e.data.type&&l(e.data.body),"song-player-progress"===e.data.type){var t=parseFloat(e.data.body);p(t)}if("jacker-playback-status"===e.data.type){var n=parseInt(e.data.body);v(n),n&&E(!0)}},[w,p,v,E,l]),A=(Object(r.useCallback)(function(){n.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")},[]),Object(r.useCallback)(function(e){if(O){e.touches&&(e=e.touches[0]);var t=a.current.getBoundingClientRect(),r=(e.clientX-t.left)/t.width*100;r=Math.max(0,Math.min(100,r)),T(r),n.current.contentWindow.postMessage({type:"jacker-seek",body:r},"*")}},[O,T]));if(!w)return"";var _={borderColor:t};return h=O&&N?N:h,o.a.createElement("div",{onMouseDown:function(e){k(!0),A(e)},onTouchStart:function(e){k(!0),A(e)},ref:a,style:_,className:"relative h-1.5 rounded-lg w-full playbar"},o.a.createElement("div",{style:{width:100-h+"%",left:h+"%"},className:"w-full h-full rounded-lg absolute playbar-remaining"}),o.a.createElement("div",{ref:i,onMouseDown:function(e){e.stopPropagation(),k(!0)},onTouchStart:function(e){e.stopPropagation(),k(!0)},style:{left:h+"%"},className:"rounded-xl absolute z-50 w-3 h-3 -top-0.5 bg-white hover:bg-red-500"}))});function b(e){var t=~~(e/3600),n=~~(e%3600/60),r=~~e%60,o="";return t>0&&(o+=t+":"+(n<10?"0":"")),o+=n+":"+(r<10?"0":""),o+=""+r}var w=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.videoRef,n=e.playerRef,a=e.started,i=d(t),s=i.width,u=i.height,l=Object(r.useState)(0),h=Object(c.a)(l,2),p=h[0],m=h[1];Object(r.useEffect)(function(){return window.addEventListener("message",y),function(){return window.removeEventListener("message",y)}},[m]);var y=Object(r.useCallback)(function(e){if("song-player-progress"===e.data.type){var t=parseFloat(e.data.body);m(t/100*232)}},[m]);return o.a.createElement("div",{className:"z-50 absolute top-1/2  md:h-full md:w-4/6 md:transform md:translate-y-1/3 w-full",style:f.isMobile?{top:u}:{width:s}},o.a.createElement(g,{playerRef:n,color:"white"}),a&&o.a.createElement("div",{className:"absolute md:left-0 left-4 top-3 text-xs"},b(p)),a&&o.a.createElement("div",{className:"absolute md:right-0 right-4 top-3 text-xs"},"-",b(Math.abs(p-232))))}),E={"space-slider-value":"spaceSliderValue","filter-slider-value":"filterSliderValue","juice-slider-value":"juiceSliderValue","space-effect-levels":"spaceEffectLevels","gate-strength":"gateStrength","song-bpm":"songBPM","playback-bpm":"playbackBPM","is-rolling":"isRolling","rolling-rate":"rollRate"},x=function(e){var t=e.ref,n=e.playerRef,o=Object(r.useRef)(),a=Object(r.useRef)(0),i=Object(r.useRef)(!1),s=Object(r.useRef)(0),u=(Object(r.useRef)(0),Object(r.useRef)(0),Object(r.useRef)(),Object(r.useRef)(0),Object(r.useRef)(void 0)),l=Object(r.useRef)(void 0),f=function(){return l.current&&(new Date).getTime()-l.current<=3e3},d=function(e){l.current=(new Date).getTime()},h=Object(r.useRef)(.1),p=Object(r.useRef)({blurring:{value:0},playRate:{value:1},isRolling:{value:0},rollRate:{value:32},filterSliderValue:{value:0},spaceSliderValue:{value:0},spaceEffectLevels:{value:0},ticks:{value:0},gateStrength:{value:0}}),m=Object(r.useState)(!1),y=Object(c.a)(m,2),v=y[0],g=y[1],b=Object(r.useState)(!1),w=Object(c.a)(b,2),x=w[0],j=w[1];Object(r.useEffect)(function(){window.addEventListener("message",S,!1)},[g,j]),Object(r.useEffect)(function(){setInterval(function(){O()},25)},[]);var O=function(){if(p.current.blurring.value>0){var e=p.current.blurring.value;((e=Math.max(0,Math.min(2,e+h.current)))>=2||e<=0)&&(h.current<0?h.current=.1:h.current=-5e-5),p.current.blurring.value=e,h.current>0?h.current*=1.8:(h.current*=1.6,h.current=Math.max(-.15,h.current))}},k=Object(r.useCallback)(function(){var e=t.current.playbackRate,r=Math.min(232,t.current.currentTime+10/e),o=100*r/232;n.current.contentWindow.postMessage({type:"jacker-seek",body:o},"*"),n.current.currentTime=r},[]),L=Object(r.useCallback)(function(){var e=t.current.playbackRate,r=Math.max(0,t.current.currentTime-10/e),o=100*r/232;n.current.contentWindow.postMessage({type:"jacker-seek",body:o},"*"),n.current.currentTime=r},[]),S=Object(r.useCallback)(function(e){if(!function(e,t){var n=E[e.type];return!(!n||!t.current[n])&&(t.current[n].value=parseFloat(e.body),!0)}(e.data,p)){if("jacker-playback-status"===e.data.type){j(!0);var n=parseInt(e.data.body);n?t.current.play():t.current.pause(),g(n)}if("song-player-progress"===e.data.type){p.current.ticks.value++;var r=232*(parseFloat(e.data.body)/100),c=r-t.current.currentTime,l=Math.abs(c)>.2&&!f();r<=a.current||a.current;if(t.current.currentTime-s.current<.1&&(s.current=t.current.currentTime),Math.abs(c)>.5&&(l=!0),l&&d(),l||r<=a.current||r>=a.current+1){t.current.fastSeek&&p.current.isRolling.value&&32===p.current.rollRate.value?t.current.fastSeek(r):t.current.currentTime=r,i.current=!1}a.current=r,void 0!==u.current&&(u.current++,u.current>1&&(u.current=void 0))}if("song-bpm"===e.data.type){var m=e.data.body;o.current=parseFloat(m)}if("playback-bpm"===e.data.type){var y=e.data.body;if(o.current){0==p.current.blurring.value&&(p.current.blurring.value=.1,h.current=.1),h.current*=.92;var v=y/o.current;t.current.currentTime;p.current.playRate.value=v,t.current.playbackRate=v,f()||d()}}}},[g,j]);return{uniforms:p,isPlaying:v,started:x,rewind:L,fastForward:k}},j=function(e){return new Promise(function(t,n){setTimeout(t,e)})},O=function(e){return{type:504,payload:e}},k=function(e){return{type:506,payload:e}},L=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.playerRef,n=Object(r.useState)(!1),a=Object(c.a)(n,2),i=a[0],s=a[1],u=Object(r.useState)(!1),l=Object(c.a)(u,2),f=l[0],d=l[1];Object(r.useEffect)(function(){window.addEventListener("message",p)},[s,d]);var h=Object(r.useCallback)(function(){console.log("sending toggle play"),t.current.contentWindow.postMessage({type:"toggle-play",body:!0},"*")},[]),p=Object(r.useCallback)(function(e){if("jacker-status"===e.data.type){var t=parseInt(e.data.body);s(t),d(!0)}},[s,d]);if(f)return o.a.createElement("div",{className:"simple-controls"},o.a.createElement(v,{play:h,isPlaying:i}))});window.RATIO=.3;var S=Object(r.memo)(function(e){var t=e.progress,n=e.waveform,r=e.isWaveformRainbow,a=void 0===r||r,i=e.width,c=void 0===i?330:i;if(!n)return"";for(var s=[],u=0;u<n.length-4;u+=4){var l=Math.pow(n[u],window.RATIO)*(4/window.RATIO),f={height:l,y:25-l/2,r:n[u+1],g:n[u+2],b:n[u+3]};s.push(f)}return t/=100,o.a.createElement("svg",{width:c,height:50,className:a?"song-waveform":"song-waveform  monochrome"},s.map(function(e,n){return o.a.createElement("rect",{className:t>=n/s.length?"elapsed":"",x:n*(c/s.length),y:e.y,width:2,height:e.height,fill:a?"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"):"white"})}))}),N=function(e,t){Object(r.useEffect)(function(){return window.addEventListener("message",n,!1),function(){return window.removeEventListener("message",n,!1)}},[e]);var n=Object(r.useCallback)(function(n){n.data.type===e&&t(n.data.body)},[e])},T=n(11),I=n(2),C=n(3),A=n(5),_=n(14),P=n(7),R=n(19),M=n(28),G=n.n(M),F=n(8),D=function e(t,n){Object(I.a)(this,e),this.event=t,this.topics=n;for(var r=arguments.length,o=new Array(r>2?r-2:0),a=2;a<r;a++)o[a-2]=arguments[a];this.data=o},z=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(I.a)(this,e),this.name=t,this.type=n,this.size=64*r}return Object(C.a)(e,[{key:"convertTo",value:function(e){if(void 0!==e&&null!==e)return this.type.convertTo(e)}},{key:"convertFrom",value:function(e){if(void 0!==e&&null!==e)return this.type.convertFrom(e)}}]),e}(),H=new D("SampleTagged(bytes32,bytes32,uint32)",[new z("ipfsHash",F.j),new z("tag",F.c),new z("guildId",F.h)]),B=(new D("SampleStyle(bytes32,bytes32,uint32)",[new z("ipfsHash",F.j),new z("style",F.c),new z("guildId",F.h)]),new D("SampleYear(bytes32,int16,uint32)",[new z("ipfsHash",F.j),new z("year",F.g),new z("guildId",F.h)]),new D("SampleCountry(bytes32,bytes32,uint32)",[new z("ipfsHash",F.j),new z("country",F.c),new z("guildId",F.h)]),new D("SampledYoutube(bytes32,bytes32,uint32)",[new z("ipfsHash",F.j),new z("videoId",F.m),new z("guildId",F.h)]),new D("SequenceCreated(address,bytes32,string)",[new z("user",F.a),new z("ipfsHash",F.j)],new z("title",F.n)),new D("SampleCreated(address,bytes32,string,uint32)",[new z("user",F.a),new z("ipfsHash",F.j),new z("guildId",F.h)],new z("title",F.n))),U=(new D("NewNoteSequence(bytes32,bytes32)",[new z("sampleHash",F.j),new z("noteSequenceHash",F.j)]),new D("NewDiscogsSample(bytes32,uint256,bytes32,uint32)",[new z("sampleHash",F.j),new z("coverArtHash",F.j),new z("guildId",F.h)],new z("discogsId",F.o)),new D("NewNotesAggregation(bytes32,bytes32,bytes32,uint32,uint32,bytes32)",[new z("sampleHash",F.j),new z("noteA",F.l),new z("noteB",F.l)],new z("startTime",F.h),new z("endTime",F.h),new z("remainingNotes",F.k)),new D("SampleFavorited(address,bytes32)",[new z("user",F.a),new z("sampleHash",F.j)]),new D("SampleUnfavorited(address,bytes32)",[new z("user",F.a),new z("sampleHash",F.j)]),new D("SequenceEdited(address,bytes32,bytes32,bytes32,string)",[new z("user",F.a),new z("previousSequence",F.j),new z("newSequence",F.j)],new z("diff",F.j),new z("title",F.n)),new D("SequenceEdited(address,bytes32,bytes32,string,uint32)",[new z("user",F.a),new z("previousSequence",F.j),new z("newSequence",F.j)],new z("title",F.n),new z("bpm",F.h)),new D("PresetTagged(address,bytes32,bytes32,uint32)",[new z("contentHash",F.j),new z("tag",F.c),new z("guildId",F.h)],new z("user",F.a)),new D("NewGuild(address,uint32,string)",[new z("user",F.a),new z("guildId",F.h)],new z("name",F.n)),new D("NewGuildMemberRequest(address,address,uint32)",[new z("requester",F.a),new z("newMember",F.a),new z("guildId",F.h)]),new D("NewGuildMemberRequestAccepted(address,uint32)",[new z("newMember",F.a),new z("guildId",F.h)]),new D("NewGuildMemberRequestRejected(address,uint32)",[new z("newMember",F.a),new z("guildId",F.h)]),new D("GuildKeyEncrypted(address,uint32,bytes32)",[new z("user",F.a),new z("guildId",F.h),new z("ipfsHash",F.j)]),new D("NewEncryptedContent(address,bytes32,bytes32,int8,bytes32,bytes32[9],bytes32[6])",[new z("user",F.a),new z("newContent",F.j),new z("contentType",F.i)],new z("previousContent",F.j),new z("encryptedName",F.e),new z("encryptedContentKey",Object(F.d)(9),9),new z("publicKey",Object(F.d)(6),6)),new D("EncryptedContentShared(address,address,bytes32,bytes32[9],bytes32[6])",[new z("sharedWith",F.a),new z("creator",F.a),new z("contentHash",F.j)],new z("encryptedContentKey",Object(F.d)(9),9),new z("publicKey",Object(F.d)(6),6)),new D("NewPublicKey(address,bytes32[6])",[new z("user",F.a)],new z("publicKey",Object(F.d)(6),6)),new D("NewPreset(address,bytes32,uint32,bytes32,bytes32[9],bytes32[6])",[new z("user",F.a),new z("contentHash",F.j),new z("guildId",F.h)],new z("encryptedName",F.e),new z("encryptedContentKey",Object(F.d)(9),9),new z("publicKey",Object(F.d)(6),6)),new D("PresetSample(bytes32,bytes32,uint32)",[new z("contentHash",F.j),new z("sampleHash",F.j),new z("guildId",F.h)]),new D("PresetInstrumentType(bytes32,bytes32,uint32)",[new z("contentHash",F.j),new z("instrumentType",F.f),new z("guildId",F.h)]),new D("NewMonthlyIndex(bytes32,uint32,uint64)",[new z("month",F.o),new z("year",F.o)],new z("hash",F.j)),new D("New2DMapping(bytes32)",[new z("ipfsHash",F.j)]),new D("PublicMessageSent(address,address,bytes32,bytes32)",[new z("fromUser",F.a),new z("toUser",F.a),new z("referenceHash",F.j)],new z("messageHash",F.j)),new D("SampleCopyStrike(address,bytes32,bytes32)",[new z("user",F.a),new z("sampleHash",F.j),new z("referenceHash",F.j)]),new D("SampleTakenDown(bytes32)",[new z("sampleHash",F.j)]),new D("FoldersUpdated(address,bytes32)",[new z("user",F.a),new z("foldersHash",F.j)]),new D("NewIndex(uint32,bytes32)",[new z("guildId",F.h)],new z("indexHash",F.j)),new D("NewGuildSequence(address,bytes32,uint32,bytes32,bytes32,bytes32[9],bytes32[6])",[new z("user",F.a),new z("contentHash",F.j),new z("guildId",F.h)],new z("previousHash",F.j),new z("encryptedName",F.e),new z("encryptedContentKey",Object(F.d)(9),9),new z("publicKey",Object(F.d)(6),6)),new D("NewGuildClassification(uint32,bytes32)",[new z("guildId",F.h),new z("contentHash",F.j)]),new D("Transfer(address,address,uint256)",[new z("fromUser",F.a),new z("toUser",F.a)],new z("amount",F.h)),new D("SequenceTagged(bytes32,bytes32,uint32)",[new z("ipfsHash",F.j),new z("tag",F.c),new z("guildId",F.h)]),new D("SequenceFavorited(bytes32,address,uint32)",[new z("ipfsHash",F.j),new z("user",F.a),new z("guildId",F.h)]),new D("SequenceStarred(bytes32,address,uint32)",[new z("ipfsHash",F.j),new z("user",F.a),new z("guildId",F.h)]),new D("SequenceUnfavorited(bytes32,address,uint32)",[new z("ipfsHash",F.j),new z("user",F.a),new z("guildId",F.h)]),new D("SequenceUnstarred(bytes32,address,uint32)",[new z("ipfsHash",F.j),new z("user",F.a),new z("guildId",F.h)]),new D("NewDataType(bytes32,string)",[new z("dataType",F.c)],new z("description",F.n)),new D("NewLinkType(bytes32,string)",[new z("linkType",F.c)],new z("description",F.n)),new D("NewAnnotationType(bytes32,string)",[new z("annotationType",F.c)],new z("description",F.n)),new D("NewAnnotation(bytes32,bytes32,bytes32,address)",[new z("annotationType",F.c),new z("data",F.j),new z("address",F.a)],new z("annotationData",F.c)),new D("NewLink(bytes32,bytes32,bytes32,address)",[new z("linkType",F.c),new z("fromData",F.j),new z("toData",F.j)],new z("address",F.a)),new D("NewMix(address,bytes32,bytes32,string,uint32)",[new z("user",F.a),new z("mixHash",F.j),new z("previousHash",F.j)],new z("title",F.n),new z("guildId",F.h)),new D("NewEffect(address,bytes32,bytes32,string,uint32)",[new z("user",F.a),new z("effectHash",F.j),new z("effectType",F.c)],new z("title",F.n),new z("guildId",F.h)),new D("ReleaseInfo(bytes32,uint32,string,bytes32,bytes32)",[new z("artistName",F.c),new z("releaseId",F.h)],new z("releaseName",F.n),new z("coverArtHash",F.j),new z("releaseType",F.c)),new D("SampleByArtist(bytes32,bytes32)",[new z("artistName",F.c),new z("ipfsHash",F.j)]),new D("ArtistInfo(bytes32,bytes32,string)",[new z("artistName",F.c),new z("linkType",F.c)],new z("link",F.n)),new D("MidiCCParameter(bytes32,uint32,bytes32,address)",[new z("deviceName",F.c),new z("ccNumber",F.h),new z("parameterName",F.c)],new z("user",F.a)),new D("SampleInSequence(bytes32,bytes32)",[new z("sequenceHash",F.j),new z("sampleHash",F.j)]),new D("ListEdited(bytes32,bytes32,address,bytes32,uint32)",[new z("newContent",F.j),new z("previousContent",F.j),new z("user",F.a)],new z("title",F.c),new z("guildId",F.h)),new D("ListHighlighted(bytes32,address)",[new z("contentHash",F.j)],new z("user",F.a)),new D("ListUnhighlighted(bytes32,address)",[new z("contentHash",F.j)],new z("user",F.a)),new D("ListFavorited(bytes32,address)",[new z("contentHash",F.j)],new z("user",F.a)),new D("ListUnfavorited(bytes32,address)",[new z("contentHash",F.j)],new z("user",F.a)),new D("ListDeleted(bytes32,address)",[new z("contentHash",F.j),new z("user",F.a)]),new D("NewWallpaper(address,bytes32,bytes32)",[new z("user",F.a),new z("wallpaperHash",F.j),new z("thumbnailHash",F.j)]),new D("DefaultWallpaper(address,bytes32)",[new z("user",F.a),new z("wallpaperHash",F.j)]),new D("NewPack(address,bytes32,bytes32,bytes32)",[new z("user",F.a),new z("packHash",F.j),new z("previousHash",F.j)],new z("title",F.c)),new D("PackHasContent(bytes32,bytes32)",[new z("packHash",F.j),new z("contentHash",F.j)]),new D("UserLeftGuild(uint256,address)",[new z("guildId",F.h)],new z("user",F.a)),new D("NewScript(address,bytes32,bytes32,bytes32)",[new z("user",F.a),new z("scriptHash",F.j),new z("scriptType",F.c)],new z("title",F.c)),new D("NewCreatorProject(address,uint256,bytes32,uint256,string)",[new z("creator",F.a),new z("projectId",F.o),new z("contentHash",F.j)],new z("maxInvocations",F.o),new z("title",F.n)),new D("NewTokenSeed(uint256,uint256,bytes32)",[new z("projectId",F.o),new z("tokenId",F.o)],new z("seedHash",F.c)),new D("ZoraProject(bytes32,uint256)",[new z("projectHash",F.j),new z("zoraId",F.o)]),new D("AccountAuthorized(address,address,string,uint8,bytes32,bytes32)",[new z("zequencerAddress",F.a),new z("walletAddress",F.a)],new z("message",F.n),new z("v",F.i),new z("r",F.e),new z("s",F.e)),new D("PluginCreated(uint256,address,string)",[new z("tokenId",F.o),new z("creator",F.a)],new z("name",F.n)),new D("NewPluginVersion(uint256,uint256,bytes32,string)",[new z("tokenId",F.o),new z("versionNumber",F.o)],new z("pluginContentHash",F.j),new z("pluginMetadataURI",F.n)),new D("ProjectHasArrangement(bytes32)",[],new z("projectHash",F.j)),new D("ProjectBPM(bytes32,int16)",[],new z("projectHash",F.j),new z("bpm",F.o)),new D("ProjectVisuals(bytes32,bytes32)",[],new z("projectHash",F.j),new z("thumbnailhash",F.j)),new D("ProjectUsesPreset(bytes32,bytes32)",[],new z("projectHash",F.j),new z("presetHash",F.j)),new D("ProjectPatternsCount(bytes32,int8)",[],new z("projectHash",F.j),new z("patterns",F.o)),new D("NewSporeCreated(uint256,uint256,address,address,bytes32,bytes32)",[],new z("sporeId",F.o),new z("tokenId",F.o),new z("proxy",F.a),new z("creator",F.a),new z("sporeHash",F.j),new z("dataHash",F.j)),new D("NewChainCreated(uint256,bytes32,address,address,bytes32)",[],new z("chainId",F.o),new z("name",F.c),new z("proxy",F.a),new z("creator",F.a),new z("chainHash",F.j)),new D("NewOfficialSporeCreated(uint256,uint256,address,bytes32,bytes32,string)",[],new z("spTokenId",F.o),new z("sporeId",F.o),new z("creator",F.a),new z("sporeHash",F.j),new z("dataHash",F.j),new z("songName",F.n)),new D("NewUnofficialSporeCreated(uint256,uint256,address,bytes32,bytes32,address,uint256)",[],new z("spTokenId",F.o),new z("sporeId",F.o),new z("creator",F.a),new z("sporeHash",F.j),new z("dataHash",F.j),new z("collectionAddress",F.a),new z("tokenId",F.o))),W=new D("NewSporesPlaylist(uint256,address,string)",[],new z("playlistId",F.o),new z("creator",F.a),new z("metadataCID",F.n)),Y=(new D("SporesPlaylistSong(uint256,address,uint256)",[],new z("playlistId",F.o),new z("collecttionAddress",F.a),new z("tokenId",F.o)),new D("PlaylistBurned(uint256)",[],new z("playlistId",F.o)),new D("SongGenre(address,uint256,string,address,string)",[],new z("collectionAddress",F.a),new z("tokenId",F.o),new z("genre",F.n),new z("user",F.a),new z("metadataCID",F.n)),new D("NewSkin(uint256,bytes32)",[],new z("skinId",F.o),new z("imageHash",F.j)),new D("NewStem(uint256,uint256,string,uint16,bool)",[],new z("songId",F.o),new z("stemId",F.o),new z("uri",F.n),new z("duration",F.o),new z("isLoop",F.b))),J=new D("Transfer(address,address,uint256)",[new z("from",F.a),new z("to",F.a)],new z("tokens",F.o)),q=n(23),K="undefined"!==typeof window.web3,Z=function(){function e(t){Object(I.a)(this,e),this.address=t,this.distinct=!1,this.selectStatements=[],this.whereClauses=[],this.groupBy=[],this.joinClauses=[],this.limitSize=void 0,this.fromBlockNumber="0x2",this.toBlockNumber=void 0}return Object(C.a)(e,[{key:"from",value:function(e){return this.eventLog=e,this}},{key:"select",value:function(e){return this.selectStatements.push(e),this}},{key:"distinct",value:function(){return this.distinct=!0,this}},{key:"groupBy",value:function(e){return this.groupBy.push(e),this}},{key:"where",value:function(e,t){return this.whereClauses.push(new V(e,t)),this}},{key:"whereIn",value:function(e,t){return this.whereClauses.push(new V(e,void 0,t)),this}},{key:"join",value:function(e,t){this.joinClauses.push(new X(e,t))}},{key:"fromBlock",value:function(e){return this.fromBlockNumber=q.a.utils.toHex(e),this}},{key:"toBlock",value:function(e){return this.toBlockNumber=q.a.utils.toHex(e),this}},{key:"limit",value:function(e){return this.limitSize=e,this}},{key:"getTopics",value:function(){var e=[q.a.utils.sha3(this.eventLog.event)];for(var t in this.eventLog.topics){var n=this.eventLog.topics[parseInt(t)],r=null;for(var o in this.whereClauses){var a=this.whereClauses[parseInt(o)];if(a.name===n.name){var i=void 0!==a.value?a.value:a.valueList[0];r=n.convertTo(i)}}e.push(r)}return e}},{key:"executeQuery",value:function(){var e=this;return new Promise(function(t,n){q.a.eth.getPastLogs({address:e.address,topics:e.getTopics(),toBlock:e.toBlockNumber,fromBlock:e.fromBlockNumber},function(r,o){if(r)n(r);else{var a=[];o.reverse();for(var i=Math.min(o.length,e.limitSize||o.length),c=0;c<i;c++)a.push(e.parseResult(o[c]));t(a)}})})}},{key:"watchQuery",value:function(){var e=Object(T.a)(G.a.mark(function e(t){var n,r=this;return G.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,q.a.eth.getBlockNumber();case 2:n=e.sent,(K?q.a:q.b).eth.subscribe("logs",{address:this.address,topics:this.getTopics(),fromBlock:q.a.utils.toHex(n)},function(e,n){e&&(console.log("error watching "),console.log(e));var o=r.parseResult(n);console.log("watch query got "),console.log(o),t(o)});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseResult",value:function(e){if(void 0!==e&&null!==e){var t={};for(var n in this.selectStatements){var r=this.selectStatements[parseInt(n)];for(var o in this.eventLog.topics){var a=e.topics[1+parseInt(o)],i=this.eventLog.topics[parseInt(o)];i.name===r&&(t[r]=i.type.convertFrom(a))}var c=0;for(var s in this.eventLog.data){s=parseInt(s);var u=this.eventLog.data[s];if(void 0!==u&&r==u.name){var l=e.data.slice(2+c,2+c+u.size);l="0x"+l,u.type==F.n&&(l="0x"+e.data.slice(130+64*s)),t[r]=u.convertFrom(l)}c+=u.size}}return t.blockNumber=e.blockNumber,t}}},{key:"getCopy",value:function(){var t=new e(this.address);return t.eventLog=this.eventLog,t.selectStatements=Object(R.a)(this.selectStatements),t.joinClauses=Object(R.a)(this.joinClauses),t.groupBy=Object(R.a)(this.groupBy),t.fromBlockNumber=this.fromBlockNumber,t.toBlockNumber=this.toBlockNumber,t.limitSize=this.limitSize,t}},{key:"getJson",value:function(){return{address:this.address,eventLog:this.eventLog.event,selectStatements:Object(R.a)(this.selectStatements),whereClauses:Object(R.a)(this.whereClauses),joinClauses:Object(R.a)(this.joinClauses),groupBy:Object(R.a)(this.groupBy),fromBlockNumber:q.a.utils.hexToNumber(this.fromBlockNumber),toBlockNumber:void 0===this.toBlockNumber?void 0:q.a.utils.hexToNumber(this.toBlockNumber),limitSize:this.limitSize,distinct:this.distinct}}}]),e}(),V=function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(I.a)(this,e),this.name=t,this.value=n,this.valueList=r},X=function e(t,n){Object(I.a)(this,e),this.event=t,this.field=n},Q=Z;function $(){$=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function ee(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(P.a)(e);if(t){var o=Object(P.a)(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return Object(_.a)(this,n)}}var te=new(function(){function e(){Object(I.a)(this,e),this.runningQueries=new Set}return Object(C.a)(e,[{key:"submit",value:function(e){var t=this;return new Promise(function(){var n=Object(T.a)($().mark(function n(r,o){var a;return $().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.runningQueries.size>=4)){n.next=5;break}return n.next=3,t.sleep(20);case 3:n.next=0;break;case 5:t.runningQueries.add(e),a="https://zequencer.io"+(a="/search"),window.LOCAL_BACKEND_FLAG&&"localhost"===window.location.hostname&&(a="/search"),fetch(a,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(n){t.removeQuery(e),r(n||[])}).catch(function(n){console.log(n),t.removeQuery(e)});case 10:case"end":return n.stop()}},n)}));return function(e,t){return n.apply(this,arguments)}}())}},{key:"removeQuery",value:function(e){this.runningQueries.delete(e)}},{key:"sleep",value:function(e){return new Promise(function(t,n){setTimeout(t,e)})}}]),e}()),ne=function(e){Object(A.a)(n,e);var t=ee(n);function n(e){return Object(I.a)(this,n),t.call(this,e)}return Object(C.a)(n,[{key:"executeQuery",value:function(){var e=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(t,n){if(window.isNFT)return t([]);te.submit(e.getJson()).then(t)})}}]),n}(Q);function re(){re=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var oe="0xc77d4e72dF7D0Bf96488eF543253af537fEb8737",ae=function(){var e=Object(T.a)(re().mark(function e(t){var n,r,o,a,i;return re().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne(oe).from(B).where("ipfsHash",t),e.next=3,n.executeQuery();case 3:return r=e.sent,console.log("unfilteeded=",r),o=r[0],a=new ne(oe).from(H).where("ipfsHash",t),e.next=9,a.executeQuery();case 9:return i=e.sent,console.log("TAG RESULTS=",i),e.abrupt("return",Object(h.a)({},o,i[0]));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),ie=(n(891),function(e){var t=e.playerRef,n=Object(r.useState)(),a=Object(c.a)(n,2),i=a[0],s=a[1],u=Object(r.useState)(),l=Object(c.a)(u,2),f=l[0],d=l[1],h=Object(r.useState)(),p=Object(c.a)(h,2),m=p[0],y=p[1];N("sample-changed",s),N("sample-waveform",y),Object(r.useEffect)(function(){i&&ae(i[0]).then(d)},[i]);var v=Object(r.useCallback)(function(){t.current.contentWindow.postMessage({type:"previous-shuffle-sample",body:"yo"},"*")},[]),g=Object(r.useCallback)(function(){t.current.contentWindow.postMessage({type:"next-shuffle-sample",body:"yo"},"*")},[]);return o.a.createElement("div",{className:"sample-info"},o.a.createElement("div",{className:"name-and-arrows"},o.a.createElement("div",{className:"sample-name"},f&&f.title),o.a.createElement("div",{className:"arrows"},o.a.createElement("div",{onClick:v,className:"arrow-btn pushable"}),o.a.createElement("div",{onClick:g,className:"arrow-btn flip pushable"}))),m&&o.a.createElement(S,{width:200,waveform:m}))}),ce=n(26),se="0x48D22d2cADD5FfED166747Ddd26d80fff84417aB";function ue(){ue=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var le=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)(function(){he().then(o)},[o]),{tokensOnSale:n,setTokensOnSale:o}},fe=void 0,de=!1,he=function(){return new Promise(function(){var e=Object(T.a)(ue().mark(function e(t){var n,r;return ue().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!de){e.next=7;break}n=0;case 2:if(fe||!(n++<15)){e.next=7;break}return e.next=5,j(500);case 5:e.next=2;break;case 7:if(!fe){e.next=10;break}return t(fe),e.abrupt("return");case 10:de=!0,r="https://zequencer.io",window.LOCAL_BACKEND_FLAG&&window.location.hostname.includes("localhost")&&(r=""),fetch(r+"/nft-info").then(function(e){return e.json()}).then(function(e){fe=e,t(e)});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},pe=n(66),me=n(257),ye=n.n(me),ve=(n(902),n(258)),ge=n(45);n(156),n(555),n(906),n(556);var be=n(557);function we(){we=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Ee=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.account,n=e._askPrice,a=e._thumbnail,i=e.name,s=e.tokensOnSale,u=e.onCompletedBuy,l=e.onCancel,f=e.cart,d=e.onDone,h=e.contractAddress,p=Object(ce.d)({addressOrName:t}),m=Object(ce.k)().data,y=p.data&&parseFloat(p.data.formatted),v=Object(r.useState)(!1),g=Object(c.a)(v,2),b=g[0],w=g[1],E=Object(r.useState)(),x=Object(c.a)(E,2),j=x[0],O=x[1],k=Object(r.useState)(f[0]),L=Object(c.a)(k,2),S=L[0],N=L[1],I=Object(r.useState)(!1),C=Object(c.a)(I,2),A=C[0],_=C[1],P=Object(r.useState)(!1),R=Object(c.a)(P,2),M=R[0],G=R[1],F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x7269c1a1b8aba1390770193771f92bd722c6a77b",t=Object(ce.k)(),n=t.data,o=(t.isError,t.isLoading,Object(r.useRef)(n));return o.current=n,Object(r.useCallback)(function(){var t=Object(T.a)(we().mark(function t(n,r){var a,i,c;return we().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=n.toString(),a=ve.AsksV11__factory.connect(be.AsksV1_1,o.current),t.next=5,a.askForNFT(e,n);case 5:return i=t.sent,r=r?ge.ethers.parseEth(r.toString()):i.askPrice.toString(),t.next=10,a.fillAsk(e,n,"0x0000000000000000000000000000000000000000",r,"0x0000000000000000000000000000000000000000",{value:r});case 10:return c=t.sent,t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("error = ",t.t0),t.abrupt("return",!1);case 18:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e,n){return t.apply(this,arguments)}}(),[e,n])}(h),D=a||s.find(function(e){return e.tokenId===S}).thumbnail,z=f.indexOf(S)+1,H=f.length,B=s&&s.find(function(e){return e.tokenId===S}),U=n||B.askPrice,W=Object(r.useCallback)(function(){console.log("complete buy called");var e=S;_(!0),F(e).then(function(t){t?(G(t.hash),t.wait(1).then(function(t){w(!0),G(!1),z===f.length||N(f[z]),u(e)}),_(!1),O(void 0)):O("You rejected the transaction. Please try again or continue browsing."),_(!1)})},[S,N,z,_,f]);return b||M?o.a.createElement("div",{className:"finalize-modal-drop"},o.a.createElement("video",{playsInline:!0,muted:!0,className:M?"confirming shrooms-video":"shrooms-video",autoPlay:!0,loop:!0,src:"/mushrooms-medium.mp4"}),o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"finalize-modal"},o.a.createElement("div",{onClick:d,className:"close-button"},"x"),o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("div",{className:"sp-modal-title"},o.a.createElement("div",{className:"sp-title"},M?"Completing Purchase":i?"You`ve Bought the "+i:"You've Bought the SP-"+S)),M?o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"Your new Spore Player should arrive in your wallet in a few moments."),o.a.createElement("div",{className:"pulse-container"},o.a.createElement(ye.a,{sizeUnit:"px",size:10,color:"#ffffff",loading:!0}))):o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"Congrats, you can now dose yourself with some cyber psilocybin."),!i&&o.a.createElement("div",{onClick:function(){return window.open("/sp/"+S,"_newtab")},className:"pushable open-your-player"},"Open your New Player")))):o.a.createElement("div",{onClick:l,className:"finalize-modal-drop"},o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"finalize-modal"},o.a.createElement("div",{onClick:l,className:"close-button"},"x"),o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("div",{className:"sp-modal-title"},o.a.createElement("div",{className:"sp-title"},"Buy ",i||"SP-".concat(S)),f.length>1&&o.a.createElement("div",{className:"purchase-part"},o.a.createElement("span",{className:"part-number"},z)," of ",o.a.createElement("span",{className:"total-parts"},H))),o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"You're about to buy this Spore Player for a fixed price."),o.a.createElement("div",{className:"thumbnail-and-price"},o.a.createElement("img",{src:D}),o.a.createElement("div",{className:"token-price"},o.a.createElement("div",{className:"price-label"},"PRICE"),o.a.createElement("div",{className:"price-eth"},U," ETH"))),j&&o.a.createElement("div",{className:"error-text"},o.a.createElement("img",{src:"/error-icon.svg"})," ",j),A?o.a.createElement("div",{className:"waiting-for-wallet"},o.a.createElement("span",{className:"inner"},o.a.createElement("span",{className:"helper-text"},"Waiting for Wallet"),o.a.createElement(ye.a,{sizeUnit:"px",size:10,color:"#ffffff",loading:!0}))):y<parseFloat(U)?o.a.createElement("div",{className:"low-balance complete-buy"},"Insufficient balance for purchase."):m?o.a.createElement("div",{onClick:function(){return W()},className:"complete-buy"},"Complete Purchase"):o.a.createElement("div",{className:"connect-wallet-container"},o.a.createElement(pe.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})," "))))}),xe=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.name,n=e.setBuying,r=e.thumbnail,a=e.askPrice,i=e.setCompletedBuy,c=e.tokenId,s=Object(ce.c)(),u=s.data;s.isError,s.isLoading;console.log("acc data =",u);var l=le(),f=(l.setTokensOnSale,l.tokensOnSale);return f&&0!==f.length?o.a.createElement(Ee,{name:t,_askPrice:a,_thumbnail:r,account:u&&u.address,onCompletedBuy:function(){return i(!0)},onDone:function(){n(!1)},tokensOnSale:f,onCancel:function(){return n(!1)},cart:[c],setCart:function(){return 0}}):""}),je=(n(930),Object(s.b)(function(e,t){return{soldPlayers:e.spore.soldPlayers}},function(e){return{setSoldPlayers:function(t){return e(k(t))}}})(function(e){var t=e.upperGradInverted,n=e.soldPlayers,a=void 0===n?[]:n,i=e.tokenId,s=e.text,u=e.showRemaining,l=e.onCompleteSale,d=le(),h=(d.setTokensOnSale,d.tokensOnSale),p=Object(r.useState)(!1),m=Object(c.a)(p,2),y=m[0],v=m[1];if(!h||0===h.length)return"";var g=h.filter(function(e){return e.askPrice});if(0===g.length)return"";if(a.includes(i))return o.a.createElement("div",{className:"buy-unsold"},"Owned By You");var b={};return t&&s&&(b.color=t,b.borderBottomColor=t),o.a.createElement("div",{className:s?"buy-unsold has-text":"buy-unsold"},y&&o.a.createElement(xe,{setCompletedBuy:function(){k([].concat(Object(R.a)(a),[i])),l&&l()},setBuying:v,tokenId:i}),o.a.createElement("div",{style:b,onClick:function(){return v(!0)},className:"buy-unsold-btn pushable"},s||o.a.createElement("span",null,"Buy SP-",i)),(!f.isMobile&&!s||u)&&o.a.createElement("a",{href:"/sp/"+i,className:"unsold-remaining"},g.length," remaining"))}));function Oe(){Oe=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var ke=function(){var e=Object(T.a)(Oe().mark(function e(t,n){var r;return Oe().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signMessage(n);case 2:return r=e.sent,e.abrupt("return",{flatSignature:r,splitSignature:ge.ethers.utils.splitSignature(r)});case 4:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Le=n(359);function Se(){Se=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Ne=function(e,t,n,r,o,a){return new Promise(function(){var i=Object(T.a)(Se().mark(function i(c){var s,u,l,f,d,h,p,m,y;return Se().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("new spore w data hash=%s collectionAddress=%s tokenId=%s",a,n,r),s="A new spore awakens at ipfs://".concat(o),console.log("signer=",e),i.next=5,ke(e,s);case 5:u=i.sent,l=u.account,u.flatSignature,f=u.splitSignature,console.log("SIGNED MESSAGE=",l),d=f.r,h=f.s,p=f.v,m={r:d,s:h,v:p,message:s,recordingHash:Object(Le.a)(o),dataHash:Object(Le.a)(a),tokenId:r,spTokenId:t,collectionAddress:n},y="https://zequencer.io",window.location.hostname.includes("localhost")&&(y=""),fetch(y+"/newUnofficialSpore/",{method:"POST",body:JSON.stringify(m),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){c(e.transactionHash)});case 15:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},Te=n(70),Ie=n(71),Ce=n.n(Ie),Ae=(n(247),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce.a.Master.context;Object(I.a)(this,e),this.duration=0,this.source=void 0,this.buffer=void 0,this.playbackRate=1,this.looping=!1,this.playSound.bind(this),this.context=t,this.seek.bind(this),this.stopSound.bind(this),this.gain=new Ce.a.Gain(1),this.gain.connect(Ce.a.Master)}return Object(C.a)(e,[{key:"dispose",value:function(){void 0!==this.source&&this.source.disconnect(),this.buffer=void 0,this.source=void 0}},{key:"getContext",value:function(){return this.context}},{key:"playSound",value:function(e,t,n){void 0==e&&(e=0),void 0!=this.source&&this.source.stop(),this.source=Ce.a.Master.context.createBufferSource(),this.source.connect(this.gain),this.source.buffer=this.buffer,this.source.playbackRate.value=this.playbackRate,this.source.loop=n,this.source.start(0,Math.max(0,e),t)}},{key:"seek",value:function(e){this.stopSound(),this.playSound(e)}},{key:"stopSound",value:function(){void 0!=this.source&&this.source.stop()}},{key:"loadRawBuffer",value:function(e){this.buffer=e,this.duration=e.duration}},{key:"setBuffer",value:function(e){this.buffer=e,this.duration=e.duration}}]),e}());function _e(){_e=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Pe,Re=0,Me={},Ge=function(){var e=Object(T.a)(_e().mark(function e(t,n){return _e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:Pe||((Pe=new Worker(window.isNFT?"mp3Worker.js":"/mp3Worker.js")).onmessage=function(e){Me[e.data.id]=e.data}),Pe.postMessage({mp3Data:t,isNFT:window.isNFT,id:n});case 2:if(Me[n]){e.next=7;break}return e.next=5,j(100);case 5:e.next=2;break;case 7:return e.abrupt("return",Me[n]);case 8:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(T.a)(_e().mark(function e(t){var n,r,o,a,i,c,s,u,l,f,d;return _e().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ge(t,Re++);case 2:for(n=e.sent,r=n.decoded,o=n.sampleRate,a=n.position,i=Ce.a.Master.context,2,c=i.createBuffer(2,a/2,o),s=c.getChannelData(0),u=c.getChannelData(1),l=0;l<r.length;l+=2)f=r[l],d=r[l+1],s[l/2]=f>=32768?-(65536-f)/32768:f/32767,u[l/2]=d>=32768?-(65536-d)/32768:d/32767;return e.abrupt("return",c);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function De(){De=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}n(247);var ze={},He=function(e,t){return new Promise(function(){var n=Object(T.a)(De().mark(function n(r,o){var a,i,c;return De().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(!ze[t]){n.next=2;break}return n.abrupt("return",r(ze[t]));case 2:if(void 0!==e){n.next=5;break}return o(),n.abrupt("return");case 5:if(n.prev=5,n.prev=6,a=e.slice(0,4),"RIFF"!==(new TextDecoder).decode(a)){n.next=18;break}return n.next=12,Ce.a.Master.context.decodeAudioData(e);case 12:i=n.sent,console.log("r =",i),t&&(ze[t]=i),r(i),n.next=23;break;case 18:return n.next=20,Fe(new Int8Array(e));case 20:c=n.sent,t&&(ze[t]=c),r(c);case 23:n.next=28;break;case 25:n.prev=25,n.t0=n.catch(6),o(n.t0);case 28:n.next=33;break;case 30:n.prev=30,n.t1=n.catch(5),o(n.t1);case 33:case"end":return n.stop()}},n,null,[[5,30],[6,25]])}));return function(e,t){return n.apply(this,arguments)}}())};function Be(){Be=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Ue=n(247),We=function(){var e=Object(T.a)(Be().mark(function e(t){var n;return Be().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.startsWith("http")){e.next=8;break}return console.log("fetching hash=",t),e.next=4,fetch(t);case 4:return n=e.sent,e.next=7,n.blob();case 7:return e.abrupt("return",e.sent);case 8:return e.next=10,Te.a.getSound(t,1e7);case 10:return e.abrupt("return",e.sent);case 11:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Ye=function(e,t,n){var o=Object(r.useState)(),a=Object(c.a)(o,2),i=a[0],s=a[1],u=Object(r.useRef)(),l=Object(r.useState)(),f=Object(c.a)(l,2),d=f[0],h=f[1],p=Object(r.useState)(!1),m=Object(c.a)(p,2),y=m[0],v=m[1],g=Object(r.useRef)(),b=Object(r.useCallback)(function(){i&&i.dispose()},[i]);return Object(r.useEffect)(function(){e?(g.current&&g.current.stopSound(),u.current===e&&g.current?g.current.playSound(0):(v(!0),h(!1),We(e).then(function(){var r=Object(T.a)(Be().mark(function r(o){var a,i,c;return Be().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!o.arrayBuffer){r.next=6;break}return r.next=3,o.arrayBuffer();case 3:r.t0=r.sent,r.next=7;break;case 6:r.t0=Ue(o);case 7:return a=r.t0,r.next=10,He(a,e);case 10:i=r.sent,c=void 0,g.current?(c=g.current).stopSound():c=new Ae(Ce.a.Master.context),c.setBuffer(i),s(c),g.current=c,h(!0),v(!1),t&&c.playSound(0,1e5,n),u.current=e;case 20:case"end":return r.stop()}},r)}));return function(e){return r.apply(this,arguments)}}()))):g.current&&g.current.stopSound()},[e,s,h,v]),{loaded:d,loading:y,setLoaded:h,audioPlayer:i,dispose:b}},Je=(n(1284),n(1285),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.width,n=e.spore,a=e.progress,i=e.height,c=void 0===i?110:i,s=Object(r.useRef)(),u=Object(r.useRef)();Object(r.useEffect)(function(){return window.addEventListener("message",l,!1),function(){window.removeEventListener("message",l)}},[n]);var l=Object(r.useCallback)(function(e){"sporeIFrameLoaded"===e.data&&(f(),u.current=!0)},[n]);Object(r.useEffect)(function(){u.current&&(console.log("spore.dataHash =",n.datahash,n),f())},[n]);var f=Object(r.useCallback)(function(){console.log("sending hash",n.dataHash),s.current&&s.current.contentWindow&&n&&s.current.contentWindow.postMessage({type:"heatmapHash",body:n.dataHash},"*")},[n]);return Object(r.useEffect)(function(){s.current&&s.current.contentWindow&&n&&s.current.contentWindow.postMessage({type:"heatmapHash",body:n.dataHash},"*")},[n]),Object(r.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"sporePosition",body:a},"*")},[a]),Object(r.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"heatmapSize",body:[t,90]},"*")},[t]),o.a.createElement("iframe",{ref:s,sandbox:"allow-scripts allow-same-origin",allowtransparency:"true",height:c,width:t,"aria-describedby":"spore",alt:"spore.vision",src:"https://zequencer.mypinata.cloud/ipfs/QmVvhZjnEJCBLs7SK2ED9xjbk7ZzjQQq4DHzfh7PJp9314/",className:"spore-heatmap zora-mediaObject css-hnzuw7 zora-mediaObject--mediaLoaded zora-mediaObject--isFullPage",style:{borderWidth:"0px"}})})),qe=(n(1286),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.recordingHash,n=e.spore,r=e.disabled,a=Ye(t),i=(a.audioPlayer,a.dispose,"heatmap-player ");return r&&(i+=" disabled"),o.a.createElement("div",{className:i},o.a.createElement(Je,{width:f.isMobile?250:450,height:80,spore:n}))}));function Ke(e,t){var n=Object(r.useRef)();Object(r.useEffect)(function(){n.current=e},[e]),Object(r.useEffect)(function(){if(null!==t){var e=setInterval(function(){n.current()},t);return function(){return clearInterval(e)}}},[t])}function Ze(){Ze=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Ve="0x8427e46826a520b1264b55f31fcb5ddfdc31e349",Xe=function(e){return new Promise(function(t){e.startsWith("ipfs://")&&(e="https://zora-prod.mypinata.cloud/ipfs/"+e.slice(7)),e.includes("ipfs.io")&&(e=e.replace("ipfs.io","zora-prod.mypinata.cloud")),console.log("URL TO GET IS NOW=",e),fetch(e).then(function(e){return e.json()}).then(function(e){var n=e.animation_url,r=e.audio_url;console.log("ANIMATION_URL=%s audio_url=%s",n,r);var o=Object(h.a)({},e);if(n&&(n.includes("ipfs")?(o.ipfs=n.slice(7),o.url="https://opensea.mypinata.cloud/ipfs/"+n.slice(7)):o.url=n),r&&r.includes("/ipfs/")){var a=r.indexOf("/ipfs");o.ipfs=r.slice(a+6)}t(o)})})},Qe=function(){var e=Object(T.a)(Ze().mark(function e(t,n){var r,o,a,i,c,s,u,l,f;return Ze().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("chaos called",t),!(t.toLowerCase().includes("chaos")||t.includes("opensea")||t.includes("zora")||t.includes("sound.xyz")||t.includes("catalog.works")||t.includes("mintsongs.com"))){e.next=35;break}return console.log("was chaos"),e.next=5,$e(t);case 5:return r=e.sent,o=r.contract,a=r.tokenId,i=r.release,console.log("parts=",o,a),e.next=12,et(t,i);case 12:if(c=e.sent,console.log("zora api=",c),c){e.next=29;break}return e.next=17,n(o,a);case 17:if(s=e.sent,console.log("token metadata we got for tokenId=%s",a,s),s){e.next=21;break}return e.abrupt("return",void 0);case 21:return e.next=23,Xe(s);case 23:return(u=e.sent).collectionAddress||(u.collectionAddress=o),u.tokenId||(u.tokenId=a),e.abrupt("return",u);case 29:return l=c.url,l.indexOf("/ipfs"),(f=Object(h.a)({},c.metadata,{url:l})).collectionAddress||(f.collectionAddress=o),f.tokenId||(f.tokenId=a),e.abrupt("return",f);case 35:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),$e=function(){var e=Object(T.a)(Ze().mark(function e(t){var n,r,o,a,i,c,s,u,l,f,d,h,p,m,y,v,g;return Ze().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n="/ethereum/",!t.toLowerCase().includes("chaos")){e.next=12;break}if(r=/#[1-9]\d*\b/g,o=t.match(r),console.log("matches =",o),!o[0]){e.next=9;break}return e.abrupt("return",{contract:Ve,tokenId:parseInt(o[0].slice(1))});case 9:return e.abrupt("return",{contract:Ve,tokenId:1});case 10:e.next=49;break;case 12:if(!t.includes("sound.xyz")){e.next=30;break}return console.log("SOUND XYZ TYPE"),a="localhost"===window.location.hostname?"http://localhost:9090/soundxyz/":"https://zequencer.io/soundxyz/",window.LOCAL_BACKEND_FLAG||(a="https://zequencer.io/soundxyz/"),i=t.indexOf("sound.xyz"),c=t.slice(i+10),e.next=20,fetch(a+c);case 20:return s=e.sent,console.log("SOUND XYZ returned=",s),e.next=24,s.json();case 24:return u=e.sent,t=u.contractAddress+"/1",l=c.split("/")[1],e.abrupt("return",{contract:u.contractAddress,tokenId:"1",release:l});case 30:if(!t.includes("catalog.works")){e.next=48;break}return console.log("CATALOG TYPE"),console.log("url container catalog=",t),f="localhost"===window.location.hostname?"http://localhost:9090/catalog/":"https://zequencer.io/catalog/",window.LOCAL_BACKEND_FLAG||(f="https://zequencer.io/catalog/"),d="catalog.works/",h=t.indexOf(d),p=t.slice(h+d.length),console.log("sound xyz path =",f+p),e.next=41,fetch(f+p);case 41:return m=e.sent,e.next=44,m.json();case 44:return y=e.sent,e.abrupt("return",{contract:y.contractAddress});case 48:t.includes("zora.co")?n="/collections/":t.includes("mintsongs.com")&&(n="/tokens/");case 49:return v=t.indexOf(n),t=t.slice(v+n.length),"zora"===(g=t.split("/"))[0]&&(g[0]="0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7"),e.abrupt("return",{contract:g[0],tokenId:g[1]});case 54:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),et=function(){var e=Object(T.a)(Ze().mark(function e(t){var n,r,o,a,i,c,s,u,l,f,d=arguments;return Ze().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=d.length>1&&void 0!==d[1]?d[1]:"",!t.includes("zora")){e.next=10;break}r="/collections/",o=t.indexOf(r),t=t.slice(o+r.length),"zora"===(a=t.split("/"))[0]&&(a[0]="0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7"),t=a.join("/"),e.next=26;break;case 10:if(!t.includes("sound.xyz")){e.next=23;break}return"https://zequencer.io/soundxyz/",i=t.indexOf("sound.xyz"),c=t.slice(i+10),e.next=16,fetch("https://zequencer.io/soundxyz/"+c);case 16:return s=e.sent,e.next=19,s.json();case 19:u=e.sent,t=u.contractAddress+"/"+n,e.next=26;break;case 23:"/ethereum/",l=t.indexOf("/ethereum/"),t=t.slice(l+"/ethereum/".length);case 26:return"https://zequencer.io/jacker/",e.prev=27,e.next=30,fetch("https://zequencer.io/jacker/"+t);case 30:return f=e.sent,e.next=33,f.json();case 33:return e.abrupt("return",e.sent);case 36:return e.prev=36,e.t0=e.catch(27),e.abrupt("return",void 0);case 39:case"end":return e.stop()}},e,null,[[27,36]])}));return function(t){return e.apply(this,arguments)}}();var tt=n(356),nt=n(562);function rt(){rt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var ot=function(){return at},at=function(){var e=Object(T.a)(rt().mark(function e(t,n){var r,o,a;return rt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ge.ethers.providers.InfuraProvider("mainnet","2f3dce2af1044e88b4851c3d73c3d00c"),o=nt.IERC721Metadata__factory.connect(t,r),e.prev=2,n=ge.ethers.BigNumber.from(n),e.next=6,o.tokenURI(n);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t,n){return e.apply(this,arguments)}}();function it(){it=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var ct=function(){var e=Object(T.a)(it().mark(function e(t,n){var r,o;return it().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r="https://zora.co/collections/"+t+"/"+n,e.next=3,Qe(r,at);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}();function st(){st=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var ut=Object(s.b)(function(e,t){return{usedCheatCode:e.spore.usedCheatCode,playlistLoaded:e.playlist.playlistLoaded,currentSong:e.playlist.currentSong}},function(e){return{setPendingSpores:function(t){return e({type:508,payload:t})},setCurrentSong:function(t){return e(O(t))}}})(function(e){var t=e.recordedRemix,n=e.spTokenId,a=e.tokenId,i=e.collectionAddress,s=e.setPendingSpores,u=e.complete,l=(e.usedCheatCode,e.playlistLoaded),d=e.loadJack,h=e.currentSong,p=e.setCurrentSong,m=Object(ce.c)(),y=m.data,v=(m.isError,m.isLoading,Object(ce.k)().data),g=Object(r.useState)(!1),b=Object(c.a)(g,2),w=b[0],E=b[1],x=Object(r.useState)(!1),j=Object(c.a)(x,2),O=(j[0],j[1],Object(r.useState)(!1)),k=Object(c.a)(O,2),L=(k[0],k[1],t.recording,t.sliderData,t.modeData,Object(r.useState)(void 0)),S=Object(c.a)(L,2),N=S[0],I=S[1],C=Object(r.useCallback)(Object(T.a)(st().mark(function e(){var r,o,c,u,l;return st().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.dataHash,o=t.recordingHash,E(!0),e.next=4,Ne(v,n,i,a,o,r);case 4:c=e.sent,window.localStorage.removeItem("recordedRemix"),I(c),s([u={spTokenId:n,collectionAddress:i,tokenId:a,recordingHash:o,dataHash:r}]),l=null===(l=window.localStorage.getItem("pending-spores"))?[]:JSON.parse(l),l=[].concat(Object(R.a)(l),[u]),window.localStorage.setItem("pending-spores",JSON.stringify(l));case 14:case"end":return e.stop()}},e)})),[v,n,t,a,i,E,y]),A=void 0;if(l){l=l.metadata.playlist;for(var _=0;_<l.length;_++){var P=l[_];if(P.collectionAddress===h.collectionAddress&&P.tokenId===h.tokenId){A=l[_+1];break}}}var M=Object(r.useCallback)(function(){ct(A.collectionAddress,A.tokenId).then(function(e){u(),p(A),d(e,void 0,!f.isMobile)})},[A]),G="";return G=y?N?o.a.createElement("div",{className:"sign-recording-container"},o.a.createElement("p",null,"Your spore is being transmitted on-chain. This will take a few seconds."),o.a.createElement("p",null,o.a.createElement("a",{href:"https://ropsten.etherscan.io/tx/"+N},"Etherscan \u2197")),l?o.a.createElement("div",{onClick:M,className:"continue-remixing-btn pushable"},"Play Next"):o.a.createElement("div",{onClick:u,className:"continue-remixing-btn pushable"},"Continue Mixing")):o.a.createElement("div",{className:"sign-recording-container"},o.a.createElement("div",{onClick:C,className:"pushable sign-btn"},"Sign & Upload"),o.a.createElement("div",{className:"sign-helper"},w?"\nPlease now go to your wallet to sign the message. This costs no-gas, so no-stress.\n":"In order to transmit this remix on-chain, you'll need to sign a message\n                    with your wallet. This costs no-gas, so no-stress.")):o.a.createElement("div",{className:"inner-spore-recorded"},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(pe.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("div",{className:"sign-helper"},"By connecting your wallet, you can etch your identity onto this Remix, where it will live on-chain.")),o.a.createElement("div",{className:"spore-recorded-dialog"},o.a.createElement("div",{className:"spore-header"},"Spores recorded your remix."),o.a.createElement(qe,{disabled:!1,spore:t}),G)}),lt=(n(1287),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.children,n=e.hide;return o.a.createElement("div",{onClick:n,className:"spore-modal-backdrop"},o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"spore-modal-dialog"},o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{onClick:function(){return n()},className:"pushable spores-logo",src:"/spores-logo-black.svg"})),t))})),ft=(n(1288),Object(s.b)(function(e,t){return{}},null)(function(e){e.text;var t=e.className,n=void 0===t?"":t,a=(e.width,e.intervalTime),i=void 0===a?100:a,s=e.intervalPiece,u=void 0===s?10:s,l=Object(r.useState)(24),f=Object(c.a)(l,2),d=(f[0],f[1]);Object(r.useEffect)(function(){var e=setInterval(function(){d(function(e){return(e+u)%100})},i);return function(){return clearInterval(e)}},[]);return o.a.createElement("div",{className:"progress-bar"+n},o.a.createElement("div",{style:{borderRadius:"35px",height:"70px",width:"70px",position:"absolute",margin:"auto",left:"0",right:"0",top:"0",bottom:"0"}},o.a.createElement("img",{style:{width:"100%"},src:"/spores-icon-glow.svg"})))}));function dt(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ht(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ht(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ht(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function pt(){pt=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var mt=function(){var e=Object(T.a)(pt().mark(function e(t,n){var r,o,a,i,c;return pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new ne("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(U),e.next=3,r.executeQuery();case 3:return e.sent,t&&r.where("collectionAddress",t.toLowerCase()),void 0!==n&&(n.length>10?(o=ge.ethers.BigNumber.from(n),o=q.a.utils.padLeft(o.toHexString(),64).toLowerCase(),r.where("tokenId",o)):(a=parseInt(n),r.where("tokenId",isNaN(a)?n:a))),e.next=8,r.executeQuery();case 8:return i=e.sent,c=gt().filter(function(e){return e.collectionAddress===t&&parseInt(e.tokenId)===parseInt(n)}),i=[].concat(Object(R.a)(c),Object(R.a)(i)),e.abrupt("return",i);case 12:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),yt=function(){var e=Object(T.a)(pt().mark(function e(t){var n,r;return pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new ne("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(U).where("sporeId",parseInt(t)),e.next=3,n.executeQuery();case 3:return r=e.sent,e.abrupt("return",r[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),vt=function(){var e=Object(T.a)(pt().mark(function e(){var t,n,r,o,a,i,c,s,u;return pt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ne("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(U),e.next=3,t.executeQuery();case 3:n=e.sent,r=gt(),bt(r,n),n=[].concat(Object(R.a)(n),Object(R.a)(r)),o={},a=dt(n);try{for(a.s();!(i=a.n()).done;)c=i.value,s=c.collectionAddress,u=c.tokenId,s=s.toLowerCase(),o[s]||(o[s]={}),o[s][u]||(o[s][u]=[]),o[s][u].push(c)}catch(l){a.e(l)}finally{a.f()}return e.abrupt("return",o);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),gt=function(){var e,t=window.localStorage.getItem("pending-spores"),n=dt(t=null===t?[]:JSON.parse(t));try{for(n.s();!(e=n.n()).done;){var r=e.value;r.sporeHash=r.recordingHash}}catch(o){n.e(o)}finally{n.f()}return t},bt=function(e,t){var n,r=[],o=dt(e);try{for(o.s();!(n=o.n()).done;){var a,i=n.value,c=!1,s=dt(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(i.recordingHash===u.sporeHash){c=!0;break}}}catch(l){s.e(l)}finally{s.f()}c||r.push(i)}}catch(l){o.e(l)}finally{o.f()}window.localStorage.setItem("pending-spores",JSON.stringify(r))},wt=(n(1289),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.recordedRemix,n=e.uploadingRemix,a=e.spTokenId,i=e.tokenId,s=e.collectionAddress,u=e.onRemixSigningCompleted,l=e.loadJack,f=Object(r.useState)(!0),d=Object(c.a)(f,2),h=d[0],p=d[1];return Object(r.useEffect)(function(){window.localStorage.setItem("recordedRemix",{recordedRemix:t,tokenId:i,spTokenId:a,collectionAddress:s}),p(!0)},[t,p,i,s,a]),t||n?o.a.createElement(lt,{hide:function(e){return[]}},t&&h?o.a.createElement(ut,{spTokenId:a,tokenId:i,complete:u,collectionAddress:s,recordedRemix:t,loadJack:l}):o.a.createElement("div",{className:"spore-recorded-dialog"},o.a.createElement("div",{className:"spore-header"},"Spores recorded your remix."),o.a.createElement("div",{className:"uploading-text"},"Processing your new sound."),o.a.createElement("div",{className:"progress-container"},o.a.createElement(ft,{width:180})))):""})),Et=(n(1290),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.hideWaveform,n=e.isWaveformRainbow,a=e.buttonTextColor,i=e.playerRef,s=e.innerControls?window.innerWidth:330,u=Object(r.useRef)(),l=Object(r.useRef)(),f=Object(r.useState)(),d=Object(c.a)(f,2),h=d[0],p=d[1],m=Object(r.useState)(0),y=Object(c.a)(m,2),g=y[0],b=y[1],w=Object(r.useState)(0),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)(!1),k=Object(c.a)(O,2),L=k[0],N=k[1],T=Object(r.useState)(!1),I=Object(c.a)(T,2),C=I[0],A=I[1],_=(Object(r.useRef)(0),Object(r.useState)(void 0)),P=Object(c.a)(_,2),R=P[0],M=P[1];Object(r.useEffect)(function(){return window.addEventListener("mouseup",G),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),function(){window.removeEventListener("mouseup",G),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z)}},[C,M,A]);var G=Object(r.useCallback)(function(){A(!1)},[A]);Object(r.useEffect)(function(){return window.addEventListener("message",F,!1),function(e){return window.removeEventListener("message",F,!1)}},[b,j,N,p]);var F=Object(r.useCallback)(function(e){if("waveform-data"===e.data.type&&p(e.data.body),"song-player-progress"===e.data.type){var t=parseInt(e.data.body);b(t)}if("jacker-playback-status"===e.data.type){var n=parseInt(e.data.body);j(n),n&&N(!0)}},[L,b,j,N,p]),D=Object(r.useCallback)(function(){i.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")},[]),z=Object(r.useCallback)(function(e){if(C){e.touches&&(e=e.touches[0]);var t=u.current.getBoundingClientRect(),n=(e.clientX-t.left)/s*100;n=Math.max(0,Math.min(100,n)),M(n),i.current.contentWindow.postMessage({type:"jacker-seek",body:n},"*")}},[C,M]);if(!L)return"";var H={borderColor:a};return g=C&&R?R:g,o.a.createElement("div",{onMouseDown:function(e){A(!0),z(e)},onTouchStart:function(e){A(!0),z(e)},className:"shuffle-buttons"},!t&&o.a.createElement(S,{progress:g,waveform:h,isWaveformRainbow:n}),o.a.createElement("div",{className:"play-and-slider"},o.a.createElement(v,{color:a,style:H,isPlaying:x,play:D}),o.a.createElement("div",{ref:u,style:H,className:"slider-container"},o.a.createElement("div",{style:{backgroundColor:a,width:s*(100-g)/100,left:s*g/100},className:"slider-inner"}),o.a.createElement("div",{ref:l,onMouseDown:function(e){e.stopPropagation(),A(!0)},onTouchStart:function(e){e.stopPropagation(),A(!0)},style:{backgroundColor:a,left:s*g/100},className:"slider-scrubber"}))))})),xt=function(e,t,n){var o=Object(r.useState)(),a=Object(c.a)(o,2),i=a[0],s=a[1],u=Object(r.useState)(window.TEST_REMIX_UPLOAD_FLAG),l=Object(c.a)(u,2),f=l[0],d=l[1],h=Object(r.useState)(),p=Object(c.a)(h,2),m=p[0],y=p[1];Object(r.useEffect)(function(){n&&yt(n).then(function(e){y(e)})},[n]),Object(r.useEffect)(function(){window.TEST_REMIX_UPLOAD_FLAG&&setTimeout(function(){s("@mmmmm")},5e3)},[]);var v=Object(r.useCallback)(function(){e(),s(void 0),d(void 0),t.current},[s,d,e]);Object(r.useEffect)(function(){return window.addEventListener("message",g,!1),function(){return window.removeEventListener("message",g)}},[s,d]);var g=Object(r.useCallback)(function(e){var n=e.data;if("uploadingRecording"===n.type)t.current&&t.current.contentWindow.postMessage({type:"jacker-stop",body:"please"},"*"),d(!0);else if("sporeRecorded"==n.type){var r={sliderChanges:n.body.sliderData,modeChanges:n.body.modeData};Te.a.addJson(r).then(function(e){s({recordingHash:n.body.recording,dataHash:e})})}},[s,d]);return{recordedRemix:i,uploadingRemix:f,onRemixSigningCompleted:v,remixToPlay:m,setRemixToPlay:y}},jt=(n(1291),"https://zequencer.mypinata.cloud/ipfs/".concat("QmWV7gqvBeXT9VVYEEL5J9oGEvQFDjYZZ4rgGYz9JDk3h7","/?tokenId=40&gallery=true"),Object(s.b)(function(e,t){return{}},function(e){return{setPlayerRef:function(t){return e({type:512,payload:t})}}})(function(e){var t=e.simpleControls,n=e.zorbId,a=e.isFullScreen,i=e.songTitle,s=void 0===i?"Yo":i,u=e.collectionAddress,l=e.tokenId,d=e.artist,h=e.hideWaveform,p=e.thumbnail,m=(e.setStems,e.stems),y=e.isWaveformRainbow,v=e.url,g=void 0===v?"https://zequencer.mypinata.cloud/ipfs/QmNejpqTsVw3W3872o85XhWiKVG6gUchVJTvS4uUj2fUrC":v,b=e.innerControls,w=e.hideControls,E=e.children,x=e.playerRef,j=e.setPlayerRef,O=e.isSimple,k=e.color,S=void 0===k?"white":k;console.log("HIDE WAVEFORM=",h);var N=Object(ce.c)(),T=(N.data,N.isError,N.isLoading,x||Object(r.useRef)()),I=xt(function(){return[]},T),C=(I.totalRemixes,I.recordedRemix),A=I.uploadingRemix,_=I.onRemixSigningCompleted,P=(I.remixToPlay,I.setRemixToPlay,function(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),o=n[0],a=n[1];Object(r.useEffect)(function(){return window.addEventListener("message",i,!1),function(){return window.removeEventListener("message",i)}},[a]);var i=Object(r.useCallback)(function(e){"Finished Loading Project"===e.data&&a(!0)},[a]);return{loaded:o}}().loaded);return Object(r.useEffect)(function(){console.log("sending zorb id=",n)},[n,P]),Object(r.useEffect)(function(){},[m,P]),Object(r.useEffect)(function(){j(T)},[]),o.a.createElement("div",{onClick:function(){return console.log("spore embed clicked")},className:"spore-embed-container"},E,o.a.createElement(wt,{uploadingRemix:A,recordedRemix:C,collectionAddress:u,spTokenId:1,onRemixSigningCompleted:_,tokenId:l,playerRef:T}),p&&o.a.createElement("img",{src:p,className:"cover-image"}),o.a.createElement("div",{className:"spore-embed-helper"},!w&&b&&o.a.createElement(Et,{hideWaveform:h,innerControls:b,isWaveformRainbow:y,buttonTextColor:S,playerRef:T}),o.a.createElement("div",{className:"song-title"},s),o.a.createElement("div",{className:"song-artist"},d),!O&&o.a.createElement("div",{className:"stems-unlocked"},Math.min(11,m)," / 11 STEMS UNLOCKED")),o.a.createElement("div",{className:"flex w-full"},o.a.createElement("iframe",{className:"spore-embed z-20 mx-auto",width:a?window.innerWidth:340,height:a?window.innerHeight:400,ref:T,src:g}),t&&o.a.createElement(L,{playerRef:T}),!w&&!b&&o.a.createElement(Et,{isWaveformRainbow:y,hideWaveform:h,buttonTextColor:S,playerRef:T}),!f.isMobile&&!h&&o.a.createElement(ie,{playerRef:T})))})),Ot=(n(1292),n(1293),n(343),n(533),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.videoURL,n=void 0===t?"https://zequencer.mypinata.cloud/ipfs/QmU6xYLumQ8TXiJXpNV3g5m5bwmeZDyigpagwdQ3b8wy7T":t,a=e.playerURL,i=void 0===a?"https://zequencer.mypinata.cloud/ipfs/".concat("Qmd2UjeaJkoeF5uE3dmwKQv6VY3NoAzsZFRGFsRcaUoTn3","/?tokenId=24&gallery=true"):a,s=e.lightweight,u=Object(r.useRef)(),l=Object(r.useRef)(),d=Object(r.useRef)(),h=x({ref:u,playerRef:d}),p=h.started,m=h.rewind,g=h.fastForward,b=h.isPlaying,E=h.uniforms,j=Object(r.useState)(!1),O=Object(c.a)(j,2),k=O[0],L=O[1];Object(r.useEffect)(function(){!f.isMobile&&p&&L(!0)},[p,L]),Object(r.useEffect)(function(){!b&&p?L(!0):b&&f.isMobile&&setTimeout(function(){L(!1)},1e3)},[b,L,p]);var S=Object(r.useCallback)(function(){f.isMobile&&L(!k)},[k,L]),N="drop nft-jacker jacked video-jacker";return f.isMobile&&!p&&(N+=" dark-setting"),s&&(N+=" lightweight"),o.a.createElement("div",{className:N},o.a.createElement(jt,{hideWaveform:!0,isSimple:!0,playerRef:d,videoRef:u,innerControls:f.isMobile,songTitle:"VERIFIED FEAT. CHIIEF DIIN",artist:"HALEEK MAUL",hideControls:!0,url:i}),o.a.createElement("div",{className:"z-50 h-1/3 md:z-10 fixed md:h-full w-full flex items-center justify-center"},!s&&o.a.createElement(y,{canvasRef:l,started:p,videoRef:u,uniforms:E}),o.a.createElement("video",{preload:"auto",preLoad:"auto",onClick:S,className:"absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full",style:{opacity:s?1:0},crossorigin:"",ref:u,muted:!0,playsInline:!0,src:n}),o.a.createElement(w,{videoRef:u,playerRef:d,started:p})),k&&o.a.createElement("div",{className:"play-controls z-50 absolute left-0 right-0 mx-auto w-4 md:w-28"},o.a.createElement("img",{onClick:m,className:"rew pushable",src:"/rewind-icon.svg"}),o.a.createElement(v,{isPlaying:b,play:function(){return function(e){e.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")}(d)}}),o.a.createElement("img",{onClick:g,className:"fwd pushable",src:"/fast-forward-icon.svg"})))})),kt=(n(1294),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(){var e=Object(r.useState)(!1),t=Object(c.a)(e,2),n=t[0],a=t[1],i=Object(r.useState)(1),s=Object(c.a)(i,2),u=s[0],l=s[1];return n?o.a.createElement("div",{className:"gen3-info"},o.a.createElement("div",{onClick:function(){return a(!1)},className:"pushable exit-btn"},"x"),o.a.createElement("img",{onClick:function(){return u<3?l(u+1):0},className:"pitch-deck-image",src:"/spores-pitch-".concat(u,".jpg")}),o.a.createElement("div",{className:"page-navigator"},o.a.createElement("div",{className:u>1?"prev-btn":"prev-btn hide",onClick:function(){return l(u-1)}}),o.a.createElement("div",{className:"page-info"},u," / 3"),o.a.createElement("div",{className:u<3?"next-btn":"hide next-btn",onClick:function(){return l(u+1)}}))):o.a.createElement("div",{onClick:function(){return a(!0)},className:"gen3-btn pushable"},o.a.createElement("div",{className:"gen3-text"},"Gen3 Vision \ud80c\udf4a"))})),Lt=(n(1295),function(e){var t=e.address,n=Object(ce.h)({address:t}),r=n.data;n.isError;return n.isLoading?"":o.a.createElement("span",{className:"ens-name"},null===r?Mt(t):r)}),St={};function Nt(e){return"hsl("+e.h+","+e.s+"%,"+e.l+"%)"}function Tt(e){var t=(e=e.substring(4)).split(","),n=Object(c.a)(t,3),r=n[0],o=n[1],a=n[2],i=o.indexOf("%");return o=o.substring(0,i),i=a.indexOf("%"),a=a.substring(0,i),{h:parseFloat(r),s:parseFloat(o),l:parseFloat(a)}}function It(e,t,n){n/=100;var r=t*Math.min(n,1-n)/100,o=function(t){var o=(t+e/30)%12,a=n-r*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return"#".concat(o(0)).concat(o(8)).concat(o(4))}var Ct=function(){function e(){Object(I.a)(this,e)}return Object(C.a)(e,[{key:"transparent",value:function(e,t){return e.slice(0,e.length-1)+", "+t+")"}},{key:"intToRGB",value:function(e){var t=(16777215&e).toString(16).toUpperCase();return"#"+"00000".substring(0,6-t.length)+t}},{key:"hueShift",value:function(e,t){var n=Tt(e);return Nt({h:n.h+t,s:n.s,l:n.l})}},{key:"warm",value:function(e){return Nt({h:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:141)-e,s:arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l:50})}},{key:"compliment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,n=Tt(e),r=n.h;return 0===r&&r++,Nt({h:r+=10*t%255,s:n.s,l:n.l})}},{key:"saturate",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,r=arguments.length>3?arguments[3]:void 0;if(e){if(e.startsWith("hsl")){var o=Tt(e),a=o.h,i=o.s,c=o.l;return c*=n,r&&(c=r),e=Nt({h:a,s:i=Math.min(i*t,100),l:c})}var s=function(e){var t=e.r,n=e.g,r=e.b;t/=255,n/=255,r/=255;var o=Math.min(t,n,r),a=Math.max(t,n,r),i=a-o,c=0,s=0,u=0;c=0==i?0:a==t?(n-r)/i%6:a==n?(r-t)/i+2:(t-n)/i+4;(c=Math.round(60*c))<0&&(c+=360);return u=(a+o)/2,s=+(100*(s=0==i?0:i/(1-Math.abs(2*u-1)))).toFixed(1),u=+(100*u).toFixed(1),{h:c,s:s,l:u}}(this.getRGB(e)),u=s.h,l=s.s,f=s.l;return f*=n,r&&(f=r),e=Nt({h:u,s:l=Math.min(l*t,100),l:f})}}},{key:"brighten",value:function(e,t){if(e.startsWith("hsl")){var n=Tt(e);return Nt(n=function(e,t){var n=e.h,r=e.s,o=e.l;return{h:n,s:r,l:o*t}}(n,t))}var r=St[e+"."+t];if(r)return r;var o=Math.min(255,Math.floor(parseInt(e.slice(1,3),16)*t)),a=Math.min(255,Math.floor(parseInt(e.slice(3,5),16)*t)),i=Math.min(255,Math.floor(parseInt(e.slice(5),16)*t));o=o.toString(16),a=a.toString(16),i=i.toString(16),1===o.length&&(o="0"+o),1===a.length&&(a="0"+a),1===i.length&&(i="0"+i);var c="#"+o+a+i;return St[e+"."+t]=c,c}},{key:"getBrightness",value:function(e){var t=this.getRGB(e);return.299*t.r+.587*t.g+.114*t.b}},{key:"rawHSLToHex",value:function(e){return It(e.h,e.s,e.l)}},{key:"hslToHex",value:function(e){var t=Tt(e);return It(t.h,t.s,t.l)}},{key:"getRGB",value:function(e){return{r:Math.floor(parseInt(e.slice(1,3),16)),g:Math.floor(parseInt(e.slice(3,5),16)),b:Math.floor(parseInt(e.slice(5),16))}}}]),e}();function At(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return _t(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _t(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Pt=new Ct;window.heatRoot=1.1,window.bucketSize=1,window.saturation=80;var Rt=function(e,t){var n,r=e.sliderChanges,o=e.modeChanges,a=r.map(function(e){return Math.round((isNaN(e[0])?0:e[0])/t)}),i={},c=At(a);try{for(c.s();!(n=c.n()).done;){var s=n.value;i[s]||(i[s]=0),i[s]+=1}}catch(y){c.e(y)}finally{c.f()}a=o.map(function(e){return Math.round((isNaN(e[0])?0:e[0])/t)});var u,l=Math.max.apply(Math,Object(R.a)(Object.values(a))),f=At(a);try{for(f.s();!(u=f.n()).done;){var d=u.value;i[d]||(i[d]=0),i[d]+=16;for(var h=0,p=function(e){if(a.some(function(t){return t===e}))return"break";i[e]||(i[e]=0),i[e]+=50+h,h+=8},m=d+1;m<l;m++){if("break"===p(m))break}}}catch(y){f.e(y)}finally{f.f()}return i},Mt=(Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.heat,n=e.width,r=void 0===n?54:n,a=e.height,i=void 0===a?10:a,c=e.center,s=void 0!==c&&c,u=e.saturation,l=void 0===u?200:u;e.duration;if(!t)return"";var f=54===r?2*window.bucketSize:window.bucketSize,d=Rt(t,f),h=.75*Math.max.apply(Math,Object(R.a)(Object.values(d))),p=Math.max.apply(Math,Object(R.a)(Object.keys(d)));return o.a.createElement("svg",{className:"heatmap",width:r,height:10},Object.keys(d).map(function(e){return o.a.createElement("rect",{width:r>80?4:1,height:s?i*Math.min(1,Math.pow(d[e],window.heatRoot)/h):i,opacity:Math.min(1,Math.pow(d[e],window.heatRoot)/h),fill:Pt.warm(190*Math.min(1,Math.pow(d[e],window.heatRoot)/h),190,Math.min(1,Math.pow(d[e],window.heatRoot)/h)*l),x:r*e/p,y:s?i/2-i*Math.min(1,Math.pow(d[e],window.heatRoot)/h)/2:0})}))}),function(e){return e.slice(0,4)+"..."+e.slice(-4)}),Gt=function(e){e||(e=0);var t=Math.floor(e/60),n=Math.floor(e-60*t);return n<10&&(n="0"+n),"".concat(t,":").concat(n)},Ft=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.songName,n=void 0===t?"":t,a=e.artist,i=void 0===a?"":a,s=(e.heat,e.externalURL),u=e.creator,l=e.audioUnit,d=e.store,h=e.spore,p=e.preset,m=e.setPreset,y=e.sporeMetadata,g=f.isMobile?230:500,b=Object(r.useRef)(),w=Object(r.useState)(!1),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)(void 0),k=Object(c.a)(O,2),L=k[0],S=k[1],N=Object(r.useRef)(0),T=Object(r.useState)(0),I=Object(c.a)(T,2),C=I[0],A=I[1],_=Object(r.useState)(),P=Object(c.a)(_,2),R=(P[0],P[1]);Object(r.useEffect)(function(){j(!1),A(0)},[h]),Object(r.useEffect)(function(){j(!1),A(0),S(void 0),N.current=0},[h,j,A,S]),Ke(Object(r.useCallback)(function(){var e=Ce.a.Master.context.currentTime-L;x&&A((e+N.current)/l.duration)},[x,A,L]),40);var M=Object(r.useCallback)(function(){x?(N.current=N.current+Ce.a.Master.context.currentTime-L,l.stopSound()):l.playSound(N.current),j(!x),S(Ce.a.Master.context.currentTime)},[x,A,j,l,L]),G=Object(r.useCallback)(function(e){e.stopPropagation(),R(void 0),x||j(!0);var t=e.clientX-b.current.getBoundingClientRect().left,n=t/g*l.duration;l.playSound(n),N.current=n,S(Ce.a.Master.context.currentTime),R(t),setTimeout(function(){R(void 0)},300)},[x,j,S,R,l]);return Object(r.useEffect)(function(){return function(){l&&l.stopSound()}},[l]),C=Math.min(100,C),o.a.createElement("div",{className:l?"audio-player":"audio-player disabled"},l&&o.a.createElement(v,{isPlaying:x,play:M}),o.a.createElement("div",{ref:b,onClick:G,className:"play-time-and-slider"},!l&&o.a.createElement("div",{className:"progress-container"},o.a.createElement(ft,null)),y&&o.a.createElement(Je,{setPreset:m,width:g,preset:p,progress:C,store:d,spore:y}),o.a.createElement("div",{className:"play-time"},l&&o.a.createElement("div",{className:"time"},Gt(C*l.duration)," / ",Gt(l.duration)),u&&o.a.createElement("div",{className:"creator"},"Remixed by ",o.a.createElement("span",{className:"wallet-address"},o.a.createElement("a",{target:"_blank",href:"https://etherscan.io/address/"+u},o.a.createElement(Lt,{address:u}))))),o.a.createElement("div",{className:"song-title-and-author"},o.a.createElement("div",{className:"song-title"},n),o.a.createElement("div",{className:"song-creator"},"Original by ",o.a.createElement("span",{className:"creator-name"},o.a.createElement("a",{target:"_blank",href:s},i))))))}),Dt=(n(1296),n(1400)),zt=n(1401),Ht=n(1402),Bt=n(1403),Ut=n(1404),Wt=n(1405),Yt=n(1406),Jt=n(1407),qt=n(1408),Kt=n(1409),Zt=n(1410),Vt=n(1411),Xt=n(563),Qt=n(564),$t=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.url,n=e.type,a=e.lowerGradInverted,i=e.buttonBgColor,s=Object(r.useState)(!1),u=Object(c.a)(s,2),l=u[0],d=u[1],h=Object(r.useState)(!1),p=Object(c.a)(h,2),m=p[0],y=p[1],v=t,g="Check out this song on Spores!";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"share-button pushable",onClick:function(){return d(!0)}},o.a.createElement(Xt.a,{style:{fill:f.isMobile?a:i}})),l&&o.a.createElement("div",{className:"share-button-modal"},o.a.createElement("div",{className:"share-upper-container"},o.a.createElement("div",null,o.a.createElement("p",null,"remix"===n?"Share Remix":"Share Song")),o.a.createElement("div",{onClick:function(){return d(!1)},className:"share-close-button"},"x")),o.a.createElement("div",{className:"share-url-field"},o.a.createElement("p",null,t),o.a.createElement(Qt.a,{className:"pushable",style:{color:m?"#84ff98":"white",cursor:"pointer"},onClick:function(){navigator.clipboard.writeText(t),y(!0)}})),o.a.createElement("div",{className:"share-icon-container"},o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Dt.a,{url:v,title:g},o.a.createElement(zt.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Ht.a,{url:v,quote:g},o.a.createElement(Bt.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Ut.a,{url:v,title:g},o.a.createElement(Wt.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Yt.a,{url:v,title:g},o.a.createElement(Jt.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(qt.a,{url:v,title:g,separator:":: "},o.a.createElement(Kt.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Zt.a,{url:v,subject:g},o.a.createElement(Vt.a,{size:32,round:!0}))))))}),en=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.remix,n=e.setRemix,r=e.songName,a=e.artist,i=e.externalURL,c=e.shareLink,s=Ye(t.sporeHash),u=s.audioPlayer;s.dispose;return o.a.createElement("div",{className:"remix-player"},o.a.createElement("div",{className:"pushable close-button",onClick:function(){return n(void 0)}},"x"),o.a.createElement($t,{url:c||"spores.vision/play/"+t.collectionAddress+"/"+t.tokenId+"/"+t.sporeId,type:"remix"}),o.a.createElement(Ft,{externalURL:i,artist:a,songName:r,creator:t.creator,audioUnit:u,spore:t,sporeMetadata:t}))}),tn=n(352),nn=n.n(tn),rn=n(353),on=n.n(rn),an=(n(1297),n(566)),cn=n.n(an),sn=(n(1299),function(e){var t=e.clear,n=e.isPlaying,r=e.data,a=e.setRemixToPlay,i=e.spTokenId,c=cn()(function(e,t){var n=t.size,r=on()(e),o=nn()({h:r%360,s:.95,l:.5}),a=o.toHexString(),i=o.triad()[1].toHexString();return'<?xml version="1.0" encoding="UTF-8"?>\n    <svg width="'.concat(n,'px" height="').concat(n,'px" viewBox="0 0 61 61" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <defs>\n      <circle cx="30.658" cy="30.9537" r="30" fill="url(#paint0_radial_151_38)" fill-opacity="0.58"/>\n      <radialGradient id="paint0_radial_151_38" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(30.658 30.9537) rotate(90) scale(30)">\n            <stop stop-color="').concat(a,'"/>\n            <stop offset="1" stop-color="').concat(i,'" stop-opacity="0"/>\n        </radialGradient>\n      </defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <rect id="Rectangle" fill="url(#paint0_radial_151_38)" x="0" y="0" width="80" height="80"></rect>\n      </g>\n    </svg>')}(r.sporeHash,{size:60})),s="remix-list-item-container pushable";return n&&(s+=" playing"),o.a.createElement("div",{onClick:function(){a(r),f.isMobile&&t()},className:s},o.a.createElement("div",{className:"remix-icon",style:{backgroundImage:'url("'+c+'")'}}),o.a.createElement("div",{className:"remix-info-container"},r.sporeId?o.a.createElement("div",{className:"remix-number"},"Remix #",r.sporeId):o.a.createElement("div",{className:"remix-number"},"Remix (Pending)"),o.a.createElement("div",{className:"remix-created-on"},"Mixed on ",i||"SP-"+r.spTokenId),o.a.createElement("div",{className:"remix-address"},"By ",r.sporeId?o.a.createElement(Lt,{address:r.creator}):"You")))}),un=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.creatorsToIgnore,n=void 0===t?[]:t,a=e.spTokenId,i=e.setRemixToPlay,s=e.remixToPlay,u=e.collectionAddress,l=e.tokenId,d=e.clear,h=Object(r.useState)([]),p=Object(c.a)(h,2),m=p[0],y=p[1],v=Object(r.useState)(),g=Object(c.a)(v,2),b=g[0],w=g[1];return Object(r.useEffect)(function(){u&&l&&mt(u,l).then(function(e){e=e.filter(function(e){return!n.includes(e.creator)}),y(e),w(0===e.length)})},[y,u,l]),o.a.createElement("div",{className:"remix-list-container"},f.isMobile&&o.a.createElement("div",{className:"remix-close-button-container"},o.a.createElement("div",{className:"pushable close-button",onClick:function(){return d()}},"x")),b&&o.a.createElement("div",{className:"no-remix-div"},"No remixes have been made for this song yet. You could be the first..."),m.map(function(e){return o.a.createElement(sn,{spTokenId:a,isPlaying:e===s,setRemixToPlay:i,clear:d,data:e})}))}),ln=(n(1300),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){return o.a.createElement("div",{className:"glossary-items"},o.a.createElement("div",{className:"helper-item item-1"},o.a.createElement("p",{className:"glossary-number"},"1"),o.a.createElement("p",{className:"glossary-term"},"CHANGE MODE"),o.a.createElement("p",{className:"glossary-definition"},"PRESS TO SWITCH TO LOOP MODE, ALLOWING YOU TO LOOP THE TRACK AND ACCESS SECONDARY SLIDERS*.")),o.a.createElement("div",{className:"helper-item item-2"},o.a.createElement("p",{className:"glossary-number"},"2"),o.a.createElement("p",{className:"glossary-term"},"JUICE / LOOP*"),o.a.createElement("p",{className:"glossary-definition"},'ADJUST THE AMOUNT OF "JUICE", THAT THE EXTERNAL LOOP CONTRIBUTES, OR LOOP A SECTION OF THE TRACK.')),o.a.createElement("div",{className:"helper-item item-3"},o.a.createElement("p",{className:"glossary-number"},"3"),o.a.createElement("p",{className:"glossary-term"},"PITCH UP / PITCH DOWN*"),o.a.createElement("p",{className:"glossary-definition"},"SLIDE TO RAISE THE PITCH AND SPEED UP, OR LOWER THE PITCH AND SLOW DOWN THE TRACK.")),o.a.createElement("div",{className:"helper-item item-4"},o.a.createElement("p",{className:"glossary-number"},"4"),o.a.createElement("p",{className:"glossary-term"},"STUTTER / SPACE*"),o.a.createElement("p",{className:"glossary-definition"},"CONTROL STUTTERING WHICH REPEATS THE TRACK OR ADD VASTNESS TO IT WITH SPACE.")),o.a.createElement("div",{className:"helper-item item-5"},o.a.createElement("p",{className:"glossary-number"},"5"),o.a.createElement("p",{className:"glossary-term"},"ACOUSTIFY / GATE*"),o.a.createElement("p",{className:"glossary-definition"},"RAISE THE GUITAR LEVELS OR CONTROL THE GATE EFFECT AT DIFFERENT RATES.")),o.a.createElement("div",{className:"helper-item item-6"},o.a.createElement("p",{className:"glossary-number"},"6"),o.a.createElement("p",{className:"glossary-term"},"CHANGE LOOP"),o.a.createElement("p",{className:"glossary-definition"},"SWITCH TO THE NEXT LOOP TO INTERWEAVE INTO THE TRACK.")))})),fn=["0xdc94060e37dcb8816188508536595019c8f0c98a","0x0fb5e3b3f254cbdccd69d31bcb0e92b83d381a0a"],dn=function(e){var t=e.simpleControls,n=e.zorbId,a=e.url,i=e.className,s=e.color,u=e.hideWaveform,l=e.collectionAddress,f=e.isSimple,d=e.thumbnail,h=e.tokenId,p=e.askPrice,m=void 0===p?"2":p,y=e.songTitle,v=e.artist,g=e.isFullScreen,b=e.children,w=Object(r.useState)(!1),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)(3),k=Object(c.a)(O,2),L=k[0],S=k[1],N=Object(r.useState)(),T=Object(c.a)(N,2),I=T[0],C=T[1];return Object(r.useEffect)(function(){mt(l,h).then(function(e){e=e.filter(function(e){return!fn.includes(e.creator)});var t=Math.max(0,e.length-1);S(3+t)})},[]),o.a.createElement("div",{className:i?"drop nft-jacker jacked "+i:"drop nft-jacker jacked"},I&&o.a.createElement("div",{className:"remix-backdrop"},o.a.createElement(en,{artist:v,songName:y,setRemix:C,remix:I})),x&&o.a.createElement(xe,{name:"SPX-1",askPrice:m,tokenId:1,thumbnail:"/inmysoul-cover.jpeg",setBuying:j}),o.a.createElement("div",{className:"connect-button-wrapper drop-top"},o.a.createElement(pe.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement(jt,{zorbId:n,simpleControls:t,collectionAddress:l,color:s,isFullScreen:g,isSimple:f,tokenId:h,stems:L,isWaveformRainbow:!1,songTitle:y,hideWaveform:u,thumbnail:d,artist:v,url:a}),o.a.createElement("div",{className:"drop-description"},b,o.a.createElement(un,{spTokenId:"SP - IN MY SOUL",remixToPlay:I,setRemixToPlay:C,creatorsToIgnore:fn,collectionAddress:l,tokenId:h,clear:function(){return[]}}),!f&&o.a.createElement("div",{className:"drop-features"},"LISTEN. PLAY. JUICE. PITCH UP. GATE. WOBBLE. STUTTER. LOOP. SPACE. PITCH DOWN. REMIX."),!f&&o.a.createElement("div",{className:"spore-overview"},o.a.createElement("div",{className:"overview-header"},"SPORE OVERVIEW"),o.a.createElement("img",{src:"/spore.svg",className:"spore-overview-image"})),!f&&o.a.createElement(ln,null)))},hn=(n(344),n(534),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1];return Object(r.useEffect)(function(){a&&setTimeout(function(){f(!0)},1e3)},[a,f]),o.a.createElement("div",{className:"next-gen"},!l&&o.a.createElement("div",{className:a?"enter-overlay hide":"enter-overlay"},o.a.createElement("div",{onClick:function(){return i(!0)},className:"inner-overlay"},o.a.createElement("img",{className:"",src:"/spore-logo-future2.jpeg"}),o.a.createElement("div",{className:"click-text"},"Click to Enter"))),l&&o.a.createElement(kt,null),o.a.createElement(dn,{hideWaveform:!0,color:"black",url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmbtfXrV8ZUxM5PweH5EZKnpawpBDQsPHvn4Fk9rXzM3Vg","/?tokenId=32&gallery=true"),collectionAddress:"0x0000000000000000000000000000000000000001",isFullScreen:!0,tokenId:1,className:"thugger",artist:"Young Thug",isSimple:!0,songTitle:"Hop Out Ft. Wiz Kalifa"}))})),pn=(n(1301),n(1412)),mn=n(1413),yn=n(1414),vn=(n(1302),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){for(var t=e.percentage,n=e.radius,r=2*(n-12)*Math.PI,a=(100-t)/100*r,i={},c=[],s=0;s<16;s++)c.push(t/32/100*r),c.push(t/32/100*r);return c.pop(),c.push(a),o.a.createElement("svg",{className:"circular-progress",width:2*n+"px",height:2*n+"px"},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},o.a.createElement("stop",{offset:"0%","stop-color":"#aaf94c"}),o.a.createElement("stop",{offset:"50%","stop-color":"#caf9ac"}),o.a.createElement("stop",{offset:"100%","stop-color":"#0af90c"}))),o.a.createElement("circle",{className:"outter-circle",strokeWidth:6,style:i,cx:n+6,cy:n+6,r:n-12}),t>0&&o.a.createElement("circle",{className:"inner-circle",strokeDashoffset:n+1.5,strokeWidth:6,strokeDasharray:c.join(","),stroke:"url(#linear)",style:i,cx:n+6,cy:n+6,r:n-12}))})),gn=Object(s.b)(function(e,t){return{playerRef:e.spore.playerRef}},function(e){return{}})(function(e){var t=e.setFinished,n=e.playerRef,a=Object(r.useState)(0),i=Object(c.a)(a,2),s=i[0],u=i[1],l=(Object(r.useRef)([]),Object(r.useRef)(0)),f=Object(r.useRef)(0),d=Object(r.useRef)(1);Object(r.useEffect)(function(){return window.addEventListener("message",h),function(){return window.removeEventListener("message",h)}},[u,s,t,n]),Ke(Object(r.useCallback)(function(){f.current>94&&(d.current*=.99);var e=f.current+.1*d.current;u(e),f.current=e},[u]),20);var h=Object(r.useCallback)(function(e){"loading-progress"===e.data.type&&(d.current=Math.min(7,Math.max(4.5,(e.data.body-l.current)/10)),l.current=e.data.body,f.current>l.current&&(d.current*=.5)),"Finished Loading Project"===e.data&&(n&&(console.log("acknowledging"),n.current.contentWindow.postMessage({type:"finished-acknowledged",body:!0},"*")),t(!0))},[u,t,s,n]);return o.a.createElement(vn,{percentage:s,radius:130})}),bn=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=Object(r.useState)(0),n=Object(c.a)(t,2),a=n[0],i=n[1];return Ke(Object(r.useCallback)(function(){i((a+1)%100)},[i,a])),o.a.createElement(vn,{percentage:a,radius:30})}),wn=n(65),En=n(103),xn=n.n(En),jn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],On=function(e){return new Promise(function(t){var n=new(new xn.a(new xn.a.providers.HttpProvider("https://mainnet.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")).eth.Contract)(jn,"0xCa21d4228cDCc68D4e23807E5e370C07577Dd152");console.log("contract=",n,jn,"0xCa21d4228cDCc68D4e23807E5e370C07577Dd152",e);n.methods.tokenURI(e).call().then(function(e){var n="data:application/json;base64,";if(e.startsWith(n)){var r=atob(e.slice(n.length)),o=JSON.parse(r);t(o.image)}})})},kn=function(e){var t=e.zorbId,n=Object(wn.a)(e,["zorbId"]),a=Object(r.useState)(void 0),i=Object(c.a)(a,2),s=i[0],u=i[1];return Object(r.useEffect)(function(){void 0!==t&&On(t).then(u)},[u,t]),s?o.a.createElement("img",Object.assign({},n,{src:s})):""},Ln=(n(1303),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.loading,n=e.playing;if(!n)return"";var r=n&&n.tokenURI.zorbId;return console.log("PLAYING=",n),o.a.createElement("div",{className:"currently-playing"},t&&o.a.createElement(bn,null),n&&!t&&o.a.createElement(kn,{className:"zorb",zorbId:r}),o.a.createElement(Lt,{address:n.to}))})),Sn=function(e,t){var n="localhost"===window.location.hostname?"http://localhost:9090/":"https://zequencer.io/";window.LOCAL_BACKEND_FLAG||(n="https://zequencer.io/"),fetch(n+"refreshContract/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({contractAddress:t,transactionHash:e})})},Nn={goerli:"0x63A62b1b0EAC31E3C4EEEc620287f1B6Cd8D0Cf1"},Tn=[{inputs:[{internalType:"address",name:"renderer",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address payable",name:"dropsContractAddress",type:"address"},{components:[{internalType:"string",name:"contentURI",type:"string"},{internalType:"string",name:"coverArtURI",type:"string"},{internalType:"string",name:"caption",type:"string"},{internalType:"uint256",name:"zorbId",type:"uint256"},{internalType:"uint256[]",name:"stemIds",type:"uint256[]"},{internalType:"uint8[]",name:"stemPercentages",type:"uint8[]"}],internalType:"struct ZporeMetadataRenderer.ZporeRemix",name:"data",type:"tuple"}],name:"purchase",outputs:[],stateMutability:"payable",type:"function"}];function In(){In=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Cn="https://zequencer.mypinata.cloud/ipfs/",An="0xdAA94fBd00C9a23B4e3b4f684d1103Ff1dDfF972".toLowerCase(),_n=Nn,Pn=Tn,Rn=function(){var e=Object(T.a)(In().mark(function e(t,n,r,o){var a,i,c,s,u,l,f=arguments;return In().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=f.length>4&&void 0!==f[4]?f[4]:1,i=f.length>5?f[5]:void 0,console.log("STEMS DATA=",i),n=Cn+n,r=Cn+r,c=new ge.ethers.Contract(_n.goerli,Pn,t),s=[n,r,o,a,i.stemIds,i.percentages],console.log("ARGS TO TRANSACT=",s),e.next=10,c.purchase(An,s,{value:0});case 10:return u=e.sent,console.log("purchase returned",u),console.log("waiting..."),l=u.hash,Sn(l,An),e.abrupt("return",u);case 16:case"end":return e.stop()}},e)}));return function(t,n,r,o){return e.apply(this,arguments)}}(),Mn=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}];function Gn(){Gn=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function Fn(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Dn(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Dn(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Dn(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var zn=function(){var e=Object(T.a)(Gn().mark(function e(){var t,n,r,o,a,i;return Gn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ne(An).from(J).select("tokenIds"),e.next=3,t.executeQuery();case 3:n=e.sent,r=Fn(n),e.prev=5,r.s();case 7:if((o=r.n()).done){e.next=15;break}return a=o.value,e.next=11,Hn(a.tokens,An);case 11:i=e.sent,a.tokenURI=i;case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:return e.abrupt("return",n);case 24:case"end":return e.stop()}},e,null,[[5,17,20,23]])}));return function(){return e.apply(this,arguments)}}(),Hn=function(){var e=Object(T.a)(Gn().mark(function e(t,n){var r,o;return Gn().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new q.a.eth.Contract(Mn,n),e.next=3,r.methods.tokenURI(t).call();case 3:return o=e.sent,e.abrupt("return",Bn(o));case 5:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),Bn=function(e){if(e.indexOf("base64,")>=0){var t=atob(e.slice(e.indexOf("base64,")+"base64,".length));return JSON.parse(t)}return""},Un=(n(1304),n(1305)),Wn=new Ct,Yn=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.traits;return o.a.createElement("div",{className:"stem-traits"},t.map(function(e){var t,n=e.trait_type,r=e.value;return o.a.createElement("div",{style:{borderColor:(t=n,Wn.saturate(Un(t),4,1,50))},className:"stem-trait"},o.a.createElement("div",{className:"value"},r))}))}),Jn=(n(1313),function(e){return Math.floor(e)}),qn=(n(1314),function(e){var t=e.to,n=e.from,a=e.refs,i=e.i,s=Object(r.useState)(),u=Object(c.a)(s,2),l=u[0],f=u[1];if(Object(r.useEffect)(function(){var e=t.current.getBoundingClientRect(),r=n.current.getBoundingClientRect();f([r.left+.5*r.width+.5*(e.left-r.left)/600*r.width,r.top+r.height,e.left+25,e.top])},[a,i]),!l)return[];var d=Object(c.a)(l,4),h=function(e){for(var t="M "+Jn(e[0])+" "+Jn(e[1]),n="",r=2;r<e.length-1;r+=2)n+=Jn(e[r])+" "+Jn(e[r+1])+" ";return t+" C "+n}(function(e,t,n,r,o){var a=40;return r<t&&(a=80),o?[e,t,e,t+a,n-100,r,n,r]:[e,t,e,t+a,n,r-100,n,r]}(d[0],d[1],d[2],d[3]));return[o.a.createElement("path",{d:h,className:"not-dashed"}),o.a.createElement("path",{d:h,className:"dashed"})]}),Kn=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.refs,n=e.rootRef;if(n&&n.current)return o.a.createElement("svg",{className:"spore-roots"},t.map(function(e,r){return o.a.createElement(qn,{refs:t,to:e,from:n,i:r})}))}),Zn=function(e){var t=e.refs,n=e.setRefs,a=e.remix,i=e.playing,s=e.audioPlayer,u=e.setPlaying,l=Object(r.useRef)(),f=Object(r.useState)(!1),d=Object(c.a)(f,2),h=d[0],p=d[1],m=Object(r.useState)(),y=Object(c.a)(m,2),v=y[0],g=y[1],b=Object(r.useState)(),w=Object(c.a)(b,2),E=w[0],x=w[1];if(Object(r.useEffect)(function(){var e=a.tokenURI;e&&On(e.zorbId).then(g),x(a.tokenURI)},[a]),Object(r.useEffect)(function(){v&&!t.includes(l)&&n([].concat(Object(R.a)(t),[l]))},[v,t,n]),!v)return"";var j=E.attributes;return o.a.createElement("div",{onClick:function(){return u(a)},ref:l,className:i===a?"zorb-remix-option playing":"zorb-remix-option"},o.a.createElement("div",{className:"inner"},v&&o.a.createElement("img",{onMouseOver:function(){return p(!0)},onMouseLeave:function(){return p(!1)},className:"zorb-image",src:v}),o.a.createElement("div",{className:"caption"},E.caption)),o.a.createElement("div",{className:h?"hover-name show":"hover-name"},o.a.createElement(Lt,{address:a.to})),o.a.createElement(Yn,{traits:j}),i&&o.a.createElement("div",{onClick:function(e){e.stopPropagation(),s.stopSound(),u(void 0)},className:"pause-button"}))},Vn=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.remixes,n=e.hide,a=e.audioPlayer,i=e.setPlaying,s=e.playing,u=Object(r.useState)([]),l=Object(c.a)(u,2),f=l[0],d=l[1],h=Object(r.useRef)();return o.a.createElement("div",{className:"zorb-remix-view"},o.a.createElement(Kn,{rootRef:h,refs:f}),o.a.createElement("div",{onClick:n,className:"back-btn"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"}," ",o.a.createElement("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})," ")),o.a.createElement("div",{ref:h,className:"ancestral-source"},o.a.createElement("div",{className:"song-name"},"Psilocybin"),o.a.createElement("div",{className:"artist-name"},"Keyon Christ")),o.a.createElement("div",{className:"zorb-children"},t.map(function(e){return o.a.createElement(Zn,{audioPlayer:a,refs:f,setPlaying:i,playing:s,setRefs:d,remix:e})})))}),Xn=(n(1315),Object(s.b)(function(e,t){return{playerRef:e.spore.playerRef,playStatus:e.playback.playStatus}},function(e){return{}})(function(e){var t=e.show,n=e.setShow,a=e.playerRef,i=e.playStatus,s=Object(r.useState)([]),u=Object(c.a)(s,2),l=u[0],f=u[1],d=Object(r.useState)(),h=Object(c.a)(d,2),p=h[0],m=h[1],y=Ye(p,!0,!0),v=y.audioPlayer,g=y.loading,b=Object(r.useState)(),w=Object(c.a)(b,2),E=w[0],x=w[1];return Object(r.useEffect)(function(){if(E){var e=E.tokenURI.animation_url;m(e)}else m(void 0)},[E,v,l,m]),Object(r.useEffect)(function(){var e;t&&1===i&&(e=a.current,console.log("toggling playback"),e.contentWindow.postMessage({type:"toggle-play",body:!0},"*"))},[t,i,a]),Object(r.useEffect)(function(){zn().then(function(e){f(e)})},[]),t?[o.a.createElement(Vn,{audioPlayer:v,playing:E,setPlaying:x,hide:function(){v&&v.stopSound(),n(!1)},remixes:l}),o.a.createElement(Ln,{loading:g,playing:E,audioPlayer:v})]:o.a.createElement("div",{onClick:function(){return n(!0)},className:"remixes-button"},o.a.createElement("span",null,l.length," Remixes \ud80c\udf4a"))})),Qn=(n(1316),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.zorbStartPosition,n=t.image,a=t.x,i=t.y,s=Object(r.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1],d=function(e,t){e="--"+e,document.documentElement.style.setProperty(e,t)};return Object(r.useEffect)(function(){var e=window.innerWidth,t=window.innerHeight;d("zorb-start-x",a+-25+"px"),d("zorb-start-y",i+-25+"px"),d("zorb-mid-x",e/2-25+"px"),d("zorb-mid-y",e/2-25+"px"),d("zorb-end-x",e/2-25+"px"),d("zorb-end-y",t/2-25+"px"),f(!0),setTimeout(function(){f(!1)},1e3)},[t,a,i,f]),l?o.a.createElement("img",{style:{left:a,top:i},className:"zorb-animation animate-it",src:n}):""})),$n=function(){window.PLAYLIST_FLAG=!0,window.CHARTS_FLAG=!0,window.TOKEN_LOCK_FLAG=!0,window.LOCAL_BACKEND_FLAG=!0,window.CHILLRX_FLAG=!1,window.ABOUT_TO_END_FLAG=!1,window.TEST_REMIX_UPLOAD_FLAG=!1,window.OWN_FAKE_SPORE_FLAG="localhost"===window.location.hostname};function er(){er=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var tr=function(e){return console.log("writing screenshot=",e),new Promise(function(t){fetch(e).then(function(e){return e.blob()}).then(function(e){var n=new FormData;n.append("file",e);fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{pinata_api_key:"66a8464d59553776562c",pinata_secret_api_key:"96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109"},body:n}).then(function(){var e=Object(T.a)(er().mark(function e(n){var r;return er().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:r=e.sent,console.log("succesfully uploaded the screenshot"),t(r.IpfsHash);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})})},nr=function(e){var t=e.buffer,n=e.start,o=e.pts,a=e.silence,i=e.width,s=e.bpm,u=e.startStep,l=e.length,f=Object(r.useState)([]),d=Object(c.a)(f,2),h=d[0],p=d[1],m=Object(r.useState)(),y=Object(c.a)(m,2),v=y[0],g=y[1],b=Object(r.useState)(),w=Object(c.a)(b,2),E=w[0],x=w[1];return Object(r.useEffect)(function(){o.length;var e=t[0].length/44100,n=a/e*i*2,r=e/60*s/2,c=2*i/r,l=function(e){return 1/(8*e/60)}(s);0===u||(n+=2*i*((32-u%32+8)*l/e));for(var f=[],d=0;d<r;d++)f.push(c*d+n);p(f),g(n),x(c)},[t,n,a,i,s,u,l]),{beats:h,isInside:Object(r.useCallback)(function(e){return 100*(v+e*E)/(2*i)>=n&&100*(v+e*E)/(2*i)<=n+l},[v,E,i,n,l])}};function rr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return or(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return or(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function or(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){for(var t=e.width,n=e.buffer,r=e.startStep,a=e.bpm,i=void 0===a?90:a,c=n[0].length/44100/60,s=Math.floor(c*i),u=[],l=0;l<s;l++)u.push(l);var f=(r+=6)%32/32*t/u.length;return o.a.createElement("div",{style:{left:f+"px"},className:"step-ruler"},u.map(function(e){return o.a.createElement("div",{style:{width:t/u.length},className:"beat"})}))});var ar=n(567),ir=n.n(ar);function cr(){cr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var sr=function(){var e=Object(T.a)(cr().mark(function e(t,n,r){var o,a,i,c,s,u,l;return cr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=t[0].length,a=Math.ceil(n/100*t[0].length),i=Math.ceil(r/100*o),c=new Float32Array(i),s=new Float32Array(i),c.set(t[0].subarray(a,a+i)),s.set(t[1].subarray(a,a+i)),u=ur([c,s]),e.next=10,lr(u,!0);case 10:return l=e.sent,e.abrupt("return",l);case 12:case"end":return e.stop()}},e)}));return function(t,n,r){return e.apply(this,arguments)}}(),ur=function(e){for(var t=[],n=new ir.a.Mp3Encoder(e.length,44100,128),r=e[0],o=e[1],a=0;a<r.length;a+=1152){for(var i=r.subarray(a,a+1152),c=o?o.subarray(a,a+1152):void 0,s=0;s<i.length;s++)i[s]*=32767.5,c&&(c[s]*=32767.5);(u=c?n.encodeBuffer(i,c):n.encodeBuffer(i)).length>0&&t.push(u)}var u;return(u=n.flush()).length>0&&t.push(u),new Blob(t,{type:"audio/mp3"})},lr=function(e,t){return new Promise(function(n){var r=new FormData;t?r.append("file",e):r.append("file",new Blob([e]));fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{pinata_api_key:"66a8464d59553776562c",pinata_secret_api_key:"96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109"},body:r}).then(function(){var e=Object(T.a)(cr().mark(function e(t){var r;return cr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,n(r.IpfsHash);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())})},fr=Object(r.memo)(function(e){var t=e.width,n=e.silence,a=e.buffer,i=e.bpm,s=void 0===i?90:i,u=e.waveform,l=e.start,f=e.length,d=e.height,h=void 0===d?100:d,p=e.startStep,m=Object(r.useState)([]),y=Object(c.a)(m,2),v=y[0],g=y[1];Object(r.useEffect)(function(){for(var e=[],t=0;t<u.length;t+=4)e.push(u[t]*(.35*h)/100);g(e)},[u,g]);var b=l/100*v.length,w=nr({buffer:a,start:l,length:f,silence:n,pts:v,width:t,bpm:s,startStep:p}),E=w.beats,x=w.isInside;return o.a.createElement("svg",{width:2*t,height:h},v.map(function(e,n){return o.a.createElement("rect",{className:(n>=b&&n<=b+f/100*v.length?"sliced-region":"")+(n%2===0?" even ":" odd"),x:2*n/v.length*t,y:h/2-e/2,height:e,width:2})}),E.map(function(e,t){return o.a.createElement("rect",{x:e,y:t%2===0?h-(x(t)?30:15):h-(x(t)?20:10),height:(t%2===0?30:20)*(x(t)?1:.5),width:2,className:x(t)?"beat inside":"beat"})}))}),dr=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.caption,n=e.setCaption;return o.a.createElement("div",{className:"captioner"},o.a.createElement("input",{placeholder:"Describe your sound...",value:t,onChange:function(e){return n(e.target.value)}}))});n(1336);function hr(){hr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var pr=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.silence,n=e.screenshot,a=e.zorbId,i=e.waveform,s=e.buffer,u=e.onCancel,l=e.startStep,d=e.stemsData,h=Object(r.useRef)(),p=Object(ce.k)().data,m=Object(r.useState)(""),y=Object(c.a)(m,2),g=y[0],b=y[1],w=Object(r.useState)(),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)(!1),k=Object(c.a)(O,2),L=k[0],S=k[1],N=Object(r.useState)(!1),I=Object(c.a)(N,2),C=I[0],A=I[1],_=Object(r.useState)(),P=Object(c.a)(_,2),R=P[0],M=P[1],G=Object(r.useState)(),F=Object(c.a)(G,2),D=F[0],z=F[1],H=Object(r.useState)(),B=Object(c.a)(H,2),U=B[0],W=B[1];Object(r.useEffect)(function(){var e=f.isMobile?300:h.current.offsetWidth;M((e-60)/2)},[M]);var Y=function(e){var t=e.ref,n=e.bpm,o=void 0===n?90:n,a=e.width,i=e.buffer,s=e.startStep,u=e.silence,l=e.waveform,f=Object(r.useState)(0),d=Object(c.a)(f,2),h=d[0],p=d[1],m=Object(r.useState)(100),y=Object(c.a)(m,2),v=y[0],g=y[1],b=Object(r.useState)(),w=Object(c.a)(b,2),E=w[0],x=w[1],j=Object(r.useState)(),O=Object(c.a)(j,2),k=O[0],L=O[1],S=Object(r.useRef)(v),N=nr({buffer:i,start:h,silence:u,pts:l,width:a,bpm:o,startStep:s}).beats;Object(r.useEffect)(function(){S.current=v},[v]);var T=Object(r.useCallback)(function(e){var t=i[0].length/44100,n=e/100*t,r=function(e){return 1/(8*e/60)}(o),a=n/r,c=16-a%16;return c>8&&(c=-a%16),e+r*c*100/t},[i]),I=Object(r.useCallback)(function(e){var t,n=1e5,r=-1,o=rr(N.map(function(e){return e/(2*a)*100}));try{for(o.s();!(t=o.n()).done;){var i=t.value,c=Math.abs(i-e);c<n&&(r=i,n=c)}}catch(s){o.e(s)}finally{o.f()}return r},[s,i,u,o,N]),C=Object(r.useCallback)(function(e){if(void 0!==E||void 0!==k){e.touches&&(e=e.touches[0]);var n=t.current.getBoundingClientRect(),r=e.pageX-n.left;if(void 0!==E){var o=100*(r-E.x)/(2*a),i=E.start+o;i=Math.max(0,Math.min(100,i)),p(i),g(Math.min(100-i,E.length-o))}else{var c=100*(r-k.x)/(2*a),s=k.length+c;g(Math.min(100-h,Math.max(0,s)))}}},[E,a,k,h,v,g,p,[s,i,u,o]]),A=Object(r.useCallback)(function(e){e.touches&&(e=e.touches[0]);var n=t.current.getBoundingClientRect(),r=e.clientX-n.left;x({x:r,start:h,length:v})},[x,h,v]),_=Object(r.useCallback)(function(e){e.touches&&(e=e.touches[0]);var n=t.current.getBoundingClientRect(),r=e.clientX-n.left;L({x:r,length:v})},[L,v]),P=Object(r.useCallback)(function(){if(E||k){var e=I(h);p(e);var t=T(S.current);g(Math.min(100-e,t))}x(void 0),L(void 0)},[E,k,h,g,v,p,L,x,i]);return Object(r.useEffect)(function(){return window.addEventListener("mousemove",C),window.addEventListener("touchmove",C),window.addEventListener("mouseup",P),window.addEventListener("touchend",P),function(){window.removeEventListener("mousemove",C),window.removeEventListener("touchmove",C),window.removeEventListener("touchend",P),window.removeEventListener("mouseup",P)}},[E,a,k,h,v,g,p,x,L,E,i,o,s,u]),{dragEndControl:_,dragStartControl:A,start:h,length:v}}({ref:h,width:R,buffer:s,startStep:l,silence:t,waveform:i}),J=Y.start,q=Y.length,K=Y.dragEndControl,Z=Y.dragStartControl,V=function(e){var t=e.buffer,n=e.start,o=e.length,a=Object(r.useRef)(n),i=Object(r.useRef)(o),s=Object(r.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1],d=Object(r.useState)(new Ae(Ce.a.Master.context)),h=Object(c.a)(d,2),p=h[0],m=(h[1],Object(r.useState)(0)),y=Object(c.a)(m,2),v=y[0],g=y[1];Ke(Object(r.useCallback)(function(){if(l){var e=3/p.duration;v+e>a.current+i.current?(f(!1),g(a.current)):g(v+e)}},[l,g,v,p]),30),Object(r.useEffect)(function(){a.current=n,i.current=o,g(n),f(!1),p.stopSound()},[n,o,g,f]),Object(r.useEffect)(function(){if(t){var e=new AudioBuffer({length:t[0].length,sampleRate:44100,numberOfChannels:t.length});e.copyToChannel(t[0],0),t[1]&&e.copyToChannel(t[1],1),console.log("setting buffer for player=",p,e,t),p.setBuffer(e)}},[t]);var b=Object(r.useCallback)(function(){p.playSound(a.current/100*p.duration,i.current/100*p.duration),g(a.current)},[g]);return{play:Object(r.useCallback)(function(){l?p.stopSound():b(),f(!l)},[l,g,f,n,o]),isPlaying:l,playhead:v,stop:function(){return p.stopSound()}}}({buffer:s,start:J,length:q}),X=V.playhead,Q=V.stop,$=V.play,ee=V.isPlaying,te=Object(r.useCallback)(Object(T.a)(hr().mark(function e(){var t,r,o,i;return hr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return Q(),S(!0),e.next=5,sr(s,J,q);case 5:return t=e.sent,e.next=8,tr(n);case 8:return r=e.sent,console.log("IMAGE URI=",r,n),z(t),S(!1),console.log("stems data",d),e.next=15,Rn(p,t,r,g,a,d);case 15:return o=e.sent,i=o.hash,console.log("transaction=",i),W(i),e.next=21,o.wait(1);case 21:j(!1);case 22:case"end":return e.stop()}},e)})),[d,n,g,p,J,j,S,q,z]);return o.a.createElement("div",{className:"slicer-backdrop"},L?o.a.createElement("div",{className:"download-test"},o.a.createElement(ft,null)):D?x?o.a.createElement("div",{className:"waiting download-test"},"Open your connected wallet and sign the message to transmit the remix on-chain.",o.a.createElement("div",{className:"test-net"},"This is on a test-network, as we develop this."),o.a.createElement(ft,null)):o.a.createElement("div",{className:"download-test"},"Download your remix ",o.a.createElement("a",{target:"_blank",href:"https://zequencer.mypinata.cloud/ipfs/"+D},"here"),". We're still working on some things :)",o.a.createElement("br",null),o.a.createElement("a",{href:"https://ropsten.etherscan.io/tx/"+U},"Etherscan \u2197")):o.a.createElement("div",{className:"slice-waveform"},o.a.createElement("div",{className:"control-btn-container"},o.a.createElement(v,{isPlaying:ee,play:$})),o.a.createElement("div",{ref:h,className:"waveform-container"},C?o.a.createElement(dr,{setCaption:b,caption:g}):R&&o.a.createElement(fr,{silence:t,height:f.isMobile?90:100,buffer:s,startStep:l,start:J,length:q,waveform:i,width:R}),!C&&o.a.createElement("div",{style:{left:30+X/100*R*2+"px"},className:"playhead"}),!C&&o.a.createElement("div",{style:{left:J/100*(2*R)+"px",width:60+q/100*(2*R)+"px"},className:"slicer"},o.a.createElement("div",{onMouseDown:Z,onTouchStart:Z,className:"start-control"},o.a.createElement("div",{className:"start-info"},Math.round(100*J/100*s[0].length/44100)/100," sec ",o.a.createElement("span",{className:"label"},"start")),o.a.createElement("div",{className:"arrow-left"})),o.a.createElement("div",{onTouchStart:K,onMouseDown:K,className:"end-control"},o.a.createElement("div",{className:"arrow-right"})))),o.a.createElement("div",{className:"slice-guide-info"},"Slice your remix to mint your favorite moment, for free (just gas).")),L?"":D?o.a.createElement("div",{className:"slice-toolbar"},o.a.createElement("div",{onClick:u,className:"done-btn pushable continue"},"Continue")):o.a.createElement("div",{className:C?"slice-toolbar captioning":"slice-toolbar"},o.a.createElement("div",{onClick:C?function(){return A(!1)}:u,className:"cancel-btn pushable"},C?"Edit":"Cancel"),o.a.createElement("div",{onClick:function(){C?te():A(!0)},className:"done-btn pushable"},C?"Mint":"Next")))});function mr(){mr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}function yr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return vr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return vr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function vr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var gr=function(){var e=Object(T.a)(mr().mark(function e(t){var n,r,o,a,i,c,s,u,l,f,d,p,m;return mr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=Array.from(new Set([].concat(Object(R.a)(t.synths.map(function(e){return"ipfs://"+e[1]})),Object(R.a)(t.drums.map(function(e){return"ipfs://"+e[1]}))))),console.log("ipfs hashes=",n),r=new ne("0x612Aad7cd34b04e282DEC25721A888f8886dB710").from(Y).select("stemId").whereIn("uri",n),e.next=5,r.executeQuery();case 5:o=e.sent,a={},i=yr(o);try{for(i.s();!(c=i.n()).done;)s=c.value,a[s.uri.slice("ipfs://".length)]=s.stemId}catch(y){i.e(y)}finally{i.f()}return u=br(a,t.synths),l=br(a,t.drums),console.log("synth percentages = ",u),console.log("drum percentages = ",l),delete(f=Object(h.a)({},u,l))[void 0],console.log("total percentages=",f),console.log("percentage keys=",Object.keys(f)),d=Object.keys(f).map(function(e){return parseInt(e)}),p=Object.values(f).map(Math.round),m={stemIds:d,percentages:p},console.log("data returned=",m),e.abrupt("return",m);case 22:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),br=function(e,t){var n,r=t[t.length-1][2],o=void 0,a={},i=void 0,s=yr(t.slice(1));try{for(s.s();!(n=s.n()).done;){var u=n.value,l=Object(c.a)(u,3),f=(l[0],l[1]),d=l[2],h=e[i];i=f;var p=d-(o||0);o=d,a[h]||(a[h]=0),a[h]+=p}}catch(v){s.e(v)}finally{s.f()}var m={};for(var y in a)void 0!==y&&(m[y]=100*a[y]/r);return m},wr=(n(1337),Object(s.b)(function(e,t){return{playerRef:e.spore.playerRef}},function(e){return{}})(function(e){var t=e.playerRef,n=e.zorbId,a=e.setIsSlicing,i=Object(r.useState)(),s=Object(c.a)(i,2),u=s[0],l=s[1],f=Object(r.useState)(),d=Object(c.a)(f,2),p=d[0],m=d[1],y=Object(r.useState)(),v=Object(c.a)(y,2),g=v[0],b=v[1],w=Object(r.useState)(),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)(),k=Object(c.a)(O,2),L=k[0],S=k[1],N=Object(r.useRef)({}),T=Object(r.useState)(),I=Object(c.a)(T,2),C=I[0],A=I[1],_=Object(r.useState)(),P=Object(c.a)(_,2),R=P[0],M=P[1];Object(r.useEffect)(function(){console.log("pre loops data=",C),C&&C.drums&&C.synths&&(console.log("loops data=",C),gr(C).then(M))},[C]),Object(r.useEffect)(function(){p&&a(!0)},[p,a]);var G=Object(r.useCallback)(function(){t.current.contentWindow.postMessage({type:"slice-audio",body:""},"*")},[t]);Object(r.useEffect)(function(){return window.addEventListener("message",F),function(){return window.removeEventListener("message",F)}},[C,b,m,l,A]);var F=Object(r.useCallback)(function(e){if("drum-loops-data"===e.data.type){console.log("drums found=",e.data.body);var t=Object(h.a)({},N.current,{drums:e.data.body});N.current=t,A(t)}else if("synth-loops-data"===e.data.type){console.log("synth found=",e.data.body);var n=Object(h.a)({},N.current,{synths:e.data.body});N.current=n,A(n)}"zpore-screenshot"===e.data.type&&l(e.data.body),"slice-audio-buffer"===e.data.type&&m(e.data.body),"slice-silence"===e.data.type&&j(e.data.body),"slice-start-step"===e.data.type&&S(e.data.body),"slice-audio-waveform"===e.data.type&&b(e.data.body)},[C,b,l,m,S,A]);return[o.a.createElement("div",{onClick:G,className:"pushable slice-recorder"}),g?o.a.createElement(pr,{zorbId:n,screenshot:u,silence:x,startStep:L,stemsData:R,onCancel:function(){m(void 0),b(void 0),a(!1)},buffer:p,waveform:g}):""]})),Er=(Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.containerRef,n=e.setZorbId,a=e.zorbId,i=e.zorb,c=e.setZorbStartPosition,s=Object(r.useRef)(),u=a===parseInt(i.tokenId);return Object(r.useEffect)(function(){},[]),Object(r.useEffect)(function(){if(u){var e=s.current.getBoundingClientRect();c({x:e.left,y:e.top,image:i.image.url})}},[u,c]),o.a.createElement("div",{ref:s,onMouseDown:function(e){t.current.style.pointerEvents="none",n(parseInt(i.tokenId))},className:"pushable zorb-option "+(u?"selected":" unselected")},o.a.createElement("img",{src:i.image.url,className:u?"selected":" unselected"}))}),[{__typename:"Token",tokenId:"17055",tokenContract:{name:"Zorbs",network:"ETHEREUM",description:null,collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",symbol:"ZORB",chain:1},mintInfo:{price:{__typename:"PriceAtTime",blockNumber:13919463,chainTokenPrice:{decimal:0,raw:"0"},nativePrice:{decimal:0,raw:"0",currency:{address:"0x0000000000000000000000000000000000000000",decimals:18,name:"ETH"}},usdcPrice:{decimal:0,raw:"0"}},originatorAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",toAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",mintContext:{__typename:"TransactionInfo",blockNumber:13919463,blockTimestamp:"2022-01-01T12:08:21+00:00",transactionHash:"0x01a4eb3a113f9969dd38e920381ab03ddedbe0b7ac479fc68937322b0495504e",logIndex:183}},collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",lastRefreshTime:"2022-04-26T12:54:14.178000+00:00",owner:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",name:"Zorb #17055",description:"Zorbs were distributed for free by ZORA on New Year\u2019s 2022. Each NFT imbues the properties of its wallet holder, and when sent to someone else, will transform.\n\nView this NFT at [zorb.dev/nft/17055](https://zorb.dev/nft/17055)",image:{size:"855",url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgyMiwgNzMlLCA4NiUpIiAvPjxzdG9wIG9mZnNldD0iMzkuNTglIiBzdG9wLWNvbG9yPSJoc2woMjIsIDgxJSwgNzglKSIgLz48c3RvcCBvZmZzZXQ9IjcyLjkyJSIgc3RvcC1jb2xvcj0iaHNsKDY3LCA5MSUsIDYzJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCg3MSwgOTYlLCA1MSUpIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iaHNsKDcxLCA5NiUsIDUwJSkiIC8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw1KSI+PHBhdGggZD0iTTEwMCA1MEMxMDAgMjIuMzg1OCA3Ny42MTQyIDAgNTAgMEMyMi4zODU4IDAgMCAyMi4zODU4IDAgNTBDMCA3Ny42MTQyIDIyLjM4NTggMTAwIDUwIDEwMEM3Ny42MTQyIDEwMCAxMDAgNzcuNjE0MiAxMDAgNTBaIiBmaWxsPSJ1cmwoI2d6cikiIC8+PHBhdGggc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDc1KSIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTUwLDAuNWMyNy4zLDAsNDkuNSwyMi4yLDQ5LjUsNDkuNVM3Ny4zLDk5LjUsNTAsOTkuNVMwLjUsNzcuMywwLjUsNTBTMjIuNywwLjUsNTAsMC41eiIgLz48L2c+PC9zdmc+",mimeType:"image/svg+xml",mediaEncoding:{__typename:"ImageEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/original",large:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/large",poster:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/poster",thumbnail:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/thumbnail"}},content:{size:null,url:null,mimeType:null,mediaEncoding:{__typename:"UnsupportedEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/content/original"}}},{__typename:"Token",tokenId:"22640",tokenContract:{name:"Zorbs",network:"ETHEREUM",description:null,collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",symbol:"ZORB",chain:1},mintInfo:{price:{__typename:"PriceAtTime",blockNumber:13920555,chainTokenPrice:{decimal:0,raw:"0"},nativePrice:{decimal:0,raw:"0",currency:{address:"0x0000000000000000000000000000000000000000",decimals:18,name:"ETH"}},usdcPrice:{decimal:0,raw:"0"}},originatorAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",toAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",mintContext:{__typename:"TransactionInfo",blockNumber:13920555,blockTimestamp:"2022-01-01T16:14:17+00:00",transactionHash:"0x1a368286d5bdb34a123cef5f7990fbcfa0a8c8e15fa635139f45bb57bbab951e",logIndex:134}},collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",lastRefreshTime:"2022-05-05T04:13:48.488000+00:00",owner:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",name:"Zorb #22640",description:"Zorbs were distributed for free by ZORA on New Year\u2019s 2022. Each NFT imbues the properties of its wallet holder, and when sent to someone else, will transform.\n\nView this NFT at [zorb.dev/nft/22640](https://zorb.dev/nft/22640)",image:{size:"855",url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgyMiwgNzMlLCA4NiUpIiAvPjxzdG9wIG9mZnNldD0iMzkuNTglIiBzdG9wLWNvbG9yPSJoc2woMjIsIDgxJSwgNzglKSIgLz48c3RvcCBvZmZzZXQ9IjcyLjkyJSIgc3RvcC1jb2xvcj0iaHNsKDY3LCA5MSUsIDYzJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCg3MSwgOTYlLCA1MSUpIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iaHNsKDcxLCA5NiUsIDUwJSkiIC8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw1KSI+PHBhdGggZD0iTTEwMCA1MEMxMDAgMjIuMzg1OCA3Ny42MTQyIDAgNTAgMEMyMi4zODU4IDAgMCAyMi4zODU4IDAgNTBDMCA3Ny42MTQyIDIyLjM4NTggMTAwIDUwIDEwMEM3Ny42MTQyIDEwMCAxMDAgNzcuNjE0MiAxMDAgNTBaIiBmaWxsPSJ1cmwoI2d6cikiIC8+PHBhdGggc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDc1KSIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTUwLDAuNWMyNy4zLDAsNDkuNSwyMi4yLDQ5LjUsNDkuNVM3Ny4zLDk5LjUsNTAsOTkuNVMwLjUsNzcuMywwLjUsNTBTMjIuNywwLjUsNTAsMC41eiIgLz48L2c+PC9zdmc+",mimeType:"image/svg+xml",mediaEncoding:{__typename:"ImageEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/original",large:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/large",poster:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/poster",thumbnail:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/thumbnail"}},content:{size:null,url:null,mimeType:null,mediaEncoding:{__typename:"UnsupportedEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/content/original"}}}]),xr=n(268),jr={endPoint:"https://api.zora.co/graphql",networks:[{network:xr.ZDKNetwork.Ethereum,chain:xr.ZDKChain.Mainnet}]},Or=new xr.ZDK(jr);n(1347);function kr(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return Lr(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Lr(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function Lr(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Sr=Object(s.b)(function(e,t){return{playerRef:e.spore.playerRef}},function(e){return{}})(function(e){var t=e.account,n=e.setZorbId,a=e.zorbId,i=(e.setZorbStartPosition,e.playerRef),s=Object(r.useRef)(),u=function(e){var t=e.account,n=Object(r.useState)(!0),o=Object(c.a)(n,2),a=o[0],i=o[1],s=Object(r.useState)([]),u=Object(c.a)(s,2),l=u[0],f=u[1];return Object(r.useEffect)(function(){t&&t.address&&(i(!0),Or.tokens({where:{collectionAddresses:["0xCa21d4228cDCc68D4e23807E5e370C07577Dd152"],ownerAddresses:[t.address]}}).then(function(e){var t=e.tokens.nodes.map(function(e){return e.token});console.log(t),0===t.length&&(t=Er),f(t)}))},[t,i,f]),{zorbs:l,isLoading:a}}({account:t}).zorbs,l=Object(r.useState)(),f=Object(c.a)(l,2),d=f[0],h=f[1];Object(r.useEffect)(function(){window.addEventListener("message",p)},[h]),Object(r.useEffect)(function(){if(a&&d&&i){var e=u.find(function(e){return e.tokenId}).image.url;console.log("sending image=",e),i.current.contentWindow.postMessage({type:"zorb-id",body:e},"*")}},[a,d,u,i]);var p=Object(r.useCallback)(function(e){"bpm-updated"===e.data.type?h(!0):"lootbox-item-selected"===e.data.type&&(console.log("chose zorb",e.data.body),n(parseInt(e.data.body)))},[h]);Object(r.useEffect)(function(){if(console.log("PLAYER REF=",i),d&&u&&i&&i.current){console.log(u);var e,t={},n=kr(u);try{for(n.s();!(e=n.n()).done;){var r=e.value;t[r.tokenId]=r.image.url}}catch(o){n.e(o)}finally{n.f()}console.log("sending lootbox=",t),i.current.contentWindow.postMessage({type:"lootbox",body:t},"*")}},[u,i,d]),Object(r.useEffect)(function(){u[0]},[u]);var m=Object(r.useState)(!1),y=Object(c.a)(m,2),v=y[0],g=y[1];return Object(r.useEffect)(function(){void 0!==a&&setTimeout(function(){g(!0)},1e3)},[a]),v?"":o.a.createElement("div",{ref:s,onClick:function(){return console.log("zs clicked")},className:"zs-container"},o.a.createElement("div",{onClick:function(){return console.log("zorb selector clicked")},className:"zorb-selector"},!a&&o.a.createElement("p",null,"insert a zorb to power the spore and remix sound in its own way"),0===u.length&&t?o.a.createElement("div",{className:"no-zorbs"},"No zorbs detected. "):0===u.length&&o.a.createElement("div",{className:"connect-button-wrapper zorb-connect"},o.a.createElement(pe.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"}))))}),Nr=(n(1348),"https://main.djdhx85izle40.amplifyapp.com/?gallery=true"),Tr=Object(s.b)(function(e,t){return{playerRef:e.spore.playerRef}},function(e){return{setPlayStatus:function(t){return e({type:513,payload:t})}}})(function(e){$n(),function(e){var t=e.setPlayStatus;Object(r.useEffect)(function(){return window.addEventListener("message",n),function(){return window.removeEventListener("message",n)}},[]);var n=Object(r.useCallback)(function(e){"jacker-status"===e.data.type&&t(e.data.body)},[])}(e);var t=Object(r.useState)(!1),n=Object(c.a)(t,2),a=n[0],i=n[1],s=Object(r.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1],d=Object(r.useState)(!1),h=Object(c.a)(d,2),p=h[0],m=h[1],y=Object(r.useState)(!1),v=Object(c.a)(y,2),g=v[0],b=v[1],w=Object(r.useState)(!1),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)(),k=Object(c.a)(O,2),L=k[0],S=k[1],N=Object(r.useState)(),T=Object(c.a)(N,2),I=T[0],C=T[1],A=Object(r.useState)(void 0),_=Object(c.a)(A,2),P=_[0],R=_[1],M=Object(ce.c)(),G=M.data,F=(M.isError,M.isLoading,Object(r.useState)(!1)),D=Object(c.a)(F,2),z=D[0],H=D[1],B=Object(r.useRef)(0);Object(r.useEffect)(function(){window.addEventListener("click",function(){return B.current++})},[]),Object(r.useEffect)(function(){G&&l&&B.current>0&&b(!0)},[G,b,l]),Object(r.useEffect)(function(){window.addEventListener("message",U)},[]);var U=Object(r.useCallback)(function(e){"jacker-status"===e.data.type&&H(!0)},[]);Object(r.useEffect)(function(){void 0!==L&&setTimeout(function(){C(L)},1e3)},[L,C]),Object(r.useEffect)(function(){g&&setTimeout(function(){j(!0)},1e3)},[g,j]);var W="next-gen zpore";return G&&(W+=" connected"),p&&(W+=" is-slicing"),a&&(W+=" showing-remixes"),o.a.createElement("div",{onClick:function(){return console.log("root clicked")},className:W},L&&o.a.createElement(Xn,{show:a,setShow:i}),z&&o.a.createElement(wr,{setIsSlicing:m,zorbId:L}),o.a.createElement(Sr,{account:G,setZorbId:S,zorbId:L,setZorbStartPosition:R}),g&&P&&o.a.createElement(Qn,{setZorbStartPosition:R,zorbStartPosition:P}),!x&&o.a.createElement("div",{className:g?"enter-overlay hide":"enter-overlay"},o.a.createElement("div",{className:"inner-overlay"},o.a.createElement("img",{className:"",src:"/spore-logo-future4.png"}),!l&&o.a.createElement(gn,{setFinished:f}),l?o.a.createElement("div",{className:"click-text"},G?o.a.createElement("button",{className:"enter-btn",onClick:function(){return b(!0)}},o.a.createElement("div",null,"welcome back, ",o.a.createElement(Lt,{address:G.address}))):o.a.createElement(pe.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect to Enter"})):o.a.createElement("div",{className:"click-text"},o.a.createElement("div",null,"zorb + spore = zpores"),o.a.createElement("div",null,"load your zorb into the spore for unique remixing powers")))),o.a.createElement(dn,{zorbId:I,hideWaveform:!0,color:"black",url:void 0!==e.songId?Nr+"&songId="+e.songId:Nr,collectionAddress:void 0,isFullScreen:!0,simpleControls:!0,tokenId:1,className:"thugger",artist:"Keyon Christ",isSimple:!0,songTitle:e.songTitle||"Psilocybin"}))}),Ir=(n(1349),Object(s.b)(function(e,t){return{secondsRemaining:e.spore.secondsRemaining}},function(e){return{}})(function(e){var t=e.secondsRemaining,n=e.color;if((t=Math.floor(t))>20||isNaN(t))return"";t<10&&(t="0"+t);var r=t%2===1?"time-remaining fade":"time-remaining";return o.a.createElement("div",{className:r,style:{color:n}},"0:",t)}),n(354)),Cr=n(179),Ar=n.n(Cr),_r=["Chill Song 1","Chill Song 2","Chill Song 3","Chill Song 4","Chill Song 5","Chill Song 6","Chill Song 7","Chill Song 8","Chill Song 9","Chill Song 10"],Pr={1:[1,2,3],2:[4,5,6],3:[7,8,9],4:[10,11,12],5:[13,14,15],6:[16,17,18],7:[19,20,21],8:[22,23,24],9:[25,26,27],10:[28,29,30]},Rr=function(){for(var e=[],t=1;t<=_r.length;t++)e.push({songName:_r[t-1],name:_r[t-1],collectionAddress:se,coverArt:"/crx-"+t+".png",tokenId:1e3,songId:t,tokenIds:Pr[t]});return e},Mr={mintsongs:"mintsongs",zora:"zora-prod","sound.xyz":"soundxyz",zequencer:"zequencer",catalog:"catalog"},Gr=function(e){if(e.startsWith("ipfs://"))return e.slice("ipfs://".length);var t=e.indexOf("/ipfs/");return e.slice("/ipfs/".length+t)},Fr=function(e,t){if(!e)return console.log("NO EXTERNAL LINK FOUND FOR THIS LINK!"),"https://zora-prod.mypinata.cloud/ipfs/"+t;for(var n in Mr)if(e.includes(n))return"https://"+Mr[n]+".mypinata.cloud/ipfs/"+t;return"https://zora-prod.mypinata.cloud/ipfs/"+t};function Dr(){Dr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var zr=function(){var e=Object(T.a)(Dr().mark(function e(t){var n,r;return Dr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("saving json=",t),e.next=3,Te.a.addJson(t);case 3:n=e.sent,r="localhost"===window.location.hostname?"http://localhost:9090/saveJack/":"https://zequencer.io/saveJack/",window.LOCAL_BACKEND_FLAG||(r="https://zequencer.io/saveJack/"),fetch(r,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:n,title:t.name,jack:t})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Hr={},Br=function(e){var t=e.link,n=e.textColor,r="";return t.includes("zora")?r="zora":t.includes("catalog.works")?r="catalog.works":t.includes("mintsongs")?r="mintsongs":t.includes("sound.xyz")?r="sound.xyz":t.includes("opensea")&&(r="OpenSea"),o.a.createElement("div",{style:{color:n},className:"source"},r)},Ur=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.item,n=Object(r.useState)(),a=Object(c.a)(n,2),i=a[0],s=a[1];return Object(r.useEffect)(function(){Hr[t.data]&&s(Hr[t.data]),Te.a.getJson(t.data).then(function(e){Hr[t.data]=e,s(e)})},[t]),i?o.a.createElement("div",{className:"history-item-source"},!t.title.includes(i.artist)&&i.artist,i.link&&o.a.createElement(Br,{link:i.link})):""});function Wr(e){for(var t,n,r=e.length;0!==r;)n=Math.floor(Math.random()*r),t=e[r-=1],e[r]=e[n],e[n]=t;return e}n(1350);function Yr(){Yr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Jr=void 0,qr=function(){var e=Object(T.a)(Yr().mark(function e(){var t,n,r,o,a,i;return Yr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Jr,e.t0){e.next=5;break}return e.next=4,he();case 4:e.t0=e.sent;case 5:return t=e.t0,Jr=t,Wr(n=t.filter(function(e){return e.askPrice})),r=Object(c.a)(n,3),o=r[0],a=r[1],i=r[2],o=o?o.tokenId:12,a=a?a.tokenId:14,i=i?i.tokenId:18,e.abrupt("return",[{bpm:90,title:"Keyon Christ - Psilocybin",isSporeTrack:!0,metadata:{tokenId:o,artist:"Keyon Christ",name:"Psilocybin",url:"https://zequencer.mypinata.cloud/ipfs/QmeuwQQnjdqd51Uo1xkXLawYwYfXSq7T8h2mEWuJx7wHdx",link:"/sp/"+o,image:"/sp-thumbnail-"+o+".png"}},{bpm:106,title:"Keyon Christ - Twisting Faith",isSporeTrack:!0,metadata:{tokenId:a,link:"/sp/"+a,artist:"Keyon Christ",name:"Twisting Faith",url:"https://zequencer.mypinata.cloud/ipfs/QmU6rmmjWWXCZd3NHjeu6pUVjBDZiMXuRx6EVtEocqz9dJ",image:"/sp-thumbnail-"+a+".png"}},{bpm:85,title:"Keyon Christ - Ying Yang Twins",isSporeTrack:!0,metadata:{tokenId:i,link:"/sp/"+i,image:"/sp-thumbnail-"+i+".png",artist:"Keyon Christ",name:"Ying Yang Twins",url:"https://zequencer.mypinata.cloud/ipfs/QmcD2Ece62eiv5FWegEyNquWN8WZzC3ZT81Wxhw6GRk4YY"}}]);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Kr=function(e){var t=f.isMobile?24:35;return e.length<t?e:e.slice(0,t)+"..."};Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.currentSong,n=e.setCurrentSong,a=e.latestJacks,i=e.loadHistory,s=e.link,u=Object(r.useState)(void 0),l=Object(c.a)(u,2),d=l[0],h=l[1];Object(r.useEffect)(function(){qr().then(function(e){return h(e)})},[]);var p=Object(r.useCallback)(function(e){n(e),e.metadata?i(e.metadata):Te.a.getJson(e.data).then(function(e){return i(e)})},[i,n]);if(!d)return"";var m=[].concat(Object(R.a)(d),Object(R.a)(a));return""!==s&&(m=m.filter(function(e){return e.title&&e.title.toLowerCase().includes(s.toLowerCase())})),o.a.createElement("div",{className:"jack-history"},o.a.createElement("img",{className:"globe",src:"/globe.svg"}),o.a.createElement("div",{className:"items"},m.filter(function(e){return e.title&&""!==e.title.trim()}).map(function(e){return o.a.createElement("div",{onClick:function(){return p(e)},className:(e.isSporeTrack?"history-item spore-track":"history-item")+(t===e?" current":"")},e.isSporeTrack?e.title:Kr(e.title),e.isSporeTrack&&o.a.createElement("div",{className:"source"},f.isMobile?"by Spores":"Released by Spores"),e.isSporeTrack?f.isMobile?"":o.a.createElement("img",{src:"/spores-icon-glow2.svg"}):o.a.createElement(Ur,{item:e}))})))});function Zr(){Zr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var Vr=function(e){var t=e.playlistLoaded,n=e.remixToPlay,o=e.setLatestJacks,a=e.setShowHistory,i=e.setLink,s=e.setShowLinkInput,u=e.link,l=e.latestJacks,f=e.chillTokenId,d=e.defaultSearch,p=e.directCollectionAddress,m=e.directTokenId,y=e.updateURL,v=void 0===y||y,g=Object(r.useState)(),b=Object(c.a)(g,2),w=b[0],E=b[1],x=Object(r.useState)(),j=Object(c.a)(x,2),O=j[0],k=j[1],L=Object(r.useState)(!0),S=Object(c.a)(L,2),N=(S[0],S[1]),I=Object(r.useState)(),C=Object(c.a)(I,2),A=C[0],_=C[1],P=Object(r.useState)(),R=Object(c.a)(P,2),M=R[0],G=R[1],F=Object(r.useState)(),D=Object(c.a)(F,2),z=D[0],H=D[1],B=Object(r.useState)(),U=Object(c.a)(B,2),W=U[0],Y=U[1],J=Object(r.useState)(),q=Object(c.a)(J,2),K=q[0],Z=q[1],V=Object(r.useState)(),X=Object(c.a)(V,2),Q=X[0],$=X[1],ee=Object(r.useState)(),te=Object(c.a)(ee,2),ne=te[0],re=te[1],oe=ot(),ae=Object(r.useState)(),ie=Object(c.a)(ae,2),ce=ie[0],ue=ie[1],le=Object(r.useState)(),fe=Object(c.a)(le,2),de=fe[0],he=fe[1],pe=Object(r.useState)(),me=Object(c.a)(pe,2),ye=me[0],ve=me[1],ge=Object(r.useState)(),be=Object(c.a)(ge,2),we=be[0],Ee=be[1],xe=Object(r.useState)(d),je=Object(c.a)(xe,2),Oe=je[0],ke=je[1];Object(r.useEffect)(function(){v&&(n?window.history.pushState("page2","Title","/play/"+A+"/"+W+"/"+n.sporeId):A?window.history.pushState("page2","Title","/play/"+A+"/"+W):window.history.pushState("page2","Title","/"))},[n,A,W,v]),Object(r.useEffect)(function(){p&&Qe("https://zora.co/collections/"+p+"/"+m,oe).then(function(e){Te(e)})},[]),Object(r.useEffect)(function(){if(void 0!==f){var e=function(e){console.log(Rr);var t=Rr().find(function(t){return t.tokenIds.includes(parseInt(e))});return console.log("song we found"),t=Object(h.a)({},t,{tokenId:e})}(f);Te(e)}},[]),Object(r.useEffect)(function(){qr()},[]);var Le=Object(r.useCallback)(function(){i(""),_(void 0),ue(!1),Z(void 0),he(void 0),Y(void 0),$(void 0),re(void 0),G(void 0),s(!0),k(void 0)},[k,s,ue,K,i,Y,he,$,_,re,G]),Se=Object(r.useCallback)(function(){var e=Object(T.a)(Zr().mark(function e(t){var n;return Zr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==u){e.next=2;break}return e.abrupt("return");case 2:if(u.startsWith("http")){e.next=5;break}return ke(u),e.abrupt("return");case 5:return ue(!0),t&&s(!1),N(!1),e.next=10,Qe(u,oe);case 10:if(n=e.sent){e.next=15;break}return Le(),ve("The token you've linked has a strange format. Echo rejects it, respectfully..."),e.abrupt("return");case 15:n.link=u,Te(n,!0);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[u,ke,l,$,a,_,t,G,he,Y,ue,ve,s,k,E]),Ne=Object(r.useCallback)(function(e){he("Chill RX"),Y(e.tokenId),k(e.songId),_(e.collectionAddress),$(e.name),Z(e.coverArt),re(e.description),G("BLANK")},[k,Z,he,he,Z,_]),Te=Object(r.useCallback)(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0;if(a(!1),ue(!0),n||s(!1),N(!1),e.collectionAddress!==se){var r=e,o=r.url,i=r.ipfs;if(console.log("LOAD JACK CALLED ret=",e),e.external_url||(e.external_url=e.link),!e.link&&e.external_url&&(e.link=e.external_url),!o)return Le(),void ve("The token you've linked might not contain a music NFT.");ve(void 0);var c={};if(o.startsWith("ipfs://")&&(i=o.slice(7)),i&&!o){var u=Fr(e.external_url,i);G(i),c.ipfs=i,c.url=u,console.log("URL we extracted=",u)}else{var l=Gr(o);console.log("EXTRACTED IPFS=",l),o=Fr(e.external_url,l),console.log("setting jacked audio=",o),G(o),c.url=o}console.log("URL WE EXTRACTED = ",o),e.body&&(e=Object(h.a)({},e,e.body,{name:e.body.title})).body.artwork&&e.body.artwork.info&&(e=Object(h.a)({},e,{image:e.body.artwork.info.uri}));var f,d=(f=e).artist_name||f.artist||f.attributes&&f.attributes.artist||f.created_by||void 0;c.artist=d,he(d),console.log("TOKEN ID =",e.tokenId),Y(e.tokenId),k(e.songId),_(e.collectionAddress),$(e.name),c.song=e.name,re(e.description);e.image;if(e.image){var p=Fr(e.link,Gr(e.image));Z(p)}else Z("/zora-placeholder.png");c=Object(h.a)({},e,c),e.link?E(e.link):E(void 0),t&&"Keyon Christ"!==d&&zr(c)}else Ne(e)},[E,u,o,Y,l,$,G,he,ue,ve,s,a,k]);return{clear:Le,onJack:Se,loadJack:Te,artist:de,description:ne,showPlayer:ce,setShowPlayer:ue,tokenId:W,buyThisSkin:z,coverArt:K,songName:Q,error:ye,currentSong:we,jackedAudio:M,setBuyThisSkin:H,currentLink:w,setCurrentSong:Ee,collectionAddress:A,songId:O,searchTerm:Oe,setSearchTerm:ke,setArtist:he}};function Xr(){Xr=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}n(1351);var Qr=function(e){var t=e.showLinkInput,n=e.setSearchTerm,r=e.setShowHistory,a=e.onJack,i=(e.loadJack,e.link),c=e.setShowInfo,s=e.setLink,u=(e.showHistory,e.currentSong,e.setCurrentSong,e.loadHistory,e.latestJacks,e.cheatCodeActivating),l=t?"nft-link":"nft-link hide";return u&&(l+="  activating"),o.a.createElement("div",{className:l},o.a.createElement("input",{onKeyDown:function(e){return"Enter"===e.key?a():[]},onClick:function(e){return e.stopPropagation()},onFocus:function(){r(!0),c(!1)},placeholder:f.isMobile?"Search or drop a music NFT Link":"Search an artist or drop a music NFT link",value:i,onChange:function(e){r(!1),c(!1),s(e.target.value)}}),o.a.createElement("div",{onClick:function(){s(""),n("")},className:"clear-btn"},"x"),o.a.createElement("div",{onClick:function(e){e.stopPropagation(),a()},className:"pushable jack-btn"},"Remix"),u&&o.a.createElement("div",{className:"activation-text"},"Code activated. You may freely create bangers, for the culture."))},$r=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.buyThisSkin,n=e.upperGradInverted,r=e.lowerGradInverted;return t>20?"":o.a.createElement(je,{upperGradInverted:f.isMobile?r:n,text:f.isMobile?"Buy":"Buy this spore",tokenId:t})}),eo=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.showBuyThisSkin,n=e.buyThisSkin,r=e.artist,a=e.upperGradInverted,i=e.lowerGradInverted,c=e.coverArt,s=e.songName,u=e.tokenId,l=e.currentLink,f=e.children;return o.a.createElement("div",{className:"artist-name",style:{color:a}},f,r,o.a.createElement("div",{className:"song-name",style:{color:a}},s),c&&o.a.createElement("img",{className:"Keyon Christ"===r?"cover-art smaller":"cover-art",src:c}),o.a.createElement("div",null),o.a.createElement("div",{className:"Keyon Christ"===r?"link-and-buy keyon":"link-and-buy"},"Keyon Christ"===r&&o.a.createElement(je,{tokenId:u}),l&&o.a.createElement("a",{className:"Keyon Christ"!==r?"current-link align-right":"current-link",style:{color:a},href:l,target:"_blank",rel:"noreferrer"},"Keyon Christ"!==r&&o.a.createElement(Br,{link:l,textColor:a}),"\u2197")),t&&"Keyon Christ"!==r&&o.a.createElement($r,{upperGradInverted:a,lowerGradInverted:i,buyThisSkin:n}))}),to=["spores dao summer","the spore button"],no=function(e){return to.some(function(t){return e.toLowerCase().trim()===t})},ro=(n(1352),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.clearPlayer,n=Object(ce.c)(),a=n.data,i=(n.isError,n.isLoading,Object(r.useState)(!1)),s=Object(c.a)(i,2),u=s[0],l=s[1],f=Object(r.useRef)(),d=Object(r.useState)(),h=Object(c.a)(d,2),p=h[0],m=h[1];Object(r.useEffect)(function(){window.addEventListener("message",y)},[m]);var y=Object(r.useCallback)(function(e){"loaded-lock-shader"===e.data&&m(!0)},[m]);return o.a.createElement("div",{ref:f,className:"locked-notification-background"},o.a.createElement("iframe",{className:p?"loaded-shader":"",src:"https://zequencer.mypinata.cloud/ipfs/QmUZqg4Ee2sDWqNxhAT5xrUUDY53as3VWrdWYWK5HomBgf/"}),u&&!a?o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"locked-notification"},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(pe.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"}))):o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"locked-notification"},o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{onClick:function(){return t()},className:"pushable spores-logo",src:"/spores-logo-black.svg"})),u&&a?"It seems you dont't own a Spore yet. Get the full dose by purchasing a Genesis Spore.":"Enjoying this microdose of Spores? Get the full dose by purchasing a Genesis Spore.",o.a.createElement("div",{onClick:function(){return window.location.href="/buy?sold=false"},className:"go-to-buy pushable"},"Buy Now"),!a&&o.a.createElement("div",{className:"pushable already-own-one",onClick:function(){return l(!0)}},"Already own one?")))}),function(){function e(){Object(I.a)(this,e),this.abi=[{inputs:[{internalType:"uint256",name:"playlistId",type:"uint256"}],name:"burnPlaylist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"contractAddresses",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"string",name:"metadataCID",type:"string"},{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"newSporesPlaylist",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"},{indexed:!1,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"string",name:"metadataCID",type:"string"}],name:"NewSporesPlaylist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"}],name:"PlaylistBurned",type:"event"},{inputs:[{internalType:"address[]",name:"contractAddresses",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"string[]",name:"genres",type:"string[]"},{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"setGenres",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"genre",type:"string"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"metadataCID",type:"string"}],name:"SongGenre",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"},{indexed:!1,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"SporesPlaylistSong",type:"event"},{inputs:[{internalType:"string",name:"a",type:"string"},{internalType:"string",name:"b",type:"string"}],name:"compareStrings",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"verifyString",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"pure",type:"function"}],this.contractAddress="0xe2031bF65D3f8a96dE0a7eD1211810F49627c261"}return Object(C.a)(e,[{key:"getContract",value:function(e){return new e.eth.Contract(this.abi,this.contractAddress)}}]),e}());function oo(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"===typeof e)return ao(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ao(e,t)}(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,o=function(){};return{s:o,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw a}}}}function ao(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function io(){io=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var co=(new ro).contractAddress,so=function(){var e=Object(T.a)(io().mark(function e(){var t,n,r,o,a,i;return io().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new ne(co).from(W),e.next=3,t.executeQuery();case 3:n=e.sent,r=oo(n),e.prev=5,r.s();case 7:if((o=r.n()).done){e.next=15;break}return a=o.value,i=a.metadataCID,e.next=12,Te.a.getJson(i);case 12:a.metadata=e.sent;case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),r.e(e.t0);case 20:return e.prev=20,r.f(),e.finish(20);case 23:return e.abrupt("return",n.slice(0,n.length-3));case 24:case"end":return e.stop()}},e,null,[[5,17,20,23]])}));return function(){return e.apply(this,arguments)}}(),uo=n(355),lo=n.n(uo),fo=(n(1353),Object(s.b)(function(e,t){return{isLoaded:e.playlist.playlistLoaded&&e.playlist.playlistLoaded.playlistId===t.playlist.playlistId,currentSong:e.playlist.currentSong}},function(e){return{setPlaylistLoaded:function(t){return e({type:511,payload:t})},setCurrentPlaylistSong:function(t){return e(O(t))}}})(function(e){var t=e.setCurrentPlaylistSong,n=e.setPlaylistLoaded,a=e.playlist,i=e.loadJack,c=e.currentSong,s=e.isLoaded,u="https://zequencer.io/ipfs/"+a.metadata.thumbnail,l=(ot(),Object(r.useCallback)(function(e){t(e),n(a),ct(e.collectionAddress,e.tokenId).then(function(e){return i(e,void 0,!f.isMobile)})},[a]));return o.a.createElement(o.a.Fragment,null,o.a.createElement(lo.a,{transitionTime:200,easing:"ease-in-out",open:s,trigger:o.a.createElement("div",{className:"playlist-trigger"},o.a.createElement("img",{src:u,className:"playlist-trigger-img"}),o.a.createElement("div",{className:"playlist-name"},a.metadata.name))},o.a.createElement("p",{className:"playlist-description"},a.metadata.description),o.a.createElement("div",{className:"playlist-list-container"},a.metadata.playlist.map(function(e,t){return o.a.createElement("div",{onClick:function(){return l(e)},className:c&&c.collectionAddress===e.collectionAddress&&c.tokenId===e.tokenId?"playlist-item current":"playlist-item"},o.a.createElement("div",{className:"song-number"},t+1),o.a.createElement("img",{src:e.coverArt,className:"playlist-item-img"}),o.a.createElement("p",null,e.songName),o.a.createElement("p",null,e.artist))}))))})),ho=function(e){var t=e.loadJack,n=function(){var e=Object(r.useState)([]),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)(function(){so().then(o)},[]),n}();return o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"playlist-container"},o.a.createElement("div",{className:"playlist-item"},n.map(function(e){return o.a.createElement(fo,{loadJack:t,playlist:e})})))};n(1354);function po(){po=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var mo={mintsongs:"mintsongs",zora:"zora-prod",soundxyz:"soundxyz",zequencer:"zequencer",catalog:"catalog"};window.CHARTS_FLAG=!0;var yo=function(e){var t=e.data,n=e.loadJack,a=e.tokenId,i=e.thumbnail,s=e.selectedTab,u=(e.askPrice,e.remixes),l=e.section,f=Object(r.useState)(),d=Object(c.a)(f,2),p=d[0],m=d[1],y="",v="",g="",b="",w="",E=void 0;if("playlists"==s)"chill-rx-2022"==l?(y="ChillRX",v=t.songName,g=t.coverArt,b="/",w="ChillRX Remix Contest"):(y="Psilocybin EP",v="SP-"+a,g=i,b="/buy",w="Spore Season 1: Genesis");else if("new"==s){if("Zora"!=t.token.collectionName)y=t.token.metadata.artist,v=t.token.metadata.title||t.token.metadata.name,g=""+t.token.metadata.image,b="Chaos"==t.token.collectionName?"https://opensea.io/assets/ethereum/"+t.token.collectionAddress+"/"+t.token.tokenId:t.token.metadata.external_url;else if(v=t.token.name,b="https://zora.co/collections/zora/"+t.token.tokenId,t.token.metadata.body){var x=t.token.metadata.body;if(x.artwork&&x.artwork.info&&x.artwork.info.uri&&(g=x.artwork.info.uri).includes("ipfs.io")){var j=g.indexOf("ipfs.io/");g="https://zora-prod.mypinata.cloud/"+g.slice(j+"ipfs.io/".length),E="https://d2iccaf7eutw5f.cloudfront.net/0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7/".concat(t.token.tokenId,"/thumbnail")}}else g=t.token.metadata.image||"/zora-placeholder.png";w=t.token.collectionName}else y=t.token.metadata.artist,v=t.token.metadata.title||t.token.metadata.name,g=""+t.token.metadata.image,b=t.token.metadata.external_url||t.token.metadata.link,w="View source",void 0==t.token.metadata.image&&(g="/zora-placeholder.png"),"Chaos"==t.token.metadata.artist&&(b="https://opensea.io/collection/chaos-songs");if(!g.includes("zora"))if(g.includes("ipfs.io"));else if(g.startsWith("ipfs://")){var O;for(var k in mo)b&&b.includes(k)&&(O="https://".concat(mo[k],".mypinata.cloud/ipfs/").concat(g.slice(7)));g=O||"https://zora-prod.mypinata.cloud/ipfs/"+g.slice(7)}var L=Object(r.useCallback)(function(){var e={};if("playlists"==s);else{if(t.jack)return void n(t.jack);(e=Object(h.a)({},t.token.metadata)).url=t.token.content.url,e.link=b,e.tokenId=t.token.tokenId,e.collectionAddress=t.token.collectionAddress,n(e)}},[t,n,b,a]),S=0;if("new"==s&&t&&t.token&&t.token.collectionAddress){var N,T=t.token.tokenId;b&&b.includes("catalog")?N="0x0bC2A24ce568DAd89691116d5B34DEB6C203F342":b&&b.includes("mintsongs")&&(N="0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584"),N&&(g="https://d2iccaf7eutw5f.cloudfront.net/".concat(N,"/").concat(T,"/thumbnail")),N=t.token.collectionAddress.toLowerCase();var I=T;if(T.length>10){var C=ge.ethers.BigNumber.from(T);I=C=q.a.utils.padLeft(C.toHexString(),64).toLowerCase()}u[N]&&u[N][I]&&(S=u[N][I].length)}else if("history"==s&&t&&t.jack&&t.jack.collectionAddress){var A,_=t.jack.tokenId;b&&b.includes("catalog")?A="0x0bC2A24ce568DAd89691116d5B34DEB6C203F342":b&&b.includes("mintsongs")&&(A="0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584"),A=t.jack.collectionAddress.toLowerCase();var P=_;if(_.length>10){var R=ge.ethers.BigNumber.from(_);P=R=q.a.utils.padLeft(R.toHexString(),64).toLowerCase()}u[A]&&u[A][P]&&(S=u[A][P].length)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"song-info-container"},o.a.createElement("img",{onError:function(){return m(g)},className:"cover-image pushable",loading:"lazy",src:p||E||g,onClick:L}),o.a.createElement("div",{className:"song-info"},o.a.createElement("div",{className:"song-col"},o.a.createElement("div",{className:"song"},v),o.a.createElement("div",{className:"artist"},y),o.a.createElement("div",{className:"from-text"},o.a.createElement("a",{href:b},w,"\u2197"))),S>0&&o.a.createElement("div",{className:"num-remixes"},o.a.createElement("div",{className:"remixes-orb"}),S))))},vo=Object(s.b)(function(e,t){return{playlistLoaded:e.playlist.playlistLoaded}},function(e){return{}})(function(e){var t=e.searchTerm,n=e.jacked,a=e.loadJack,i=e.history,s=void 0===i?[]:i,u=e.showChart,l=e.playlistLoaded,f=Object(r.useState)(!1),d=Object(c.a)(f,2),p=d[0],m=d[1],y=Object(r.useState)([]),v=Object(c.a)(y,2),g=v[0],b=v[1],w=Object(r.useState)({}),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)({}),k=Object(c.a)(O,2),L=(k[0],k[1]),S=(Object(r.useRef)(0),Object(r.useRef)("")),N=Object(r.useRef)(),I=Object(r.useRef)(),C=Object(r.useState)([]),A=Object(c.a)(C,2),_=(A[0],A[1],Object(r.useState)(l?"playlists":"new")),P=Object(c.a)(_,2),M=P[0],G=P[1],F=Object(r.useRef)(),D=le(),z=(D.setTokensOnSale,D.tokensOnSale,Object(r.useRef)(0));console.log("SEARCH TERm=",t),Object(r.useEffect)(function(){vt().then(j),L(Rr())},[]),Object(r.useEffect)(function(){S.current=t},[t]);var H=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:150,a=Object(r.useState)(t),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(r.useRef)(0);Object(r.useEffect)(function(){e.current&&e.current.scrollTo(0,0),u(t)},[n,u,t]),Object(r.useEffect)(function(){if(e.current)return e.current.addEventListener("scroll",f),function(){return e.current&&e.current.removeEventListener("scroll",f)}},[u,s,e.current,e.initialSize]);var f=Object(r.useCallback)(function(n){var r=e.current;if(r){l.current=r.scrollTop;var a=r.scrollTop+r.offsetHeight,i=r.scrollHeight;a+o>=i&&u(s+t)}},[u,s,e,t]);return{size:s,scrollPosition:l}}(F,Math.ceil(window.innerWidth/200*(window.innerHeight/200)),t).size;return Object(r.useEffect)(function(){I.current=void 0,N.current=void 0},[u]),Object(r.useEffect)(function(){if("new"===M&&H>=g.length){if(I.current===N.current)return;var e="localhost"===window.location.hostname?"http://localhost:9090/charts":"https://zequencer.io/charts";window.LOCAL_BACKEND_FLAG||(e="https://zequencer.io/charts");var t=e;N.current&&""!==N.current&&(t+="?cursor="+N.current),I.current=N.current,++z.current,fetch(t).then(function(){var e=Object(T.a)(po().mark(function e(t){var n;return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,!S.current||""===S.current){e.next=5;break}return e.abrupt("return");case 5:n&&(m(!1),b([].concat(Object(R.a)(g),Object(R.a)(n.results))),N.current=n.cursor);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},[b,M,g,H]),Object(r.useEffect)(function(){""!==t&&G("new")},[t,G]),Object(r.useEffect)(function(){l&&G("playlists")},[l]),Object(r.useEffect)(function(){if(console.log("SEARCH TERM CHANGED"),window.CHARTS_FLAG)if("history"==M)b(s);else if("new"==M){var e="localhost"===window.location.hostname?"http://localhost:9090/charts":"https://zequencer.io/charts";if(window.LOCAL_BACKEND_FLAG||(e="https://zequencer.io/charts"),t&&""!==t){var n=++z.current;setTimeout(function(){if(n===z.current){m(!0);var r=t;r.toLowerCase().includes("chaos")&&(r=r.replace("#",""));var o=e+"/"+r;N.current=void 0,fetch(o).then(function(){var e=Object(T.a)(po().mark(function e(t){var r;return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n===z.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.json();case 4:r=e.sent,m(!1),r&&(b(r.results),N.current=void 0);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},1e3)}else{m(!0);var r=e;console.log("BASE URL SEARCh=",r),fetch(r).then(function(){var e=Object(T.a)(po().mark(function e(t){var n;return po().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(n=e.sent)&&(m(!1),b(n.results),N.current=n.cursor);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}},[s,b,t,n,M,N]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"tab-container",style:{display:u?"flex":"none"}},window.PLAYLIST_FLAG&&o.a.createElement("div",{className:"playlists"==M?"tab pushable selected":"tab pushable not-selected",onClick:function(){return G("playlists")}},o.a.createElement("p",null,"Playlists")),o.a.createElement("div",{className:"history"==M?"tab pushable selected":"tab pushable not-selected",onClick:function(){return G("history")}},o.a.createElement("p",null,"Recently Played")),o.a.createElement("div",{className:"new"==M?"tab pushable selected":"tab pushable not-selected",onClick:function(){return G("new")}},o.a.createElement("p",null,"New Songs"))),"playlists"==M&&o.a.createElement(ho,{loadJack:a,playlistLoaded:l}),"playlists"!=M&&o.a.createElement("div",{ref:F,onClick:function(e){return e.stopPropagation()},className:"music-chart",style:{display:u?"flex":"none"}},p?o.a.createElement(ft,{width:140,text:"Searching the metaverse"}):g.slice(0,H).map(function(e){return o.a.createElement("div",{className:"chart-item"},o.a.createElement(yo,{remixes:x,selectedTab:M,loadJack:a,data:e.jack?Object(h.a)({},e,{token:Object(h.a)({},e,{metadata:e.jack})}):e}))})))}),go=function(e,t){var n=e.getBoundingClientRect(),r=0,o=0,a=n.top-r,i=n.left-o,c=e.offsetHeight;return{x:i,y:a,width:e.offsetWidth,height:c}},bo=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.helperBox,n=e.helperRefs,a=e.selected,i=Object(r.useState)(),s=Object(c.a)(i,2),u=s[0],l=s[1];if(Object(r.useEffect)(function(){if(n){var e=n[a].current,r=t.current,o=go(e),i=go(r);l([i,o])}},[a,l,n]),!u)return"";var d=[f.isMobile?u[0].x:u[0].x+u[0].width,f.isMobile?u[0].y+u[0].height:u[0].y,f.isMobile?u[1].x+u[1].width/2:u[1].x,u[1].y+u[1].height/2-1,f.isMobile?u[1].x+u[1].width/2:u[1].x,u[1].y+u[1].height/2+1,u[0].x+u[0].width,u[0].y+u[0].height];return o.a.createElement("svg",{className:"visual-links-spore"},o.a.createElement("linearGradient",{id:"AnnotationGradient"},o.a.createElement("stop",{offset:"5%",stopColor:"#a4c3e55c"}),o.a.createElement("stop",{offset:"95%",stopColor:"#80aaff36"})),o.a.createElement("polygon",{className:"visual-link",points:d}))}),wo={centerButton:["Pressing the center button changes the current juice sample (controlled by top left slider). ","Click on any empty space goes back to previous sample."],ledButton:['Press to enter "Loop Mode". When in this mode, the sliders control different looping parameters.',"Slider 1: Loop Length","Slider 2: Chop n Screw","Slider 3: Space Reverb/Delay)","Slider 4: Gate Effect"],spButton1:['Press to enter "Space Mode". When in this mode, the sliders control different space parameters. ',"Slider 1: Vocal Reverb","Slider 2: Crystalized Ambience","Slider 3: Bass Reverb","Slider 4: Drum Reverb"],spButton2:['Press to enter "Timing Mode". When in this mode, the sliders control different timing parameters. ',"Slider 1: Gate Rate","Slider 2: 8th note Delay","Slider 3: Gate Depth","Slider 4: 16th note Delay"],slider2:["Wobble","This slider controls the rate of the wobble filter."],slider4:["Chipmunk","This slider speeds up the track, raising the pitch as well."],slider3:["Stutter","This slider controls stuttering, which repeats the beat at a slider-controlled rate.","You must hold slider down to hear this effect."],slider1:["Mutated Stem","Each Spore Player contains a rare, mutated stem.","This slider reveals this mutation."]},Eo=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.helperRefs,n=e.selected,a=e.sliderHovered,i=Object(r.useRef)(),c=wo[n];return[o.a.createElement("div",{ref:i,key:1,className:"helper-box"},Array.isArray(c)?c.map(function(e,t){return o.a.createElement("p",{className:!n.includes("spButton")&&"ledButton"!==n||t!==a?"":"selected"},e)}):c),o.a.createElement(bo,{helperBox:i,helperRefs:t,selected:n})]}),xo=(n(1355),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.clear,n=Object(r.useState)(void 0),a=Object(c.a)(n,2),i=a[0],s=a[1],u=Object(r.useState)("centerButton"),l=Object(c.a)(u,2),d=l[0],h=l[1],p=Object(r.useRef)(),m=Object(r.useRef)(),y=Object(r.useRef)(),v=Object(r.useRef)(),g=Object(r.useRef)(),b=Object(r.useRef)();return o.a.createElement("div",{onTouchStart:function(e){e.stopPropagation()},onClick:function(e){e.stopPropagation(),t()},className:"player-helper"},o.a.createElement(Eo,{sliderHovered:i,selected:d,helperRefs:{slider1:y,slider2:v,slider3:g,slider4:b,ledButton:m,centerButton:p}}),o.a.createElement("div",{onClick:t,className:"pushable x-button"},f.isMobile?"Ready?":"x"),o.a.createElement("div",{onTouchEnd:function(e){console.log("stopping touch end"),e.stopPropagation()},onTouchStart:function(e){console.log("stopping on touch start"),e.stopPropagation()},onMouseDown:function(e){e.stopPropagation(),console.log("stopping mouse down")},onClick:function(e){e.stopPropagation(),console.log("stopping click")},className:"mock-player"},o.a.createElement("div",{ref:p,className:"centerButton"===d?"center-button selected":"center-button",onClick:function(e){e.stopPropagation(),h("centerButton")},onTouchStart:function(){return h("centerButton")}}),o.a.createElement("div",{ref:m,className:"ledButton"===d?"sp-button button1 led-button selected":"sp-button button1 led-button",onTouchStart:function(){return h("ledButton")},onClick:function(e){e.stopPropagation(),h("ledButton")}}),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(1)},ref:y,className:"slider1"===d?"sp-slider slider1 selected":"sp-slider slider1",onClick:function(e){e.stopPropagation(),h("slider1")},onTouchStart:function(){return h("slider1")}},o.a.createElement("span",null,"1")),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(4)},ref:v,className:"slider2"===d?"sp-slider slider2 selected":"sp-slider slider2",onClick:function(e){e.stopPropagation(),h("slider2")},onTouchStart:function(){return h("slider2")}},o.a.createElement("span",null,"4")),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(3)},ref:g,className:"slider3"===d?"sp-slider slider3 selected":"sp-slider slider3",onClick:function(e){e.stopPropagation(),h("slider3")},onTouchStart:function(){return h("slider3")}},o.a.createElement("span",null,"3")),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(2)},ref:b,className:"slider4"===d?"sp-slider slider4 selected":"sp-slider slider4",onClick:function(e){e.stopPropagation(),h("slider4")},onTouchStart:function(){return h("slider4")}},o.a.createElement("span",null,"2"))))})),jo=(n(1356),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.clear,n=function(){var e=(new Date).getFullYear(),t=+new Date("".concat(e,"-06-20"))-+new Date,n={};return t>0&&(n={D:Math.floor(t/864e5),H:Math.floor(t/36e5%24),M:Math.floor(t/1e3/60%60),S:Math.floor(t/1e3%60)}),n},a=Object(r.useState)(n()),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(r.useState)((new Date).getFullYear());Object(c.a)(l,1)[0];Object(r.useEffect)(function(){setTimeout(function(){u(n())},1e3)});var f=[];return Object.keys(s).forEach(function(e){s[e]&&f.push(o.a.createElement("div",{className:"interval"},s[e],e))}),console.log("FUCKKKK"),o.a.createElement("div",{className:"infoContainer",onClick:function(){t()}},o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"infoBox"},o.a.createElement("a",{className:"go-to-landing",href:"/"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("p",null,o.a.createElement("i",null,"Spores")," is a new way to remix music NFTs."),o.a.createElement("p",null,o.a.createElement("a",{href:"/learn",className:"learnLink"},"Learn more")),o.a.createElement("br",null),o.a.createElement("p",null,"Own a ",o.a.createElement("i",null,"Spore"),". Unlock any music NFT. Grow remixes."),o.a.createElement("br",null),o.a.createElement("p",null,"Buy a ",o.a.createElement("a",{href:"/buy",className:"buyLink"},"Genesis ",o.a.createElement("i",null,"Spore"))," and get unlimited access to any music NFT."),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("i",null,"Spores")," Season One mint is coming soon, 1000 ",o.a.createElement("i",null,"Spores")," will be available. Change music forever."),o.a.createElement("div",{onClick:function(){return window.location.href="/buy"},className:"pushable mintButton"},o.a.createElement("span",null,"Buy Now"))))}));function Oo(){Oo=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,n){return e[t]=n}}function s(e,t,n,r){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new j(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return k()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=w(i,n);if(c){if(c===l)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=u(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function u(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function d(){}function h(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(O([])));y&&y!==t&&n.call(y,o)&&(p=y);var v=h.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function w(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var r=u(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,l;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function O(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=h,c(v,"constructor",h),c(h,"constructor",d),d.displayName=c(h,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,h):(e.__proto__=h,c(e,i,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new b(s(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(v),c(v,i,"Generator"),c(v,o,function(){return this}),c(v,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=O,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),x(n),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;x(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:O(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),l}},e}var ko=function(){var e=Object(T.a)(Oo().mark(function e(t){var n;return Oo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qr();case 2:if(n=e.sent.find(function(e){return e.metadata.url===t})){e.next=5;break}return e.abrupt("return",0);case 5:return e.abrupt("return",n.bpm);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Lo="https://zequencer.mypinata.cloud/ipfs/".concat("QmUgvUx2oF2ntnEgRiRG8CqxmcyDHd8JhxLgopAqmcj5ao","/?tokenId=40&gallery=true"),So="https://zequencer.mypinata.cloud/ipfs/QmcoMqE6ywYUidMryy2BqJF8TrbH1vkXoV9S8WxKGHRZ5s/?gallery=true",No=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.playerRef,n=e.songId,a=e.locked,i=e.jackedAudio,s=e.tokenId,u=e.setBuyThisSkin,l=e.remixToPlay,f=e.collectionAddress,d=e.showLoops,h=Object(r.useRef)(),p=t,m=le().tokensOnSale,y=Object(r.useState)(),v=Object(c.a)(y,2),g=v[0],b=v[1],w=Object(r.useState)(),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useRef)(0),k=Object(r.useRef)(0),L=Object(r.useState)(Lo),S=Object(c.a)(L,2),N=S[0],I=S[1];Object(r.useEffect)(function(){f===se?(console.log("changing url =",So),b(!1),j(!1),I(So)):I(Lo)},[f,I,b]),Object(r.useEffect)(function(){if(s&&g&&p.current&&(++O.current,(new Date).getTime()-k.current>500&&(console.log("2. SENDING TOKENID via msg=",s),p.current.contentWindow.postMessage({type:"tokenId",body:n||parseInt(s)},"*"))),!s&&m){var e=m.filter(function(e){return e.askPrice});if(e[Math.floor(Math.random()*e.length)]){var t=[12,13,14,15,16,17,18,21,22,23,24,25,26,27,28,29,30],r=t[Math.floor(Math.random()*t.length)];if(!p.current)return;return p.current.contentWindow.postMessage({type:"tokenId",body:parseInt(r)},"*"),d&&(console.log("sending loop unlocked"),p.current.contentWindow.postMessage({type:"loop-unlocked",body:2},"*")),void u(r)}u(void 0)}},[s,g,i,m,u,n]),Object(r.useEffect)(function(){return window.addEventListener("message",C,!1),function(){return window.removeEventListener("message",C)}},[b,s,j,n]),Object(r.useEffect)(function(){l&&(b(!1),j(!1))},[l,b,j]);var C=Object(r.useCallback)(function(e){"https://zequencer.mypinata.cloud"===e.origin&&("ready for stems"===e.data&&j(!0),"Finished Loading Project"===e.data&&(console.log("Finished Loading Project"),b(!0),s))&&(++O.current,k.current=(new Date).getTime(),console.log("SENDING TOKEN _ =%s to proj",n||s),console.log("SONG ID=",n,typeof n),p.current.contentWindow.postMessage({type:"tokenId",body:n||parseInt(s)},"*"))},[b,s,n,j]);Object(r.useEffect)(function(){f!==se&&i&&g&&ko(i).then(function(){var e=Object(T.a)(Oo().mark(function e(t){return Oo().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.current){e.next=2;break}return e.abrupt("return");case 2:if(h.current!==i){e.next=4;break}return e.abrupt("return");case 4:h.current=i,p.current.contentWindow.postMessage({type:"clear-recording",body:"clear-recording"},"*"),p.current.contentWindow.postMessage({type:"nft-jacker",body:{bpm:t,samples:{drums:i,vocals:i,bass:i,other:i}}},"*");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[i,g,l,f]);var A=i&&x?"loaded player":"player";return 40!==s&&(A+=" keyon-player"),a||l||!N?"":o.a.createElement("div",null,o.a.createElement("iframe",{className:A,width:340,height:400,ref:p,src:N}))});n(1357);var To=n(266),Io=n(568),Co=(n(1358),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){e.clear;var t=e.jacked,n=e.setShowInfo,a=Object(r.useState)(!1),i=Object(c.a)(a,2),s=i[0],u=i[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"menuAction pushable",onClick:function(){u(!s)}},o.a.createElement("img",{src:void 0!=t?"/spores-logo-black.svg":"/spores-logo-white.svg"})),o.a.createElement("div",{className:"navFullContainer",style:{display:s?"inherit":"none"},onClick:function(){u(!1)}},o.a.createElement("div",{className:"dropMenu",style:{display:s?"inherit":"none"}},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(pe.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("a",{href:"/",className:"navDropItem largeItem play"},"Play"),o.a.createElement("a",{href:"/buy",className:"navDropItem largeItem buy"},"Buy"),o.a.createElement("a",{href:"/learn",className:"navDropItem largeItem learn"},"Learn"),o.a.createElement("div",{className:"iconContainer"},void 0!=t&&o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px",color:"black"},onClick:function(){return n(!0)}},o.a.createElement(Io.a,null)),o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px"}},o.a.createElement("a",{href:"https://twitter.com/SporesDAO"},o.a.createElement(To.a,null))),o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px"}},o.a.createElement("a",{href:"/lore"},o.a.createElement("img",{style:{height:"20px"},src:"./mushroom-icon.svg"})))))))})),Ao=(n(1359),n(569)),_o=(n(1360),Object(s.b)(function(e,t){return{playlistLoaded:e.playlist.playlistLoaded}},function(e){return{setUsedCheatCode:function(t){return e({type:509,payload:t})},setSecondsRemaining:function(t){return e({type:510,payload:t})}}})(function(e){$n();var t=Object(r.useRef)(),n=Object(r.useRef)(),a=Object(r.useState)(e.defaultSearch||""),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(r.useState)(!1),d=Object(c.a)(l,2),p=d[0],m=d[1],y=Object(r.useState)(!1),v=Object(c.a)(y,2),g=v[0],b=v[1],w=function(){var e=Object(r.useState)(),t=Object(c.a)(e,2),n=t[0],o=t[1];return Object(r.useEffect)(function(){var e="localhost"===window.location.hostname?"http://localhost:9090/latestJacks/":"https://zequencer.io/latestJacks/";window.LOCAL_BACKEND_FLAG||(e="https://zequencer.io/latestJacks/"),fetch(e).then(function(){var e=Object(T.a)(Xr().mark(function e(t){var n;return Xr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,o(n.filter(function(e){return e.title&&!e.title.includes("Spore Players")}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[]),{latestJacks:n,setLatestJacks:o}}(),E=w.latestJacks,x=w.setLatestJacks,j=Object(r.useState)(!1),O=Object(c.a)(j,2),k=O[0],L=O[1],S=Object(r.useState)(!0),N=Object(c.a)(S,2),I=N[0],C=N[1],A=Object(r.useState)(!f.isMobile),_=Object(c.a)(A,2),P=_[0],R=_[1],M=Object(r.useState)(!1),G=Object(c.a)(M,2),F=G[0],D=G[1],z=Object(r.useState)(!1),H=Object(c.a)(z,2),B=H[0],U=H[1],W=Object(r.useState)(""),Y=Object(c.a)(W,2),J=Y[0],q=Y[1];Object(r.useEffect)(function(){return window.addEventListener("click",K),function(){return window.removeEventListener("click",K)}},[C,oe]);var K=Object(r.useCallback)(function(){oe&&C(!1)},[oe,C]),Z=function(e,t,n,o){var a=Object(ce.c)(),i=a.data,s=(a.isError,a.isLoading,le().tokensOnSale),u=Object(r.useState)(),l=Object(c.a)(u,2),f=l[0],d=l[1],p=Object(r.useState)(!1),m=Object(c.a)(p,2),y=m[0],v=m[1],g=Object(r.useState)(),b=Object(c.a)(g,2),w=b[0],E=b[1],x=Object(r.useRef)(0),j=Object(r.useRef)(!1),O=Object(r.useState)(!1),k=Object(c.a)(O,2),L=k[0],S=k[1];Object(r.useEffect)(function(){no(e)&&(S(!0),v(!1),window.localStorage.setItem("cheatcode",e),n(!0),d(!0),setTimeout(function(){t("")},1e3),setTimeout(function(){d(!1)},1e4))},[e,S,v,d]),Object(r.useEffect)(function(){var e=window.localStorage.getItem("cheatcode");e&&no(e)&&(S(!0),n(!0),v(!1))},[]),Object(r.useEffect)(function(){if(window.OWN_FAKE_SPORE_FLAG)return E(!0),void v(!1);if(s&&i&&i.address){var e=window.OWN_FAKE_SPORE_FLAG?s.map(function(e){return Object(h.a)({},e,{owner:i.address})}):s,t=i.address.toLowerCase();e.some(function(e){return e&&e.owner&&e.owner.toLowerCase()===t})&&(E(!0),v(!1))}},[s,i,E,v]),Object(r.useEffect)(function(){window.addEventListener("message",N,!1);var e=window.localStorage.getItem("time-elapsed")||0;window.ABOUT_TO_END_FLAG?x.current=28e4:x.current=parseInt(e)},[]);var N=Object(r.useCallback)(function(e){e.data&&Array.isArray(e.data.type)&&"sequencer.start"===e.data.type[0]?j.current=!0:e.data&&Array.isArray(e.data.type)&&"sequencer.stop"===e.data.type[0]&&(j.current=!1)},[]);return Ke(Object(r.useCallback)(function(){if(window.TOKEN_LOCK_FLAG&&!L&&(x.current>=3e5&&!y&&(w||v(!0)),j.current&&!w)){x.current+=1e3;var e=300-x.current/1e3;o(e),window.localStorage.setItem("time-elapsed",x.current)}},[y,v,w,L]),1e3),{locked:y,cheatCodeActivating:f}}(s,u,e.setUsedCheatCode,e.setSecondsRemaining),V=Z.locked,X=Z.cheatCodeActivating,Q=Vr({remixToPlay:Oe,setLatestJacks:x,setShowHistory:b,setLink:u,setShowLinkInput:C,link:s,latestJacks:E,chillTokenId:e.isChillRX&&e.match.params.tokenId,defaultSearch:e.defaultSearch,directTokenId:e.match.params.tokenId,directCollectionAddress:e.match.params.collectionAddress,playlistLoaded:e.playlistLoaded}),$=Q.clear,ee=Q.onJack,te=Q.loadJack,ne=Q.collectionAddress,re=Q.artist,oe=(Q.description,Q.showPlayer),ae=Q.setShowPlayer,ue=Q.tokenId,fe=Q.searchTerm,de=Q.songId,he=Q.buyThisSkin,pe=Q.coverArt,me=Q.songName,ye=Q.error,ve=Q.currentSong,ge=Q.setBuyThisSkin,be=Q.jackedAudio,we=Q.setCurrentSong,Ee=Q.currentLink,xe=(Q.metadata,Q.setSearchTerm),je=xt($,n,e.match.params.remixId),Oe=je.remixToPlay,ke=je.setRemixToPlay,Le=je.recordedRemix,Se=je.uploadingRemix,Ne=je.onRemixSigningCompleted;Object(r.useEffect)(function(){Oe&&window.scrollTo(0,0)},[Oe,ae,R]);var Te=function(e){var t=e.coverArt,n=Object(r.useState)(),o=Object(c.a)(n,2),a=o[0],i=o[1],s=Object(r.useState)(),u=Object(c.a)(s,2),l=u[0],f=u[1],d=Object(r.useState)(),h=Object(c.a)(d,2),p=h[0],m=h[1],y=Object(r.useState)(),v=Object(c.a)(y,2),g=v[0],b=v[1],w=Object(r.useState)(),E=Object(c.a)(w,2),x=E[0],j=E[1],O=Object(r.useState)(),k=Object(c.a)(O,2),L=k[0],S=k[1];return Object(r.useEffect)(function(){null!=t&&Object(Ir.a)(t,{amount:3,group:50,format:"hex"}).then(function(e){i("linear-gradient(45deg, "+e[0]+" 0%, "+e[1]+" 50%, "+e[2]+" 100%)");var t=Ar()(e[0],!0),n=Ar()(e[1],!0),r=Ar()(e[2],!0);S("#000000"===e[0]?e[1]:e[0]),f(Ar()(n,!0)),m(n),b(r),j(t)})},[t,S,f,m,i,b,j]),{mainColor:L,clearColors:Object(r.useCallback)(function(){j(),b(),i(),m(),f()},[j,b,i,m,f]),coverGrad:a,buttonTextColor:l,buttonBgColor:p,upperGradInverted:g,lowerGradInverted:x}}({coverArt:pe}),Ie=Te.clearColors,Ce=Te.coverGrad,Ae=Te.buttonTextColor,_e=Te.buttonBgColor,Pe=Te.upperGradInverted,Re=Te.lowerGradInverted,Me=oe?"nft-jacker jacked":"nft-jacker";I&&(Me+=" showing-link-input");var Ge=Object(r.useCallback)(function(e){"spores-next-gen"===J?D(!0):U(!0)},[J,U,D]);return F?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:t,onClick:function(){return b(!1)},className:Me,style:{background:Ce}},!1,oe&&V&&"Keyon Christ"!==re&&!Le&&!Se&&!1,be&&o.a.createElement(wt,{recordedRemix:Le,uploadingRemix:Se,collectionAddress:ne,onRemixSigningCompleted:Ne,tokenId:ue,spTokenId:he,loadJack:te}),oe&&!f.isMobile&&o.a.createElement("div",{onClick:function(){n.current&&(n.current.contentWindow.postMessage({type:"jacker-stop",body:"jacker-stop"},"*"),n.current.contentWindow.postMessage({type:"clear-recording",body:"clear-recording"},"*")),Ne(),ke(void 0),ae(!1),$(),Ie()},className:"back-to-charts-btn"},o.a.createElement(To.b,{style:{fill:_e}})),p&&o.a.createElement(xo,{clear:function(){return m(!1)}}),oe&&o.a.createElement("div",{onClick:function(){return m(!0)},style:{color:Re},className:"helper-icon"},"?"),o.a.createElement(Co,{jacked:be,setShowInfo:L}),oe&&o.a.createElement("div",{onClick:function(){return m(!0)},style:{color:Re},className:"helper-icon"},"?"),"Keyon Christ"===re&&o.a.createElement("video",{playsInline:!0,className:"rain-video",autoPlay:!0,loop:!0,muted:!0,src:"/mushrooms-medium.mp4"}),ye&&o.a.createElement("div",{className:"error-message"},ye),I&&o.a.createElement(vo,{loadJack:te,searchTerm:fe,jacked:be,history:E,showChart:I}),o.a.createElement("div",{className:be?"player-container show":"player-container hide",onClick:function(){return C(!1)}},Oe&&o.a.createElement(en,{externalURL:Ee,artist:re,songName:me,setRemix:ke,remix:Oe}),o.a.createElement(No,{showLoops:e.showLoops,playerRef:n,collectionAddress:ne,songId:de,remixToPlay:Oe,locked:V&&!1,setBuyThisSkin:ge,tokenId:"Keyon Christ"===re||ne===se?ue:void 0,jackedAudio:be})),!Oe&&o.a.createElement(Et,{buttonTextColor:_e,playerRef:n}),!f.isMobile&&!Oe&&be&&o.a.createElement(ie,{playerRef:n}),o.a.createElement(Qr,{cheatCodeActivating:X,showLinkInput:I,setShowHistory:b,setShowInfo:L,setLink:u,setSearchTerm:xe,showHistory:g,currentSong:ve,setCurrentSong:we,loadHistory:te,latestJacks:E,onJack:ee,loadJack:te,link:s}),me&&o.a.createElement(eo,{buyThisSkin:he,showBuyThisSkin:ne!==se,artist:re,upperGradInverted:Pe,lowerGradInverted:Re,coverArt:pe,songName:me,tokenId:ue,currentLink:Ee}),k&&o.a.createElement(jo,{clear:function(){return L(!1)}}),oe&&o.a.createElement("div",{onClick:function(){return C(!I)},className:"back-btn",style:f.isMobile?{backgroundImage:"#ffffff"==Pe?"url('/search-icon.svg')":"url('/search-icon-black.svg')"}:{backgroundImage:"#ffffff"==_e?"url('/search-icon.svg')":"url('/search-icon-black.svg')"}}),oe&&o.a.createElement("div",{className:"stockLeft",onClick:function(){return f.isMobile&&R(!0)},style:{color:f.isMobile&&oe?Ae:_e,backgroundColor:f.isMobile?_e:"transparent"}},o.a.createElement("i",null,"Remixes ")," ",!f.isMobile&&o.a.createElement(Ao.a,null)),oe&&o.a.createElement($t,{url:"spores.vision/play/"+ne+"/"+ue,type:"song",lowerGradInverted:Re,buttonBgColor:_e}),oe&&P&&o.a.createElement(un,{remixToPlay:Oe,setRemixToPlay:ke,collectionAddress:ne,tokenId:ue,clear:function(){return R(!1)}}))):o.a.createElement("div",{className:"password-protected"},o.a.createElement("div",{className:"spore-future"},o.a.createElement("img",{className:"spore-future-logo",src:"/spore-logo-future2.jpeg"}),o.a.createElement("div",{className:"password-box"},o.a.createElement("div",{className:"password-label"},"Password"),o.a.createElement("input",{type:"password",placeholder:"Enter password here",text:J,onChange:function(e){return q(e.target.value)}}),B&&o.a.createElement("div",{className:"password-failed"},"The password you entered is incorrect."),o.a.createElement("div",{onClick:Ge,className:"password-enter"},"Enter"))))}),Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){return o.a.createElement(dn,{isFullScreen:!1,url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmXqQ4sKuScMs9K6wuZvGUpxcEWuNuWuRqj2GcKGxnCGdn","/?tokenId=32&gallery=true"),collectionAddress:"0x0000000000000000000000000000000000000001",tokenId:1,className:"thugger",artist:"Young Thug",isSimple:!0,songTitle:"Hop Out Ft. Wiz Kalifa"},o.a.createElement("p",{className:"tagline-p"},"Spores grows strains of songs and media."),o.a.createElement("p",{className:"tagline-p"},"Season 1"))})),Po=Object(s.b)(function(e,t){return{}},function(e){return{}})(function(e){return o.a.createElement(dn,{url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmVDXbQWjea3C5ARkJkFnGdBJAajbF3c4GHJKCkzQDpRHP","/?tokenId=22&gallery=true"),collectionAddress:"0x935637ef6915b8344a943290e1d9a9caf3d6b3c3",thumbnail:"/inmysoul-cover.jpeg",tokenId:1,askPrice:"2",artist:"Keyon Christ",songTitle:"IN MY SOUL"},o.a.createElement("div",{className:"buy-button"},o.a.createElement("div",{className:"action"},o.a.createElement("a",{target:"_blank",href:"https://zora.co/collections/0x935637ef6915b8344a943290e1d9a9caf3d6b3c3/1"},"BID ON ZORA \u2197")),o.a.createElement("div",{className:"asking-price"},o.a.createElement("div",{className:"price-label"},"RESERVE"),o.a.createElement("div",{className:"price"},"2 ETH"))),o.a.createElement("p",{className:"tagline-p"},"SPORES ",o.a.createElement("span",{className:"orange-gradient"},"GENERATES VARIATIONS")," OF SONGS FOR YOU WHILE YOU STREAM."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),"THIS NFT IS THE FIRST 1/1 SONG RELEASE FROM SPORES. IT'S A 1/1 SPORE CONTAINING ",o.a.createElement("span",{className:"purple-gradient"},"\u201cIN MY SOUL\u201d")," BY ",o.a.createElement("a",{href:"https://www.dazeddigital.com/music/article/55043/1/lost-track-kanye-west-the-life-of-pablo-reemerges-can-u-be-forever-mitus-nft",className:"isUnderlined"},"KEYON CHRIST")," - OUR LAST DROP WAS ",o.a.createElement("a",{href:"https://www.yingyangtwins.xyz",className:"isUnderlined"},"YINGYANGTWINS.XYZ")," BY VIC MENSA."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"new"},"NEW"),o.a.createElement("br",null),o.a.createElement("span",{className:"green-gradient"},"ACOUSTIFY"),o.a.createElement("br",null),"SWITCH BETWEEN THE OG AND ACOUSTIC VERSIONS OF THIS SONG WITHOUT INTERUPTING PLAYBACK."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("img",{src:"/acoustify-small.gif",className:"mx-auto isRounded"}),o.a.createElement("br",null),o.a.createElement("br",null),"PRESS THE CENTER SPORE BUTTON. UNLOCK A NEW ERA FOR STREAMING."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"green-gradient"},"10%")," OF THE SALE WILL BE AWARDED TO THE ",o.a.createElement("span",{className:"orange-gradient"},"BEST REMIX"),o.a.createElement("br",null),o.a.createElement("br",null),"SPEARHEAD THE NEXT GENERATION OF THE MUSIC INDUSTRY."))}),Ro=(n(1382),n(108)),Mo=n(547),Go=n(25),Fo=n(69),Do=n(572),zo=Object(Go.b)([Fo.b.mainnet,Fo.b.goerli],[Object(tt.a)({infuraId:"2f3dce2af1044e88b4851c3d73c3d00c"}),Object(Do.a)()]),Ho=zo.chains,Bo=zo.provider,Uo=Object(Ro.a)({appName:"Spore Players",chains:Ho}).connectors,Wo=Object(ce.b)({autoConnect:!0,connectors:Uo,provider:Bo}),Yo=function(e){return window.spores=!0,o.a.createElement(r.Suspense,{fallback:function(){return o.a.createElement("div",null,"Loading...")}},o.a.createElement(ce.a,{client:Wo},o.a.createElement(pe.d,{chains:Ho,theme:Object(Mo.a)({accentColor:"black",accentColorForeground:"white",borderRadius:"small"})},o.a.createElement(pn.a,null,o.a.createElement(mn.a,null,o.a.createElement(yn.a,{path:"/inmysoul/",render:function(e){return o.a.createElement(Po,Object.assign({},e,{store:e.store}))}}),o.a.createElement(yn.a,{path:"/thugger/",render:function(e){return o.a.createElement(_o,Object.assign({},e,{store:e.store}))}}),o.a.createElement(yn.a,{path:"/zpore2/",render:function(e){return o.a.createElement(Tr,Object.assign({},e,{store:e.store}))}}),o.a.createElement(yn.a,{path:"/demoneyes/",render:function(e){return o.a.createElement(Tr,Object.assign({},e,{songTitle:"Demon Eyes",songId:1,store:e.store}))}}),o.a.createElement(yn.a,{path:"/next-gen/",render:function(e){return o.a.createElement(hn,Object.assign({},e,{store:e.store}))}}),o.a.createElement(yn.a,{path:"/video/",render:function(e){return o.a.createElement(Ot,null)}}),o.a.createElement(yn.a,{path:"/",render:function(e){return o.a.createElement(u,Object.assign({},e,{store:e.store}))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Jo=n(176),qo=Object(Jo.b)({playback:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playStatus:0},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 513:return Object(h.a)({},e,{playStatus:t.payload});default:return e}},playlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentSong:"Twisting Faith"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 503:return Object(h.a)({},e,{showPlaylistMenu:t.payload});case 504:return console.log("SETTING CURRENT PLAYLIST SONG=",t.payload),Object(h.a)({},e,{currentSong:t.payload});case 511:return console.log("SETTING PLAYLIST LOADED=",t.payload),Object(h.a)({},e,{playlistLoaded:t.payload});default:return e}},spore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 512:return Object(h.a)({},e,{playerRef:t.payload});case 510:return Object(h.a)({},e,{secondsRemaining:t.payload});case 509:return Object(h.a)({},e,{usedCheatCode:t.payload});case 505:return Object(h.a)({},e,{tokenId:t.payload});case 508:return Object(h.a)({},e,{pendingSpores:t.payload});case 506:return Object(h.a)({},e,{soldPlayers:t.payload});default:return e}}}),Ko=Object(Jo.c)(qo);i.a.render(o.a.createElement(s.a,{store:Ko},o.a.createElement(Yo,{store:Ko})),document.getElementById("root")),"serviceWorker"in navigator&&(console.log("UNREGISTERING"),navigator.serviceWorker.ready.then(function(e){console.log("regstieration UNREGISTERING",e),e.unregister()}))},209:function(e,t,n){"use strict";n.d(t,"a",function(){return u});n(103);var r=n(23),o={A:"a","A#":"A",B:"b",C:"c","C#":"C",D:"d","D#":"D",E:"e",F:"f","F#":"F",G:"g","G#":"G"},a={A:r.a.utils.asciiToHex("a"),"A#":r.a.utils.asciiToHex("A"),B:r.a.utils.asciiToHex("b"),C:r.a.utils.asciiToHex("c"),"C#":r.a.utils.asciiToHex("C"),D:r.a.utils.asciiToHex("d"),"D#":r.a.utils.asciiToHex("D"),E:r.a.utils.asciiToHex("e"),F:r.a.utils.asciiToHex("f"),"F#":r.a.utils.asciiToHex("F"),G:r.a.utils.asciiToHex("g"),"G#":r.a.utils.asciiToHex("G")},i={};for(var c in a)i[a[c]]=c;for(var s in i={},o)i[o[s]]=s;var u=i},23:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return i});var r=n(103),o=n.n(r),a=new o.a(new o.a.providers.HttpProvider("https://goerli.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")),i=new o.a(new o.a.providers.WebsocketProvider("wss://goerli.infura.io/ws/v3/2f3dce2af1044e88b4851c3d73c3d00c"))},313:function(e,t){},343:function(e,t,n){},344:function(e,t,n){},359:function(e,t,n){"use strict";(function(e){n.d(t,"a",function(){return o});n(23);var r=n(123);function o(e){var t=r.decode(e).toString("hex").replace(/^1220/,"");return 64!=t.length?null:"0x"+t}}).call(this,n(12).Buffer)},533:function(e,t,n){},534:function(e,t,n){},590:function(e,t,n){e.exports=n(1384)},596:function(e,t,n){},600:function(e,t,n){},601:function(e,t,n){},605:function(e,t,n){},606:function(e,t,n){},619:function(e,t){},620:function(e,t){},622:function(e,t){},626:function(e,t){},650:function(e,t){},652:function(e,t){},666:function(e,t){},668:function(e,t){},698:function(e,t){},70:function(e,t,n){"use strict";(function(e){var r=n(11),o=n(2),a=n(3),i=n(111),c=n.n(i);function s(){s=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r="function"==typeof Symbol?Symbol:{},o=r.iterator||"@@iterator",a=r.asyncIterator||"@@asyncIterator",i=r.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var o=t&&t.prototype instanceof d?t:d,a=Object.create(o.prototype),i=new O(r||[]);return a._invoke=function(e,t,n){var r="suspendedStart";return function(o,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===o)throw a;return L()}for(n.method=o,n.arg=a;;){var i=n.delegate;if(i){var c=E(i,n);if(c){if(c===f)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var s=l(e,t,n);if("normal"===s.type){if(r=n.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r="completed",n.method="throw",n.arg=s.arg)}}}(e,n,i),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function d(){}function h(){}function p(){}var m={};c(m,o,function(){return this});var y=Object.getPrototypeOf,v=y&&y(y(k([])));v&&v!==t&&n.call(v,o)&&(m=v);var g=p.prototype=d.prototype=Object.create(m);function b(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var r;this._invoke=function(o,a){function i(){return new t(function(r,i){!function r(o,a,i,c){var s=l(e[o],e,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&n.call(f,"__await")?t.resolve(f.__await).then(function(e){r("next",e,i,c)},function(e){r("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return r("throw",e,i,c)})}c(s.arg)}(o,a,r,i)})}return r=r?r.then(i,i):i()}}function E(e,t){var n=e.iterator[t.method];if(void 0===n){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var r=l(n,e.iterator,t.arg);if("throw"===r.type)return t.method="throw",t.arg=r.arg,t.delegate=null,f;var o=r.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function j(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,a=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=p,c(g,"constructor",p),c(p,"constructor",h),h.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},b(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new w(u(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then(function(e){return e.done?e.value:i.next()})},b(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(j),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return i.type="throw",i.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var c=n.call(a,"catchLoc"),s=n.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r];if(o.tryLoc<=this.prev&&n.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),j(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;j(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:k(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},e}var u=n(247),l=new XMLHttpRequest,f="/ip4/3.17.26.249/tcp/4001/ipfs/QmeQRpfSrYcAaqkhNoArDyTUwyYiru2gJp4WY1WegQGjtR",d=[85,110,105,118,101,114,115,97,108,32,83,101,113,101,117,110,99,101,115];window.httpV="http://www.zequencer.io:5001",window.httpsV="https://www.zequencer.io:5002";var h=new(function(){function t(){var e=this;if(Object(o.a)(this,t),this.controllers=new Set,!window.isNFT){"http:"===window.location.protocol?(this.backupIpfs=new c.a("ipfs.infura.io","5001",{protocol:"https"}),window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"})):(this.centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"}),this._centralIpfs=this.centralIpfs)):window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"})):(this.centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"}),this._centralIpfs=this.centralIpfs),this.ipfs=this.centralIpfs;var n=this;this.connectedLocally=!1,this.finishedTestingLocalConnection=!1,l.onreadystatechange=function(){4==l.readyState&&200==l.status&&(n.ipfs=c()("localhost","5001",{protocol:"http"}),n.connectToCentral(),n.connectedLocally=!0,n.finishedTestingLocalConnection=!0,e.keepSwarmConnectionAlive())},window.isNFT||(l.open("POST","http://localhost:5001/api/v0/swarm/peers",!0),l.timeout=4e3,l.ontimeout=function(){console.log("timed out connecting to local ipfs daemon")}),setTimeout(function(){e.finishedTestingLocalConnection=!0},4e3),l.send("")}}return Object(a.a)(t,[{key:"restart",value:function(){}},{key:"getIPFSPrefix",value:function(){return this.connectedLocally?"http://localhost:5001":"http:"===window.location.protocol?window.httpV:"https:"===window.location.protocol?window.httpsV:void 0}},{key:"getHashUrl",value:function(e){return"https://zequencer.io/ipfs/"+e}},{key:"getPinnedHashes",value:function(){var e=Object(r.a)(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ipfs.refs.local();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return e.ref}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"findProvs",value:function(e){var t=this;return new Promise(function(n,r){t.ipfs.dht.findprovs(e,{maxNumProviders:1},function(e,t){n(t)})})}},{key:"connectToCentral",value:function(){try{this.ipfs.swarm.connect(f,function(e,t){}).catch(function(e){return console.log("error")})}catch(e){console.log("error connecting to ipfs")}}},{key:"keepSwarmConnectionAlive",value:function(){var e=this;try{this.ipfs.swarm.connect(f,function(e,t){}).catch(function(e){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}setInterval(function(){if(window.sequencerEngine&&window.sequencerEngine.getSequenceId){var n=window.sequencerEngine.getSequenceId();if(window.sequencerEngine.store.getState().sequencer.isPlaying[n])return}try{e.ipfs.swarm.connect(f,function(e,t){}).catch(function(e){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}},6e4)}},{key:"isConnectedLocally",value:function(){return this.connectedLocally}},{key:"addArrayBuffer",value:function(e,t){return this.addHelper(e,t)}},{key:"addArrayBufferAndSaveToDB",value:function(e,t){return this.addBlobAndSaveToDB(new Blob([new Uint8Array(e)]),t)}},{key:"addHelper",value:function(t){var n=this,r=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);void 0===r&&(r="hello");return new Promise(function(o,a){var i=n._centralIpfs||n.ipfs;i||(i="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),i.add({name:r,path:"hello",content:new e(t)},function(e,t){console.log("IPFS HASH = ",t);var n=t[0].hash;e?a(e):o(n)})})}},{key:"addBuffer",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];return new Promise(function(n,r){var o=t.centralIpfs;o.add(e,function(e,t){if(e)r(e);else{var a=t[0].hash;o.pin.add(a),n(a)}})})}},{key:"addJson",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LOCAL",o=arguments.length>2?arguments[2]:void 0;return new Promise(function(a,i){console.log("adding json noUTF=",o,t);var s=n._centralIpfs||n.ipfs;s||(s="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),s.add(e.from(JSON.stringify(t)),function(e,t){if(e)i(e);else{var n=t[0].hash;s.pin.add(n),a(n)}}),"LOCAL"===r&&(s!==n.centralIpfs&&n.addJson(t,"UNIVERSAL",o).then(function(e){return a(e)}),n.addJson(t,"INFURA",o).then(function(e){return a(e)}))})}},{key:"getJson",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.restart(),new Promise(function(i,c){if(a)t.ipfs.cat(e,function(e,t){i(JSON.parse(t.toString("utf8")))});else{var u="/api/v0/cat?arg="+e,l=(n?t.centralIpfs:t.ipfs,new AbortController);t.controllers.add(l);var f=l.signal;setTimeout(function(){l.abort(),t.controllers.delete(l),c()},o);var d="POST",h=t.getIPFSPrefix()+u;if(window.isNFT)return d="GET",h=e,void fetch(h,{signal:f,method:d}).then(function(){var e=Object(r.a)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:n=e.sent,i(n);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());if(window.isNFT)return i({});var p=(new Date).getTime();fetch(h,{signal:f,method:d}).then(function(){var e=Object(r.a)(s().mark(function e(n){var r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=(new Date).getTime(),console.log("raw request took %s ms",r-p),t.readAllChunks(n.body).then(function(e){console.log("read all chunks took %s ms",(new Date).getTime()-r);var n=t.mergeArrays(e,0,!1),o=(new TextDecoder).decode(n);i(JSON.parse(o))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}})}},{key:"addBytesArray",value:function(){var e=Object(r.a)(s().mark(function e(t){var n,r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new Uint8Array(t.length+d.length)).set(t,0),n.set(d,t.length),e.next=5,this.addHelper(n.buffer);case 5:return r=e.sent,this.ipfs.pin.add(r),e.abrupt("return",r);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pin",value:function(){var e=Object(r.a)(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ipfs.pin.add(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addBlob",value:function(e,t){var n=this;return this.restart(),new Promise(function(r,o){var a,i=new FileReader,c=n;i.onload=function(){var e=this;a=this.result,c.addHelper(a,void 0,t).then(function(t){e.connectedLocally&&c.ipfs.pin.add(t),c.centralIpfs.pin.add(t),r(t)}).catch(function(e){return o(e)})},i.readAsArrayBuffer(e)})}},{key:"addBlobAndSaveToDB",value:function(e,t){}},{key:"converttoarraybuffer",value:function(e){return new Promise(function(t,n){var r=new r;r.onload=function(){t(this.result)},r.readasarraybuffer(e)})}},{key:"readAllChunks",value:function(e){var t=e.getReader(),n=[];return function e(){return t.read().then(function(t){var r=t.value;return t.done?n:(n.push(r),e())})}()}},{key:"getSound",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return new Promise(function(o,a){var i=new AbortController;t.controllers.add(i);var c=i.signal;setTimeout(function(){i.abort(),t.controllers.delete(i),a()},n);var u="GET",l="https://zequencer.io/ipfs/"+e;if(window.spores&&(l="https://zequencer.mypinata.cloud/ipfs/"+e),window.isNFT)return u="GET",l=e,fetch(l,{signal:c,method:u}).then(function(){var e=Object(r.a)(s().mark(function e(t){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:n=e.sent,o(new Uint8Array(n));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());if(window.isNFT)return o([]);var f=(new Date).getTime();fetch(l,{signal:c,method:u}).then(function(){var e=Object(r.a)(s().mark(function e(n){var r,a,i,c;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=(new Date).getTime(),console.log("raw response took %s ms",r-f),e.next=4,n.arrayBuffer();case 4:return a=e.sent,i=(new Date).getTime(),console.log("Array buffer tranform took %s ms",(new Date).getTime()-r),c=t.processArray(new Uint8Array(a)),console.log("processing took % ms",(new Date).getTime()-i),o(c),e.abrupt("return");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log("aborted")})})}},{key:"arrayToBuffer",value:function(e){var t=new ArrayBuffer(e.length);return e.map(function(e,n){t[n]=e}),t}},{key:"cancel",value:function(){console.log("cancelling = ",this.controllers),Array.from(this.controllers).forEach(function(e){return e.abort()})}},{key:"processArray",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return e;var t=e,n=this.findEnd(t,d);return-1!==n?t.slice(0,n):e.slice(0,e.length-1024)}},{key:"mergeArrays",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],r=0;for(var o in e)r+=e[o].length;var a=new Uint8Array(r-t),i=0;for(var c in e)0===i?(a.set(e[c].subarray(t),i),i+=e[c].length-t):(a.set(e[c],i),i+=e[c].length);if(!n)return a;var s=a,u=this.findEnd(s,d);return-1!==u?s.slice(0,u):a.slice(0,a.length-1024)}},{key:"findEnd",value:function(e,t){for(var n=e.length-1600,r=e.slice(n).values(),o=0,a=n;a<e.length;a++){if(r.next().value===t[o]){if(0==o&&(n=a),++o===t.length-1)return n}else o=0,n=a}return-1}},{key:"getAudioBuffer",value:function(e,t){var n=this;return this.restart(),new Promise(function(r,o){n.getSound(e).then(function(e){return t.decodeAudioData(u(e),function(e){r(e)},function(e,t,n){n&&o(n)})}).catch(function(e){o(e)})})}}]),t}());t.a=h}).call(this,n(12).Buffer)},700:function(e,t){},798:function(e,t){},799:function(e,t){},8:function(e,t,n){"use strict";(function(e){n.d(t,"j",function(){return f}),n.d(t,"i",function(){return d}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return p}),n.d(t,"o",function(){return m}),n.d(t,"c",function(){return y}),n.d(t,"f",function(){return v}),n.d(t,"e",function(){return g}),n.d(t,"m",function(){return b}),n.d(t,"k",function(){return w}),n.d(t,"l",function(){return E}),n.d(t,"a",function(){return x}),n.d(t,"n",function(){return j}),n.d(t,"d",function(){return O}),n.d(t,"b",function(){return k});var r=n(2),o=n(3),a=(n(103),n(209)),i=n(23),c=n(123),s=(window.web3,i.a.utils.padLeft("0x0",64)),u=function(){function e(t,n){Object(r.a)(this,e),this.toConversion=t,this.fromConversion=n}return Object(o.a)(e,[{key:"convertTo",value:function(e){return this.toConversion(e)}},{key:"convertFrom",value:function(e){return e===s?null:this.fromConversion(e)}}]),e}();function l(e){var t="";for(var n in e)0!=e.charCodeAt(n)&&(t+=e.charAt(n));return t}var f=new u(function(e){return function(e){var t=c.decode(e).toString("hex").replace(/^1220/,"");return 64!=t.length?null:"0x"+t}(e)},function(t){return function(t){var n=new e(t.replace(/^0x/,"1220"),"hex");return c.encode(n)}(t)}),d=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(e),64)},function(e){return i.a.utils.hexToNumber(e)}),h=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(e),64)},function(e){return l(i.a.utils.toAscii(e))}),p=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(e),64)},function(e){return i.a.utils.hexToNumber(e)}),m=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(parseInt(e)),64)},function(e){return i.a.utils.hexToNumber(e)}),y=new u(function(e){return i.a.utils.padRight(i.a.utils.fromAscii(e),64)},function(e){return l(i.a.utils.toAscii(e))}),v=new u(function(e){return i.a.utils.padLeft(i.a.utils.fromAscii(e),64)},function(e){return l(i.a.utils.toAscii(e))}),g=new u(function(e){return i.a.utils.padLeft(i.a.utils.toHex(e),64)},function(e){return function(e){for(var t=0;t<e.length;t++)if("0"!==e.slice(t,t+1))return e.slice(t);return e}(e.slice(2))});var b=new u(function(e){return i.a.utils.padRight(i.a.utils.toHex(e),64)},function(e){return l(i.a.utils.toAscii(e))}),w=new u(function(e){return i.a.utils.padRight(e,64)},function(e){return l(i.a.utils.toAscii(e)).split("").map(function(e){return a.a[e]})}),E=new u(function(e){return i.a.utils.padRight(e,64)},function(e){return a.a[l(i.a.utils.toAscii(e))]}),x=new u(function(e){return i.a.utils.padLeft(e,64)},function(e){return function(e){return"0x"+e.slice(e.length-40)}(e)}),j=new u(function(e){return i.a.utils.padLeft(e[0],64)},function(e){return l(i.a.utils.toAscii(e))}),O=function(e){return new u(function(e){return e},function(t){return t.slice(2,2+64*e)})};var k=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(parseInt(e)),64)},function(e){try{return 1===i.a.utils.hexToNumber(e)}catch(t){return e}},!1)}).call(this,n(12).Buffer)},891:function(e,t,n){},902:function(e,t,n){},904:function(e,t){},905:function(e,t){},930:function(e,t,n){}},[[590,1,2]]]);
//# sourceMappingURL=main.e5712459.chunk.js.map