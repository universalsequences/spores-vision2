{"version":3,"sources":["components/waitlist/Waitlist.js","components/video/regular-shader/fragment.js","components/video/regular-shader/vhs.js","components/video/regular-shader/filter.js","components/video/useVideoSize.js","components/video/useVideoShader.js","components/video/VideoContentShader.js","components/video/blurred-shader/vertex.js","components/buttons/PlayButton.js","components/player/Playbar.js","components/video/PlaybarContainer.js","components/video/message-constants.js","components/video/useVideoController.js","components/video/message-parser.js","actions/index.js","constants/action-types.js","components/player/SimpleControls.js","components/waveform/SongWaveform.js","components/hooks/useSporesMessageHandler.js","decentralized/EthereumEventLog.js","decentralized/EthereumTopic.js","decentralized/EthereumEvents.js","decentralized/EthereumQuery.js","decentralized/BackendQuery.js","decentralized/BackendQueryRunner.js","spores/samples.js","components/samples/SampleInfo.js","constants/collections.js","components/hooks/useTokensOnSale.js","components/buy/test.js","components/hooks/useBuy.js","components/buy/FinalizePurchase.js","components/buy/BuyPlayerFlow.js","components/nft-jacker/BuyUnsold.js","spores/sign.js","spores/newSpore.js","engine/audio.js","utils/mp3.js","utils/decode.js","components/hooks/useAudioPlayer.js","components/spore/JollyRancherPlayer.js","components/heatmap-player/HeatmapPlayer.js","components/hooks/useInterval.js","jacker/jack.js","components/hooks/useTokenMetadata.js","utils/getJackFromToken.js","components/recording/FinishedUploading.js","components/modal/Modal.js","components/progressbar/UnknownProgressBar.js","spores/getSporeRemixes.js","components/recording/SporeRecorded.js","components/nft-jacker/ShuffleButton.js","components/hooks/useRemixListener.js","components/player/SporeEmbed.js","components/hooks/useSporeListener.js","components/video/VideoJacker.js","components/video/control.js","components/drops/Gen3Info.js","components/ens/ENSName.js","components/Colors.js","components/spore/SporeHeatMap.js","components/spore/AudioPlayer.js","components/nft-jacker/ShareButton.js","components/remix/RemixPlayer.js","components/remix/RemixList.js","spores/getSporeHashIcon.js","components/drops/Glossary.js","components/drops/Drop.js","components/drops/NextGen.js","constants/stem-types.js","decentralized/contracts/StemsContract.js","stems/getStemz.js","stems/contract.js","zpore/getDropAddress.js","stems/getStems.js","components/zpore/tooltip/ZorbSampleTooltip.js","utils/hardcoded-zorbs.js","utils/zorbs.js","components/zpore/multiplayer/BlendAnimation.js","components/svg/CloseIcon.js","components/ux/paths.js","components/ux/eval.js","components/ux/dsl.js","components/ux/CurveDiv.js","utils/zorb-abi.js","utils/getZorb.js","components/zpore/multiplayer/LeakController.js","components/zpore/header/ScrubUX.js","components/progressbar/Circular.js","components/zpore/remixes/LoadingRemix.js","components/zpore/header/SongSelector.js","components/zpore/header/TextAndTime.js","components/zpore/header/MultiplayerIcon.js","utils/formatDate.js","components/zpore/header/Clock.js","backend/cacheServer.js","zpore/abi/zpore-minter.js","zpore/zpore.js","zpore/getZporeRemixes.js","components/zpore/header/ZporeControlHeader.js","utils/Notes.js","stems/getTransposeDifference.js","erc721/attributes.js","components/zpore/multiplayer/multiplayer.js","components/hooks/useZporePlaybackListener.js","components/zpore/ZporeLoading.js","components/ux/filters.js","components/zpore/remixes/RemixDNADetails.js","components/zpore/remixes/curve-algorithms.js","components/zpore/remixes/RemixDetails.js","components/zpore/remixes/Zorb.js","components/zpore/remixes/ScrubBar.js","components/zpore/remixes/CurrentlyPlaying.js","components/zpore/remixes/StemTraits.js","components/zpore/remixes/getPath.js","components/zpore/remixes/SporeRoots.js","components/zpore/header/getLeakTime.js","components/zpore/remixes/RemixCard.js","components/zpore/remixes/ZorbRemixView.js","components/zpore/remixes/ZorbRemixes.js","player/controls.js","constants/play-statuses.js","components/zpore/zorbs/ZorbAnimation.js","flags/flags.js","components/zpore/saving/SavingProgressInfo.js","components/zpore/saving/useZporeMintPrice.js","components/zpore/saving/getRuler.js","components/zpore/saving/useCroppedStemsData.js","components/zpore/saving/screenshot.js","utils/cropAndStore.js","components/zpore/saving/usePostRemix.js","components/zpore/saving/SlicingTooltip.js","components/zpore/saving/getBeatPoints.js","components/zpore/saving/useMagneticSlicer.js","components/zpore/saving/SliceWaveformSVG.js","components/zpore/saving/Captioner.js","components/zpore/saving/SliceWaveform.js","components/zpore/saving/useWaveformPlayer.js","components/zpore/saving/SliceRecorder.js","components/zpore/saving/useRecordingListener.js","components/zpore/zorbs/ZorbOption.js","components/zpore/zorbs/ZorbSelector.js","utils/shuffle.js","components/zpore/multiplayer/useLeaks.js","components/zpore/Zpore.js","components/lock/TimeRemaining.js","spores/chillRX.js","utils/getGateway.js","jacker/save.js","components/nft-jacker/HistoryItemSource.js","components/nft-jacker/History.js","components/hooks/useJacker.js","jacker/artist.js","components/hooks/useLatestJacks.js","components/nft-jacker/EchoSearchBox.js","components/nft-jacker/BuyThisSkin.js","components/metadata/TokenMetadata.js","constants/cheat-codes.js","components/hooks/useTokenLock.js","decentralized/contracts/SporesPlaylistContract.js","components/lock/LockedNotification.js","spores/playlist.js","components/chart/PlaylistInfo.js","components/chart/JuicePlaylists.js","components/hooks/usePlaylists.js","components/chart/Chart.js","components/hooks/useScroll.js","components/spore/VisualLinks.js","components/spore/docs.js","components/spore/HelperLines.js","components/spore/PlayerHelper.js","components/nft-jacker/Info.js","components/nft-jacker/JackerPlayer.js","jacker/stem-splitter.js","components/nft-jacker/Navigation.js","components/drops/Thugger.js","components/nft-jacker/NFTJacker.js","components/hooks/useCoverArtColors.js","components/drops/InMySoul.js","components/stems/ToggleSwitch.js","utils/decodeAudioData.js","components/stems/StemLoop.js","components/stems/SongStems.js","components/fields/ZoraField.js","components/stems/SongKey.js","components/stems/SaveFlow.js","components/stems/StemTypes.js","components/stems/StemOption.js","components/stems/Stems.js","App.js","registerServiceWorker.js","reducers/index.js","reducers/playback.js","reducers/playlist.js","reducers/spore.js","store/index.js","index.js","utils/sleep.js","decentralized/web3.js","decentralized/chords/NoteConstants.js","mp3/mp3-noworker.js","mp3/mp3.js","repos/Sample.js","utils/ipfs.js","decentralized/Ipfs.js","components/hooks/useAudioDrop.js","utils/addToPinata.js","decentralized/EthereumDataTypes.js"],"names":["connect","state","props","dispatch","_useState","useState","_useState2","Object","slicedToArray","submitted","setSubmitted","_useState3","_useState4","value","setValue","submit","useCallback","fetch","base","method","headers","Accept","Content-Type","body","JSON","stringify","email","react_default","a","createElement","className","style","width","src","placeholder","onChange","e","target","height","d","onClick","fragmentShader","concat","useVideoSize","videoRef","setHeight","setWidth","useEffect","current","addEventListener","onLoad","removeEventListener","offsetHeight","offsetWidth","useVideoShader","_ref","canvasRef","ref","_ref$resolution","resolution","vertexShader","uniforms","renderer","useRef","scene","camera","shaderUniforms","init","animate","THREE","setPixelRatio","setSize","domElement","appendChild","geometry","objectSpread","video","material","mesh","add","requestAnimationFrame","render","VideoContentShader","started","_useVideoSize","isMobile","PlayButton","onPlayClicked","stopPropagation","parentNode","blur","currentTarget","resume","Tone","Master","context","_context","then","x","play","isPlaying","onMouseDown","onTouchStart","borderColor","color","Playbar","playerRef","scrubRef","setWaveform","progress","setProgress","_useState5","_useState6","setPlaying","_useState7","_useState8","setStarted","_useState9","_useState10","scrubbing","setScrubbing","_useState11","undefined","_useState12","scrub","setScrub","window","finishScrub","onMouseMove","onMessage","data","type","parseFloat","playing","parseInt","contentWindow","postMessage","touches","rect","getBoundingClientRect","percent","clientX","left","Math","max","min","format","duration","hrs","mins","secs","ret","top","Playbar_Playbar","abs","TYPE_TO_NAME","space-slider-value","filter-slider-value","juice-slider-value","space-effect-levels","gate-strength","song-bpm","playback-bpm","is-rolling","rolling-rate","useVideoController","baseBPM","lastTime","nextTick","lastVideoTime","gateTimer","coolDownStartTime","isCoolingDown","Date","getTime","startCoolDown","time","blurDirection","blurring","playRate","isRolling","rollRate","filterSliderValue","spaceSliderValue","spaceEffectLevels","ticks","gateStrength","setIsPlaying","setInterval","blurLoop","fastForward","rate","playbackRate","nextTime","currentTime","rewind","name","parseMessage","pause","sec","drift","isDrifting","fastSeek","bpm","setCurrentPlaylistSong","song","payload","setSoldPlayers","sold","setSongLoaded","console","log","buttons_PlayButton","RATIO","SongWaveform","memo","waveform","_ref$isWaveformRainbo","isWaveformRainbow","_ref$width","parts","i","length","pow","p","y","HEIGHT","r","g","b","push","map","part","fill","useSporesMessageHandler","callback","EthereumEventLog","event","topics","classCallCheck","this","_len","arguments","Array","_key","EthereumTopic","size","convertTo","convertFrom","SampleTagged","IPFS_HASH","BYTES_32","INT_32","SampleCreated","INT_16","RIGHT_PADDED_BYTES_32","ADDRESS","STRING","NewUnofficialSporeCreated","UINT_256","NOTE_BYTES_32","NOTES_BYTES_32","INT_8","BYTES_32_ENCRYPTED","BYTES_32_ARRAY","BYTES_32_LEFT","NewSporesPlaylist","NewSong","NewStem","BOOLEAN","NewDefaultSongConfiguration","SongConfigurationStem","NewStemType","ZporeDropCreated","MintPriceUpdated","SongAttribute","metamaskInstalled","web3","EthereumQuery","address","distinct","selectStatements","whereClauses","groupBy","joinClauses","limitSize","fromBlockNumber","toBlockNumber","eventLog","arg","col","WhereClause","valueList","field","JoinClause","fromBlock","utils","toHex","toBlock","limit","sha3","toAdd","j","whereClause","_this","Promise","resolve","reject","eth","getPastLogs","getTopics","err","results","parsedResults","reverse","parseResult","_callee","blockNumber","_this2","regenerator_default","wrap","prev","next","getBlockNumber","sent","web3WSS","subscribe","result","stop","resultSet","select","dataIndexSoFar","fieldIndex","fieldData","slice","query","toConsumableArray","hexToNumber","argName","argValue","runner","BackendQueryRunner","runningQueries","Set","queryJson","asyncToGenerator","_regeneratorRuntime","mark","url","sleep","LOCAL_BACKEND_FLAG","location","hostname","resp","json","removeQuery","catch","_x","_x2","apply","delete","setTimeout","BackendQuery","_super","call","isNFT","getJson","GUILD_SAMPLES","getSampleInfo","samples_regeneratorRuntime","id","unfiltered","item","tagsQuery","tagResults","from","where","executeQuery","abrupt","SampleInfo","currentSample","setCurrentSample","sampleInfo","setSampleInfo","sampleWaveform","setSampleWaveform","goToPrevious","goToNext","title","waveform_SongWaveform","CHILL_RX_COLLECTION","useTokensOnSale","tokensOnSale","setTokensOnSale","getTokensOnSale","cache","loading","useTokensOnSale_regeneratorRuntime","baseURL","includes","account","_askPrice","_thumbnail","onCompletedBuy","onCancel","cart","onDone","contractAddress","balanceData","useBalance","addressOrName","useSigner","balance","formatted","finished","setFinished","error","setError","setCurrent","waitingForWallet","setWaitingForWallet","confirming","setConfirming","buy","contract","_useSigner","signer","signerRef","isError","isLoading","useBuy_regeneratorRuntime","tokenId","fillAmount","askModuleContract","ask","tx","toString","AsksV11__factory","mainnetZoraAddresses","AsksV1_1","askForNFT","ethers","parseEth","askPrice","fillAsk","t0","useBuy","thumbnail","find","number","indexOf","total","obj","completeBuy","hash","wait","playsInline","muted","autoPlay","loop","PulseLoader_default","sizeUnit","open","chunk_UIIB4ABT","accountStatus","showBalance","smallScreen","largeScreen","label","setBuying","setCompletedBuy","_useAccount","useAccount","_useTokensOnSale","buy_FinalizePurchase","setCart","soldPlayers","spore","upperGradInverted","_ref$soldPlayers","text","showRemaining","onCompleteSale","buying","unsold","filter","borderBottomColor","BuyPlayerFlow","href","signMessage","sign_regeneratorRuntime","msg","flatSig","flatSignature","splitSignature","newSpore","spTokenId","collectionAddress","recordingHash","dataHash","newSpore_regeneratorRuntime","message","_yield$signMessage","s","v","ipfsHashToBytes32","transactionHash","AudioUnit","require","source","buffer","looping","playSound","bind","seek","stopSound","gain","Gain","disconnect","isLooping","createBufferSource","start","mp3Recorder","_counter","decode","mp3_regeneratorRuntime","mp3Data","counter","Worker","onmessage","decodeMP3","_ref2","_callee2","_yield$decode","decoded","sampleRate","position","ctxt","_buffer","channelDataL","channelDataR","l","_context2","createBuffer","getChannelData","_x3","decodeAudioData","blob","decode_regeneratorRuntime","sliced","_r","TextDecoder","Int8Array","t1","bufferToArrayBuffer","getSound","useAudioPlayer_regeneratorRuntime","startsWith","ipfs","useAudioPlayer","audioPlayer","setAudioPlayer","currentHash","loaded","setLoaded","setLoading","startTime","togglePlay","dispose","arrayBuffer","audioBuffer","player","setBuffer","_ref$height","sendHeatmapHash","datahash","sandbox","allowtransparency","aria-describedby","alt","borderWidth","disabled","_useAudioPlayer","spore_JollyRancherPlayer","useInterval","delay","savedCallback","clearInterval","CHAOS_COLLECTION","getMetadata","replace","animation_url","audio_url","jack","jack_regeneratorRuntime","getTokenMetadata","_yield$getParts","release","meta","toLowerCase","getParts","getZoraAPI","metadata","re","matches","_indexOf","soundxyzPath","_baseURL","str","_indexOf2","_soundxyzPath","_ret","_json","match","split","_ref3","_callee3","_indexOf3","soundxyz","_indexOf4","_ret2","_args3","_context3","join","_x4","useTokenMetadata","useTokenMetadata_regeneratorRuntime","provider","tokens","providers","InfuraProvider","IERC721Metadata__factory","BigNumber","tokenURI","getJackFromToken","getJackFromToken_regeneratorRuntime","link","jacked","usedCheatCode","playlistLoaded","playlist","currentSong","setPendingSpores","setCurrentSong","recordedRemix","complete","loadJack","waitingOnSign","setWaitingOnSign","recording","sliderData","modeData","setTransactionHash","save","FinishedUploading_regeneratorRuntime","pending","localStorage","removeItem","getItem","parse","setItem","nextSong","loadNext","inner","heatmap_player_HeatmapPlayer","children","hide","_ref$className","_ref$intervalTime","intervalTime","_ref$intervalPiece","intervalPiece","setLoadingProgress","interval","borderRadius","margin","right","bottom","getSporeRemixes","getSporeRemixes_regeneratorRuntime","big","parsed","pend","padLeft","toHexString","isNaN","getPending","getRemixByNumber","_x5","getRemixesMap","_ref4","_callee4","collections","_iterator","_step","_context4","updatePending","_createForOfIteratorHelper","n","done","f","_step2","_iterator2","sporeHash","_step3","_pending","_iterator3","_step4","skip","_iterator4","uploadingRemix","onRemixSigningCompleted","savedToLocal","setSavedToLocal","modal_Modal","recording_FinishedUploading","progressbar_UnknownProgressBar","hideWaveform","buttonTextColor","innerControls","innerWidth","backgroundColor","useRemixListener","clear","remixId","setRecordedRemix","TEST_REMIX_UPLOAD_FLAG","setUploadingRemix","remixToPlay","setRemixToPlay","sliderChanges","modeChanges","addJson","setPlayerRef","simpleControls","zorbId","isFullScreen","_ref$songTitle","songTitle","artist","stems","setStems","_ref$url","hideControls","isSimple","_ref$color","_useRemixListener","totalRemixes","onReceive","useSporeListener","recording_SporeRecorded","nft_jacker_ShuffleButton","innerHeight","samples_SampleInfo","_ref$videoURL","videoURL","_ref$playerURL","playerURL","lightweight","_useVideoController","showControls","setShowControls","togglePlayControls","player_SporeEmbed","video_VideoContentShader","preload","preLoad","opacity","crossorigin","video_PlaybarContainer","showPitch","setShowPitch","page","setPage","ENSName","_useEnsName","useEnsName","truncate","brightCache","getHSLString","h","getHSLFromString","_str$split","substring","_str$split2","hPart","sPart","lPart","index","hslToHex","k","round","padStart","Colors","c","toUpperCase","shift","_getHSLFromString","warmth","rotate","_getHSLFromString2","factor","lightFactor","lightForce","_getHSLFromString3","_RGBToHSL","cmin","cmax","delta","toFixed","RGBToHSL","getRGB","hsl","brightenHSL","cacheResult","floor","rgb","_getHSLFromString4","colors","heatRoot","bucketSize","saturation","getBuckets","heat","regions","buckets","SporeHeatMap_createForOfIteratorHelper","values","q","_loop","some","_ref$center","center","_ref$saturation","maxStep","keys","step","warm","creator","formatTime","minutes","seconds","_ref$songName","songName","_ref$artist","externalURL","audioUnit","store","preset","setPreset","sporeMetadata","WIDTH","playTime","setPlayTime","startPoint","setMouseSeeker","diff","onClickPlay","mouseSeek","ens_ENSName","setShowModal","showShareModal","lowerGradInverted","buttonBgColor","isCopied","setIsCopied","shareUrl","Fragment","index_esm","fa_index_esm","cursor","navigator","clipboard","writeText","TwitterShareButton","TwitterIcon","FacebookMessengerShareButton","quote","FacebookMessengerIcon","RedditShareButton","RedditIcon","TelegramShareButton","TelegramIcon","WhatsappShareButton","separator","WhatsappIcon","EmailShareButton","subject","EmailIcon","remix","setRemix","shareLink","nft_jacker_ShareButton","sporeId","spore_AudioPlayer","RemixListItem","hashedIcon","svgToTinyDataUri","uid","c1","c1_","c2","triad","getSporeHashIcon","backgroundImage","_ref$creatorsToIgnore","creatorsToIgnore","remixData","setRemixData","noRemixes","setNoRemixes","RemixList_RemixListItem","CREATORS_TO_IGNORE","Drop","_ref$askPrice","remixes","remix_RemixPlayer","remix_RemixList","drops_Glossary","entered","setEntered","remove","setRemove","drops_Gen3Info","drops_Drop","0","1","2","3","4","StemsContract","abi","anonymous","inputs","indexed","internalType","outputs","stateMutability","components","Contract","cached","getSongs","getStemz_regeneratorRuntime","songIds","songs","defaultStems","_songs","songId","_query","found","stemIds","typesQuery","songDefaultStems","types","_stems","whereIn","getDefaultStems","getStemz_createForOfIteratorHelper","finish","stemId","stem","isDefaultStem","_types","stemTypes","stemType","prettyStemTypes","t2","configIdToSongId","configIds","stemsQuery","stemResults","songToStems","_iterator5","_step5","_result","has","configId","STEMS_CONTRACT","getDropAddress","getDropAddress_regeneratorRuntime","dropAddress","fetchSongMetadata","getStems_regeneratorRuntime","attributes","_attributes","getAttributesForSongs","forEach","getSongTitle","S3_BASE","fetchStemIds","object","ipfsHashes","ipfsToStemId","synths","drums","getStems_createForOfIteratorHelper","uri","computeForType","history","endTime","totalTime","stemToTime","lastIpfsHash","_i","_arr","_ref6","_ref5","ipfsHash","timeChunk","stemToPercentage","_ref7","songToAttributes","attributeType","attributeValue","getStemFromURI","_ref8","_callee5","_results$","typeQuery","typeResults","songQuery","songResults","_songResults$","_context5","tooltip","setTooltip","timer","clearTimeout","HARDCODED","__typename","tokenContract","network","description","symbol","chain","mintInfo","price","chainTokenPrice","decimal","raw","nativePrice","currency","decimals","usdcPrice","originatorAddress","toAddress","mintContext","blockTimestamp","logIndex","lastRefreshTime","owner","image","mimeType","mediaEncoding","original","large","poster","content","args","endPoint","networks","ZDKNetwork","Ethereum","ZDKChain","Mainnet","apiKey","zdk","ZDK","useTokenOwners","setIsLoading","zorbs","setZorbs","_account","collectionAddresses","ownerAddresses","nodes","token","leak","leakCounter","blendStartTime","percentage","setPercentage","onTick","viewPort","version","xmlns","x1","y1","x2","y2","stroke","stroke-width","N","S","W","E","go","dir","len","corner","side","sideLength","nextLength","radius","depth","_go","smooth","a1","b1","a2","b2","_corner","_radius","relativeValue","_a","_b","isArray","getAttributes","sideAlgo","relative","_relative","eval_createForOfIteratorHelper","attr","flattenAlgo","_sideAlgo","operations","attribute","walk","curve","tension","end","mirror","cut","_factor","_walk","curve1","curve2","CurveDiv","_ref$top","svgFilter","_ref$fill","_ref$stroke","_ref$algo","algo","_ref$relative","_ref$radius","_size","ResizeObserver","observe","_peval","xIncrease","yIncrease","ogRadius","_s","peval","blockSize","def","getZorb","Web3","HttpProvider","methods","starter","atob","hideLeaks","_zorbId","DROP_ALGO","revert","remixCreator","ux_CurveDiv","color-interpolation-filters","dx","dy","stdDeviation","flood-opacity","multiplayer_BlendAnimation","svg_CloseIcon","setIsScrubbing","mouseDown","isScrubbing","mouseProgress","setMouseProgress","clock","setClock","_progress","circum","PI","arr","pop","offset","stop-color","strokeWidth","cx","cy","strokeDashoffset","strokeDasharray","Circular","songLoaded","setLeakLoaded","setSongs","loadSong","remixes_LoadingRemix","leakTime","ceil","hours","days","timeElapsed","setText","zorb1","zorb2","viewBox","stroke-opacity","formatClock","triggerRefresh","minter","goerli","newZpore","zpore_regeneratorRuntime","remixURI","stemsData","detune","mintPrice","percentages","remixPercentages","contractAddresses","key","_key$split","_key$split2","_args","zpore_createForOfIteratorHelper","contentURI","coverArtURI","stemPercentages","ids","Goerli","getZporeRemixes","getZporeRemixes_regeneratorRuntime","includeFullDetails","tokenUrl","A","B","C","nextLeak","chooseLeak","setShowRemixes","setRemixes","userZorbs","objectWithoutProperties","showingSongs","setShowingSongs","DROP_ALGO_2","leakCreator","zorb","userZorb","dateLeaked","header_TextAndTime","header_MultiplayerIcon","header_SongSelector","player_SimpleControls","header_Clock","header_ScrubUX","baseNotes","NOTE_TO_INDEX","C#","D","D#","F","F#","G","G#","A#","BLACK_NOTES","STRING_TO_NOTE","Note","note","octave","remainder","modulo","div","noteIndex","middleC","other","fromString","useCache","NOTES","Notes","fromTranspose","transpose","getCopy","getTransposeDiff","_a$key$split","_a$key$split2","noteA","_b$key$split","_b$key$split2","noteB","transposeA","getTranspose","transposeB","getAttributeValue","trait_type","traitType","getAttributeMapping","attributes_createForOfIteratorHelper","lastArgs","execute","multiplayer","multiplayer_regeneratorRuntime","otherSong","songOffset","otherSongOffset","_leak$attributes","leakBPM","bpms","transposeOff","bpmRatio","adjustedOffset","semitones","sound","sort","downloadedAudio","onset","volume","shownProgress","velocity","SHADOW_FILTER","SHADOW_NOISE_FILTER","stc","remixDNA","stemKeys","RemixDNADetails_createForOfIteratorHelper","remixAtom","t","saturate","AlgorithmicCurve","params","curveAlgorithm","walk1","depth1a","walk2","depth1b","walk3","depth2a","walk4","depth2b","formatName","formatToken","curve_algorithms_AlgorithmicCurve","remixes_RemixDNADetails","Zorb","setZorb","assign","remixStats","fullscreen","setFullScreen","genImg","remixes_RemixDetails","stats","remixes_ScrubBar","remixes_Zorb","traits","fl","SporeBranch","to","refs","positions","setPositions","toRect","fromRect","_positions","points","pts","getPathString","isHorizontal","y_a","getPath","rootRef","SporeRoots_SporeBranch","RemixCard","_ref$stats","setRefs","hover","setHover","setData","RemixCard_regeneratorRuntime","remixes_StemTraits","onMouseOver","onMouseLeave","getLeakTime","deepRemixes","setArtist","setTitle","class","fill-rule","playStatus","playback","show","setRemixId","setShow","soundURL","setSoundURL","setAutoPlay","setRemixStats","alreadyLoaded","ZorbRemixes_regeneratorRuntime","res","remixes_ZorbRemixView","remixes_CurrentlyPlaying","zorbStartPosition","animating","setAnimating","set","property","document","documentElement","setProperty","useFlags","PLAYLIST_FLAG","CHARTS_FLAG","TOKEN_LOCK_FLAG","CHILLRX_FLAG","ABOUT_TO_END_FLAG","OWN_FAKE_SPORE_FLAG","download","downloading","transaction","isWaitingForSignature","deployed","getMintPrice","useZporeMintPrice_regeneratorRuntime","newMintPrice","SECONDS_PER_STEP","useCroppedStemsData","loopsData","remixesHistory","silence","startStep","croppedStemsData","setCroppedStemsData","croppedSynths","cropData","croppedDrums","croppedRemixes","_startTime","_endTime","computed","synthPercentages","drumPercentages","computeStemsData","recordEndTime","debug","firstField","prevField","useCroppedStemsData_createForOfIteratorHelper","lastField","cropAndStore","cropAndStore_regeneratorRuntime","totalSize","startOffset","lengthOffset","mp3","Float32Array","subarray","exportToMP3","addToPinata","samples","mp3encoder","lamejs","Mp3Encoder","leftChunk","rightChunk","mp3buf","encodeBuffer","flush","Blob","isBlob","FormData","append","pinata_api_key","pinata_secret_api_key","IpfsHash","isTime","SlicingTooltip","beatGuide","setBPM","setDetune","_start","_beatGuide$i","_bpm","_detune","_time","sumBpm","sumDetune","_matches","getBeatPoints","getBeatPoints_createForOfIteratorHelper","stepNumber","x_offset","setPts","beatPoints","isInside","isBar","caption","setCaption","screenshot","saving","setSaving","setIsWaitingForSignature","setDownloading","isCaptioning","setIsCaptioning","_useState13","_useState14","setDownload","_useState15","_useState16","setTransaction","_useState17","_useState18","_useState19","_useState20","_width","_useMagneticSlicer","_ref$bpm","setStart","setLength","draggingStart","setDraggingStart","draggingEnd","setDraggingEnd","lengthRef","beats","quantizeLength","secondsPerStep","steps","modded","quantize","minDistance","useMagneticSlicer_createForOfIteratorHelper","beat","dist","pageX","newStart","newLength","dragStartControl","dragEndControl","onMouseUp","quantized","quantizedLength","useMagneticSlicer","defineProperty","_useZporeMintPrice","setDropAddress","setMintPrice","useZporeMintPrice","_useWaveformPlayer","startRef","playhead","setPlayhead","AudioBuffer","numberOfChannels","copyToChannel","useWaveformPlayer","_React$createElement","post","usePostRemix_regeneratorRuntime","usePostRemix","saving_SavingProgressInfo","saving_Captioner","SliceWaveformSVG","saving_SlicingTooltip","setIsSlicing","_useRecordingListener","setScreenshot","setSilence","setStartStep","loopsDataRef","setLoopsData","setStemsData","setStartTime","setEndTime","setBeatGuide","_useState21","_useState22","setRemixesHistory","useRecordingListener","saving_SliceWaveform","containerRef","setZorbId","setZorbStartPosition","selected","pointerEvents","loot","ZorbSelector_createForOfIteratorHelper","setHide","shuffle","array","temporaryValue","randomIndex","currentIndex","random","MIN_LEAK","fetchAllLeaks","useLeaks_regeneratorRuntime","drops","leaks","useLeaks_createForOfIteratorHelper","minTokenId","delegateYield","sortAlgorithm","dates","dateOrdering","pickLeaks","range","songProbability","list","picked","remaining","items","_loop2","_items","remaining1","remaining2","pick","AMPLIFY","setPlayStatus","useZporePlaybackListener","showRemixes","isSlicing","_useState23","_useState24","insertedZorb","setInsertedZorb","_useState25","_useState26","_useState27","_useState28","_useLeaks","setLeakTime","setLeaks","setNextLeak","loadedLeak","setLoadedLeak","available","_nextLeak","Uint8Array","useLeaks","_songId","clicks","pushState","remixes_ZorbRemixes","saving_SliceRecorder","zorbs_ZorbSelector","zorbs_ZorbAnimation","zpore_ZporeLoading","header_ZporeControlHeader","multiplayer_LeakController","tooltip_ZorbSampleTooltip","secondsRemaining","SONG_NAMES","SONG_TO_TOKENS","5","6","7","8","9","10","getChillRXSongs","coverArt","tokenIds","PINATAS","mintsongs","zora","sound.xyz","zequencer","catalog","extractIPFS","getGatewayLink","externalLink","save_regeneratorRuntime","Source","textColor","HistoryItemSource_Source","cachedTokens","KEYON_SONGS","History_regeneratorRuntime","_unsold","isSporeTrack","trim","latestJacks","loadHistory","keyonSongs","setKeyonSongs","load","nft_jacker_HistoryItemSource","useJacker","setLatestJacks","setShowHistory","setLink","setShowLinkInput","chillTokenId","defaultSearch","directCollectionAddress","directTokenId","_ref$updateURL","updateURL","currentLink","setCurrentLink","setSongId","setShowDesc","setCollectionAddress","jackedAudio","setJackedAudio","buyThisSkin","setBuyThisSkin","setTokenId","setCoverArt","setSongName","setDescription","showPlayer","setShowPlayer","_useState29","_useState30","searchTerm","setSearchTerm","getChillTokenId","onJack","useJacker_regeneratorRuntime","isPlaylist","loadChillRX","shouldSave","external_url","toSave","artwork","info","EchoSearchBox","showLinkInput","setShowInfo","cheatCodeActivating","showHistory","onKeyDown","onFocus","nft_jacker_BuyUnsold","showBuyThisSkin","rel","nft_jacker_BuyThisSkin","CHEAT_CODES","isValidCheatCode","code","SporesPlaylistContract","clearPlayer","showConnectWallet","setShowConnectWallet","getJuicePlaylists","playlist_regeneratorRuntime","metadataCID","playlist_createForOfIteratorHelper","isLoaded","playlistId","setPlaylistLoaded","react_collapsible_dist_default","transitionTime","easing","trigger","JuicePlaylists","playlists","setPlaylists","usePlaylists","chart_PlaylistInfo","SongInfo","selectedTab","section","thumb","setThumb","collectionName","possibleThumbnail","_coverArt","numRemixes","_token","onError","_ref$history","showChart","chartData","setChartData","setChillRXData","searchTermRef","lastCursorUsed","setSelectedTab","searchId","initialSize","padding","scrollPosition","scrollTo","onScroll","el","scrollTop","scrollHeight","useScroll","Chart_regeneratorRuntime","_searchTerm","display","chart_JuicePlaylists","Chart_SongInfo","getLocation","element","bounding","bound","helperBox","helperRefs","locations","setLocations","playerEl","helperEl","playerLocation","helperLocation","stopColor","docs","centerButton","ledButton","spButton1","spButton2","slider2","slider4","slider3","slider1","sliderHovered","doc","spore_VisualLinks","setSliderHovered","setSelected","spore_HelperLines","onTouchEnd","calculateTimeLeft","year","getFullYear","difference","timeLeft","H","M","setTimeLeft","timerComponents","getKeyonBPM","JackerPlayer_regeneratorRuntime","DEFAULT_JACKER_URL","CHILL_RX_URL","locked","showLoops","loadedURL","preloaded","setPreloaded","lastLoaded","setURL","_tokens","tokensToChoose","origin","vocals","bass","visible","setVisibility","marginTop","bi_index_esm","io_index_esm","setUsedCheatCode","setSecondsRemaining","showHelp","setShowHelp","_useLatestJacks","useLatestJacks_regeneratorRuntime","useLatestJacks","showInfo","passed","setPassed","failed","setFailed","password","setPassword","clearChart","_useTokenLock","cheatcode","setCheatCodeActivating","setLocked","isSporeOwner","setIsSporeOwner","cheatOverriden","setCheatOverriden","_tokensOnSale","_timeElapsed","LOCK_TIME","useTokenLock","_useJacker","isChillRX","_useCoverArtColors","coverGrad","setCoverGrad","setButtonTextColor","setButtonBgColor","setUpperGradInverted","setLowerGradInverted","mainColor","setMainColor","prominent","amount","group","invertedLowerColor","invert","invertedMidColor","invertedUpperColor","clearColors","useCoverArtColors","onClickPassword","background","spore_PlayerHelper","nft_jacker_Navigation","chart_Chart","nft_jacker_JackerPlayer","nft_jacker_EchoSearchBox","metadata_TokenMetadata","nft_jacker_Info","hi_index_esm","_ref$isEditable","isEditable","decodeAudioData_regeneratorRuntime","sample","isLoop","setIsLoop","stems_ToggleSwitch","setAddingMoreStems","isAdding","hasEdits","setHasEdits","currentlyPlaying","setCurrentlyPlaying","onDefaultChanged","SongStems_regeneratorRuntime","stems_StemLoop","get","isTextArea","focused","setFocused","onBlur","OPTIONS","react_dropdown_dist_default","options","setCompleted","completed","hideFields","openedSong","syncing","setSyncing","setKey","SaveFlow_regeneratorRuntime","uris","durations","isLoops","_contract","_tx","_transactionHash","SaveFlow_createForOfIteratorHelper","newStems","newSong","saveNewConfiguration","fields_ZoraField","stems_SongKey","setTypes","toggle","num","typeNumber","deleteSample","stems_StemTypes","addingToSong","setAddingToSong","_useAudioDrop","useAudioDrop","isUploading","onDrop","setSong","preventDefault","dataTransfer","effectAllowed","dropEffect","onDragOver","_song","stems_SongStems","stems_StemOption","stems_SaveFlow","configureChains","infuraProvider","infuraId","publicProvider","chains","connectors","getDefaultWallets","appName","wagmiClient","createClient","autoConnect","App","spores","react","fallback","wagmi_esm","client","theme","darkTheme","accentColor","accentColorForeground","BrowserRouter","Switch","Route","path","drops_InMySoul","drops_Thugger","zpore_Zpore","NextGen","video_VideoJacker","stems_Stems","waitlist_Waitlist","Boolean","rootReducer","combineReducers","action","showPlaylistMenu","leakLoaded","pendingSpores","createStore","ReactDOM","es","src_App_0","getElementById","serviceWorker","ready","registration","unregister","__webpack_require__","__webpack_exports__","web3__WEBPACK_IMPORTED_MODULE_0__","web3__WEBPACK_IMPORTED_MODULE_0___default","WebsocketProvider","asciiToNote","_web3_js__WEBPACK_IMPORTED_MODULE_1__","noteToAscii","noteToBytes32","asciiToHex","tmp","Decoder","wasm","decoder_init","decoder_set_mp3_data_size","byteLength","memory","decoder_mp3_data_offset","decoder_mp3_data_size","decoder_seek","decoder_decode","pcm","Int16Array","decoder_pcm_data_offset","decoder_pcm_data_size","samplingRate","decode_results_sampling_rate","numChannels","decode_results_num_channels","numSamples","decode_results_num_samples","decoder_current_time","createDecoder","wasmUrl","mp3_noworker_regeneratorRuntime","WebAssembly","instantiate","instance","exports","decoder","merged","Uint16Array","decodeNoWorker","Sample","_Users_alecresende_code_spores_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","Buffer","bs58","ipfs_hash","xhr","XMLHttpRequest","IPFS_ADDRESS","END","httpV","httpsV","IpfsClient","_Users_alecresende_code_spores_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_1__","controllers","protocol","backupIpfs","ipfsClient","centralIpfs","_centralIpfs","self","connectedLocally","finishedTestingLocalConnection","onreadystatechange","readyState","status","connectToCentral","keepSwarmConnectionAlive","timeout","ontimeout","send","local","dht","findprovs","maxNumProviders","swarm","_this3","sequencerEngine","getSequenceId","getState","sequencer","addHelper","addBlobAndSaveToDB","_this4","_ipfs","_this5","ipfsObject","pin","_this6","noUTF","ipfsPath","_this7","useCentral","isBytes","restart","cat","file","controller","AbortController","signal","abort","_url","getIPFSPrefix","_Users_alecresende_code_spores_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_0__","dateA","response","dateB","readAllChunks","mergeArrays","bytesArray","_this8","fileReader","FileReader","onload","_this9","readAsArrayBuffer","filereader","readasarraybuffer","readableStream","reader","getReader","chunks","pump","read","_this11","_callee6","_context6","_callee7","dateC","processed","_context7","processArray","_x6","ArrayBuffer","findEnd","arrays","skipEnd","count","ending","iter","foundIndex","_this12","_Users_alecresende_code_spores_frontend_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_1__","setSamples","setIsUploading","ev","promises","_samples","kind","uploadFile","getAsFile","all","onloadend","alert","nullBytes32","EthereumDataType","toConversion","fromConversion","jsValue","ethereumValue","trimEmpty","trimmed","charCodeAt","charAt","hash_hex","buf","encode","bytes32ToIPFSHash","numberToHex","toAscii","padRight","fromAscii","stripLeadingZeroes","getAddress"],"mappings":"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","file":"static/js/main.a076d5de.chunk.js","sourcesContent":["import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './waitlist.scss';\n\nconst Waitlist = (props) => { \n    let [submitted, setSubmitted] = useState(false);\n    let [value, setValue] = useState('');\n\n    const submit = useCallback(() => {\n        let base = \"https://zequencer.io\"; //\"http://localhost:9090\";\n        fetch(base + \"/spores-waitlist\",{\n            method: \"POST\",\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json'\n            },\n            body: JSON.stringify({\n                email: value\n            })\n        });\n        setSubmitted(true);\n    }, [setSubmitted, value]);\n\n    return (\n        <div className=\"waitlist flex h-screen  \">\n          <div className=\"m-auto inner-waitlist\">\n            <img style={{width: \"200px\"}} className=\"mx-auto\" src=\"/spore-logo-future4.png\"/>\n            <div className=\"info text-lg\">\n              What's your email?\n            </div>\n            <div className=\"info-next text-base mx\">\n              We'll send you an invite when the time is right.\n            </div>\n            <input className=\"w-full email-input mt-6 outline-0 text-base text-white bg-transparent\" value={value} placeholder=\"Enter your email\" onChange={e => setValue(e.target.value)}/>\n            {submitted &&\n             <div className=\"submitted-text\">\n               You've been added to the waitlist!\n               <svg height=\"13\" width=\"16\"><path d=\"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z\"></path></svg>\n             </div>}\n             <div\n               onClick={submit}\n               className= {!submitted && value !== \"\" ? \"ok-btn pushable show\" : \"ok-btn pushable\"}>\n            \n               OK <svg height=\"13\" width=\"16\"><path d=\"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z\"></path></svg>\n             </div>\n          </div>\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Waitlist);\n","import {VHS} from './vhs.js';\nimport {FILTER} from './filter.js';\n\nexport const fragmentShader = `\n\nuniform sampler2D video;\nuniform float width;\nuniform float height;\nuniform float gateStrength;\nuniform float playRate;\nuniform float isRolling;\nuniform float ticks;\nuniform float rollRate;\nuniform float blurring;\nuniform float filterSliderValue;\nuniform float spaceEffectLevels;\nuniform float spaceSliderValue;\n\nvec4 blur(float Size) {\nfloat Pi = 6.28318530718; // Pi*2\n    \n    // GAUSSIAN BLUR SETTINGS {{{\n    float Directions = 16.0; // BLUR DIRECTIONS (Default 16.0 - More is better but slower)\n    float Quality = 4.0; // BLUR QUALITY (Default 4.0 - More is better but slower)\n    //float Size = 8.0; // BLUR SIZE (Radius)\n    // GAUSSIAN BLUR SETTINGS }}}\n   \n    vec2 Radius = Size/vec2(width, height); //iResolution.xy;\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n    // Pixel colour\n    vec4 Color = texture2D(video, uv);\n    \n    // Blur calculations\n    for( float d=0.0; d<Pi; d+=Pi/Directions)\n    {\n\t\tfor(float i=1.0/Quality; i<=1.0; i+=1.0/Quality)\n        {\n\t\t\tColor += texture2D(video, uv+vec2(cos(d),sin(d))*Radius*i);\t\t\n        }\n    }\n    \n    // Output to screen\n    Color /= Quality * Directions - 15.0;\n\n    return Color*0.6;\n}\nvec4 blur9(sampler2D image, vec2 direction) {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec2 resolution =  vec2(width, height); \n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\n// A single iteration of Bob Jenkins' One-At-A-Time hashing algorithm.\nuint hash( uint x ) {\n    x += ( x << 10u );\n    x ^= ( x >>  6u );\n    x += ( x <<  3u );\n    x ^= ( x >> 11u );\n    x += ( x << 15u );\n    return x;\n}\n\n// Compound versions of the hashing algorithm I whipped together.\nuint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\nuint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\nuint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\n\n\n// Construct a float with half-open range [0:1] using low 23 bits.\n// All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\nfloat floatConstruct( uint m ) {\n    const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\n    const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\n\n    m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\n    m |= ieeeOne;                          // Add fractional part to 1.0\n\n    float  f = uintBitsToFloat( m );       // Range [1:2]\n    return f - 1.0;                        // Range [0:1]\n}\n\n\n\n// Pseudo-random value in half-open range [0:1].\nfloat rand( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\nfloat rand( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n\n\n${VHS}\n\n${FILTER}\n\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec4 blurred = blurring > 0.0 ? blur9(video, vec2(blurring*3.0, blurring*1.0)) : vec4(0.0);\n\n/*\n  vec4 blurred = mix(\n    blur(blurring*4.0), \n    \n*/\n  vec4 sampled = texture2D(video, uv);\n  float _gate = (1.0-gateStrength);\n\n  vec4 glitched = spaceSliderValue > 0.0 || isRolling == 1.0 ? glitch() : vec4(0.0);\n  vec3 gammaColor = mix(\n    mix(\n      sampled.xyz, \n      glitched.xyz, \n      isRolling), \n   blurred.xyz, pow(blurring, 0.3));\n        \n  vec3 color = pow(gammaColor, vec3(2.0));\n  // grayscale conversion\n  float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));\n  // regamma\n  float gammaGray = sqrt(gray);\n  vec4 greyImage = vec4(gammaGray, gammaGray, gammaGray, 1.0);\n  vec4 _color = \n    _gate *\n    mix(\n      greyImage, \n      mix(\n        mix(\n          sampled, \n          glitched, \n          isRolling + spaceSliderValue*(0.3+spaceEffectLevels)), \n        blurred, \n        pow(blurring, 0.3)\n      ), \n      pow(playRate, 4.0));\n  _color.w = 1.0;\n  gl_FragColor = filterSliderValue > 0.0 ? filterColor(_color) : _color;\n}\n`;\n","export const VHS = `\n\n\nvec4 glitch()\t{\n\nbool autoScan  = true;\nfloat xScanline=rollRate/64.0;\nfloat xScanline2=rollRate/32.0;\nfloat xScanlineSize=0.5;\nfloat xScanlineSize2=0.25;\nfloat yScanline = spaceSliderValue;\nfloat yScanlineAmount = spaceSliderValue + 0.05;\nfloat grainLevel = spaceSliderValue + 0.1;\nbool scanFollow = true;\nfloat analogDistort = 1.0;\nfloat bleedAmount = 1.0;\nfloat bleedDistort = 0.5;\nfloat bleedRange = 1.0;\nvec4 colorBleedL = vec4(0.8-spaceEffectLevels, 0.0, 0.4+spaceEffectLevels, 1.0);\nvec4 colorBleedC = vec4(0.0, 0.5, 0.9, 1.0);\nvec4 colorBleedR = vec4(0.8-spaceSliderValue, 0.0, 0.4+spaceEffectLevels, 1.0);\n\n\nfloat TIME = ticks / 10.0;\n   vec2 RENDERSIZE = vec2(width, height);\n   float tau = 6.283185307179586476925286766559;\n   vec2 isf_FragNormCoord = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n\tfloat\tactualXLine = (!autoScan) ? xScanline : mod(xScanline + ((1.0+sin(0.34*TIME))/2.0 + (1.0+sin(TIME))/3.0 + (1.0+cos(2.1*TIME))/3.0 + (1.0+cos(0.027*TIME))/2.0)/3.5,1.0);\n\tfloat\tactualXLineWidth = (!autoScan) ? xScanlineSize : 2.0 * xScanlineSize * ((1.0+sin(1.2*TIME))/2.0 + (1.0+cos(3.91*TIME))/3.0 + (1.0+cos(0.014*TIME))/2.0)/3.5;\n\tvec2\tloc = isf_FragNormCoord;\n\tvec4\tvhs = texture2D(video, loc);\n\tfloat\tdx = 1.0+actualXLineWidth/25.0-abs(distance(loc.y, actualXLine));\n\tfloat\tdx2 = 1.0+xScanlineSize2/10.0-abs(distance(loc.y, xScanline2));\n\tfloat\tdy = (1.0-abs(distance(loc.y, yScanline)));\n\tif (autoScan)\n\t\tdy = (1.0-abs(distance(loc.y, mod(yScanline+TIME,1.0))));\n\t\n\tdy = (dy > 0.5) ? 2.0 * dy : 2.0 * (1.0 - dy);\n\t\n\tfloat\trX = (scanFollow) ? rand(vec3(dy,actualXLine,analogDistort)) : rand(vec3(dy,bleedAmount,analogDistort));\n\tfloat\txTime = (actualXLine > 0.5) ? 2.0 * actualXLine : 2.0 * (1.0 - actualXLine);\n\t\n\tloc.x += yScanlineAmount * dy * 0.025 + analogDistort * rX/(RENDERSIZE.x/2.0);\n\t\n\tif(dx2 > 1.0 - xScanlineSize2 / 10.0)\t{\n\t\tfloat\trX2 = (dy * rand(vec3(dy,dx2,dx)) + dx2) / 4.0;\n\t\tfloat\tdistortAmount = analogDistort * (sin(rX * tau / dx2) + cos(rX * tau * 0.78 / dx2)) / 10.0;\n\t\t//loc.y = xScanline2;\n\t\tloc.x += (1.0 + distortAmount * sin(tau * (loc.x) / rX2 ) - 1.0) / 15.0;\n\t}\n\tif(dx > 1.0 - actualXLineWidth / 25.0)\n\t\tloc.y = actualXLine;\n\n\tloc.x = mod(loc.x,1.0);\n\tloc.y = mod(loc.y,1.0);\n\t\n\tvec4\tc = texture2D(video, loc);\n\tfloat\tx = (loc.x*320.0)/320.0;\n\tfloat\ty = (loc.y*240.0)/240.0;\n\tfloat\tbleed = 0.0;\n\t\n\tif (scanFollow)\n\t\tc -= rand(vec3(x, y, xTime)) * xTime / (5.0-grainLevel);\n\telse\n\t\tc -= rand(vec3(x, y, bleedAmount)) * (bleedAmount/20.0) / (5.0-grainLevel);\n\t\n\tif (bleedAmount > 0.0)\t{\n\t\ttexture2D(video, loc + vec2(0.01, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.02, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.01, 0.01)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(-0.02, 0.02)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.0, -0.03)).r;\n\t\tbleed /= 6.0;\n\t\tbleed *= bleedAmount;\n\t}\n\n\tif (bleed > 0.1){\n\t\tfloat\tbleedFreq = 1.0;\n\t\tfloat\tbleedX = 0.0;\n\t\tif (autoScan)\n\t\t\tbleedX = x + bleedDistort * (yScanlineAmount + (1.5 + cos(TIME / 13.0 + tau*(bleedDistort+(1.0-loc.y))))/2.0) * sin((TIME / 9.0 + bleedDistort) * tau + loc.y * loc.y * tau * bleedFreq) / 8.0;\n\t\telse\n\t\t\tbleedX = x + (yScanlineAmount + (1.0 + sin(tau*(bleedDistort+loc.y)))/2.0) * sin(bleedDistort * tau + loc.y * loc.y * tau * bleedFreq) / 10.0;\n\t\tvec4\tcolorBleed = (bleedX < 0.5) ? mix(colorBleedL, colorBleedC, 2.0 * bleedX) : mix(colorBleedR, colorBleedC, 2.0 - 2.0 * bleedX);\n\t\tif (scanFollow)\n\t\t\tc += bleed * max(xScanlineSize,xTime) * colorBleed;\n\t\telse\n\t\t\tc += bleed * colorBleed;\n\t}\n   return c;\n}\n\n`;\n","export const FILTER = `\nvec4 filterColor(vec4 color) {\n   vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n   float val = filterSliderValue;\n   vec4 sampled = texture2D(video, uv - vec2(0.1*pow(val, 2.0), 0.1*filterSliderValue));\n   sampled.g = 0.0;\n   sampled.b = 0.0;\n   float ival = 1.0-val;\n   vec4 lp = mix(color, vec4(color.x*ival, color.y*pow(ival, 3.0), color.z*pow(ival+0.1, 0.5), 1.0), smoothstep(0.5, 1.0, val));\n   return mix(mix(color, sampled, pow(val, 0.03)), lp, pow(val, 0.3));\n}\n\n`;\n","import React, {useState, useEffect, useCallback} from 'react';\nexport const useVideoSize = (videoRef) => {\n    let [height, setHeight] = useState(50);\n    let [width, setWidth] = useState(50);\n    useEffect(() => {\n        videoRef.current.addEventListener(\"loadeddata\", onLoad);\n        return () => videoRef.current.removeEventListener(\"loadeddata\", onLoad);\n    } , [setHeight, setWidth]);\n\n    const onLoad = useCallback(() => {\n        let height = videoRef.current.offsetHeight;\n        setHeight(height);\n        let width = videoRef.current.offsetWidth;\n        setWidth(width);\n    }, [setHeight, setWidth]);\n\n\n    return {width, height}\n};\n","import * as THREE from \"three\";\nimport React, { useRef, useEffect, useCallback, useState} from 'react';\n\nexport const useVideoShader = ({\n    canvasRef, \n    ref,\n    resolution=2,\n    videoRef,\n    width,\n    height,\n    vertexShader,\n    fragmentShader,\n    uniforms,\n}) => {\n    let renderer = useRef();\n    let scene = useRef();\n    let camera = useRef();\n    let shaderUniforms = useRef();\n    let gateStrength = useRef(0);\n\n    useEffect(() => {\n        init();\n        animate();\n    }, []);\n\n    const init = () => {\n\t// Initialize the WebGL renderer\n\trenderer.current = new THREE.WebGLRenderer();\n\trenderer.current.setPixelRatio(2);\n\trenderer.current.setSize(width/resolution, height/resolution);\n\n        if (canvasRef) {\n            canvasRef.current = renderer.current.domElement;\n        }\n        \n\t// Add the renderer to the sketch container\n\tref.current.appendChild(renderer.current.domElement);\n        \n\t// Initialize the scene\n\tscene.current = new THREE.Scene();\n        \n\t// Initialize the camera\n\tcamera.current = new THREE.Camera();\n        \n\t// Create the plane geometry\n        let geometry = new THREE.PlaneGeometry(2, 2);\n\n\t// Define the shader uniforms\n\tshaderUniforms.current = {\n            video: {\n                value: new THREE.VideoTexture( videoRef.current)\n            },\n            width: {\n                value: width / 2.0,\n            },\n            height: {\n                value: height / 2\n            },\n            ... uniforms.current\n\t};\n\n\t// Create the shader material\n\tvar material = new THREE.ShaderMaterial({\n\t    uniforms : shaderUniforms.current,\n\t    vertexShader,\n\t    fragmentShader\n\t});\n\n\t// Create the mesh and add it to the scene\n\tvar mesh = new THREE.Mesh(geometry, material);\n\tscene.current.add(mesh);\n    };\n\n    useEffect(() => {\n        shaderUniforms.current.width.value = width;\n        shaderUniforms.current.height.value = height;\n\trenderer.current.setSize(width/resolution, height/resolution);\n    }, [width, height, resolution]);\n\n    function animate() {\n\trequestAnimationFrame(animate);\n\trender();\n    }\n    \n    /*\n     * Renders the sketch\n     */\n    function render() {\n        if (!renderer.current.domElement) {\n            return;\n        }\n\trenderer.current.render(scene.current, camera.current);\n    }\n};\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {vertexShader} from './blurred-shader/vertex.js';\nimport {fragmentShader} from './regular-shader/fragment.js';\nimport {isMobile} from 'react-device-detect';\nimport {useVideoSize} from './useVideoSize.js';\nimport {connect} from 'react-redux';\nimport {useVideoShader} from './useVideoShader.js';\n\nconst VideoContentShader = ({canvasRef, videoRef, uniforms, started}) => { \n    let ref = useRef();\n    let {width, height} = useVideoSize(videoRef);\n    useVideoShader({\n        canvasRef,\n        uniforms,\n        resolution: 1,\n        ref,\n        videoRef,\n        fragmentShader,\n        vertexShader,\n        width,\n        height});\n    let className = \"video absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full\";\n    if (isMobile && !started) {\n        className += \" hide\";\n    }\n    return (\n        <div style={{height, width}} ref={ref} className={className}>\n        </div>);\n};\n\nexport default VideoContentShader;\n","export const vertexShader = `\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(\n    position, \n    1.0 );\n}\n`;\n","import React, { Component, useCallback } from 'react';\nimport Tone from 'tone';\nimport './buttons.scss';\n\nconst PlayButton = (props) => {\n    const onPlayClicked = useCallback((e) => {\n        e.stopPropagation();\n        e.target.parentNode.blur();\n        e.target.blur();\n        e.currentTarget.blur();\n\n        if (props.resume) {\n            if (Tone.Master.context._context.state === \"suspended\") {\n                Tone.Master.context._context.resume().then(\n                    x => \n                    props.play());\n            } else {\n                props.play();\n            }\n        } else {\n            props.play();\n        }\n    }, [props.isPlaying]);\n\n    return (\n        <div\n          style={props.style || {}}\n          onClick={onPlayClicked}\n          onMouseDown={(e) => e.stopPropagation()}\n          onTouchStart={(e) => e.stopPropagation()}\n          className=\"play-btn-wrapper\">\n          <div\n            style={{\n                borderColor: props.isPlaying ? props.color: \"transparent transparent transparent \" + props.color,\n            }}\n            className={props.isPlaying ? \"play-btn playing\" : \"play-btn \"}/>\n        </div>\n    );\n}\n\n\nexport default PlayButton;\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './playbar.scss';\n\nexport const Playbar = ({color, playerRef}) => { \n    let ref = useRef();\n    let scrubRef = useRef();\n    let [waveform, setWaveform] = useState();\n    let [progress, setProgress] = useState(0);\n    let [playing, setPlaying] = useState(0);\n    let [started, setStarted] = useState(false);\n    let [scrubbing, setScrubbing] = useState(false);\n    let off = useRef(0);\n    let [scrub, setScrub] = useState(undefined);\n    \n\n    useEffect(() => {\n        window.addEventListener(\"mouseup\", finishScrub);\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"touchmove\", onMouseMove);\n        return () => {\n            window.removeEventListener(\"mouseup\", finishScrub);\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"touchmove\", onMouseMove);\n        }\n    }, [scrubbing, setScrub, setScrubbing]);\n\n    const finishScrub = useCallback(() => {\n        setScrubbing(false);\n    }, [setScrubbing]);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage, false);\n        return x => window.removeEventListener(\"message\", onMessage, false);\n    }, [setProgress, setPlaying, setStarted, setWaveform]);\n\n    const onMessage = useCallback(e => {\n        if (e.data.type === \"waveform-data\") {\n            setWaveform(e.data.body);\n        }\n        if (e.data.type === \"song-player-progress\") {\n            let progress = parseFloat(e.data.body);\n            setProgress(progress);\n        }\n        if (e.data.type === \"jacker-playback-status\") {\n            let playing = parseInt(e.data.body);\n            setPlaying(playing);\n            if (playing) {\n                setStarted(true);\n            }\n        }\n    }, [started, setProgress, setPlaying, setStarted, setWaveform]);\n\n    const onPlayClicked = useCallback(() => {\n        playerRef.current.contentWindow.postMessage({\n            type: \"jacker-pause-toggle\",\n            body: true,\n        }, \"*\");\n    }, []);\n\n    const onMouseMove = useCallback((e) => {\n        if (!scrubbing) {\n            return;\n        }\n        if (e.touches) {\n            e = e.touches[0];\n        }\n\n        let rect = ref.current.getBoundingClientRect();\n        let x = e.clientX - rect.left;\n        let percent = (x / rect.width) * 100;\n        percent = Math.max(0, Math.min(100, percent));\n        setScrub(percent);\n        playerRef.current.contentWindow.postMessage({\n            type: \"jacker-seek\",\n            body: percent\n        }, \"*\");\n    }, [scrubbing, setScrub]);\n\n    let className = \"shuffle-buttons\";\n\n    if (!started) {\n        return '';\n    }\n\n    let style = {\n        borderColor: color\n    };\n\n    progress = scrubbing && scrub ? scrub : progress;\n    return (\n          <div\n            onMouseDown={(e) => {\n                setScrubbing(true);\n                onMouseMove(e);\n            }}\n            onTouchStart={(e) => {\n                setScrubbing(true);\n                onMouseMove(e);\n            }}\n            ref={ref}\n            style={style} className=\"relative h-1.5 rounded-lg w-full playbar\">\n            <div\n              style={{\n                  width: (100-progress) + \"%\",\n                  left: progress + \"%\"}} className=\"w-full h-full rounded-lg absolute playbar-remaining\"/>\n            <div\n              ref={scrubRef}\n              onMouseDown={(e) => {\n                  e.stopPropagation();\n                  setScrubbing(true);\n              }}\n              onTouchStart={(e) => {\n                  e.stopPropagation();\n                  setScrubbing(true);\n              }}\n              style={{\n                  //backgroundColor: color,\n                  left: progress + \"%\"}} className=\"rounded-xl absolute z-50 w-3 h-3 -top-0.5 bg-white hover:bg-red-500\"/>\n          </div>\n    );\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {useVideoSize} from './useVideoSize.js';\nimport {isMobile} from 'react-device-detect';\nimport {Playbar} from 'components/player/Playbar.js';\nimport {connect} from 'react-redux';\nconst DURATION = 232;\n\nconst PlaybarContainer = ({videoRef, playerRef, started}) => { \n    let {width, height} = useVideoSize(videoRef);\n    let [progress, setProgress] = useState(0);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    } , [setProgress]);\n\n    const onMessage= useCallback((e) => {\n        if (e.data.type === \"song-player-progress\") {\n            let progress = parseFloat(e.data.body);\n            let x = progress/100\n            let sec = DURATION * x;\n            setProgress(sec);\n        }\n    }, [setProgress]);\n\n    return (\n        <div \n          className=\"z-50 absolute top-1/2  md:h-full md:w-4/6 md:transform md:translate-y-1/3 w-full\"\n          style={isMobile ? {top: height} : {width: width}}\n        >\n          <Playbar playerRef={playerRef}\n                   color=\"white\"/>\n          {started &&\n           <div className=\"absolute md:left-0 left-4 top-3 text-xs\">\n            {format(progress)}\n           </div>}\n          {started &&\n           <div className=\"absolute md:right-0 right-4 top-3 text-xs\">\n             -{format(Math.abs(progress-DURATION))}\n           </div>}\n        </div>\n    );\n}\n\nfunction format(duration)\n{   \n    // Hours, minutes and seconds\n    var hrs = ~~(duration / 3600);\n    var mins = ~~((duration % 3600) / 60);\n    var secs = ~~duration % 60;\n\n    // Output like \"1:01\" or \"4:03:59\" or \"123:03:59\"\n    var ret = \"\";\n\n    if (hrs > 0) {\n        ret += \"\" + hrs + \":\" + (mins < 10 ? \"0\" : \"\");\n    }\n\n    ret += \"\" + mins + \":\" + (secs < 10 ? \"0\" : \"\");\n    ret += \"\" + secs;\n    return ret;\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaybarContainer);\n","// 0-1 values of each \"effect\" slider\nexport const SPACE_SLIDER_VALUE = \"space-slider-value\";\nexport const FILTER_SLIDER_VALUE = \"filter-slider-value\";\nexport const JUICE_SLIDER_VALUE = \"juice-slider-value\";\n\n// realtime signal strength of the \"space effect\"\nexport const SPACE_EFFECT_LEVELS = \"space-effect-levels\";\n\n// realtime signal strength of the \"gate effect\"\nexport const GATE_STRENGTH = \"gate-strength\";\n\n// sample-waveform is a list of \"height\" values for the waveform\n// one for each \"x-position\". allows you to draw waveform\n// in 2D\nexport const SAMPLE_WAVEFORM = \"sample-waveform\";\n\n// song-bpm is the initial bpm of the song\nexport const SONG_BPM = \"song-bpm\";\n\n// playback-bpm is the current bpm (after pitching down/up)\n// ratio of playback-bpm/song-bpm is the \"playback speed\"\nexport const PLAYBACK_BPM = \"playback-bpm\";\n\n// mapping of message type ---> uniform name\nexport const TYPE_TO_NAME = {\n    \"space-slider-value\": \"spaceSliderValue\",\n    \"filter-slider-value\": \"filterSliderValue\",\n    \"juice-slider-value\": \"juiceSliderValue\",\n    \"space-effect-levels\": \"spaceEffectLevels\",\n    \"gate-strength\": \"gateStrength\",\n    \"song-bpm\": \"songBPM\",\n    \"playback-bpm\": \"playbackBPM\",\n    \"is-rolling\": \"isRolling\",\n    \"rolling-rate\": \"rollRate\",\n};\n","import {useRef, useState, useCallback, useEffect} from 'react';\nimport {parseMessage} from './message-parser.js';\nconst DURATION = 232;\n\nconst MAX_ACCEPTABLE_DRIFT = 0.2; // 200 ms of maximum dift\nconst DRIFT_COOLDOWN_PERIOD = 3000; // 1500 mscooldown between drift corrects\nexport const useVideoController = ({ref, playerRef}) => {\n    let baseBPM = useRef();\n    let lastTime = useRef(0);\n    let nextTick = useRef(false);\n    let lastVideoTime = useRef(0);\n    let lastPlaybackRate = useRef(0);\n    let counter = useRef(0);\n    let waiting = useRef();\n    let timer = useRef(0);\n    let gateTimer = useRef(undefined);\n    let coolDownStartTime = useRef(undefined);\n\n    const isCoolingDown = () => {\n        return coolDownStartTime.current && ((new Date().getTime() - coolDownStartTime.current) <= DRIFT_COOLDOWN_PERIOD);\n    };\n\n    const startCoolDown = (time) => {\n        coolDownStartTime.current = new Date().getTime();\n    };\n\n\n    let blurDirection = useRef(.1);\n\n    let uniforms = useRef({\n        blurring: {\n            value: 0.0,\n        },\n        playRate: {\n            value: 1.0\n        },\n        isRolling: {\n            value: 0.0,\n        },\n        rollRate: {\n            value: 32.0,\n        },\n        filterSliderValue: {\n            value: 0.0\n        },\n        spaceSliderValue: {\n            value: 0.0\n        },\n        spaceEffectLevels: {\n            value: 0.0\n        },\n        ticks: {\n            value: 0\n        },\n        gateStrength: {\n            value: 0,\n        }\n    });\n    let [isPlaying, setIsPlaying] = useState(false);\n    let [started, setStarted] = useState(false);\n    \n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage, false);\n    }, [setIsPlaying, setStarted]);\n\n    useEffect(() => {\n        setInterval(() => {\n            blurLoop();\n        }, 25);\n    }, []);\n    \n    const blurLoop = () => {\n        if (uniforms.current.blurring.value > 0.0) {\n            let blurring = uniforms.current.blurring.value;\n            blurring = Math.max(0, Math.min(2.0, blurring + blurDirection.current));\n            if (blurring >= 2 || blurring <= 0) {\n                if (blurDirection.current < 0) {\n                    blurDirection.current = 0.1;\n                } else {\n                    blurDirection.current = -0.00005;\n                }\n            } \n            uniforms.current.blurring.value = blurring;\n            if (blurDirection.current > 0) {\n                blurDirection.current *= 1.8;\n            } else {\n                blurDirection.current *= 1.6;\n                blurDirection.current = Math.max(-.15, blurDirection.current);\n            }\n        };\n    };\n        \n    const fastForward = useCallback(() => {\n        let rate = ref.current.playbackRate;\n        let nextTime = Math.min(DURATION, ref.current.currentTime + 10/rate);\n        let percent = 100*nextTime / DURATION;\n\n        playerRef.current.contentWindow.postMessage({\n            type: \"jacker-seek\",\n            body: percent\n        }, \"*\");\n        playerRef.current.currentTime = nextTime;\n    }, []);\n\n    const rewind = useCallback(() => {\n        let rate = ref.current.playbackRate;\n        let nextTime = Math.max(0, ref.current.currentTime - 10/rate);\n        let percent = 100*nextTime / DURATION;\n\n        playerRef.current.contentWindow.postMessage({\n            type: \"jacker-seek\",\n            body: percent\n        }, \"*\");\n        playerRef.current.currentTime = nextTime;\n    }, []);\n\n    const onMessage = useCallback((e) => {\n        if (parseMessage(e.data, uniforms)) {\n            // we already consumed them into uniforms\n            return;\n        }\n\n        if (e.data.type === \"jacker-playback-status\") {\n            setStarted(true);\n            let playing = parseInt(e.data.body);\n            if (playing) {\n                ref.current.play();\n            } else {\n                ref.current.pause();\n            }\n            setIsPlaying(playing);\n        }\n        if (e.data.type === \"song-player-progress\") {\n            uniforms.current.ticks.value++;\n\n            let progress = parseFloat(e.data.body);\n            let x = progress/100\n            let sec = DURATION * x;\n            let drift = sec - ref.current.currentTime;\n            \n            let isDrifting = (Math.abs(drift) > MAX_ACCEPTABLE_DRIFT) && !isCoolingDown();\n            let remainingCondition = sec <= lastTime.current || sec >= lastTime.current+1.0;\n            let tickTime = ref.current.currentTime - lastVideoTime.current;\n            if (tickTime < 0.1) \n                /*\n                console.warn(\"drift=%s tickTime=%s\", drift, tickTime);\n            } else {\n                console.log(\"drift=%s tickTime=%s\", drift, tickTime);\n            }\n            */\n            lastVideoTime.current = ref.current.currentTime;\n            if (Math.abs(drift) > 0.5) {\n                isDrifting = true;\n            }\n            if (isDrifting) {\n                startCoolDown();\n            }\n            if (isDrifting || sec <= lastTime.current || sec >= lastTime.current+1.0) {\n                let _drift = drift*1000;\n                if (ref.current.fastSeek &&\n                    uniforms.current.isRolling.value && uniforms.current.rollRate.value === 32) {\n                    // we want to use fast seek when 1/32th rolling\n                    ref.current.fastSeek(sec);\n                } else {\n                    ref.current.currentTime = sec;\n                }\n                nextTick.current = false;\n            }\n            lastTime.current = sec;\n            if (gateTimer.current !== undefined) {\n                gateTimer.current++;\n                if (gateTimer.current > 1) {\n                    gateTimer.current = undefined;\n                }\n            }\n\n        }\n        if (e.data.type === \"song-bpm\") {\n            let bpm = e.data.body;\n            baseBPM.current = parseFloat(bpm);\n            \n        }\n\n        if (e.data.type === \"playback-bpm\") {\n            let bpm = e.data.body;\n            if (baseBPM.current) {\n                if (uniforms.current.blurring.value == 0) {\n                    uniforms.current.blurring.value = 0.1; //(uniforms.current.blurring.value + 0.2)/2;\n                    blurDirection.current = 0.1;\n                }\n                blurDirection.current *= 0.92;\n                let playbackRate = bpm / baseBPM.current;\n                let time = ref.current.currentTime;\n                uniforms.current.playRate.value = playbackRate;\n                ref.current.playbackRate = playbackRate;\n                if (!isCoolingDown()) {\n                    startCoolDown();\n                }\n            }\n        }\n    }, [setIsPlaying, setStarted]);\n\n    return {uniforms, isPlaying, started, rewind, fastForward};\n};\n","\n\n// 0-1 values of each \"effect\" slider\nimport {TYPE_TO_NAME} from './message-constants.js';\n        \nexport const parseMessage = (e, uniforms) => {\n    let name = TYPE_TO_NAME[e.type];\n    if (name && uniforms.current[name]) {\n        uniforms.current[name].value = parseFloat(e.body);\n        return true;\n    }\n    return false;\n};\n","import {NEW_SEQUENCE} from 'constants/action-types.js';\nimport {SET_PLAY_STATUS} from 'constants/action-types.js';\nimport {SET_PLAYLIST_LOADED} from 'constants/action-types.js';\nimport {SET_SONG_LOADED} from 'constants/action-types.js';\nimport {SET_LEAK_LOADED} from 'constants/action-types.js';\nimport {SET_PENDING_SPORES} from 'constants/action-types.js';\nimport {SET_PLAYER_REF} from 'constants/action-types.js';\nimport {SET_SECONDS_REMAINING} from 'constants/action-types.js';\nimport {SET_USED_CHEAT_CODE} from 'constants/action-types.js';\nimport {SET_SHOW_PLAYLIST_MENU} from 'constants/action-types.js';\nimport {SET_CURRENT_PLAYLIST_SONG} from 'constants/action-types.js';\nimport {SET_DROPPED_SAMPLES} from 'constants/action-types.js';\nimport {SET_OBJECT_DRAGGING} from 'constants/action-types.js';\nimport {SET_RECENTLY_ADDED_SOUNDS} from 'constants/action-types.js';\nimport {SET_SHOW_FORMANT_PRESETS} from 'constants/action-types.js';\nimport {SET_PLANAR} from 'constants/action-types.js';\nimport {SET_PLANAR_GRADIENT_COLOR} from 'constants/action-types.js';\nimport {SET_PLANAR_OPACITY} from 'constants/action-types.js';\nimport {SET_RESOLUTION} from 'constants/action-types.js';\nimport {SET_SEQUENCER_ENGINE} from 'constants/action-types.js';\nimport {SET_VIEW_MODE} from 'constants/action-types.js';\nimport {SET_ALTERNATE_VIEW_MODE} from 'constants/action-types.js';\nimport {SET_DETAILS_VIEW} from 'constants/action-types.js';\nimport {SET_DECENTRALIZED} from 'constants/action-types.js';\nimport {SET_SELECTOR_MODE} from 'constants/action-types.js';\nimport {SET_NUMBER_PATTERNS} from 'constants/action-types.js';\nimport {SET_CURRENT_PATTERN} from 'constants/action-types.js';\nimport {SET_CURRENT_STEP} from 'constants/action-types.js';\nimport {SET_CURRENT_AND_GLOBAL_STEPS} from 'constants/action-types.js';\nimport {SET_CURRENT_GLOBAL_STEP} from 'constants/action-types.js';\n\n// tracks\nimport {NEW_TRACK} from 'constants/action-types.js';\n\n// samples\nimport {SET_SAMPLE} from 'constants/action-types.js';\n\n// animation triggers \nimport {START_TRIGGER_TRACK} from 'constants/action-types.js';\nimport {STOP_TRIGGER_TRACK} from 'constants/action-types.js';\n\n// sample packs\nimport {SET_SAMPLE_PACK} from 'constants/action-types.js';\nimport {ADD_SAMPLE_PACK} from 'constants/action-types.js';\nimport {REMOVE_SAMPLE_PACK} from 'constants/action-types.js';\n\nimport {DRAG_SAMPLE} from 'constants/action-types.js';\nimport {DRAG_EFFECT} from 'constants/action-types.js';\nimport {DRAG_PATTERN} from 'constants/action-types.js';\n\nimport {MOUSE_DOWN} from 'constants/action-types.js';\nimport {DRAG_TOGGLE} from 'constants/action-types.js';\nimport {DRAG_STEP_TRANSPOSE} from 'constants/action-types.js';\nimport {COMMAND_DOWN} from 'constants/action-types.js';\n\nimport {TRACK_RECORDING} from 'constants/action-types.js';\nimport {TRACK_PREPARING_TO_RECORD} from 'constants/action-types.js';\n\nimport {SET_TRACK_STEPS} from 'constants/action-types.js';\nimport {SET_TRACK_FILLS} from 'constants/action-types.js';\nimport {SET_TRACK_PIANO_ROLL_STEPS} from 'constants/action-types.js';\nimport {SET_ALL_TRACK_STEPS} from 'constants/action-types.js';\n\nimport {SET_SELECTED_GROUP} from 'constants/action-types.js';\nimport {SET_SELECTED_TRACK} from 'constants/action-types.js';\nimport {SET_SELECTED_STEP} from 'constants/action-types.js';\nimport {SET_HOVERED_STEP} from 'constants/action-types.js';\n\nimport {SET_STEP_DRAGGING} from 'constants/action-types.js';\nimport {SET_STEP_DATA_DRAGGING} from 'constants/action-types.js';\nimport {SET_STEP_AND_DATA_DRAGGING} from 'constants/action-types.js';\nimport {SET_STEP_TO_COPY} from 'constants/action-types.js';\n\nimport {SET_TRACK_VOLUME} from 'constants/action-types.js';\nimport {SET_TRACK_MUTED} from 'constants/action-types.js';\nimport {SET_TRACK_SOLO} from 'constants/action-types.js';\n\nimport {SET_GROUP_VOLUME} from 'constants/action-types.js';\nimport {SET_GROUP_MUTED} from 'constants/action-types.js';\n\nimport {SET_QUANTIZED} from 'constants/action-types.js';\nimport {SET_IS_RECORDING} from 'constants/action-types.js';\nimport {SET_IS_RECORDING_EXPANDED} from 'constants/action-types.js';\nimport {SET_IS_RECORDING_MIX} from 'constants/action-types.js';\nimport {SET_IS_PLAYING} from 'constants/action-types.js';\nimport {SET_IS_PLAYING_MIX} from 'constants/action-types.js';\n\nimport {SET_SEND_MUTED} from 'constants/action-types.js';\n\nimport {SET_SELECTION} from 'constants/action-types.js';\n\nimport {SET_SEQUENCE_NAME} from 'constants/action-types.js';\n\nimport {SET_SELECTED_EFFECT} from 'constants/action-types.js';\n\nimport {SET_EFFECT_PARAMETER_VALUE} from 'constants/action-types.js';\n\nimport {SET_EFFECTS_PANE_OPTION} from 'constants/action-types.js';\n\nimport {SET_SELECTED_PARAMETER} from 'constants/action-types.js';\nimport {SET_SHOW_LOGIN} from 'constants/action-types.js';\nimport {SET_USER_TOKEN} from 'constants/action-types.js';\nimport {SET_SIGNING_UP} from 'constants/action-types.js';\n\nimport {SET_SELECTED_PARAMETER_FLASHING} from 'constants/action-types.js';\n\nimport {SET_MIXES} from 'constants/action-types.js';\nimport {SET_CURRENT_MIX} from 'constants/action-types.js';\nimport {SET_ERASING_AUTOMATION} from 'constants/action-types.js';\n\nimport {SET_TRACK_SEND_VOLUME} from 'constants/action-types.js';\n\nimport {SET_TRACK_FOCUSED} from 'constants/action-types.js';\n\nimport {SET_YEAR_SELECTED} from 'constants/action-types.js';\nimport {SET_TAGS_SELECTED} from 'constants/action-types.js';\nimport {SET_STYLES_SELECTED} from 'constants/action-types.js';\nimport {SET_COUNTRIES_SELECTED} from 'constants/action-types.js';\nimport {SET_VIDEOS_SELECTED} from 'constants/action-types.js';\nimport {SET_HIERARCHY_ROOT} from 'constants/action-types.js';\nimport {SET_HIERARCHY_TREE} from 'constants/action-types.js';\nimport {SET_SHOW_YEAR_SLIDER} from 'constants/action-types.js';\nimport {SET_SHOW_COUNTRIES} from 'constants/action-types.js';\nimport {SET_SHOW_VIDEOS} from 'constants/action-types.js';\nimport {SET_SHOW_STYLES} from 'constants/action-types.js';\nimport {SET_SHOW_TAGS} from 'constants/action-types.js';\nimport {SET_SHOW_CHORD_FILTER} from 'constants/action-types.js';\nimport {SET_CHORD_SELECTED} from 'constants/action-types.js';\n\nimport {SET_IS_DRAGGING_DURATION} from 'constants/action-types.js';\nimport {SET_PIANO_ROLL_SELECTION} from 'constants/action-types.js';\nimport {SET_SELECTED_PIANO_ROLL_STEPS} from 'constants/action-types.js';\n\nimport {SET_SEARCH_RESULTS_SAMPLES} from 'constants/action-types.js';\n\nimport {SET_SELECTED_CHORD_SAMPLE} from 'constants/action-types.js';\nimport {SET_STEPS_TO_COPY} from 'constants/action-types.js';\n\nimport {SET_LOADING_SEQUENCE} from 'constants/action-types.js';\n\nimport {SET_EASY_PATTERN_TO_COPY} from 'constants/action-types.js';\nimport {SET_SAMPLE_AUDITIONING} from 'constants/action-types.js';\n\nimport {SET_LAST_MIDI_KEY_MAPPED} from 'constants/action-types.js';\nimport {SET_TRACK_IS_ENABLED} from 'constants/action-types.js';\n\nimport {SET_SELECTED_SAMPLE_TAG} from 'constants/action-types.js';\n\nimport {SET_TRANSPOSE_DRAGGING} from 'constants/action-types.js';\n\nimport {SET_MASTER_VOLUME} from 'constants/action-types.js';\n\nimport {SET_USER_VIEW_MODE} from 'constants/action-types.js';\nimport {SET_CURRENT_USER_MIX} from 'constants/action-types.js';\nimport {SET_USER_HAS_EDITS_TO_SAVE} from 'constants/action-types.js';\n\nimport {SET_PATTERN_TO_EDIT_COLOR} from 'constants/action-types.js';\nimport {SET_PATTERN_COLOR} from 'constants/action-types.js';\n\nimport {SET_COMPACT_MODE} from 'constants/action-types.js';\nimport {SET_SHOW_LFOS} from 'constants/action-types.js';\nimport {SET_SHOW_ENVELOPES} from 'constants/action-types.js';\n\nimport {SET_TRACKS_TO_RESAMPLE} from 'constants/action-types.js';\n\nimport {SET_PROJECT_AUTOMATION_MODE} from 'constants/action-types.js';\n\nimport {SET_STEPS_SELECTION} from 'constants/action-types.js';\nimport {SET_SELECTED_STEPS} from 'constants/action-types.js';\nimport {SET_STEP_NUMBER_DRAGGING_FROM} from 'constants/action-types.js';\n\nimport {SET_SEQUENCE_PATTERN_LOCKED} from 'constants/action-types.js';\nimport {SET_SEQUENCE_PATTERN_LOCKS} from 'constants/action-types.js';\n\nimport {SET_TRACK_PATTERN_LOCKED} from 'constants/action-types.js';\nimport {SET_TRACK_PATTERN_LOCKS} from 'constants/action-types.js';\nimport {SET_EFFECT_PATTERN_LOCKS} from 'constants/action-types.js';\nimport {UPDATE_STEPS_FOR_ALL_TRACKS} from 'constants/action-types.js';\nimport {SET_LFO_PATTERN_LOCKS} from 'constants/action-types.js';\nimport {SET_ENVELOPE_PATTERN_LOCKS} from 'constants/action-types.js';\nimport {SET_PIANO_ROLL_PAGINATION} from 'constants/action-types.js';\n\nimport {SET_IS_RESAMPLING} from 'constants/action-types.js';\nimport {SET_RESAMPLE_DURATION} from 'constants/action-types.js';\n\nimport {SET_KEY_MAPPINGS} from 'constants/action-types.js';\nimport {SET_PAD_MAPPINGS} from 'constants/action-types.js';\n\nimport {SET_SHOW_SEQUENCE_MODAL} from 'constants/action-types.js';\n\nimport {SET_MULTI_PARAMETER_SLIDER} from 'constants/action-types.js';\n\nimport {SET_SHOW_MODS_MODAL} from 'constants/action-types.js';\n\nimport {SET_SEQUENCE_ROLLING} from 'constants/action-types.js';\n\nimport {SET_TRACK_EFFECTS_CHAIN} from 'constants/action-types.js';\n\nimport {SET_SHOW_SEQUENCES} from 'constants/action-types.js';\nimport {SET_SHOW_PRESETS} from 'constants/action-types.js';\nimport {SET_SHOW_INSTRUMENTS} from 'constants/action-types.js';\nimport {SET_TRACK_ROLLING} from 'constants/action-types.js';\n\nimport {SET_Z_INDEX_HACK} from 'constants/action-types.js';\n\nimport {SET_LOADED_TRACKS} from 'constants/action-types.js';\nimport {SET_BPM} from 'constants/action-types.js';\nimport {SET_RESAMPLE_MASTER} from 'constants/action-types.js';\n\nimport {SET_YOUTUBE_SEARCH_TERMS} from 'constants/action-types.js';\n\nimport {SET_AUDIO_INPUT_SOURCE} from 'constants/action-types.js';\n\nimport {SET_WAVEFORM_SELECTION} from 'constants/action-types.js';\nimport {SET_WAVEFORM_SELECTION_END} from 'constants/action-types.js';\n\nimport {SET_MIDI_MAP_MODE} from 'constants/action-types.js';\nimport {SET_PARAMETER_MIDI_MAP_SELECTION} from 'constants/action-types.js';\nimport {DELETE_PARAMETER_MIDI_MAPPING} from 'constants/action-types.js';\nimport {SET_PARAMETER_MIDI_MAPPING} from 'constants/action-types.js';\n\nimport {SET_ACTION_MIDI_MAP_SELECTION} from 'constants/action-types.js';\nimport {DELETE_MIDI_MAPPINGS} from 'constants/action-types.js';\nimport {SET_ACTION_MIDI_MAPPING} from 'constants/action-types.js';\n\nimport {SET_LATENCY} from 'constants/action-types.js';\n\nimport {SET_SPOTLIGHT_TRACKS} from 'constants/action-types.js';\n\nimport {SET_CLOCK_TYPE} from 'constants/action-types.js';\nimport {SET_CLOCK_TICK} from 'constants/action-types.js';\nimport {SET_CONNECTION_STATUS} from 'constants/action-types.js';\nimport {SET_CONNECTED_USER_NAME} from 'constants/action-types.js';\nimport {SET_PLAY_SCHEDULED} from 'constants/action-types.js';\nimport {SET_AVAILABLE_USERS_TO_SYNC} from 'constants/action-types.js';\n\nimport {SET_THEME} from 'constants/action-types.js';\nimport {SET_SHOW_THEME_GRID} from 'constants/action-types.js';\n\nimport {SET_SEARCH_SORT_BY} from 'constants/action-types.js';\n\nimport {SET_MIDI_EFFECT_DRAGGING} from 'constants/action-types.js';\n\nimport {SET_SHOW_TRACK_EFFECTS} from 'constants/action-types.js';\n\nimport {SET_SHOW_CONVOLVER_MODAL} from 'constants/action-types.js';\nimport {SET_SHOW_PASSWORD_MODAL} from 'constants/action-types.js';\nimport {SET_PASSWORD_MODAL_CALLBACK} from 'constants/action-types.js';\n\nimport {SET_SHOW_SHARE_SEQUENCE_MODAL} from 'constants/action-types.js';\n\nimport {HIDE_ALL_EFFECTS} from 'constants/action-types.js';\n\nimport {SET_EFFECT_COLLAPSED} from 'constants/action-types.js';\n\nimport {SET_CONTEXTUAL_HELP} from 'constants/action-types.js';\n\nimport {SET_SELECTED_LFO} from 'constants/action-types.js';\nimport {SET_SELECTED_ENVELOPE} from 'constants/action-types.js';\nimport {SET_SIDEBAR_COLLAPSED} from 'constants/action-types.js';\n\nimport {SET_MIX_EVENTS} from 'constants/action-types.js';\n\nimport {SET_SHOW_GROUPS} from 'constants/action-types.js';\n\nimport {SET_CURRENT_SUB_SEQUENCE} from 'constants/action-types.js';\nimport {SET_SUB_SEQUENCES} from 'constants/action-types.js';\n\nimport {SET_ALL_TRACK_PATTERN_LOCKS} from 'constants/action-types.js';\nimport {SET_ALL_LFO_LOCKS} from 'constants/action-types.js';\nimport {SET_ALL_ENVELOPE_LOCKS} from 'constants/action-types.js';\n\nimport {SET_MIX_VIEW_MODE} from 'constants/action-types.js';\nimport {SET_SUB_SEQUENCE_FADE} from 'constants/action-types.js';\n\nimport {SET_SAMPLE_SLICES} from 'constants/action-types.js';\n\nimport {SET_SELECTED_ARRANGEMENT_EVENTS} from 'constants/action-types.js';\n\nimport {SET_SHOW_DATE_SAMPLED} from 'constants/action-types.js';\nimport {SET_DATE_SAMPLED} from 'constants/action-types.js';\n\nimport {SET_EFFECT_PARAMETER_VALUES} from 'constants/action-types.js';\n\nimport {SET_TRACK_PANNING} from 'constants/action-types.js';\nimport {SET_GROUP_PANNING} from 'constants/action-types.js';\nimport {SET_SENDS_PANNING} from 'constants/action-types.js';\n\nimport {SET_SELECTED_RECORD} from 'constants/action-types.js';\nimport {SET_2D_SELECTION} from 'constants/action-types.js';\nimport {SET_SIMILAR_SOUNDS_TO_FIND} from 'constants/action-types.js';\nimport {SET_SHOW_SAMPLES_2D} from 'constants/action-types.js';\nimport {SET_LAST_NOTE_PLAYED} from 'constants/action-types.js';\nimport {SET_SIDEBAR_VIEW_MODE} from 'constants/action-types.js';\nimport {SET_DISCOGS_SELECTED} from 'constants/action-types.js';\nimport {SET_SELECTED_FOLDER} from 'constants/action-types.js';\nimport {SET_SELECTED_PRESET} from 'constants/action-types.js';\nimport {SET_HAS_CHANGES_TO_FOLDERS} from 'constants/action-types.js';\n\nimport {SET_CURSOR_STEP} from 'constants/action-types.js';\nimport {SET_CURSOR_TRACK} from 'constants/action-types.js';\nimport {SET_CURSOR_SHOW} from 'constants/action-types.js';\nimport {SET_FOLDER_DRAGGING} from 'constants/action-types.js';\nimport {SET_PRESET_DRAGGING} from 'constants/action-types.js';\nimport {SET_SAMPLE_DRAGGING} from 'constants/action-types.js';\nimport {SET_EFFECTS_CHAIN_TO_SHOW} from 'constants/action-types.js';\nimport {SET_EFFECTS_CHAINS_TO_SHOW} from 'constants/action-types.js';\nimport {SET_SUB_SEQUENCE_MUTED} from 'constants/action-types.js';\nimport {SET_TRACK_FROZEN} from 'constants/action-types.js';\nimport {SET_TRACK_TO_FREEZE} from 'constants/action-types.js';\nimport {SET_FROZEN_TRACK_PLAYING} from 'constants/action-types.js';\nimport {SET_FROZEN_TRACKS} from 'constants/action-types.js';\nimport {SET_FROZEN_TRACKS_PLAYING} from 'constants/action-types.js';\nimport {SET_SELECTED_ONSETS} from 'constants/action-types.js';\n\nimport {SET_SINGLE_STEP_TO_DRAG} from 'constants/action-types.js';\nimport {SET_STEP_NUMBER_DRAGGED_TO} from 'constants/action-types.js';\nimport {SET_SEARCH_RESULTS_START} from 'constants/action-types.js';\nimport {SET_SHOW_STEP_OPTIONS} from 'constants/action-types.js';\nimport {SET_MASTER_STEP_TOGGLES} from 'constants/action-types.js';\nimport {SET_PARAMETERS_TO_RECORD} from 'constants/action-types.js';\nimport {SET_ONSET_THRESHOLD} from 'constants/action-types.js';\nimport {SET_SHOW_ONSETS} from 'constants/action-types.js';\n\nimport {SET_SELECTED_GUILD} from 'constants/action-types.js';\nimport {SET_PIANO_ROLL_DRAG_OFFSET} from 'constants/action-types.js';\nimport {SET_PIANO_ROLL_NOTES} from 'constants/action-types.js';\n\nimport {SET_PENDING_TRANSACTIONS} from 'constants/action-types.js';\nimport {SET_COMMAND_INPUT} from 'constants/action-types.js';\nimport {SET_COMMAND_PREFIX} from 'constants/action-types.js';\nimport {SET_VI_MODE} from 'constants/action-types.js';\nimport {SET_TRACK_WARP} from 'constants/action-types.js';\nimport {SET_SUB_SEQUENCE_WARPS} from 'constants/action-types.js';\n\nimport {SET_ARRANGEMENT_SELECTION} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_MOUSE_X} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_AUTOMATION_TO_SHOW} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_LOOPING} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_SELECTED_ROWS} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_LOOP_SELECTED} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_ROW_SELECTIONS} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_ZOOM} from 'constants/action-types.js';\n\nimport {SET_SELECTED_SEQUENCE} from 'constants/action-types.js';\nimport {SET_EXPLORE_MIXER_EFFECT} from 'constants/action-types.js';\nimport {SET_EXPLORE_EQ_EFFECT} from 'constants/action-types.js';\nimport {SET_SELECTED_SEND_EFFECT} from 'constants/action-types.js';\nimport {SET_INSTRUMENT_TYPE_DRAGGING} from 'constants/action-types.js';\n\nimport {SET_TRACK_IS_LOADING} from 'constants/action-types.js';\n\nimport {SET_PIANO_ROLL_CURSOR} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_X_SCALE} from 'constants/action-types.js';\nimport {SET_TOTAL_ARRANGEMENT_LENGTH} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_BOTTOM_HEIGHT} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_BOTTOM_MODE} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_BOTTOM_RESIZING} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_PATTERN_DRAGGING} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_PATTERN_START_STEP} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_CURSOR_STEP} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_PATTERN_RESIZING} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_BROWSER_MODE} from 'constants/action-types.js';\nimport {SET_SAMPLE_TO_EXPLORE} from 'constants/action-types.js';\nimport {SET_EFFECT_RACK_NODE_POSITION} from 'constants/action-types.js';\nimport {SET_ANNOTATION_DRAGGING} from 'constants/action-types.js';\n\nimport {SET_TRACK_AUTOMATION_DEVICE} from 'constants/action-types.js';\nimport {SET_TRACK_AUTOMATION_SUB_DEVICE} from 'constants/action-types.js';\nimport {SET_TRACK_AUTOMATION_RACK_DEVICE} from 'constants/action-types.js';\nimport {SET_TRACK_AUTOMATION_PARAMETER} from 'constants/action-types.js';\nimport {SET_SHOW_AUTOMATION} from 'constants/action-types.js';\nimport {SET_PARAMETER_AUTOMATIONS} from 'constants/action-types.js';\n\nimport {SET_ACTIONS_REMAINING} from 'constants/action-types.js';\nimport {SET_TIME_REMAINING} from 'constants/action-types.js';\n\nimport {SET_SHOW_PIANO_ROLL} from 'constants/action-types.js';\nimport {SET_SELECTED_RACK_SUB_TRACK} from 'constants/action-types.js';\nimport {DELETE_AUTOMATIONS_FOR_PARAMETERS} from 'constants/action-types.js';\nimport {SET_AUTOMATION_GUIDE_POINT} from 'constants/action-types.js';\nimport {SET_AUTOMATION_POINT_DRAGGING} from 'constants/action-types.js';\nimport {SET_AUTOMATION_POINT_HAS_MOVED} from 'constants/action-types.js';\nimport {SET_AUTOMATION_POINT_HOVERED} from 'constants/action-types.js';\nimport {SET_TRACK_TO_CONVERT} from 'constants/action-types.js';\nimport {SET_AUTOMATION_POINTS_SELECTED} from 'constants/action-types.js';\nimport {SET_AUTOMATION_SELECTION} from 'constants/action-types.js';\n\nimport {SET_EXPLORE_PERSON_SELECTED} from 'constants/action-types.js';\nimport {SET_EXPLORE_ALL_SEQUENCES}from 'constants/action-types.js';\n\nimport {DELETE_AUTOMATIONS_FOR_ENGINE}from 'constants/action-types.js';\nimport {SET_RECORDING_EXPLORE_MIX} from 'constants/action-types.js';\nimport {SET_WORKS_LOADED} from 'constants/action-types.js';\nimport {SET_WORK_TRANSPOSE} from 'constants/action-types.js';\nimport {SET_WORK_VOLUME} from 'constants/action-types.js';\nimport {SET_EXPLORE_MIX_LOADED} from 'constants/action-types.js';\n\nimport {SET_IS_MACRO_MAPPING} from 'constants/action-types.js';\nimport {SET_PARAMETER_TO_MAP} from 'constants/action-types.js';\n\nimport {SET_MIX_COLOR_VALUE} from 'constants/action-types.js';\nimport {SET_MIX_HAS_EDITS} from 'constants/action-types.js';\n\nimport {SET_SCRIPT_VARIABLES} from 'constants/action-types.js';\n\nimport {SET_EXPLORE_OPTION} from 'constants/action-types.js';\n\nimport {SET_ANNOTATIONS_VIEW} from 'constants/action-types.js';\nimport {SET_EXPLORE_TOAST} from 'constants/action-types.js';\n\nimport {SET_PARAMETER_SLIDER_DOWN} from 'constants/action-types.js';\nimport {MOVE_ENGINE_AUTOMATIONS} from 'constants/action-types.js';\nimport {SET_SEQUENCE_LOADING_PROGRESS} from 'constants/action-types.js';\n\nimport {SET_TRACK_BROWSED_SAMPLES} from 'constants/action-types.js';\nimport {SET_TRACK_BROWSED_PRESETS} from 'constants/action-types.js';\nimport {SET_BOTTOM_TOOLBAR_OFFSET} from 'constants/action-types.js';\nimport {SET_TRACK_UPDATES} from 'constants/action-types.js';\nimport {SET_IS_TRANSCRIBING} from 'constants/action-types.js';\nimport {SET_SAMPLE_TOOLTIP} from 'constants/action-types.js';\nimport {SET_SELECTED_FREEZE} from 'constants/action-types.js';\nimport {SET_TRACK_LENGTH_MODE} from 'constants/action-types.js';\nimport {SET_TRACK_LENGTH_CHOICE} from 'constants/action-types.js';\nimport {SET_FREEZE_DRAGGING} from 'constants/action-types.js';\nimport {SET_FREEZE_COLUMN_SAMPLES} from 'constants/action-types.js';\nimport {SET_UPLOADING_FILE} from 'constants/action-types.js';\nimport {SET_GROUP_COLLAPSED} from 'constants/action-types.js';\nimport {SET_SELECTED_MIX_EFFECT} from 'constants/action-types.js';\nimport {SET_SAMPLES_DRAGGING} from 'constants/action-types.js';\nimport {SET_DISPLAY_RESOLUTION} from 'constants/action-types.js';\nimport {SET_OFFLINE_ENGINE} from 'constants/action-types.js';\nimport {SET_CURRENT_EXPORT_INFO} from 'constants/action-types.js';\nimport {SET_MIX_TRACK_DRAGGING} from 'constants/action-types.js';\nimport {SET_GROUP_TRACKS} from 'constants/action-types.js';\nimport {SET_LOADING_TEXT} from 'constants/action-types.js';\nimport {SET_TRACK_ENVELOPES} from 'constants/action-types.js';\nimport {SET_COPIED_NODES_FOR_RACK} from 'constants/action-types.js';\nimport {SET_LAST_MIDI_CC_PLAYED} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_MOUSE_DOWN_X} from 'constants/action-types.js';\n\nimport {SET_TRACKER_PARAMETER_TO_EDIT} from 'constants/action-types.js';\nimport {SET_TRACKS_TO_HIDE} from 'constants/action-types.js';\nimport {SET_SELECTED_PALETTE} from 'constants/action-types.js';\nimport {SET_SEQUENCED_PALETTE} from 'constants/action-types.js';\nimport {SET_PROJECT_DRAGGING} from 'constants/action-types.js';\nimport {SET_EXPLORE_UNPUBLISHED} from 'constants/action-types.js';\nimport {SET_QUICK_ADD_SEARCH_TEXT} from 'constants/action-types.js';\nimport {SET_SHOW_TRACK_FREEZE_HISTORY} from 'constants/action-types.js';\nimport {SET_SELECTED_MIDI_TRACK} from 'constants/action-types.js';\nimport {SET_SELECTED_TRACK_SLICE} from 'constants/action-types.js';\nimport {SET_CIRKLON_PARAMETER_SELECTED} from 'constants/action-types.js';\nimport {SET_CIRKLON_MODE} from 'constants/action-types.js';\nimport {SET_NOTES_DOWN} from 'constants/action-types.js';\nimport {SET_SCENES} from 'constants/action-types.js';\nimport {SET_CURRENT_SCENE} from 'constants/action-types.js';\nimport {SET_SHOW_SETTINGS} from 'constants/action-types.js';\nimport {SET_WALLPAPER} from 'constants/action-types.js';\nimport {SET_ANIMATE_WALLPAPER} from 'constants/action-types.js';\nimport {SET_EXPANDED_PROJECT} from 'constants/action-types.js';\nimport {SET_ACCUMULATOR_PARAMETER_SELECTED} from 'constants/action-types.js';\nimport {SET_PLANE_MAPPING} from 'constants/action-types.js';\nimport {SET_TRACK_PRESET_SAVING} from 'constants/action-types.js';\nimport {SET_SAMPLE_TAG_DRAGGING} from 'constants/action-types.js';\nimport {SET_PARAMETER_MIX_AUTOMATIONS} from 'constants/action-types.js';\nimport {SET_SHOW_ARRANGEMENT_TRACKS} from 'constants/action-types.js';\nimport {SET_ARRANGEMENT_PATTERN_SELECTED} from 'constants/action-types.js';\nimport {SET_SIDEBAR_SEARCH_INPUT} from 'constants/action-types.js';\nimport {SET_SHOW_ARRANGEMENT_SEARCHER} from 'constants/action-types.js';\nimport {SET_VI_SELECT_MODE} from 'constants/action-types.js';\nimport {SET_EXPLORE_WORK} from 'constants/action-types.js';\nimport {SET_CREATING_NEW_PACK} from 'constants/action-types.js';\nimport {SET_PACK_WINDOW_POSITION} from 'constants/action-types.js';\nimport {SET_DRAGGING_PACK_WINDOW} from 'constants/action-types.js';\nimport {SET_PACK_TO_EDIT} from 'constants/action-types.js';\nimport {SET_IS_MANAGING_GUILDS} from 'constants/action-types.js';\n\nimport {NEW_STEP_GROUP} from 'constants/action-types.js';\nimport {SET_STEPS_GROUP_MODE} from 'constants/action-types.js';\nimport {SET_TRANSFORMATION_EDGE_DRAGGING} from 'constants/action-types.js';\nimport {SET_SHOW_FORMANT_EFFECT} from 'constants/action-types.js';\nimport {SET_SHOWING_FORMANTS} from 'constants/action-types.js';\nimport {SET_PULLED_EFFECTS} from 'constants/action-types.js';\nimport {SET_LOOPS_TO_FREEZE} from 'constants/action-types.js';\nimport {SET_PARAMETER_MIN_MAX} from 'constants/action-types.js';\nimport {SET_CURRENT_SOUND_IN_LIST} from 'constants/action-types.js';\nimport {SET_SHOWING_SOUND_LIST} from 'constants/action-types.js';\nimport {SET_CURRENT_TAG_IN_LIST} from 'constants/action-types.js';\nimport {SET_LINKING_EFFECTS} from 'constants/action-types.js';\nimport {SET_PACK_SELECTED} from 'constants/action-types.js';\nimport {SET_SAMPLE_EXPLORER_SELECTED} from 'constants/action-types.js';\nimport {SET_PIANO_ROLL_SLIDE} from 'constants/action-types.js';\nimport {SET_MAXIMIZE_EXPLORER} from 'constants/action-types.js';\n\nimport {SET_PADS} from 'constants/action-types.js';\nimport {SET_PAD_SLOTS} from 'constants/action-types.js';\nimport {SET_PAD_HOVERED} from 'constants/action-types.js';\nimport {SET_WAVEFORM_SHOWING} from 'constants/action-types.js';\nimport {SET_TRACK_DRAGGING} from 'constants/action-types.js';\nimport {SET_HIDE_MIXER} from 'constants/action-types.js';\nimport {SET_SOURCE_EXPLORING} from 'constants/action-types.js';\nimport {SET_YEAR_EXPLORING} from 'constants/action-types.js';\nimport {SET_PULLABLE_PART_DRAGGING} from 'constants/action-types.js';\nimport {SET_PADS_EXPAND} from 'constants/action-types.js';\n\nimport {SET_SEQUENCERS} from 'constants/action-types.js';\nimport {SET_SEQUENCER_TRACKS} from 'constants/action-types.js';\nimport {SET_PLANE_MACROS} from 'constants/action-types.js';\nimport {SET_WINDOW_POSITION} from 'constants/action-types.js';\nimport {SET_BULK_WINDOW_POSITIONS} from 'constants/action-types.js';\nimport {SET_PAD_EFFECTS} from 'constants/action-types.js';\nimport {SET_DRAWING_PAD_EDGE} from 'constants/action-types.js';\nimport {SET_MOVING_PAD_EDGE} from 'constants/action-types.js';\nimport {SET_SELECTED_PAD_EDGE} from 'constants/action-types.js';\nimport {SET_BULK_EFFECTS_COLLAPSED} from 'constants/action-types.js';\nimport {SET_SELECTED_PULLED_ELEMENTS} from 'constants/action-types.js';\nimport {SET_ALL_EFFECT_PATTERN_LOCKS} from 'constants/action-types.js';\nimport {SET_MODULE_COLLAPSED} from 'constants/action-types.js';\nimport {SET_TRACK_MIDI_EFFECTS} from 'constants/action-types.js';\nimport {SET_EFFECT_STARRED} from 'constants/action-types.js';\nimport {SET_BULK_EFFECTS_STARRED} from 'constants/action-types.js';\nimport {SET_BULK_MODULES_COLLAPSED} from 'constants/action-types.js';\nimport {DELETE_TRACK_ID} from 'constants/action-types.js';\nimport {SET_SHOWING_CONTEXT_MENU} from 'constants/action-types.js';\nimport {SET_HIGHER_ORDER_MATRIX} from 'constants/action-types.js';\nimport {SET_MODULE_COLOR} from 'constants/action-types.js';\nimport {SET_MODULES_ROUTING} from 'constants/action-types.js';\nimport {SET_HIGHER_ORDER_STEPS_SELECTED} from 'constants/action-types.js';\nimport {SET_ORIENTATION_ROUTINGS} from 'constants/action-types.js';\nimport {SET_SHOW_HIGHER_ORDER_SEQUENCER} from 'constants/action-types.js';\nimport {SET_MODULE_SIZE} from 'constants/action-types.js';\nimport {SET_INLET_CONNECTIONS} from 'constants/action-types.js';\nimport {SET_ZOBJECTS} from 'constants/action-types.js';\nimport {SET_ZMESSAGES} from 'constants/action-types.js';\nimport {SET_BACKGROUND_COLOR} from 'constants/action-types.js';\nimport {SET_VIEWABLE_SUBPATCHES} from 'constants/action-types.js';\nimport {SET_VIEWABLE_ZOBJECTS} from 'constants/action-types.js';\nimport {SET_SELECTED_ZOBJECT} from 'constants/action-types.js';\nimport {SET_JAKI_GRID} from 'constants/action-types.js';\nimport {SET_ZOBJECT_TYPE_DRAGGING} from 'constants/action-types.js';\nimport {SET_UX_LOCKED} from 'constants/action-types.js';\nimport {SET_MINTED_TOKENS} from 'constants/action-types.js';\nimport {SET_HIC_DIALOG} from 'constants/action-types.js';\nimport {SET_ZORA_DIALOG} from 'constants/action-types.js';\nimport {SET_IS_PREPARING_NFT} from 'constants/action-types.js';\nimport {SET_FULL_SCREEN_ZOBJECT} from 'constants/action-types.js';\nimport {SET_MAIN_SCROLL_REF} from 'constants/action-types.js';\nimport {SET_VIEWPORT_POSITION} from 'constants/action-types.js';\nimport {SET_SIDEBARS_SHOWING} from 'constants/action-types.js';\nimport {SET_SHOW_PAD_SEQUENCER} from 'constants/action-types.js';\nimport {SET_SHOW_PROJECTS_MODAL} from 'constants/action-types.js';\nimport {SET_SHOW_SEARCH_WINDOW} from 'constants/action-types.js';\nimport {SET_STEP_PARAMETER_SELECTED} from 'constants/action-types.js';\nimport {SET_SHOW_TRACK_INSTRUMENT} from 'constants/action-types.js';\nimport {SET_SHOW_MODULATORS} from 'constants/action-types.js';\nimport {SET_CABLE_SEGMENTATION} from 'constants/action-types.js';\nimport {SET_CABLE_SEGMENTATIONS} from 'constants/action-types.js';\n\nimport {SET_UX_LOCK_OBJECT} from 'constants/action-types.js';\nimport {SET_UX_LOCK_OBJECTS} from 'constants/action-types.js';\nimport {SET_UX_HIDE_OBJECT} from 'constants/action-types.js';\nimport {SET_UX_HIDE_OBJECTS} from 'constants/action-types.js';\nimport {SET_ZOBJECT_INPUT_TEXT} from 'constants/action-types.js';\nimport {SET_SHOW_EDITOR_BOTTOM} from 'constants/action-types.js';\nimport {SET_MINTING_PROGRESS} from 'constants/action-types.js';\nimport {SET_NEW_ZORA_TOKEN_ID} from 'constants/action-types.js';\nimport {SET_TRANSACTION_UPON_LOGIN} from 'constants/action-types.js';\nimport {SET_KEYBOARD_CONTEXT} from 'constants/action-types.js';\nimport {SET_PAD_FX_MODE} from 'constants/action-types.js';\nimport {SET_JAKI_GRID_MODE} from 'constants/action-types.js';\nimport {SET_OBJECT_STYLING} from 'constants/action-types.js';\nimport {SET_SELECTED_PLANAR_PARAMETERS} from 'constants/action-types.js';\nimport {SET_FILTERED_PLANAR_PARAMETERS} from 'constants/action-types.js';\nimport {SET_PLANAR_MACRO_TO_SHOW} from 'constants/action-types.js';\nimport {SET_PLANAR_REGION_MODE} from 'constants/action-types.js';\nimport {SET_GROUP_PRESETS_BY_PACKS} from 'constants/action-types.js';\nimport {SET_PIANO_ROLL_LEFT_SPACE} from 'constants/action-types.js';\nimport {SET_ZOBJECT_SIZE} from 'constants/action-types.js';\nimport {SET_SECONDARY_ZOBJECT} from 'constants/action-types.js';\nimport {CLEAR_DRAG_DROP} from 'constants/action-types.js';\nimport {SET_SAMPLES_TO_SAVE} from 'constants/action-types.js';\nimport {SET_EDITOR_PADDING} from 'constants/action-types.js';\nimport {SET_EDGES_PADDING} from 'constants/action-types.js';\nimport {SET_EDGES_SIZE} from 'constants/action-types.js';\nimport {SET_LEFT_SIDEBAR_WIDTH} from 'constants/action-types.js';\nimport {SET_DOCUMENTATION_SUB_SECTION} from 'constants/action-types.js';\nimport {SET_RIGHT_SIDEBAR_OPTION} from 'constants/action-types.js';\nimport {SET_SELECTED_FM_ENVELOPE_TYPE} from 'constants/action-types.js';\nimport {SET_SELECTED_FM_OPERATOR_DETAILS} from 'constants/action-types.js';\nimport {SET_SELECTED_FM_FORMANT} from 'constants/action-types.js';\nimport {SET_SHOW_SAVE_MODAL} from 'constants/action-types.js';\nimport {SET_ZOBJECT_FLASHING} from 'constants/action-types.js';\nimport {SET_SAMPLE_DOWNLOAD_PROGRESS} from 'constants/action-types.js';\nimport {SET_PRESET_SAVED} from 'constants/action-types.js';\nimport {SET_COMPLETELY_DONE_LOADING} from 'constants/action-types.js';\nimport {SET_PLUGIN_TO_SAVE} from 'constants/action-types.js';\nimport {SET_SHOW_PLUGINS} from 'constants/action-types.js';\nimport {SET_PLUGINS_LOADED} from 'constants/action-types.js';\nimport {SET_SHOW_PLUGINS_PANE} from 'constants/action-types.js';\nimport {SET_PLUGINS_PANE_HEIGHT} from 'constants/action-types.js';\nimport {SET_ZOBJECT_BACKGROUND} from 'constants/action-types.js';\nimport {SET_PRESENTATION_MODE} from 'constants/action-types.js';\nimport {SET_PRESENTATION_WINDOW_POSITION} from 'constants/action-types.js';\nimport {SET_BULK_PRESENTATION_WINDOW_POSITIONS} from 'constants/action-types.js';\nimport {SET_SHOW_FREEZE_MODAL} from 'constants/action-types.js';\nimport {SET_ZOBJECT_TOOLTIP} from 'constants/action-types.js';\nimport {SET_ZOBJECTS_STACK} from 'constants/action-types.js';\nimport {SET_ZOBJECT_CONTEXT_MENU} from 'constants/action-types.js';\nimport {SET_ENABLE_ROLL_VIEWER} from 'constants/action-types.js';\nimport {SET_ZOBJECT_MODAL} from 'constants/action-types.js';\nimport {SET_ZOBJECT_PROGRESSBAR} from 'constants/action-types.js';\nimport {SET_SPORE_TOKEN_ID} from 'constants/action-types.js';\nimport {SET_SOLD_PLAYERS} from 'constants/action-types.js';\n\nexport const setResolution = resolution => ({ type: SET_RESOLUTION, payload: resolution });\nexport const setSequencerEngine = sequencerEngine => ({ type: SET_SEQUENCER_ENGINE, payload: sequencerEngine});\nexport const setViewMode = viewMode => ({ type: SET_VIEW_MODE, payload: viewMode});\nexport const setAlternateViewMode = viewMode => ({ type: SET_ALTERNATE_VIEW_MODE, payload: viewMode});\nexport const setDetailsView = trackNumber => ({ type: SET_DETAILS_VIEW, payload: trackNumber});\nexport const setDecentralized = decentralized => ({ type: SET_DECENTRALIZED, payload: decentralized});\nexport const setSelectorMode = selectorMode => ({ type: SET_SELECTOR_MODE , payload: selectorMode});\nexport const setNumberOfPatterns = (id, numberOfPatterns) => (\n    {\n        type: SET_NUMBER_PATTERNS,\n        payload: {\n            id,\n            numberOfPatterns\n        }\n    });\nexport const setCurrentPattern =\n    (sequenceId, currentPattern) =>\n    ({\n        type: SET_CURRENT_PATTERN ,\n        payload: {\n            sequenceId: sequenceId,\n            currentPattern: currentPattern}});\nexport const setCurrentStep =\n    (sequenceId, currentStep) =>\n    ({\n        type: SET_CURRENT_STEP ,\n        payload: {\n            sequenceId: sequenceId,\n            currentStep: currentStep}});\nexport const setCurrentGlobalStep =\n    (sequenceId, currentStep) =>\n    ({\n        type: SET_CURRENT_GLOBAL_STEP,\n        payload: {\n            sequenceId: sequenceId,\n            currentGlobalStep: currentStep\n        }\n    });\n\nexport const setCurrentAndGlobalSteps =\n    (sequenceId, currentStep, currentGlobalStep) =>\n    ({\n        type: SET_CURRENT_AND_GLOBAL_STEPS,\n        payload: {\n            sequenceId: sequenceId,\n            currentStep: currentStep,\n            currentGlobalStep: currentGlobalStep,\n        }\n    }\n    );\n\n// samples\n\nexport const setSample = (id, sample) => ({ type: SET_SAMPLE, payload: {sampleId: id, sample: sample}});\n\nexport const startTriggerTrack = (trackNumber, sliceNumber) => ({ type: START_TRIGGER_TRACK, payload: {trackNumber: trackNumber, sliceNumber: sliceNumber}});\nexport const stopTriggerTrack = (trackNumber, sliceNumber) => ({ type: STOP_TRIGGER_TRACK, payload: {trackNumber: trackNumber, sliceNumber: sliceNumber}});\n\nexport const setSamplePack = (samplePack) => ({ type: SET_SAMPLE_PACK , payload: samplePack});\n\n// add sample pack to your palette\nexport const addSamplePack = (samplePack) => ({ type: ADD_SAMPLE_PACK , payload: samplePack});\nexport const removeSamplePack = (samplePack) => ({ type: REMOVE_SAMPLE_PACK , payload: samplePack});\n\n\nexport const dragSample = (sample) => ({ type: DRAG_SAMPLE , payload: sample});\nexport const dragEffect = (effectNumber) => ({ type: DRAG_EFFECT , payload: effectNumber});\nexport const dragPattern = (patternNumber) => ({ type: DRAG_PATTERN, payload: patternNumber});\n\nexport const mouseDown = (m) => ({ type: MOUSE_DOWN, payload: m});\nexport const dragToggle = (toggle) => ({ type: DRAG_TOGGLE, payload: toggle});\nexport const dragStepTranspose = (transpose) => ({ type: DRAG_STEP_TRANSPOSE, payload: transpose});\nexport const setCommandDown = (c) => ({ type: COMMAND_DOWN, payload: c});\n\nexport const trackRecording = (t, r) => ({ type: TRACK_RECORDING, payload: {id: t, recording: r}});\nexport const trackPreparingToRecord = (t, r) => ({ type: TRACK_PREPARING_TO_RECORD, payload: {trackNumber: t, preparing: r}});\n\nexport const setAllTrackSteps = (t, steps, pianoSteps, fills, stepToId, stepToPosition, pianoRollDurations, patternSteps, groups) => (\n    {\n        type: SET_ALL_TRACK_STEPS,\n        payload: {\n            id: t,\n            steps: steps,\n            pianoRollSteps: pianoSteps,\n            fills: fills,\n            stepToId: stepToId,\n            stepToPosition: stepToPosition,\n            pianoRollDurations: pianoRollDurations,\n            patternSteps: patternSteps,\n            groups\n        }});\n\nexport const setTrackSteps = (t, s) => ({ type: SET_TRACK_STEPS, payload: {id: t, steps: s}});\nexport const setTrackFills = (t, s) => ({ type: SET_TRACK_FILLS, payload: {id: t, fills: s}});\nexport const setTrackPianoRollSteps = (t, s) => ({ type: SET_TRACK_PIANO_ROLL_STEPS, payload: {id: t, steps: s}});\n\nexport const setSelectedTrack = (track) => ({ type: SET_SELECTED_TRACK, payload: track});\nexport const setSelectedStep = (step) => ({ type: SET_SELECTED_STEP, payload: step});\nexport const setHoveredStep = (step) => ({ type: SET_HOVERED_STEP, payload: step});\nexport const setSelectedGroup = (group) => ({ type: SET_SELECTED_GROUP, payload: group});\n\n\nexport const setTrackVolume = (trackNumber, volume) => ({ type: SET_TRACK_VOLUME, payload:\n                                                          {id: trackNumber, volume: volume }});\nexport const setTrackMuted = (id, muted) => ({ type: SET_TRACK_MUTED, payload: {\n    id: id, muted: muted}});\n\nexport const setTrackSolo = (id, solo) => ({ type: SET_TRACK_SOLO, payload: {\n    id, solo: solo}});\n\nexport const setGroupVolume = (groupNumber, volume) => ({ type: SET_GROUP_VOLUME, payload:\n                                                          {groupNumber: groupNumber, volume: volume }});\nexport const setGroupMuted = (groupNumber, muted) => ({ type: SET_GROUP_MUTED, payload: {\n    groupNumber: groupNumber, muted: muted}});\n\nexport const setQuantized = (quantized) => ({ type: SET_QUANTIZED, payload: quantized});\nexport const setIsRecording = (isRecording) => ({ type: SET_IS_RECORDING, payload: isRecording});\nexport const setIsRecordingExpanded = (isRecordingExpanded) => ({ type: SET_IS_RECORDING_EXPANDED, payload: isRecordingExpanded});\nexport const setIsRecordingMix = (isRecordingMix) => ({ type: SET_IS_RECORDING_MIX, payload: isRecordingMix});\nexport const setIsPlaying =\n    (sequenceId, isPlaying) =>\n    ({\n        type: SET_IS_PLAYING,\n        payload: {\n            sequenceId: sequenceId,\n            isPlaying: isPlaying\n        }});\nexport const setIsPlayingMix = (isPlayingMix) => ({ type: SET_IS_PLAYING_MIX, payload: isPlayingMix});\n\nexport const setSendMuted = (sendNumber, muted) => ({ type: SET_SEND_MUTED, payload: {\n    sendNumber: sendNumber, muted: muted}});\n\nexport const setStepDragging = (step) => ({ type: SET_STEP_DRAGGING, payload: step});\nexport const setStepToCopy = (step) => ({ type: SET_STEP_TO_COPY, payload: step});\n\nexport const setSequenceName = (name) => ({ type: SET_SEQUENCE_NAME, payload: name});\n\nexport const setSelectedEffect = (effectNumber) => ({ type: SET_SELECTED_EFFECT, payload: effectNumber});\n\nexport const setEffectParameterValue = (id, value) => ({ type: SET_EFFECT_PARAMETER_VALUE, payload: {id: id, value: value}});\n\nexport const setEffectsPaneOption = (option) => ({ type: SET_EFFECTS_PANE_OPTION, payload: option});\n\nexport const setSelectedParameter = (parameter) => ({ type: SET_SELECTED_PARAMETER, payload: parameter});\nexport const setSelectedParameterFlashing = (parameter) => ({ type: SET_SELECTED_PARAMETER_FLASHING, payload: parameter});\n\nexport const setMixes = (mixes) => ({ type: SET_MIXES, payload: mixes});\nexport const setCurrentMix = (mix) => ({ type: SET_CURRENT_MIX, payload: mix});\n\nexport const setErasingAutomation = (mix) => ({ type: SET_ERASING_AUTOMATION, payload: mix});\n\nexport const setTrackSendVolume = (subSequenceId, trackNumber, sendNumber, volume) => (\n    { type: SET_TRACK_SEND_VOLUME,\n      payload: {\n          subSequenceId: subSequenceId,\n          trackNumber: trackNumber,\n          sendNumber: sendNumber,\n          volume: volume\n      }});\n\nexport const setTrackFocused = (track) => ({ type: SET_TRACK_FOCUSED, payload: track});\n\nexport const setYearSelected = (year) => ({ type: SET_YEAR_SELECTED, payload: year});\nexport const setCountriesSelected = (countries) => ({ type: SET_COUNTRIES_SELECTED, payload: countries});\nexport const setVideosSelected = (videos) => ({ type: SET_VIDEOS_SELECTED, payload: videos});\nexport const setStylesSelected = (styles) => ({ type: SET_STYLES_SELECTED, payload: styles});\nexport const setTagsSelected = (tags) => ({ type: SET_TAGS_SELECTED, payload: tags});\nexport const setChordSelected = (chord) => ({ type: SET_CHORD_SELECTED, payload: chord});\nexport const setHierarchyRoot = (root) => ({ type: SET_HIERARCHY_ROOT, payload: root});\nexport const setHierarchyTree = (tree) => ({ type: SET_HIERARCHY_TREE, payload: tree});\n\nexport const setShowYearSlider = (show) => ({ type: SET_SHOW_YEAR_SLIDER, payload: show});\nexport const setShowCountries = (show) => ({ type: SET_SHOW_COUNTRIES, payload: show});\nexport const setShowVideos  = (show) => ({ type: SET_SHOW_VIDEOS, payload: show});\nexport const setShowStyles = (show) => ({ type: SET_SHOW_STYLES, payload: show});\nexport const setShowTags = (show) => ({ type: SET_SHOW_TAGS, payload: show});\nexport const setShowChordFilter = (show) => ({ type: SET_SHOW_CHORD_FILTER, payload: show});\n\nexport const setIsDraggingDuration = (duration) => ({ type: SET_IS_DRAGGING_DURATION, payload: duration});\nexport const setStepDataDragging = (stepData) => ({ type: SET_STEP_DATA_DRAGGING, payload: stepData});\nexport const setPianoRollSelection =\n    (stepNumber, transpose, numSteps, numNotes) =>\n    ({\n        type: SET_PIANO_ROLL_SELECTION,\n        payload: {\n            stepNumber: stepNumber,\n            transpose: transpose,\n            numSteps: numSteps,\n            numNotes: numNotes,\n        }});\n\n\nexport const setSelectedPianoRollSteps =\n    (selectedSteps) =>\n    ({\n        type: SET_SELECTED_PIANO_ROLL_STEPS,\n        payload: selectedSteps\n    });\n\nexport const setSearchResultsSamples =\n    (sampleHashes) =>\n    ({\n        type: SET_SEARCH_RESULTS_SAMPLES,\n        payload: sampleHashes\n    });\n\nexport const setSelectedChordSample =\n    (obj =>\n    ({\n        type: SET_SELECTED_CHORD_SAMPLE,\n        payload: obj\n    }));\n\nexport const setStepsToCopy =\n    (steps =>\n    ({\n        type: SET_STEPS_TO_COPY,\n        payload: steps\n    }));\n\nexport const setLoadingSequence = (id, loading) => ({ type: SET_LOADING_SEQUENCE, payload: {id: id, loading: loading}});\n\nexport const setEasyPatternToCopy = (easyPattern) => ({ type: SET_EASY_PATTERN_TO_COPY, payload: easyPattern});\n\nexport const setSampleAuditioning = (sampleId) => ({ type: SET_SAMPLE_AUDITIONING, payload: sampleId});\n\nexport const setLastMidiKeyMapped = (midiKey) => ({ type: SET_LAST_MIDI_KEY_MAPPED, payload: midiKey});\nexport const setTrackIsEnabled = (subSequenceId, trackNumber, isEnabled) => (\n    {\n        type: SET_TRACK_IS_ENABLED,\n        payload: {\n            subSequenceId: subSequenceId,\n            trackNumber: trackNumber,\n            isEnabled: isEnabled\n        }\n    });\n\nexport const setSelectedSampleTag = (sampleId, tag) => ({ type: SET_SELECTED_SAMPLE_TAG, payload: {sampleId: sampleId, tag: tag}});\n\nexport const setTransposeDragging = (dragging) => ({ type: SET_TRANSPOSE_DRAGGING, payload: {transpose: dragging}});\n\nexport const setMasterVolume =\n    (sequenceId, volume) => (\n        { type: SET_MASTER_VOLUME,\n          payload: {\n              sequenceId: sequenceId,\n              volume: volume\n          }\n        });\n\nexport const setUserViewMode = (userViewMode) => ({ type: SET_USER_VIEW_MODE, payload: userViewMode});\nexport const setCurrentUserMix = (mix) => ({ type: SET_CURRENT_USER_MIX, payload: mix});\nexport const setUserHasEditsToSave = (hasEdits) => ({ type: SET_USER_HAS_EDITS_TO_SAVE, payload: hasEdits});\n\nexport const setPatternToEditColor = (pattern) => ({ type: SET_PATTERN_TO_EDIT_COLOR, payload: pattern});\nexport const setPatternColor = (pattern, color) => (\n    { type: SET_PATTERN_COLOR,\n      payload: {\n          pattern: pattern,\n          color: color}});\n\nexport const setCompactMode = (isCompact) => ({ type: SET_COMPACT_MODE, payload: isCompact});\n\nexport const setShowLFOs = (show) => ({ type: SET_SHOW_LFOS, payload: show});\nexport const setShowEnvelopes = (show) => ({ type: SET_SHOW_ENVELOPES, payload: show});\n\nexport const setTracksToResample = (tracks) => ({ type: SET_TRACKS_TO_RESAMPLE, payload: tracks});\n\nexport const setProjectAutomationMode  = (mode) => ({ type: SET_PROJECT_AUTOMATION_MODE, payload: mode});\n\nexport const newSequence = () => ({ type: NEW_SEQUENCE, payload: {}});\n\nexport const setStepsSelection = (trackNumber, stepFrom, stepTo) =>\n    ({\n        type: SET_STEPS_SELECTION ,\n        payload: {\n            trackNumber: trackNumber,\n            fromStep: stepFrom,\n            toStep: stepTo\n        }\n    });\nexport const setSelectedSteps = (trackNumber, patternNumber, steps) => ({ type: SET_SELECTED_STEPS, payload: {trackNumber: trackNumber, patternNumber: patternNumber, steps: steps}});\nexport const setStepNumberDraggingFrom = (stepNumber) => ({ type: SET_STEP_NUMBER_DRAGGING_FROM, payload: stepNumber});\n\nexport const setSequencePatternLocks = (patternLocks) => (\n    { type: SET_SEQUENCE_PATTERN_LOCKS,\n      payload: {\n          patternLocks: patternLocks,\n      }});\n\nexport const setSequencePatternLocked = (patternNumber, locked) => (\n    {\n        type: SET_SEQUENCE_PATTERN_LOCKED,\n        payload: {\n            patternNumber: patternNumber,\n            locked: locked\n        }});\n\nexport const setTrackPatternLocked = (subSequence, trackNumber, patternNumber, locked) => (\n    {\n        type: SET_TRACK_PATTERN_LOCKED,\n        payload: {\n            subSequence: subSequence,\n            trackNumber: trackNumber,\n            patternNumber: patternNumber,\n            locked: locked\n        }});\n\nexport const setTrackPatternLocks = (subSequence, trackNumber, patternLocks) => (\n    { type: SET_TRACK_PATTERN_LOCKS,\n      payload: {\n          subSequence: subSequence,\n          trackNumber: trackNumber,\n          patternLocks: patternLocks,\n      }});\n\nexport const setEffectPatternLocks = (effectId, patternLocks) => (\n    { type: SET_EFFECT_PATTERN_LOCKS,\n      payload: {\n          id: effectId,\n          patternLocks: patternLocks\n      }});\n\nexport const updateStepsForAllTracks = (updateData) => ({ type: UPDATE_STEPS_FOR_ALL_TRACKS, payload: updateData});\n\nexport const setLFOPatternLocks = (subSequence, patternLocks) =>\n    ({\n        type: SET_LFO_PATTERN_LOCKS,\n        payload: {\n            patternLocks: patternLocks,\n            subSequence: subSequence,}\n    });\n\nexport const setEnvelopePatternLocks = (subSequence, patternLocks) =>\n    ({\n        type: SET_ENVELOPE_PATTERN_LOCKS,\n        payload: {\n            patternLocks: patternLocks,\n            subSequence: subSequence\n        }\n    });\n\nexport const setPianoRollPagination = (start, end) => ({ type: SET_PIANO_ROLL_PAGINATION, payload: {start : start, end: end}});\n\nexport const setIsResampling = (isResampling) => ({ type: SET_IS_RESAMPLING, payload: isResampling});\nexport const setResampleDuration = (resampleDuration) => ({ type: SET_RESAMPLE_DURATION, payload: resampleDuration});\n\nexport const setKeyMappings = (keyMappings) => ({ type: SET_KEY_MAPPINGS, payload: keyMappings});\nexport const setPadMappings = (padMappings) => ({ type: SET_PAD_MAPPINGS, payload: padMappings});\n\nexport const setShowSequenceModal = (show) => ({ type: SET_SHOW_SEQUENCE_MODAL, payload: show});\n\nexport const setShowModsModal = (show) => ({ type: SET_SHOW_MODS_MODAL, payload: show});\n\nexport const setMultiParameterSliderValue = (id, value) => (\n    {\n        type: SET_MULTI_PARAMETER_SLIDER,\n        payload: {\n            id: id,\n            value: value\n        }\n    });\n\nexport const setSequenceRolling = (rolling) => ({ type: SET_SEQUENCE_ROLLING, payload: rolling});\n\nexport const setTrackEffectsChain = (trackNumber, effectsChain) => (\n    {\n        type: SET_TRACK_EFFECTS_CHAIN,\n        payload: {\n            trackNumber: trackNumber,\n            effectsChain: effectsChain\n        }\n    });\n\nexport const setShowSequences = (show) => ({ type: SET_SHOW_SEQUENCES, payload: show});\nexport const setShowPresets = (show) => ({ type: SET_SHOW_PRESETS, payload: show});\nexport const setShowInstruments = (show) => ({ type: SET_SHOW_INSTRUMENTS, payload: show});\n\nexport const setTrackRolling = (rolling) => ({ type: SET_TRACK_ROLLING, payload: rolling});\n\nexport const setZIndexHack = (hack) => ({ type: SET_Z_INDEX_HACK, payload: hack});\n\nexport const setLoadedTracks = (tracks) => ({ type: SET_LOADED_TRACKS, payload: tracks});\n\nexport const setBPM = (bpm) => ({ type: SET_BPM, payload: bpm});\n\nexport const setResampleMaster = (flag) => ({ type: SET_RESAMPLE_MASTER, payload: flag});\n\nexport const setYoutubeSearchTerms = (s) => ({ type: SET_YOUTUBE_SEARCH_TERMS, payload: s});\n\nexport const setAudioInputSource = (s) => ({ type: SET_AUDIO_INPUT_SOURCE, payload: s});\n\nexport const setWaveformSelection = (x) => (\n    {\n        type: SET_WAVEFORM_SELECTION,\n        payload: x\n    });\n\nexport const setWaveformSelectionEnd = (x) => (\n    {\n        type: SET_WAVEFORM_SELECTION_END,\n        payload: x\n    });\n\nexport const setMidiMapMode= (mode) => (\n    {\n        type: SET_MIDI_MAP_MODE,\n        payload: mode\n    });\n\nexport const setParameterMidiMapSelection= (parameter) => (\n    {\n        type: SET_PARAMETER_MIDI_MAP_SELECTION,\n        payload: parameter\n    });\n\nexport const setParameterMidiMapping= (parameter, midiControl) => (\n    {\n        type: SET_PARAMETER_MIDI_MAPPING,\n        payload: {\n            parameter: parameter,\n            midiControl: midiControl\n        }\n    });\n\nexport const deleteParameterMidiMapping = (parameter) => (\n    {\n        type: DELETE_PARAMETER_MIDI_MAPPING,\n        payload: parameter,\n    });\n\nexport const setActionMidiMapSelection= (action) => (\n    {\n        type: SET_ACTION_MIDI_MAP_SELECTION,\n        payload: action\n    });\n\nexport const setActionMidiMapping= (action, midiControl) => (\n    {\n        type: SET_ACTION_MIDI_MAPPING,\n        payload: {\n            action: action,\n            midiControl: midiControl\n        }\n    });\n\nexport const deleteMidiMappings = (control) => (\n    {\n        type: DELETE_MIDI_MAPPINGS,\n        payload: control,\n    });\n\n\nexport const setLatency = (latency) => (\n    {\n        type: SET_LATENCY,\n        payload: latency,\n    });\n\nexport const setSpotlightTracks = (tracks) => (\n    {\n        type: SET_SPOTLIGHT_TRACKS,\n        payload: tracks,\n    });\n\nexport const setClockType = (type) => (\n    {\n        type: SET_CLOCK_TYPE,\n        payload: type,\n    });\n\nexport const setConnectionStatus = (status) => (\n    {\n        type: SET_CONNECTION_STATUS,\n        payload: status,\n    });\n\nexport const setConnectedUserName = (userName) => (\n    {\n        type: SET_CONNECTED_USER_NAME,\n        payload: userName,\n    });\n\nexport const setClockTick = (step) => (\n    {\n        type: SET_CLOCK_TICK,\n        payload: step,\n    });\n\nexport const setPlayScheduled = (flag) => (\n    {\n        type: SET_PLAY_SCHEDULED,\n        payload: flag,\n    });\n\nexport const setAvailableUsersToSync = (users) => (\n    {\n        type: SET_AVAILABLE_USERS_TO_SYNC,\n        payload: users,\n    });\n\nexport const setSearchSortBy = (sortBy) => (\n    {\n        type: SET_SEARCH_SORT_BY,\n        payload: sortBy,\n    });\n\nexport const setMidiEffectDragging = (effect) => (\n    {\n        type: SET_MIDI_EFFECT_DRAGGING,\n        payload: effect,\n    });\n\nexport const setShowTrackEffects = (trackNumber, show) => (\n    {\n        type: SET_SHOW_TRACK_EFFECTS,\n        payload: {\n            trackNumber: trackNumber,\n            show: show\n        },\n    });\n\nexport const setShowConvolverModal = (show, sample) => (\n    {\n        type: SET_SHOW_CONVOLVER_MODAL,\n        payload: {\n            show: show,\n            convolverSample: sample\n        },\n    });\n\nexport const setShowPasswordModal = (show) => (\n    {\n        type: SET_SHOW_PASSWORD_MODAL,\n        payload: show\n    });\n\nexport const setPasswordModalCallback = (callback) => (\n    {\n        type: SET_PASSWORD_MODAL_CALLBACK,\n        payload: callback\n    });\n\nexport const setShowShareSequenceModal = (show) => (\n    {\n        type: SET_SHOW_SHARE_SEQUENCE_MODAL,\n        payload: show\n    });\n\nexport const hideAllEffects = () => (\n    {\n        type: HIDE_ALL_EFFECTS,\n        payload: {},\n    });\n\nexport const setEffectCollapsed = (id, isCollapsed) => (\n    {\n        type: SET_EFFECT_COLLAPSED,\n        payload: {\n            id: id,\n            isCollapsed: isCollapsed\n        },\n    });\n\nexport const setContextualHelp = (element, arg) => (\n    {\n        type: SET_CONTEXTUAL_HELP,\n        payload: {element, arg}\n    });\n\nexport const setSelectedLFO = (lfo) => (\n    {\n        type: SET_SELECTED_LFO,\n        payload: lfo,\n    });\n\nexport const setSelectedEnvelope = (envelope) => (\n    {\n        type: SET_SELECTED_ENVELOPE,\n        payload: envelope\n    });\n\nexport const setSidebarCollapsed = (collapsed) => (\n    {\n        type: SET_SIDEBAR_COLLAPSED,\n        payload: collapsed\n    });\n\nexport const setMixEvents = (subSequenceId, type, events) => (\n    {\n        type: SET_MIX_EVENTS,\n        payload: {\n            subSequenceId: subSequenceId,\n            type: type,\n            events: events\n        }\n    });\n\nexport const setShowGroups = (showGroups) => (\n    {\n        type: SET_SHOW_GROUPS,\n        payload: showGroups\n    });\n\nexport const setCurrentSubSequence = (sequenceId, subSequenceId) => (\n    {\n        type: SET_CURRENT_SUB_SEQUENCE,\n        payload: {\n            sequenceId: sequenceId,\n            subSequenceId: subSequenceId,\n        }\n    });\n\n\nexport const setSubSequences = (id, ids) => (\n    {\n        type: SET_SUB_SEQUENCES,\n        payload: {\n            sequenceId: id,\n            ids: ids,\n        },\n    });\n\nexport const setAllTrackPatternLocks = (locks) => (\n    {\n        type: SET_ALL_TRACK_PATTERN_LOCKS,\n        payload: locks\n    });\n\nexport const setAllLFOLocks = (locks) => (\n    {\n        type: SET_ALL_LFO_LOCKS,\n        payload: locks,\n    });\n\nexport const setAllEnvelopeLocks= (locks) => (\n    {\n        type: SET_ALL_ENVELOPE_LOCKS,\n        payload: locks\n    });\n\nexport const setMixViewMode = (mode) => (\n    {\n        type: SET_MIX_VIEW_MODE,\n        payload: mode\n    });\n\nexport const setSubSequenceFade = (id, value) => (\n    {\n        type: SET_SUB_SEQUENCE_FADE,\n        payload: {\n            subSequenceId: id,\n            value: value,\n        },\n    });\n\nexport const setSampleSlices= (id, slices) => (\n    {\n        type: SET_SAMPLE_SLICES,\n        payload: {\n            id: id,\n            slices: slices,\n        },\n    });\n\nexport const setSelectedArrangementEvents  = (events) => (\n    {\n        type: SET_SELECTED_ARRANGEMENT_EVENTS,\n        payload: events,\n    });\n\nexport const setShowDateSampled = (show) => (\n    {\n        type: SET_SHOW_DATE_SAMPLED,\n        payload: show\n    });\n\nexport const setDateSampled = (dates) => (\n    {\n        type: SET_DATE_SAMPLED,\n        payload: dates\n    });\n\nexport const setEffectParameterValues = (values) => (\n    {\n        type: SET_EFFECT_PARAMETER_VALUES,\n        payload: values\n    });\n\nexport const setTrackPanning = (trackNumber, pan) => (\n    {\n        type: SET_TRACK_PANNING,\n        payload: {\n            trackNumber: trackNumber,\n            pan: pan\n        }\n    });\n\nexport const setGroupPanning = (groupNumber, pan) => (\n    {\n        type: SET_GROUP_PANNING,\n        payload: {\n            groupNumber: groupNumber,\n            pan: pan\n        }\n    });\n\nexport const setSelectedRecord = (record) => (\n    {\n        type: SET_SELECTED_RECORD,\n        payload: record,\n    });\n\nexport const set2DSelection = (startX, startY, endX, endY) => (\n    {\n        type: SET_2D_SELECTION,\n        payload: {\n            startX: startX,\n            startY: startY,\n            endX: endX,\n            endY: endY\n        },\n    });\n\nexport const setSimilarSoundsToFind = (sampleId) => (\n    {\n        type: SET_SIMILAR_SOUNDS_TO_FIND,\n        payload: sampleId,\n    });\n\nexport const setShowSamples2D = (show) => (\n    {\n        type: SET_SHOW_SAMPLES_2D,\n        payload: show,\n    });\n\nexport const setLastNotePlayed = (lastNote) => (\n    {\n        type: SET_LAST_NOTE_PLAYED,\n        payload: lastNote,\n    });\n\nexport const setSidebarViewMode = (mode) => (\n    {\n        type: SET_SIDEBAR_VIEW_MODE,\n        payload: mode,\n    });\n\nexport const setDiscogsSelected = (selected) => (\n    {\n        type: SET_DISCOGS_SELECTED,\n        payload: selected,\n    });\n\nexport const setSelectedFolder = (selected) => (\n    {\n        type: SET_SELECTED_FOLDER,\n        payload: selected,\n    });\n\nexport const setSelectedPreset = (selected) => (\n    {\n        type: SET_SELECTED_PRESET,\n        payload: selected,\n    });\n\nexport const setHasChangesToFolders = (flag) => (\n    {\n        type: SET_HAS_CHANGES_TO_FOLDERS,\n        payload: flag,\n    });\n\nexport const setCursorTrack = (track) => (\n    {\n        type: SET_CURSOR_TRACK,\n        payload: track,\n    });\n\nexport const setCursorStep = (step) => (\n    {\n        type: SET_CURSOR_STEP,\n        payload: step,\n    });\n\nexport const setCursorShow = (show) => (\n    {\n        type: SET_CURSOR_SHOW,\n        payload: show,\n    });\n\nexport const setFolderDragging = (folder) => (\n    {\n        type: SET_FOLDER_DRAGGING,\n        payload: folder,\n    });\n\nexport const setPresetDragging = (preset) => (\n    {\n        type: SET_PRESET_DRAGGING,\n        payload: preset,\n    });\n\nexport const setSampleDragging = (sample) => (\n    {\n        type: SET_SAMPLE_DRAGGING,\n        payload: sample,\n    });\n\nexport const setEffectsChainToShow = (subSequenceId, track, chainNumber) => (\n    {\n        type: SET_EFFECTS_CHAIN_TO_SHOW,\n        payload: {\n            subSequenceId: subSequenceId,\n            trackNumber: track,\n            chainNumber: chainNumber\n        },\n    });\n\nexport const setSubSequenceMuted = (id, muted) => (\n    {\n        type: SET_SUB_SEQUENCE_MUTED,\n        payload: {\n            id: id,\n            muted: muted,\n        },\n    });\n\nexport const setTrackFrozen = (subSequenceId, trackNumber, frozen) => (\n    {\n        type: SET_TRACK_FROZEN,\n        payload: {\n            subSequenceId: subSequenceId,\n            trackNumber: trackNumber,\n            frozen: frozen,\n        },\n    });\n\nexport const setTrackToFreeze = (subSequenceId, trackNumber) => (\n    {\n        type: SET_TRACK_TO_FREEZE,\n        payload: {\n            subSequenceId: subSequenceId,\n            trackNumber: trackNumber,\n        },\n    });\n\nexport const setFrozenTrackPlaying = (subSequenceId, trackNumber, playing) => (\n    {\n        type: SET_FROZEN_TRACK_PLAYING,\n        payload: {\n            subSequenceId: subSequenceId,\n            trackNumber: trackNumber,\n            playing: playing,\n        },\n    });\n\nexport const setFrozenTracksPlaying = (subSequenceId, frozenTracksPlaying) => (\n    {\n        type: SET_FROZEN_TRACKS_PLAYING,\n        payload: {\n            subSequenceId: subSequenceId,\n            frozenTracksPlaying: frozenTracksPlaying,\n        },\n    });\n\nexport const setFrozenTracks = (subSequenceId, frozenTracks) => (\n    {\n        type: SET_FROZEN_TRACKS,\n        payload: {\n            subSequenceId: subSequenceId,\n            frozenTracks: frozenTracks,\n        },\n    });\n\nexport const setEffectsChainsToShow = (subSequenceId, effectsChains) => (\n    {\n        type: SET_EFFECTS_CHAINS_TO_SHOW,\n        payload: {\n            subSequenceId: subSequenceId,\n            effectsChains: effectsChains,\n        },\n    });\n\nexport const setSelectedOnsets = (id, selectedOnsets) => (\n    {\n        type: SET_SELECTED_ONSETS,\n        payload: {\n            id: id,\n            selectedOnsets: selectedOnsets,\n        },\n    });\n\nexport const setSingleStepToDrag = (stepData) => (\n    {\n        type: SET_SINGLE_STEP_TO_DRAG,\n        payload: stepData\n    });\n\nexport const setStepNumberDraggedTo = (stepNumber) => (\n    {\n        type: SET_STEP_NUMBER_DRAGGED_TO,\n        payload: stepNumber\n    });\n\nexport const setSearchResultsStart = (start) => (\n    {\n        type: SET_SEARCH_RESULTS_START,\n        payload: start\n    });\n\nexport const setShowStepOptions = (option, effect) => (\n    {\n        type: SET_SHOW_STEP_OPTIONS,\n        payload: {\n            option: option,\n            effect: effect,\n        }\n    });\n\nexport const setMasterStepToggles = (steps) => (\n    {\n        type: SET_MASTER_STEP_TOGGLES,\n        payload:  steps\n    });\n\nexport const setParametersToRecord = (params) => (\n    {\n        type: SET_PARAMETERS_TO_RECORD,\n        payload:  params\n    });\n\nexport const setOnsetThreshold = (threshold) => (\n    {\n        type: SET_ONSET_THRESHOLD,\n        payload: threshold\n    });\n\nexport const setShowOnsets = (show) => (\n    {\n        type: SET_SHOW_ONSETS,\n        payload: show\n    });\n\nexport const setSelectedGuild = (guild) => (\n    {\n        type: SET_SELECTED_GUILD,\n        payload: guild\n    });\n\nexport const setPianoRollDragOffset = (offset) => (\n    {\n        type: SET_PIANO_ROLL_DRAG_OFFSET,\n        payload: offset\n    });\n\nexport const setPianoRollNotes = (notes) => (\n    {\n        type: SET_PIANO_ROLL_NOTES,\n        payload: notes\n    });\n\nexport const setStepAndDataDragging = (stepNumber, stepData) => (\n    {\n        type: SET_STEP_AND_DATA_DRAGGING,\n        payload: {\n            stepNumber: stepNumber,\n            stepData: stepData\n        }\n    });\n\nexport const setShowLogin= (show) => (\n    {\n        type: SET_SHOW_LOGIN,\n        payload: show\n    });\n\nexport const setSigningUp = (signingUp) => (\n    {\n        type: SET_SIGNING_UP,\n        payload: signingUp\n    });\n\nexport const setUserToken = (userName, token) => (\n    {\n        type: SET_USER_TOKEN,\n        payload: {\n            userName,\n            token\n        }\n    });\n\nexport const setPendingTransactions = (pendingTransactions) => (\n    {\n        type: SET_PENDING_TRANSACTIONS,\n        payload: pendingTransactions\n    });\n\nexport const setCommandInput = (input) => (\n    {\n        type: SET_COMMAND_INPUT,\n        payload: input\n    });\n\nexport const setCommandPrefix = (prefix) => (\n    {\n        type: SET_COMMAND_PREFIX,\n        payload: prefix\n    });\n\nexport const setViMode = (mode) => (\n    {\n        type: SET_VI_MODE,\n        payload: mode\n    });\n\nexport const setTrackWarp = (subSequenceId, trackNumber, warp) => (\n    {\n        type: SET_TRACK_WARP,\n        payload: {\n            subSequenceId,\n            trackNumber,\n            warp,\n        }\n    });\n\nexport const setSubSequenceWarps = (subSequenceId, warps) => (\n    {\n        type: SET_SUB_SEQUENCE_WARPS,\n        payload: {\n            subSequenceId,\n            warps,\n        }\n    });\n\nexport const setArrangementSelection = (start, end) => (\n    {\n        type: SET_ARRANGEMENT_SELECTION,\n        payload: {\n            start: start,\n            end: end,\n        }\n    });\n\nexport const setArrangementMouseX= (mouseX) => (\n    {\n        type: SET_ARRANGEMENT_MOUSE_X,\n        payload: mouseX\n    });\n\nexport const setArrangementAutomationToShow = (subSequenceId, type) => (\n    {\n        type: SET_ARRANGEMENT_AUTOMATION_TO_SHOW,\n        payload: {\n            subSequenceId,\n            type\n        }\n    });\n\nexport const setArrangementLooping = (looping) => (\n    {\n        type: SET_ARRANGEMENT_LOOPING,\n        payload: looping\n    });\n\nexport const setArrangementSelectedRows = (rows) => (\n    {\n        type: SET_ARRANGEMENT_SELECTED_ROWS,\n        payload: rows\n    });\n\nexport const setArrangementLoopSelected = (selected) => (\n    {\n        type: SET_ARRANGEMENT_LOOP_SELECTED,\n        payload: selected\n    });\n\nexport const setArrangementRowSelections = (selections) => (\n    {\n        type: SET_ARRANGEMENT_ROW_SELECTIONS,\n        payload: selections\n    });\n\nexport const setArrangementZoom = (zoom) => (\n    {\n        type: SET_ARRANGEMENT_ZOOM,\n        payload: zoom\n    });\n\nexport const setSelectedSequence = (id) => (\n    {\n        type: SET_SELECTED_SEQUENCE,\n        payload: id\n    });\n\nexport const setExploreMixerEffect = (effect, toggle) => (\n    {\n        type: SET_EXPLORE_MIXER_EFFECT,\n        payload: {\n            effect,\n            toggle\n        }\n    });\n\nexport const setExploreEQEffect = (type, toggle) => (\n    {\n        type: SET_EXPLORE_EQ_EFFECT,\n        payload: {\n            type,\n            toggle\n        }\n    });\n\nexport const setSelectedSendEffect = (effect) => (\n    {\n        type: SET_SELECTED_SEND_EFFECT,\n        payload: effect\n    });\n\nexport const setInstrumentTypeDragging = (type) => (\n    {\n        type: SET_INSTRUMENT_TYPE_DRAGGING,\n        payload: type\n    });\n\nexport const setTrackIsLoading = (subSequenceId, trackNumber, isLoading) => {\n    return {\n        type: SET_TRACK_IS_LOADING,\n        payload: {\n            subSequenceId,\n            trackNumber,\n            isLoading\n        }\n    };\n}\n\nexport const setPianoRollCursor = (cursor) => (\n    {\n        type: SET_PIANO_ROLL_CURSOR,\n        payload: cursor\n    });\n\nexport const setArrangementXScale = (xScale) => (\n    {\n        type: SET_ARRANGEMENT_X_SCALE,\n        payload: xScale\n    });\n\nexport const setTotalArrangementLength = (len) => (\n    {\n        type: SET_TOTAL_ARRANGEMENT_LENGTH,\n        payload: len\n    });\n\nexport const setArrangementBottomHeight = (height) => (\n    {\n        type: SET_ARRANGEMENT_BOTTOM_HEIGHT,\n        payload: height\n    });\n\nexport const setArrangementBottomMode = (mode) => (\n    {\n        type: SET_ARRANGEMENT_BOTTOM_MODE,\n        payload: mode\n    });\n\nexport const setArrangementBottomResizing = (isResizing) => (\n    {\n        type: SET_ARRANGEMENT_BOTTOM_RESIZING,\n        payload: isResizing,\n    });\n\nexport const setArrangementPatternDragging = (patternDragging, offsetX) => (\n    {\n        type: SET_ARRANGEMENT_PATTERN_DRAGGING,\n        payload: patternDragging === undefined ? undefined :\n            {\n                patternDragging,\n                offsetX\n            }\n    });\n\nexport const setArrangementPatternStartStep = (subSequenceId, patternId, startStep) => (\n    {\n        type: SET_ARRANGEMENT_PATTERN_START_STEP,\n        payload:  {\n            subSequenceId,\n            patternId,\n            startStep\n        }\n    });\n\nexport const setArrangementCursorStep = (step) => (\n    {\n        type: SET_ARRANGEMENT_CURSOR_STEP,\n        payload: step\n    });\n\nexport const setArrangementPatternResizing = (pattern, direction) => (\n    {\n        type: SET_ARRANGEMENT_PATTERN_RESIZING,\n        payload: pattern === undefined ? undefined :\n            {\n                pattern,\n                direction\n            }\n    });\n\nexport const setArrangementBrowserMode = (mode) => (\n    {\n        type: SET_ARRANGEMENT_BROWSER_MODE,\n        payload: mode\n    });\n\nexport const setSampleToExplore = (sampleToExplore) => (\n    {\n        type: SET_SAMPLE_TO_EXPLORE,\n        payload: sampleToExplore\n    });\n\nexport const setEffectRackNodePosition = (rackId, effectId, x, y) => (\n    {\n        type: SET_EFFECT_RACK_NODE_POSITION,\n        payload: {\n            rackId,\n            effectId,\n            x,\n            y\n        },\n    });\n\nexport const setAnnotationDragging = (dragging) => (\n    {\n        type: SET_ANNOTATION_DRAGGING,\n        payload: dragging\n    });\n\nexport const setTrackAutomationDevice = (trackId, device) => (\n    {\n        type: SET_TRACK_AUTOMATION_DEVICE,\n        payload: {\n            trackId,\n            device\n        }\n    });\n\nexport const setTrackAutomationRackDevice = (trackId, device) => (\n    {\n        type: SET_TRACK_AUTOMATION_RACK_DEVICE,\n        payload: {\n            trackId,\n            device\n        }\n    });\n\nexport const setTrackAutomationSubDevice = (trackId, subDevice) => (\n    {\n        type: SET_TRACK_AUTOMATION_SUB_DEVICE,\n        payload: {\n            trackId,\n            subDevice \n        }\n    });\n\nexport const setTrackAutomationParameter = (trackId, parameter) => (\n    {\n        type: SET_TRACK_AUTOMATION_PARAMETER,\n        payload: {\n            trackId,\n            parameter\n        }\n    });\n\nexport const setShowAutomation = (show) => (\n    {\n        type: SET_SHOW_AUTOMATION,\n        payload: {\n            show,\n        }\n    });\n\nexport const setParameterAutomations = (parameter, automations, scheduler) => (\n    {\n        type: SET_PARAMETER_AUTOMATIONS,\n        payload: {\n            parameter,\n            automations,\n            scheduler\n        }\n    });\n\nexport const setActionsRemaining = (actionsRemaining) => (\n    {\n        type: SET_ACTIONS_REMAINING,\n        payload: actionsRemaining\n    });\n\nexport const setTimeRemaining = (timeRemaining) => (\n    {\n        type: SET_TIME_REMAINING,\n        payload: timeRemaining\n    });\n\nexport const setShowPianoRoll = (showPianoRoll) => (\n    {\n        type: SET_SHOW_PIANO_ROLL,\n        payload: showPianoRoll\n    });\n\nexport const setSelectedRackSubTrack  = (trackId, track) => (\n    {\n        type: SET_SELECTED_RACK_SUB_TRACK,\n        payload: {\n            trackId,\n            track\n        }\n    });\n\nexport const deleteAutomationsForParameters = (parameters) => (\n    {\n        type: DELETE_AUTOMATIONS_FOR_PARAMETERS,\n        payload: parameters\n    });\n\nexport const deleteAutomationsForEngine = (engineId) => (\n    {\n        type: DELETE_AUTOMATIONS_FOR_ENGINE,\n        payload: engineId\n    });\n\nexport const setAutomationGuidePoint = (id, guidePoint) => (\n    {\n        type: SET_AUTOMATION_GUIDE_POINT,\n        payload: {id, guidePoint}\n    });\n\nexport const setAutomationPointDragging  = (id, point) => (\n    {\n        type: SET_AUTOMATION_POINT_DRAGGING,\n        payload: {id, point},\n    });\n\nexport const setAutomationPointHasMoved  = (id, hasMoved) => (\n    {\n        type: SET_AUTOMATION_POINT_HAS_MOVED,\n        payload: {id, hasMoved},\n    });\n\nexport const setAutomationPointHovered  = (id, pt) => (\n    {\n        type: SET_AUTOMATION_POINT_HOVERED,\n        payload: {id, pt}\n    });\n\nexport const setTrackToConvert = (track) => ({\n        type: SET_TRACK_TO_CONVERT,\n        payload: track\n    });\n\nexport const setAutomationSelection = (id, selection) => ({\n    type: SET_AUTOMATION_SELECTION,\n    payload: {id, selection}\n});\n\nexport const setAutomationPointsSelected = (id, points) => ({\n    type: SET_AUTOMATION_POINTS_SELECTED,\n    payload: {id, points}\n});\n\nexport const setExplorePersonSelected = (person) => ({\n        type: SET_EXPLORE_PERSON_SELECTED,\n        payload: person\n    });\n\nexport const setExploreAllSequences = (sequences) => ({\n        type: SET_EXPLORE_ALL_SEQUENCES,\n        payload: sequences\n    });\n\nexport const setRecordingExploreMix = (isRecording) => ({\n        type: SET_RECORDING_EXPLORE_MIX,\n        payload: isRecording\n    });\n\nexport const setWorksLoaded = (worksLoaded) => ({\n    type: SET_WORKS_LOADED,\n    payload: worksLoaded\n});\n\nexport const setWorkTranspose = (sequenceId, transpose) => ({\n    type: SET_WORK_TRANSPOSE,\n    payload: {\n        sequenceId,\n        transpose\n    }\n});\n\nexport const setWorkVolume = (sequenceId, volume) => ({\n    type: SET_WORK_VOLUME,\n    payload: {\n        sequenceId,\n        volume\n    }\n});\n\nexport const setExploreMixLoaded = (mix) => ({\n    type: SET_EXPLORE_MIX_LOADED,\n    payload: mix\n});\n\nexport const setIsMacroMapping = (isMapping) => ({\n    type: SET_IS_MACRO_MAPPING,\n    payload: isMapping\n});\n\nexport const setParameterToMap = (parameter) => ({\n    type: SET_PARAMETER_TO_MAP,\n    payload: parameter\n});\n\nexport const setMixColorValue = (id, value) => ({\n    type: SET_MIX_COLOR_VALUE,\n    payload: {id, value}\n});\n\nexport const setMixHasEdits = (hasEdits) => ({\n    type: SET_MIX_HAS_EDITS,\n    payload: hasEdits\n});\n\nexport const setScriptVariables = (id, variables) => ({\n    type: SET_SCRIPT_VARIABLES,\n    payload: {\n        id, variables\n    }\n});\n\nexport const setExploreOption = (opt) => ({\n    type: SET_EXPLORE_OPTION,\n    payload: opt\n});\n\nexport const setAnnotationsView = (work) => ({\n    type: SET_ANNOTATIONS_VIEW,\n    payload: work\n});\n\nexport const setExploreToast = (toast) => ({\n    type: SET_EXPLORE_TOAST,\n    payload: toast\n});\n\nexport const setParameterSliderDown = (param) => ({\n    type: SET_PARAMETER_SLIDER_DOWN,\n    payload: param\n});\n\nexport const moveEngineAutomations = (oldId, newId) => ({\n    type: MOVE_ENGINE_AUTOMATIONS,\n    payload: {oldId, newId}\n});\n\nexport const setSequenceLoadingProgress = (sequenceId, progress) => ({\n    type: SET_SEQUENCE_LOADING_PROGRESS,\n    payload: {sequenceId, progress}\n});\n\nexport const setTrackBrowsedSamples = (trackId, samples) => ({\n    type: SET_TRACK_BROWSED_SAMPLES,\n    payload: {trackId, samples}\n});\n\nexport const setTrackBrowsedPresets = (trackId, presets) => ({\n    type: SET_TRACK_BROWSED_PRESETS,\n    payload: {trackId, presets}\n});\n\nexport const setBottomToolbarOffset = (off) => ({\n    type: SET_BOTTOM_TOOLBAR_OFFSET,\n    payload: off\n});\n\nexport const setTrackUpdates = (updates) => ({\n    type: SET_TRACK_UPDATES,\n    payload: updates\n});\n\nexport const setIsTranscribing = (isTranscribing) => ({\n    type: SET_IS_TRANSCRIBING,\n    payload: isTranscribing\n});\n\nexport const setSampleTooltip = (sampleInfo) => ({\n    type: SET_SAMPLE_TOOLTIP,\n    payload: sampleInfo\n});\n\nexport const setSelectedFreeze = (id) => ({\n    type: SET_SELECTED_FREEZE,\n    payload: id\n});\n\nexport const setTrackLengthMode = (mode) => ({\n    type: SET_TRACK_LENGTH_MODE,\n    payload: mode\n});\n\nexport const setTrackLengthChoice = (length) => ({\n    type: SET_TRACK_LENGTH_CHOICE,\n    payload: length\n});\n\nexport const setFreezeDragging = (freeze) => ({\n    type: SET_FREEZE_DRAGGING,\n    payload: freeze\n});\n\nexport const setFreezeColumnSamples = (trackId, column, samples) => ({\n    type: SET_FREEZE_COLUMN_SAMPLES,\n    payload: {\n        trackId,\n        column,\n        samples\n    }\n});\n\nexport const setUploadingFile = (f) => ({\n    type: SET_UPLOADING_FILE,\n    payload: f\n});\n\nexport const setGroupCollapsed = (subSequenceId, groupNumber, collapsed) => ({\n    type: SET_GROUP_COLLAPSED,\n    payload: {\n        subSequenceId,\n        groupNumber,\n        collapsed\n    }\n});\n\nexport const setSelectedMixEffect = (subSequenceId, trackNumber, groupNumber, effectType, effect) => ({\n    type: SET_SELECTED_MIX_EFFECT,\n    payload: {\n        subSequenceId,\n        trackNumber,\n        groupNumber,\n        effectType,\n        effect\n    }\n});\n\nexport const setSamplesDragging = (samples) => ({\n    type: SET_SAMPLES_DRAGGING,\n    payload: samples\n});\n\nexport const setDisplayResolution = (resolution) => ({\n    type: SET_DISPLAY_RESOLUTION,\n    payload: resolution\n});\n\nexport const setOfflineEngine = (offlineEngine) => ({\n    type: SET_OFFLINE_ENGINE,\n    payload: offlineEngine\n});\n\nexport const setCurrentExportInfo = (name, index, total) => ({\n    type: SET_CURRENT_EXPORT_INFO,\n    payload: name === undefined ?\n        undefined :\n        {\n            name, index, total\n        }\n});\n\nexport const setMixTrackDragging = (track) => ({\n    type: SET_MIX_TRACK_DRAGGING,\n    payload: track\n});\n\nexport const setGroupTracks = (groupId, tracks) => ({\n    type: SET_GROUP_TRACKS,\n    payload: {\n        groupId,\n        tracks\n    }\n});\n\nexport const setLoadingText = (loadingText) => ({\n    type: SET_LOADING_TEXT,\n    payload: loadingText\n});\n\nexport const setTrackEnvelopes = (id, envelopes) => ({\n    type: SET_TRACK_ENVELOPES,\n    payload:  {\n        id, envelopes \n    }\n});\n\nexport const setCopiedNodesForRack = (nodes) => ({\n    type: SET_COPIED_NODES_FOR_RACK,\n    payload: nodes\n});\n\nexport const setLastMidiCCPlayed = (midiCC) => ({\n    type: SET_LAST_MIDI_CC_PLAYED,\n    payload: midiCC\n});\n\nexport const setArrangementMouseDownX = (mouseX) => ({\n    type: SET_ARRANGEMENT_MOUSE_DOWN_X,\n    payload: mouseX\n});\n\nexport const setTrackerParameterToEdit= (parameter) => ({\n    type: SET_TRACKER_PARAMETER_TO_EDIT,\n    payload: parameter\n});\n\nexport const setTracksToHide = (tracks) => ({\n    type: SET_TRACKS_TO_HIDE,\n    payload: tracks\n});\n\nexport const setSelectedPalette = (trackId, palette) => ({\n    type: SET_SELECTED_PALETTE,\n    payload: {trackId, palette}\n});\n\nexport const setSequencedPalette = (trackId, palette) => ({\n    type: SET_SEQUENCED_PALETTE,\n    payload: {trackId, palette}\n});\n\n\nexport const setProjectDragging = (project) => ({\n    type: SET_PROJECT_DRAGGING,\n    payload: project\n});\n\nexport const setExploreUnpublished = (changed) => ({\n    type: SET_EXPLORE_UNPUBLISHED,\n    payload: changed\n});\n\nexport const setQuickAddSearchText = (text) => ({\n    type: SET_QUICK_ADD_SEARCH_TEXT,\n    payload: text\n});\n\nexport const setShowTrackFreezeHistory = (id, show) => ({\n    type: SET_SHOW_TRACK_FREEZE_HISTORY,\n    payload: {id, show}\n});\n\nexport const setSelectedMidiTrack = (track) => ({\n    type: SET_SELECTED_MIDI_TRACK,\n    payload: track\n});\n\nexport const setSelectedTrackSlice = (track, slice) => ({\n    type: SET_SELECTED_TRACK_SLICE,\n    payload: {\n        track, slice\n    }\n});\n\nexport const setCirklonParameterSelected = (track, parameter) => ({\n    type: SET_CIRKLON_PARAMETER_SELECTED,\n    payload: {\n        track,\n        parameter\n    }\n});\n\nexport const setCirklonMode = (track, mode) => ({\n    type: SET_CIRKLON_MODE,\n    payload: {\n        track,\n        mode\n    }\n});\n\nexport const setNotesDown = (notes) => ({\n    type: SET_NOTES_DOWN,\n    payload: notes\n\n});\n\nexport const setScenes = (scenes) => ({\n    type: SET_SCENES,\n    payload: scenes\n});\n\nexport const setCurrentScene = (scene) => ({\n    type: SET_CURRENT_SCENE,\n    payload: scene\n});\n\nexport const setShowSettings = (show) => ({\n    type: SET_SHOW_SETTINGS,\n    payload: show\n});\n\nexport const setWallpaper  = (wallpaper) => ({\n    type: SET_WALLPAPER,\n    payload: wallpaper\n});\n\nexport const setAnimateWallpaper  = (wallpaper) => ({\n    type: SET_ANIMATE_WALLPAPER,\n    payload: wallpaper\n});\n\nexport const setExpandedProject = (project) => ({\n    type: SET_EXPANDED_PROJECT,\n    payload: project\n});\n\nexport const setAccumulatorParameterSelected = (param) => ({\n    type: SET_ACCUMULATOR_PARAMETER_SELECTED,\n    payload: param\n});\n\nexport const setPlaneMapping = (plane) => ({\n    type: SET_PLANE_MAPPING,\n    payload: plane\n});\n\nexport const setTrackPresetSaving = (track) => ({\n    type: SET_TRACK_PRESET_SAVING,\n    payload: track\n});\n\nexport const setSampleTagDragging = (tag) => ({\n    type: SET_SAMPLE_TAG_DRAGGING,\n    payload: tag\n});\n\nexport const setParameterMixAutomations = (parameter, automations, scheduler) => ({\n    type: SET_PARAMETER_MIX_AUTOMATIONS,\n    payload: {\n        parameter,\n        automations,\n        scheduler\n    }\n});\n\nexport const setShowArrangementTracks = (subSequenceId, show) => ({\n    type: SET_SHOW_ARRANGEMENT_TRACKS,\n    payload: {\n        subSequenceId,\n        show\n    }\n});\n\nexport const setArrangementPatternSelected = (pattern) => ({\n    type: SET_ARRANGEMENT_PATTERN_SELECTED,\n    payload: pattern\n});\n\nexport const setSidebarSearchInput = (element) => ({\n    type: SET_SIDEBAR_SEARCH_INPUT,\n    payload: element\n});\n\nexport const setShowArrangementSearcher = (show) => ({\n    type: SET_SHOW_ARRANGEMENT_SEARCHER,\n    payload: show\n});\n\nexport const setExploreWork = (work) => ({\n    type: SET_EXPLORE_WORK,\n    payload: work\n});\n\nexport const setCreatingNewPack = (creating) => ({\n    type: SET_CREATING_NEW_PACK,\n    payload: creating\n});\n\nexport const setPackWindowPosition = (x,y) => ({\n    type: SET_PACK_WINDOW_POSITION,\n    payload: {x,y}\n});\n\nexport const setDraggingPackWindow = (dragging) => ({\n    type: SET_DRAGGING_PACK_WINDOW,\n    payload: dragging\n});\n\nexport const setPackToEdit = (pack) => ({\n    type: SET_PACK_TO_EDIT,\n    payload: pack\n});\n\nexport const setIsManagingGuilds = (s) => ({\n    type: SET_IS_MANAGING_GUILDS,\n    payload: s\n});\n\nexport const newStepGroup = (g) => ({\n    type: NEW_STEP_GROUP,\n    payload: g\n});\n\nexport const setStepsGroupMode = (g) => ({\n    type: SET_STEPS_GROUP_MODE,\n    payload: g\n});\n\nexport const setTransformationEdgeDragging= (tr) => ({\n    type: SET_TRANSFORMATION_EDGE_DRAGGING,\n    payload: tr\n});\n\nexport const setShowFormantEffect = (formant) => ({\n    type: SET_SHOW_FORMANT_EFFECT,\n    payload: formant\n});\n\nexport const setShowingFormants = (show) => ({\n    type: SET_SHOWING_FORMANTS,\n    payload: show\n});\n\nexport const setPulledEffects = (effects) => ({\n    type: SET_PULLED_EFFECTS,\n    payload: effects\n});\n\nexport const setLoopsToFreeze = (loops) => ({\n    type: SET_LOOPS_TO_FREEZE,\n    payload: loops\n});\n\nexport const setParameterMinMax = (bulk) => ({\n    type: SET_PARAMETER_MIN_MAX,\n    payload: bulk\n});\n\nexport const setCurrentSoundInList = (number) => ({\n    type: SET_CURRENT_SOUND_IN_LIST,\n    payload: number\n});\n\nexport const setShowingSoundList = (show) => ({\n    type: SET_SHOWING_SOUND_LIST,\n    payload: show\n});\n\nexport const setCurrentTagInList = (number) => ({\n    type: SET_CURRENT_TAG_IN_LIST,\n    payload: number\n});\n\nexport const setLinkingEffects = (effect, name) => ({\n    type: SET_LINKING_EFFECTS,\n    payload: effect ? {\n        effect,\n        name\n    } : undefined\n});\n\nexport const setPackSelected = (number) => ({\n    type: SET_PACK_SELECTED,\n    payload: number\n});\n\nexport const setSampleExplorerSelected = (f) => ({\n    type: SET_SAMPLE_EXPLORER_SELECTED,\n    payload: f\n});\n\nexport const setPianoRollSlide = (f) => ({\n    type: SET_PIANO_ROLL_SLIDE,\n    payload: f\n});\n\nexport const setMaximizeExplorer = (f) => ({\n    type: SET_MAXIMIZE_EXPLORER,\n    payload: f\n});\n\nexport const setPads = (id, pads) => ({\n    type: SET_PADS,\n    payload: {\n        id, pads\n    }\n});\n\nexport const setPadSlots = (id, slots) => ({\n    type: SET_PAD_SLOTS,\n    payload: {\n        id, slots\n    }\n});\n\nexport const setPadHovered = (f) => ({\n    type: SET_PAD_HOVERED,\n    payload: f\n});\n\nexport const setWaveformShowing = (f) => ({\n    type: SET_WAVEFORM_SHOWING,\n    payload: f\n});\n\nexport const setTrackDragging = (f) => ({\n    type: SET_TRACK_DRAGGING,\n    payload: f\n});\n\nexport const setHideMixer = (h) => ({\n    type: SET_HIDE_MIXER,\n    payload: h\n});\n\nexport const setSourceExploring = (h) => ({\n    type: SET_SOURCE_EXPLORING,\n    payload: h\n});\n\nexport const setYearExploring = (year) => ({\n    type: SET_YEAR_EXPLORING,\n    payload: year\n});\n\nexport const setPullablePartDragging = (part) => ({\n    type: SET_PULLABLE_PART_DRAGGING,\n    payload: part\n});\n\nexport const setPadsExpand = (id) => ({\n    type: SET_PADS_EXPAND,\n    payload: id\n});\n\nexport const setSequencers = (id, sequencers) => ({\n    type: SET_SEQUENCERS,\n    payload: {id, sequencers}\n});\n\nexport const setSequencerTracks = (id, tracks) => ({\n    type: SET_SEQUENCER_TRACKS,\n    payload: {id, tracks}\n});\n\nexport const setPlaneMacros = (id, macros) => ({\n    type: SET_PLANE_MACROS,\n    payload: {id, macros}\n});\n\nexport const setWindowPosition = (id, position) => ({\n    type: SET_WINDOW_POSITION,\n    payload: {id, position}\n});\n\nexport const setPresentationWindowPosition = (id, position) => ({\n    type: SET_PRESENTATION_WINDOW_POSITION,\n    payload: {id, position}\n});\n\nexport const setPadEffects = (id, effects) => ({\n    type: SET_PAD_EFFECTS,\n    payload: {id, effects}\n});\n\nexport const setDrawingPadEdge = (id, edge) => ({\n    type: SET_DRAWING_PAD_EDGE,\n    payload: {id, edge}\n});\n\nexport const setSelectedPadEdge  = (edge) => ({\n    type: SET_SELECTED_PAD_EDGE,\n    payload: edge\n});\n\nexport const setBulkEffectsCollapsed = (x) => ({\n    type: SET_BULK_EFFECTS_COLLAPSED,\n    payload: x\n});\n\nexport const setSelectedPulledElements = (x) => ({\n    type: SET_SELECTED_PULLED_ELEMENTS,\n    payload: x\n});\n\nexport const setBulkWindowPositions = (bulk) => ({\n    type: SET_BULK_WINDOW_POSITIONS,\n    payload: bulk\n});\n\nexport const setBulkPresentationWindowPositions = (bulk) => ({\n    type: SET_BULK_PRESENTATION_WINDOW_POSITIONS,\n    payload: bulk\n});\n\nexport const setAllEffectPatternLocks = (bulk) => ({\n    type: SET_ALL_EFFECT_PATTERN_LOCKS,\n    payload: bulk\n});\n\nexport const setModuleCollapsed = (id, collapsed) => ({\n    type: SET_MODULE_COLLAPSED,\n    payload: {\n        id, collapsed\n    }\n});\n\nexport const setTrackMidiEffects = (id, effects) => ({\n    type: SET_TRACK_MIDI_EFFECTS,\n    payload: {\n        id, effects\n    }\n});\n\nexport const setEffectStarred = (id, starred) => ({\n    type: SET_EFFECT_STARRED,\n    payload: {\n        id, starred\n    }\n});\n\nexport const setBulkEffectsStarred = (bulk) => ({\n    type: SET_BULK_EFFECTS_STARRED,\n    payload: bulk\n});\n\nexport const setBulkModulesCollapsed = (bulk) => ({\n    type: SET_BULK_MODULES_COLLAPSED,\n    payload: bulk\n});\n\nexport const deleteTrackId = (id) => ({\n    type: DELETE_TRACK_ID,\n    payload: id\n});\n\nexport const setShowingContextMenu = (show) => ({\n    type: SET_SHOWING_CONTEXT_MENU,\n    payload: show\n});\n\nexport const setHigherOrderMatrix = (matrix) => ({\n    type: SET_HIGHER_ORDER_MATRIX,\n    payload: matrix\n});\n\nexport const setModuleColor = (id, color) => ({\n    type: SET_MODULE_COLOR,\n    payload: {\n        id, color\n    }\n});\n\nexport const setModulesRouting = (inputModules, outputModules) => ({\n    type: SET_MODULES_ROUTING,\n    payload: {inputModules, outputModules}\n});\n\nexport const setHigherOrderStepsSelected = (steps) => ({\n    type: SET_HIGHER_ORDER_STEPS_SELECTED,\n    payload: steps\n});\n\nexport const setOrientationRoutings = (routings) => ({\n    type: SET_ORIENTATION_ROUTINGS,\n    payload: routings\n});\n\nexport const setShowHigherOrderSequencer = (show) => ({\n    type: SET_SHOW_HIGHER_ORDER_SEQUENCER,\n    payload: show\n});\n\nexport const setPlanar = (track, planar) => ({\n    type: SET_PLANAR,\n    payload: {track, planar}\n});\n\nexport const setPlanarGradientColor = (id, color) => ({\n    type: SET_PLANAR_GRADIENT_COLOR,\n    payload: {id, color}\n});\n\nexport const setPlanarOpacity = (id, opacity) => ({\n    type: SET_PLANAR_OPACITY,\n    payload: {id, opacity}\n});\n\nexport const setModuleSize = (id, size) => ({\n    type: SET_MODULE_SIZE,\n    payload: {id, size}\n});\n\nexport const setInletConnections = (id, connections) => ({\n    type: SET_INLET_CONNECTIONS,\n    payload: {id, connections}\n});\n\nexport const setZObjects = (id, objects) => ({\n    type: SET_ZOBJECTS,\n    payload: {id, objects}\n});\n\nexport const setZMessages = (id, messages) => ({\n    type: SET_ZMESSAGES,\n    payload: {id, messages}\n});\n   \nexport const setBackgroundColor = (color) => ({\n    type: SET_BACKGROUND_COLOR,\n    payload: color\n});\n\nexport const setViewableSubPatches = (subpatches) => ({\n    type: SET_VIEWABLE_SUBPATCHES,\n    payload: subpatches\n});\n\nexport const setViewableZObjects = (zobjects) => ({\n    type: SET_VIEWABLE_ZOBJECTS,\n    payload: zobjects\n});\n\nexport const setSelectedZObject = (obj) => ({\n    type: SET_SELECTED_ZOBJECT,\n    payload: obj\n});\n\nexport const setJakiGrid = (id, grid) => ({\n    type: SET_JAKI_GRID,\n    payload: {id, grid}\n});\n\nexport const setZObjectTypeDragging = (type) => ({\n    type: SET_ZOBJECT_TYPE_DRAGGING,\n    payload: type\n});\n\nexport const setUXLocked = (locked) => ({\n    type: SET_UX_LOCKED,\n    payload: locked\n});\n\nexport const setMintedTokens = (tokens) => ({\n    type: SET_MINTED_TOKENS,\n    payload: tokens\n});\n\nexport const setHicDialog = (data) => ({\n    type: SET_HIC_DIALOG,\n    payload: data\n});\n\nexport const setIsPreparingNFT = (flag) => ({\n    type: SET_IS_PREPARING_NFT,\n    payload: flag\n});\n\nexport const setFullScreenZObject = (zobject) => ({\n    type: SET_FULL_SCREEN_ZOBJECT,\n    payload: zobject\n});\n\nexport const setMainScrollRef = (ref) => ({\n    type: SET_MAIN_SCROLL_REF,\n    payload: ref\n});\n\nexport const setViewportPosition = (position) => ({\n    type: SET_VIEWPORT_POSITION,\n    payload: position\n});\n\nexport const setSidebarsShowing= (s) => ({\n    type: SET_SIDEBARS_SHOWING,\n    payload: s\n});\n\nexport const setShowPadSequencer= (s) => ({\n    type: SET_SHOW_PAD_SEQUENCER,\n    payload: s\n});\n\nexport const setShowProjectsModal= (s) => ({\n    type: SET_SHOW_PROJECTS_MODAL,\n    payload: s\n});\n\nexport const setShowSearchWindow = (s) => ({\n    type: SET_SHOW_SEARCH_WINDOW,\n    payload: s\n});\n\n\nexport const setStepParameterSelected = (s) => ({\n    type: SET_STEP_PARAMETER_SELECTED,\n    payload: s\n});\n\nexport const setShowTrackInstrument = (s) => ({\n    type: SET_SHOW_TRACK_INSTRUMENT,\n    payload: s\n});\n\nexport const setShowModulators = (s) => ({\n    type: SET_SHOW_MODULATORS,\n    payload: s\n});\n\nexport const setCableSegmentation = (id, segmentation) => ({\n    type: SET_CABLE_SEGMENTATION,\n    payload: {\n        id,\n        segmentation\n    }\n});\n\nexport const setCableSegmentations = (segmentations) => ({\n    type: SET_CABLE_SEGMENTATIONS,\n    payload: segmentations\n});\n\nexport const setUXLockObject= (id, lock) => ({\n    type: SET_UX_LOCK_OBJECT,\n    payload: {id, lock}\n});\n\nexport const setUXLockObjects = ( locks) => ({\n    type: SET_UX_LOCK_OBJECTS,\n    payload: locks\n});\n\nexport const setUXHideObject = ( id, hide) => ({\n    type: SET_UX_HIDE_OBJECT,\n    payload: {id, hide}\n});\n\nexport const setUXHideObjects = ( locks) => ({\n    type: SET_UX_HIDE_OBJECTS,\n    payload: locks\n});\n\nexport const setZoraDialog = (zora) => ({\n    type: SET_ZORA_DIALOG,\n    payload: zora\n});\n\nexport const setZObjectInputText = (txt) => ({\n    type: SET_ZOBJECT_INPUT_TEXT,\n    payload: txt\n});\n\nexport const setShowEditorBottom = (show) => ({\n    type: SET_SHOW_EDITOR_BOTTOM,\n    payload: show\n});\n\nexport const setMintingProgress = (progress) => ({\n    type: SET_MINTING_PROGRESS,\n    payload: progress\n});\n\nexport const setNewZoraTokenId  = (tokenId) => ({\n    type: SET_NEW_ZORA_TOKEN_ID,\n    payload: tokenId\n});\n\nexport const setTransactionUponLogin = (transaction) => ({\n    type: SET_TRANSACTION_UPON_LOGIN,\n    payload: transaction\n});\n\nexport const setKeyboardContext = (object) => ({\n    type: SET_KEYBOARD_CONTEXT,\n    payload: object\n});\n\nexport const setPadFXMode = (id, mode) => ({\n    type: SET_PAD_FX_MODE,\n    payload: {id, mode}\n});\n\nexport const setJakiGridMode = (mode) => ({\n    type: SET_JAKI_GRID_MODE,\n    payload: mode\n});\n\nexport const setObjectStyling = (id, styling) => ({\n    type: SET_OBJECT_STYLING,\n    payload: {\n        id, styling\n    }\n});\n\nexport const setSelectedPlanarParameters = (id, selected) => ({\n    type: SET_SELECTED_PLANAR_PARAMETERS,\n    payload: {\n        id, selected\n    }\n});\n\nexport const setFilteredPlanarParameters = (id, filtered) => ({\n    type: SET_FILTERED_PLANAR_PARAMETERS,\n    payload: {\n        id, filtered\n    }\n});\n\nexport const setPlanarMacroToShow = (id, macro) => ({\n    type: SET_PLANAR_MACRO_TO_SHOW,\n    payload: {\n        id, macro\n    }\n});\n\nexport const setPlanarRegionMode = (id, isRegionMode) => ({\n    type: SET_PLANAR_REGION_MODE,\n    payload: {\n        id, isRegionMode\n    }\n});\n\nexport const setGroupPresetsByPacks  = (groupBy) => ({\n    type: SET_GROUP_PRESETS_BY_PACKS,\n    payload: groupBy\n});\n\nexport const setPianoRolllLeftSpace = (leftSpace) => ({\n    type: SET_PIANO_ROLL_LEFT_SPACE,\n    payload: leftSpace\n});\n\nexport const setZObjectSize = (id, size) => ({\n    type: SET_ZOBJECT_SIZE,\n    payload: {id, size}\n});\n\nexport const setSecondaryZObject = (zobject) => ({\n    type: SET_SECONDARY_ZOBJECT,\n    payload: zobject\n});\n\nexport const clearDragDrop = () => ({\n    type: CLEAR_DRAG_DROP,\n    payload: {}\n});\n\nexport const setSamplesToSave = (samples) => ({\n    type: SET_SAMPLES_TO_SAVE,\n    payload: samples\n});\n\nexport const setEditorPadding = (x,y) => ({\n    type: SET_EDITOR_PADDING,\n    payload: {x,y}\n});\n\nexport const setEdgesPadding = (x,y) => ({\n    type: SET_EDGES_PADDING,\n    payload: {x,y}\n});\n\nexport const setEdgesSize = (width, height) => ({\n    type: SET_EDGES_SIZE,\n    payload: {\n        width,\n        height}\n});\n\nexport const setLeftSidebarWidth = (width) => ({\n    type: SET_LEFT_SIDEBAR_WIDTH,\n    payload: width\n        \n});\n\nexport const setMovingPadEdge = (edge) => ({\n    type: SET_MOVING_PAD_EDGE,\n    payload: edge\n});\n\nexport const setDocumentationSubSection = (sub) => ({\n    type: SET_DOCUMENTATION_SUB_SECTION,\n    payload: sub\n});\n\nexport const setRightSidebarOption = (sub) => ({\n    type: SET_RIGHT_SIDEBAR_OPTION,\n    payload: sub\n});\n\n\nexport const setSelectedFMEnvelopeType = (type) => ({\n    type: SET_SELECTED_FM_ENVELOPE_TYPE,\n    payload: type\n});\n\nexport const setSelectedFMOperatorDetails  = (type) => ({\n    type: SET_SELECTED_FM_OPERATOR_DETAILS,\n    payload: type\n});\n\nexport const setSelectedFMFormant  = (type) => ({\n    type: SET_SELECTED_FM_FORMANT,\n    payload: type\n});\n\nexport const setShowSaveModal = (show) => ({\n    type: SET_SHOW_SAVE_MODAL,\n    payload: show\n});\n\nexport const setZObjectFlashing = (id, timestamp) => ({\n    type: SET_ZOBJECT_FLASHING,\n    payload: {\n        id,\n        timestamp\n    }\n});\n\nexport const setSampleDownloadProgress = (downloaded, total) => ({\n    type: SET_SAMPLE_DOWNLOAD_PROGRESS,\n    payload: {\n        downloaded,\n        total\n    }\n});\n\nexport const setPresetSaved = (preset) => ({\n    type: SET_PRESET_SAVED,\n    payload: preset\n});\n\nexport const setCompletelyDoneLoading = (load) => ({\n    type: SET_COMPLETELY_DONE_LOADING,\n    payload: load\n});\n\nexport const setPluginToSave = (zobject) => ({\n    type: SET_PLUGIN_TO_SAVE,\n    payload: zobject\n});\n\n\nexport const setShowPlugins = (show) => ({\n    type: SET_SHOW_PLUGINS,\n    payload: show\n});\n\nexport const setPluginsLoaded = (plugins) => ({\n    type: SET_PLUGINS_LOADED,\n    payload: plugins\n});\n\nexport const setShowPluginsPane = (show) => ({\n    type: SET_SHOW_PLUGINS_PANE,\n    payload: show\n});\n\nexport const setPluginsPaneHeight = (h) => ({\n    type: SET_PLUGINS_PANE_HEIGHT,\n    payload: h\n});\n\nexport const setDroppedSamples = (h) => ({\n    type: SET_DROPPED_SAMPLES,\n    payload: h\n});\n\nexport const setShowFormantPresets= (show) => ({\n    type: SET_SHOW_FORMANT_PRESETS,\n    payload: show\n});\n\nexport const setZObjectBackground = (zobject) => ({\n    type: SET_ZOBJECT_BACKGROUND,\n    payload: zobject\n});\n\nexport const setPresentationMode = (mode) => ({\n    type: SET_PRESENTATION_MODE,\n    payload: mode\n});\n\nexport const setShowFreezeModal = (show) => ({\n    type: SET_SHOW_FREEZE_MODAL,\n    payload: show\n});\n\nexport const setTheme = (theme) => ({\n    type: SET_THEME,\n    payload: theme\n});\n\nexport const setShowThemeGrid = (show) => ({\n    type: SET_SHOW_THEME_GRID,\n    payload: show\n});\n\n\nexport const setRecentlyAddedSounds = (samples) => ({\n    type: SET_RECENTLY_ADDED_SOUNDS,\n    payload: samples\n});\n\nexport const setZObjectTooltip = (id, position, text) => ({\n    type: SET_ZOBJECT_TOOLTIP,\n    payload: {\n        id,\n        position,\n        text\n    }\n});\n\nexport const setZObjectsStack = (stack) => ({\n    type: SET_ZOBJECTS_STACK,\n    payload: stack\n});\n\nexport const setZObjectContextMenu = (id, position, zobject) => ({\n    type: SET_ZOBJECT_CONTEXT_MENU,\n    payload: {\n        id,\n        position,\n        zobject\n    }\n});\n\nexport const setObjectDragging = (object) => ({\n    type: SET_OBJECT_DRAGGING,\n    payload: object\n});\n\nexport const setEnableRollViewer = (enable) => ({\n    type: SET_ENABLE_ROLL_VIEWER,\n    payload: enable\n});\n\nexport const setZObjectModal = (modal) => ({\n    type: SET_ZOBJECT_MODAL,\n    payload: modal\n});\n\nexport const setZObjectProgressBar = (text) => ({\n    type: SET_ZOBJECT_PROGRESSBAR,\n    payload: text\n});\n\nexport const setShowPlaylistMenu = (show) => ({\n    type: SET_SHOW_PLAYLIST_MENU,\n    payload: show\n});\n\nexport const setCurrentPlaylistSong = (song) => ({\n    type: SET_CURRENT_PLAYLIST_SONG,\n    payload: song\n});\n\nexport const setSporeTokenId = (tokenId) => ({\n    type: SET_SPORE_TOKEN_ID,\n    payload: tokenId\n});\n\nexport const setSoldPlayers = (sold) => ({\n    type: SET_SOLD_PLAYERS,\n    payload: sold\n});\n\nexport const setPendingSpores = (spores) => ({\n    type: SET_PENDING_SPORES,\n    payload: spores\n});\n\nexport const setUsedCheatCode = (spores) => ({\n    type: SET_USED_CHEAT_CODE,\n    payload: spores\n});\n\nexport const setSecondsRemaining = (time) => ({\n    type: SET_SECONDS_REMAINING,\n    payload: time\n});\n\nexport const setPlaylistLoaded = (playlist) => ({\n    type: SET_PLAYLIST_LOADED,\n    payload: playlist\n});\n\n\nexport const setPlayerRef = (playerRef) => ({\n    type: SET_PLAYER_REF,\n    payload: playerRef\n});\n\n\nexport const setPlayStatus = (status) => ({\n    type: SET_PLAY_STATUS,\n    payload: status\n});\n\nexport const setLeakLoaded = (leak) => ({\n    type: SET_LEAK_LOADED,\n    payload: leak\n});\n\nexport const setSongLoaded = (song) => ({\n    type: SET_SONG_LOADED,\n    payload: song\n});\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n","export const SET_RESOLUTION = 1;\nexport const SET_SEQUENCER_ENGINE = 2;\nexport const SET_VIEW_MODE = 3;\nexport const SET_DETAILS_VIEW = 4;\nexport const SET_DECENTRALIZED = 5;\nexport const SET_SELECTOR_MODE = 6;\nexport const SET_NUMBER_PATTERNS= 7;\nexport const SET_CURRENT_PATTERN = 8;\nexport const SET_CURRENT_STEP = 9;\nexport const SET_CURRENT_GLOBAL_STEP = 10;\n\nexport const SET_SAMPLE = 11;\n\nexport const START_TRIGGER_TRACK = 12;\nexport const STOP_TRIGGER_TRACK = 13;\n\nexport const TOGGLE_TRACK = 14;\nexport const UNTOGGLE_TRACK = 15;\n\nexport const SET_SAMPLE_PACK = 16;\n\nexport const ADD_SAMPLE_PACK = 17;\nexport const REMOVE_SAMPLE_PACK = 18;\n\nexport const DRAG_SAMPLE = 19;\nexport const DRAG_EFFECT = 20;\nexport const DRAG_PATTERN = 21;\n\n// for when the user drags across steps to quickly toggle them,\n// either true (the mouse is currently clicking and dragging) or\n// false (the mouse is not clicking right now)\nexport const MOUSE_DOWN = 22;\n\n// when MOUSE_DOWN is true, this is used to tell you whether it should\n// toggle the step should toggle on or off\nexport const DRAG_TOGGLE = 23;\nexport const DRAG_STEP_TRANSPOSE = 24;\n\n// true when the \"command\" key is held down, this mode allows\n// people to drag the durations of steps\nexport const COMMAND_DOWN = 25;\n\nexport const TRACK_RECORDING = 26;\nexport const TRACK_PREPARING_TO_RECORD = 27;\n\nexport const SET_TRACK_STEPS = 28;\nexport const UPDATE_STEPS_FOR_ALL_TRACKS = 29;\nexport const SET_ALL_TRACK_STEPS = 30;\nexport const SET_TRACK_FILLS = 31;\nexport const SET_TRACK_PIANO_ROLL_STEPS = 32;\n\nexport const SET_SELECTED_TRACK = 33;\nexport const SET_SELECTED_GROUP = 34;\n\nexport const SET_TRACK_VOLUME = 35;\nexport const SET_TRACK_MUTED = 36;\nexport const SET_TRACK_SOLO = 37;\n\nexport const SET_GROUP_VOLUME = 38;\nexport const SET_GROUP_MUTED = 39;\n\nexport const SET_QUANTIZED = 40;\nexport const SET_IS_RECORDING = 41;\nexport const SET_IS_RECORDING_EXPANDED  = 42;\nexport const SET_IS_RECORDING_MIX = 43;\nexport const SET_IS_PLAYING = 44; \nexport const SET_IS_PLAYING_MIX = 45;\n\nexport const SET_SEND_MUTED = 46;\n\nexport const SET_SELECTED_STEP = 47;\nexport const SET_HOVERED_STEP = 48;\n\nexport const SET_STEP_DRAGGING = 49;\nexport const SET_STEP_TO_COPY = 50;\n\nexport const SET_SEQUENCE_NAME = 51;\n\nexport const SET_SELECTED_EFFECT = 52;\n\nexport const SET_EFFECT_PARAMETER_VALUE = 53;\n\nexport const SET_EFFECTS_PANE_OPTION = 54;\n\nexport const SET_SELECTED_PARAMETER = 55;\nexport const SET_SELECTED_PARAMETER_FLASHING = 56;\n\nexport const SET_MIXES = 57;\nexport const SET_CURRENT_MIX = 58;\n\nexport const SET_ERASING_AUTOMATION = 59;\n\nexport const SET_TRACK_SEND_VOLUME = 60;\n\nexport const SET_TRACK_FOCUSED = 61;\n\nexport const SET_YEAR_SELECTED = 62;\nexport const SET_COUNTRIES_SELECTED = 63;\nexport const SET_VIDEOS_SELECTED = 64;\nexport const SET_STYLES_SELECTED = 65;\nexport const SET_TAGS_SELECTED = 66;\nexport const SET_HIERARCHY_ROOT = 67;\nexport const SET_HIERARCHY_TREE = 68;\nexport const SET_SHOW_YEAR_SLIDER = 69;\nexport const SET_SHOW_COUNTRIES = 70;\nexport const SET_SHOW_VIDEOS = 71;\nexport const SET_SHOW_STYLES = 72;\nexport const SET_SHOW_TAGS = 73;\nexport const SET_SHOW_CHORD_FILTER = 74;\nexport const SET_CHORD_SELECTED = 75;\n\nexport const SET_IS_DRAGGING_DURATION = 76;\nexport const SET_STEP_DATA_DRAGGING = 77;\n\nexport const SET_PIANO_ROLL_SELECTION = 78;\nexport const SET_SELECTED_PIANO_ROLL_STEPS  = 79;\n\nexport const SET_SEARCH_RESULTS_SAMPLES = 80;\n\nexport const SET_SELECTED_CHORD_SAMPLE = 81;\n\nexport const SET_STEPS_TO_COPY = 82;\n\nexport const SET_LOADING_SEQUENCE = 83;\n\nexport const SET_EASY_PATTERN_TO_COPY = 84;\n\nexport const SET_SAMPLE_AUDITIONING = 85;\n\nexport const SET_LAST_MIDI_KEY_MAPPED = 86;\n\nexport const SET_TRACK_IS_ENABLED = 87;\n\nexport const SET_SELECTED_SAMPLE_TAG = 88;\n\nexport const SET_TRANSPOSE_DRAGGING = 89;\n\nexport const SET_MASTER_VOLUME = 90;\n\nexport const SET_USER_VIEW_MODE = 91;\n\nexport const SET_CURRENT_USER_MIX = 92;\n\nexport const SET_USER_HAS_EDITS_TO_SAVE = 93;\n\nexport const SET_PATTERN_TO_EDIT_COLOR = 94;\nexport const SET_PATTERN_COLOR = 95;\n\nexport const SET_COMPACT_MODE = 96;\n\nexport const SET_SHOW_LFOS = 97;\n\nexport const SET_TRACKS_TO_RESAMPLE = 98;\n\nexport const SET_PROJECT_AUTOMATION_MODE = 99;\n\nexport const NEW_SEQUENCE = 100;\n\nexport const SET_STEPS_SELECTION = 101;\nexport const SET_SELECTED_STEPS = 102;\nexport const SET_STEP_NUMBER_DRAGGING_FROM = 103;\n\nexport const SET_ALL_TRACK_PATTERN_LOCKS = 104;\nexport const SET_ALL_ENVELOPE_LOCKS = 105;\nexport const SET_ALL_LFO_LOCKS = 106;\nexport const SET_TRACK_PATTERN_LOCKED = 107;\nexport const SET_TRACK_PATTERN_LOCKS = 108;\nexport const SET_LFO_PATTERN_LOCKS = 109;\nexport const SET_ENVELOPE_PATTERN_LOCKS = 110;\nexport const SET_PIANO_ROLL_PAGINATION = 111;\n\nexport const SET_IS_RESAMPLING = 112;\n\nexport const SET_RESAMPLE_DURATION = 113;\n\nexport const SET_KEY_MAPPINGS = 114;\n\nexport const SET_SHOW_SEQUENCE_MODAL = 115;\n\nexport const SET_MULTI_PARAMETER_SLIDER = 116;\n\nexport const SET_SHOW_MODS_MODAL = 117;\n\nexport const SET_SEQUENCE_ROLLING = 118;\n\nexport const SET_TRACK_EFFECTS_CHAIN = 119;\n\nexport const SET_SHOW_SEQUENCES = 120;\nexport const SET_SHOW_PRESETS = 121;\nexport const SET_SHOW_INSTRUMENTS = 122;\n\nexport const SET_TRACK_ROLLING = 123;\n\nexport const SET_Z_INDEX_HACK = 124;\n\nexport const SET_LOADED_TRACKS = 125;\n\nexport const SET_BPM = 126;\n\nexport const SET_RESAMPLE_MASTER = 127;\n\nexport const SET_YOUTUBE_SEARCH_TERMS = 128;\n\nexport const SET_AUDIO_INPUT_SOURCE = 129;\n\nexport const SET_WAVEFORM_SELECTION = 130;\n\nexport const SET_WAVEFORM_SELECTION_END = 131;\n\nexport const SET_MIDI_MAP_MODE = 132;\nexport const SET_PARAMETER_MIDI_MAP_SELECTION = 133;\nexport const SET_PARAMETER_MIDI_MAPPING = 134;\nexport const DELETE_PARAMETER_MIDI_MAPPING = 135;\n\nexport const SET_LATENCY = 136;\n\nexport const SET_PAD_MAPPINGS = 137;\n\nexport const SET_ACTION_MIDI_MAP_SELECTION = 138;\nexport const SET_ACTION_MIDI_MAPPING = 139;\nexport const DELETE_MIDI_MAPPINGS = 140;\n\nexport const SET_SEQUENCE_PATTERN_LOCKED = 141;\nexport const SET_SEQUENCE_PATTERN_LOCKS = 142;\n\nexport const SET_SPOTLIGHT_TRACKS = 143;\n\nexport const SET_CLOCK_TYPE = 144;\n\nexport const SET_CONNECTION_STATUS = 145;\nexport const SET_CONNECTED_USER_NAME = 146;\nexport const SET_CLOCK_TICK = 147;\nexport const SET_PLAY_SCHEDULED = 148;\nexport const SET_AVAILABLE_USERS_TO_SYNC = 149;\n\nexport const SET_SEARCH_SORT_BY = 150;\n\nexport const SET_MIDI_EFFECT_DRAGGING = 151;\n\nexport const SET_SHOW_TRACK_EFFECTS = 152;\n\nexport const SET_SHOW_CONVOLVER_MODAL = 153;\n\nexport const SET_SHOW_PASSWORD_MODAL = 154;\nexport const SET_PASSWORD_MODAL_CALLBACK = 155;\n\nexport const SET_SHOW_SHARE_SEQUENCE_MODAL = 156;\n\nexport const HIDE_ALL_EFFECTS = 157;\n\nexport const SET_SHOW_ENVELOPES = 158;\n\nexport const SET_EFFECT_COLLAPSED = 159;\n\nexport const SET_CONTEXTUAL_HELP = 160;\n\nexport const SET_SELECTED_LFO = 161;\nexport const SET_SELECTED_ENVELOPE= 162;\n\nexport const SET_SIDEBAR_COLLAPSED = 163;\n\nexport const SET_MIX_EVENTS = 164;\n\nexport const SET_SHOW_GROUPS = 165;\n\nexport const SET_SUB_SEQUENCES = 166;\nexport const SET_CURRENT_SUB_SEQUENCE = 167;\n\nexport const SET_MIX_VIEW_MODE = 168;\n\nexport const SET_SUB_SEQUENCE_FADE = 169;\n\nexport const SET_SAMPLE_SLICES = 170;\n\nexport const SET_SELECTED_ARRANGEMENT_EVENTS = 171;\n\nexport const SET_SHOW_DATE_SAMPLED = 172;\nexport const SET_DATE_SAMPLED = 173;\n\nexport const SET_EFFECT_PARAMETER_VALUES = 174;\n\nexport const SET_TRACK_PANNING = 175;\nexport const SET_GROUP_PANNING = 176;\nexport const SET_SEND_PANNING = 177;\n\nexport const SET_SELECTED_RECORD = 178;\n\nexport const SET_2D_SELECTION = 179;\nexport const SET_SIMILAR_SOUNDS_TO_FIND = 180;\nexport const SET_SHOW_SAMPLES_2D = 181;\n\nexport const SET_LAST_NOTE_PLAYED = 182;\n\nexport const SET_SIDEBAR_VIEW_MODE = 183;\n\nexport const SET_DISCOGS_SELECTED = 184;\n\nexport const SET_SELECTED_FOLDER = 185;\nexport const SET_SELECTED_PRESET = 186;\nexport const SET_HAS_CHANGES_TO_FOLDERS = 187;\n\nexport const SET_CURSOR_TRACK = 188;\nexport const SET_CURSOR_STEP = 189;\nexport const SET_CURSOR_SHOW = 190;\n\nexport const SET_FOLDER_DRAGGING = 191;\nexport const SET_PRESET_DRAGGING = 192;\n\nexport const SET_SAMPLE_DRAGGING = 193;\n\nexport const SET_EFFECTS_CHAIN_TO_SHOW = 194;\nexport const SET_SUB_SEQUENCE_MUTED = 195;\n\nexport const SET_TRACK_FROZEN = 196;\nexport const SET_TRACK_TO_FREEZE = 197;\nexport const SET_FROZEN_TRACK_PLAYING = 198;\nexport const SET_FROZEN_TRACKS = 199;\nexport const SET_FROZEN_TRACKS_PLAYING = 200;\nexport const SET_EFFECTS_CHAINS_TO_SHOW = 201;\nexport const SET_SELECTED_ONSETS = 202;\nexport const SET_SINGLE_STEP_TO_DRAG = 203;\nexport const SET_STEP_NUMBER_DRAGGED_TO = 204;\n\nexport const SET_SEARCH_RESULTS_START = 205;\nexport const SET_SHOW_STEP_OPTIONS = 206;\n\nexport const SET_MASTER_STEP_TOGGLES = 207;\nexport const SET_PARAMETERS_TO_RECORD = 208;\nexport const SET_ONSET_THRESHOLD = 209;\nexport const SET_SHOW_ONSETS = 210;\n\nexport const SET_SELECTED_GUILD = 211;\nexport const SET_CURRENT_AND_GLOBAL_STEPS = 212;\n\nexport const SET_PIANO_ROLL_DRAG_OFFSET= 213;\nexport const SET_PIANO_ROLL_NOTES = 214;\nexport const SET_STEP_AND_DATA_DRAGGING = 215;\n\nexport const SET_SHOW_LOGIN= 216;\nexport const SET_SIGNING_UP= 217;\nexport const SET_USER_TOKEN = 218;\n\nexport const SET_PENDING_TRANSACTIONS = 219;\n\nexport const SET_COMMAND_INPUT = 220;\nexport const SET_COMMAND_PREFIX = 221;\nexport const SET_VI_MODE = 222;\nexport const SET_TRACK_WARP = 223;\nexport const SET_SUB_SEQUENCE_WARPS = 224;\n\nexport const SET_ARRANGEMENT_SELECTION = 225;\nexport const SET_ARRANGEMENT_MOUSE_X = 226;\nexport const SELECT_COMPOUND_EVENT = 227;\nexport const UNSELECT_COMPOUND_EVENT = 228;\n\nexport const SET_ARRANGEMENT_AUTOMATION_TO_SHOW= 229;\nexport const SET_ARRANGEMENT_LOOPING = 230;\n\nexport const SET_ALTERNATE_VIEW_MODE = 231;\nexport const SET_ARRANGEMENT_SELECTED_ROWS = 232;\nexport const SET_ARRANGEMENT_LOOP_SELECTED = 233;\nexport const SET_ARRANGEMENT_ROW_SELECTIONS = 234;\nexport const SET_ARRANGEMENT_ZOOM = 235;\n\nexport const SET_SELECTED_SEQUENCE = 236;\nexport const SET_EXPLORE_MIXER_EFFECT = 237;\nexport const SET_EXPLORE_EQ_EFFECT = 238;\nexport const SET_SELECTED_SEND_EFFECT= 239;\nexport const SET_INSTRUMENT_TYPE_DRAGGING = 240;\nexport const SET_TRACK_IS_LOADING = 241;\n\nexport const SET_PIANO_ROLL_CURSOR = 242;\nexport const SET_ARRANGEMENT_X_SCALE = 243;\nexport const SET_TOTAL_ARRANGEMENT_LENGTH = 244;\nexport const SET_ARRANGEMENT_BOTTOM_HEIGHT = 245;\nexport const SET_ARRANGEMENT_BOTTOM_MODE = 246;\nexport const SET_ARRANGEMENT_BOTTOM_RESIZING = 247;\nexport const SET_ARRANGEMENT_PATTERN_DRAGGING = 248;\nexport const SET_ARRANGEMENT_PATTERN_START_STEP = 249;\nexport const SET_ARRANGEMENT_CURSOR_STEP = 250;\nexport const SET_ARRANGEMENT_PATTERN_RESIZING = 251;\nexport const SET_ARRANGEMENT_BROWSER_MODE = 252;\nexport const SET_SAMPLE_TO_EXPLORE = 253;\nexport const SET_EFFECT_RACK_NODE_POSITION = 254;\n\nexport const SET_ANNOTATION_DRAGGING = 255;\n\nexport const SET_TRACK_AUTOMATION_DEVICE = 256;\nexport const SET_TRACK_AUTOMATION_PARAMETER = 257;\nexport const SET_SHOW_AUTOMATION = 258;\nexport const SET_TRACK_AUTOMATION_SUB_DEVICE = 259;\nexport const SET_PARAMETER_AUTOMATIONS = 260;\n\nexport const SET_ACTIONS_REMAINING = 261;\nexport const SET_TIME_REMAINING = 262;\n\nexport const SET_SHOW_PIANO_ROLL = 263;\n\nexport const SET_SELECTED_RACK_SUB_TRACK= 264;\n\nexport const DELETE_AUTOMATIONS_FOR_PARAMETERS = 265;\n\nexport const SET_TRACK_AUTOMATION_RACK_DEVICE = 266;\nexport const SET_AUTOMATION_GUIDE_POINT = 267;\nexport const SET_AUTOMATION_POINT_DRAGGING  = 268;\nexport const SET_AUTOMATION_POINT_HAS_MOVED= 269;\nexport const SET_AUTOMATION_POINT_HOVERED = 270;\n\nexport const SET_TRACK_TO_CONVERT = 271;\n\nexport const SET_AUTOMATION_SELECTION = 272;\nexport const SET_AUTOMATION_POINTS_SELECTED = 273;\n\nexport const SET_EXPLORE_PERSON_SELECTED = 274;\nexport const SET_EXPLORE_ALL_SEQUENCES = 275;\n\nexport const DELETE_AUTOMATIONS_FOR_ENGINE = 276;\n\nexport const SET_RECORDING_EXPLORE_MIX = 277;\n\nexport const SET_WORKS_LOADED = 278;\n\nexport const SET_WORK_TRANSPOSE = 279;\nexport const SET_WORK_VOLUME = 280;\n\nexport const SET_EXPLORE_MIX_LOADED = 281;\n\nexport const SET_IS_MACRO_MAPPING = 282;\n\nexport const SET_PARAMETER_TO_MAP = 283;\n\nexport const SET_MIX_COLOR_VALUE = 284;\n\nexport const SET_MIX_HAS_EDITS = 285;\nexport const SET_SCRIPT_VARIABLES = 286;\n\nexport const SET_EXPLORE_OPTION = 287;\n\nexport const SET_ANNOTATIONS_VIEW = 288;\n\nexport const SET_EXPLORE_TOAST = 289;\nexport const SET_PARAMETER_SLIDER_DOWN = 290;\n\nexport const MOVE_ENGINE_AUTOMATIONS = 291;\n\nexport const SET_SEQUENCE_LOADING_PROGRESS = 292;\n\nexport const SET_TRACK_BROWSED_SAMPLES = 293;\n\nexport const SET_BOTTOM_TOOLBAR_OFFSET = 294;\n\nexport const SET_TRACK_UPDATES = 295;\n\nexport const SET_IS_TRANSCRIBING = 296;\n\nexport const SET_SAMPLE_TOOLTIP = 297;\nexport const SET_TRACK_BROWSED_PRESETS = 298;\n\nexport const SET_SELECTED_FREEZE = 299;\n\nexport const SET_TRACK_LENGTH_MODE = 300;\nexport const SET_TRACK_LENGTH_CHOICE = 301;\nexport const SET_FREEZE_DRAGGING = 302;\nexport const SET_FREEZE_COLUMN_SAMPLES = 303;\nexport const SET_UPLOADING_FILE = 304;\nexport const SET_GROUP_COLLAPSED = 305;\n\nexport const SET_SELECTED_MIX_EFFECT = 306;\nexport const SET_SAMPLES_DRAGGING = 307;\n\nexport const SET_DISPLAY_RESOLUTION = 308;\n\nexport const SET_OFFLINE_ENGINE = 309;\n\nexport const SET_CURRENT_EXPORT_INFO = 310;\nexport const SET_MIX_TRACK_DRAGGING = 311;\nexport const SET_GROUP_TRACKS = 312;\n\nexport const SET_LOADING_TEXT = 313;\nexport const SET_TRACK_ENVELOPES = 314;\n\nexport const SET_COPIED_NODES_FOR_RACK= 315;\n\nexport const SET_LAST_MIDI_CC_PLAYED = 316;\n\nexport const SET_ARRANGEMENT_MOUSE_DOWN_X = 317;\n\nexport const SET_TRACKER_PARAMETER_TO_EDIT = 318;\n\nexport const SET_TRACKS_TO_HIDE = 319;\n\nexport const SET_SELECTED_PALETTE = 320;\n\nexport const SET_PROJECT_DRAGGING = 321;\n\nexport const SET_EXPLORE_UNPUBLISHED = 322;\nexport const SET_QUICK_ADD_SEARCH_TEXT = 323;\n\nexport const SET_SHOW_TRACK_FREEZE_HISTORY = 324;\nexport const SET_SELECTED_MIDI_TRACK = 325;\n\nexport const SET_SELECTED_TRACK_SLICE = 326;\n\nexport const SET_CIRKLON_PARAMETER_SELECTED = 327;\nexport const SET_CIRKLON_MODE = 328;\n\nexport const SET_NOTES_DOWN = 329;\nexport const SET_SEQUENCED_PALETTE = 330;\n\nexport const SET_SCENES = 331;\nexport const SET_CURRENT_SCENE = 332;\n\nexport const SET_SHOW_SETTINGS = 333;\nexport const SET_WALLPAPER = 334;\nexport const SET_ANIMATE_WALLPAPER = 335;\n\nexport const SET_EXPANDED_PROJECT = 336;\n\nexport const SET_ACCUMULATOR_PARAMETER_SELECTED= 337;\n\nexport const SET_PLANE_MAPPING = 338;\n\nexport const SET_TRACK_PRESET_SAVING = 339;\n\nexport const SET_SAMPLE_TAG_DRAGGING = 340;\n\nexport const SET_PARAMETER_MIX_AUTOMATIONS = 341;\n\nexport const SET_SHOW_ARRANGEMENT_TRACKS= 342;\n\nexport const SET_ARRANGEMENT_PATTERN_SELECTED = 343;\n\nexport const SET_SIDEBAR_SEARCH_INPUT = 344;\n\nexport const SET_SHOW_ARRANGEMENT_SEARCHER = 345;\n\nexport const SET_VI_SELECT_MODE = 346;\n\nexport const SET_EXPLORE_WORK = 347;\n\nexport const SET_CREATING_NEW_PACK = 348;\n\nexport const SET_PACK_WINDOW_POSITION = 349;\n\nexport const SET_DRAGGING_PACK_WINDOW = 350;\n\nexport const SET_PACK_TO_EDIT = 351;\n\nexport const SET_IS_MANAGING_GUILDS= 352;\n\nexport const NEW_STEP_GROUP = 353;\nexport const SET_STEPS_GROUP_MODE = 354;\n\nexport const SET_TRANSFORMATION_EDGE_DRAGGING = 355;\nexport const SET_SHOW_FORMANT_EFFECT = 356;\nexport const SET_SHOWING_FORMANTS= 357;\n\nexport const SET_PULLED_EFFECTS = 358;\n\nexport const SET_LOOPS_TO_FREEZE = 359;\nexport const SET_PARAMETER_MIN_MAX = 360;\n\nexport const SET_CURRENT_SOUND_IN_LIST = 361;\nexport const SET_SHOWING_SOUND_LIST = 362;\nexport const SET_CURRENT_TAG_IN_LIST = 363;\n\nexport const SET_LINKING_EFFECTS = 364;\nexport const SET_PACK_SELECTED = 365;\nexport const SET_SAMPLE_EXPLORER_SELECTED = 366;\n\nexport const SET_PIANO_ROLL_SLIDE = 367;\nexport const SET_MAXIMIZE_EXPLORER = 368;\n\nexport const SET_PADS = 369;\nexport const SET_PAD_SLOTS = 370;\n\nexport const SET_PAD_HOVERED = 371;\n\nexport const SET_WAVEFORM_SHOWING = 372;\nexport const SET_TRACK_DRAGGING = 373;\n\nexport const SET_HIDE_MIXER = 374;\n\nexport const SET_SOURCE_EXPLORING = 375;\nexport const SET_YEAR_EXPLORING = 376;\nexport const SET_PULLABLE_PART_DRAGGING= 377;\nexport const SET_PADS_EXPAND = 378;\n\nexport const SET_SEQUENCERS = 379;\nexport const SET_SEQUENCER_TRACKS = 379;\n\nexport const SET_PLANE_MACROS = 380;\nexport const SET_WINDOW_POSITION = 381;\nexport const SET_PAD_EFFECTS = 382;\nexport const SET_SELECTED_PAD_EDGE = 383;\nexport const SET_DRAWING_PAD_EDGE = 384;\nexport const SET_BULK_EFFECTS_COLLAPSED = 385;\nexport const SET_SELECTED_PULLED_ELEMENTS= 386;\nexport const SET_BULK_WINDOW_POSITIONS = 387;\nexport const SET_EFFECT_PATTERN_LOCKS = 388;\nexport const SET_ALL_EFFECT_PATTERN_LOCKS = 389;\nexport const SET_MODULE_COLLAPSED = 390;\nexport const SET_TRACK_MIDI_EFFECTS = 391;\nexport const SET_EFFECT_STARRED= 392;\nexport const SET_BULK_EFFECTS_STARRED= 393;\nexport const SET_BULK_MODULES_COLLAPSED = 394;\nexport const DELETE_TRACK_ID = 395;\nexport const SET_SHOWING_CONTEXT_MENU = 396;\nexport const SET_HIGHER_ORDER_MATRIX= 397;\nexport const SET_MODULE_COLOR=398;\nexport const SET_MODULES_ROUTING =399;\nexport const SET_HIGHER_ORDER_STEPS_SELECTED=400;\nexport const SET_ORIENTATION_ROUTINGS=401;\nexport const SET_SHOW_HIGHER_ORDER_SEQUENCER=402;\nexport const SET_PLANAR = 403;\n\nexport const SET_PLANAR_GRADIENT_COLOR = 404;\nexport const SET_PLANAR_OPACITY = 405;\n\nexport const SET_MODULE_SIZE = 406;\nexport const SET_INLET_CONNECTIONS = 407;\nexport const SET_ZOBJECTS = 408;\nexport const SET_ZMESSAGES = 409;\n\nexport const SET_BACKGROUND_COLOR = 410;\n\nexport const SET_VIEWABLE_SUBPATCHES = 411;\nexport const SET_SELECTED_ZOBJECT = 412;\n\nexport const SET_JAKI_GRID = 413;\n\nexport const SET_ZOBJECT_TYPE_DRAGGING= 414;\n\nexport const SET_UX_LOCKED = 415;\n\nexport const SET_MINTED_TOKENS = 416;\n\nexport const SET_HIC_DIALOG = 417;\nexport const SET_IS_PREPARING_NFT = 418;\nexport const SET_FULL_SCREEN_ZOBJECT = 419;\n\nexport const SET_MAIN_SCROLL_REF= 420;\nexport const SET_VIEWPORT_POSITION = 421;\nexport const SET_SIDEBARS_SHOWING = 422;\nexport const SET_SHOW_PAD_SEQUENCER = 423;\nexport const SET_SHOW_PROJECTS_MODAL = 424;\nexport const SET_SHOW_SEARCH_WINDOW = 425;\n\nexport const SET_STEP_PARAMETER_SELECTED = 426;\nexport const SET_SHOW_TRACK_INSTRUMENT = 427;\nexport const SET_SHOW_MODULATORS = 428;\n\nexport const SET_CABLE_SEGMENTATION = 429;\nexport const SET_CABLE_SEGMENTATIONS = 430;\n\nexport const SET_UX_LOCK_OBJECT = 431;\nexport const SET_UX_LOCK_OBJECTS = 432;\nexport const SET_UX_HIDE_OBJECT = 433;\nexport const SET_UX_HIDE_OBJECTS = 434;\nexport const SET_ZORA_DIALOG = 445;\nexport const SET_ZOBJECT_INPUT_TEXT = 446;\nexport const SET_VIEWABLE_ZOBJECTS = 447;\nexport const SET_SHOW_EDITOR_BOTTOM = 448;\n\nexport const SET_MINTING_PROGRESS = 449;\nexport const SET_NEW_ZORA_TOKEN_ID = 450;\nexport const SET_TRANSACTION_UPON_LOGIN = 451;\n\nexport const SET_KEYBOARD_CONTEXT = 452;\nexport const SET_PAD_FX_MODE = 453;\nexport const SET_JAKI_GRID_MODE = 454;\nexport const SET_OBJECT_STYLING = 455;\n\n// planar items\n\nexport const SET_SELECTED_PLANAR_PARAMETERS = 456;\nexport const SET_FILTERED_PLANAR_PARAMETERS = 457;\nexport const SET_PLANAR_MACRO_TO_SHOW = 458;\nexport const SET_PLANAR_REGION_MODE = 459;\nexport const SET_GROUP_PRESETS_BY_PACKS = 460;\nexport const SET_PIANO_ROLL_LEFT_SPACE = 461;\nexport const SET_ZOBJECT_SIZE = 462;\nexport const SET_SECONDARY_ZOBJECT = 463;\n\nexport const CLEAR_DRAG_DROP = 464;\n\nexport const SET_SAMPLES_TO_SAVE = 465;\nexport const SET_EDITOR_PADDING = 466;\nexport const SET_EDGES_PADDING = 467;\nexport const SET_EDGES_SIZE = 468;\n\nexport const SET_LEFT_SIDEBAR_WIDTH = 469;\nexport const SET_MOVING_PAD_EDGE = 470;\nexport const SET_DOCUMENTATION_SUB_SECTION = 471;\nexport const SET_RIGHT_SIDEBAR_OPTION = 472;\n\nexport const SET_SELECTED_FM_ENVELOPE_TYPE = 473;\nexport const SET_SELECTED_FM_OPERATOR_DETAILS = 474;\nexport const SET_SELECTED_FM_FORMANT = 475;\nexport const SET_SHOW_SAVE_MODAL = 476;\nexport const SET_ZOBJECT_FLASHING = 477;\nexport const SET_SAMPLE_DOWNLOAD_PROGRESS = 478;\n\nexport const SET_PRESET_SAVED = 479;\n\nexport const SET_COMPLETELY_DONE_LOADING = 480;\nexport const SET_PLUGIN_TO_SAVE = 481;\nexport const SET_SHOW_PLUGINS = 482;\nexport const SET_PLUGINS_LOADED = 483;\nexport const SET_SHOW_PLUGINS_PANE= 484;\nexport const SET_PLUGINS_PANE_HEIGHT = 485;\nexport const SET_DROPPED_SAMPLES = 486;\nexport const SET_SHOW_FORMANT_PRESETS = 487;\nexport const SET_ZOBJECT_BACKGROUND= 488;\nexport const SET_PRESENTATION_MODE = 489;\n\n\nexport const SET_PRESENTATION_WINDOW_POSITION = 490;\nexport const SET_BULK_PRESENTATION_WINDOW_POSITIONS = 491;\n\nexport const SET_SHOW_FREEZE_MODAL = 492;\nexport const SET_THEME = 493;\nexport const SET_SHOW_THEME_GRID = 494;\n\nexport const SET_RECENTLY_ADDED_SOUNDS = 495;\n\nexport const SET_ZOBJECT_TOOLTIP = 496;\n\nexport const SET_ZOBJECTS_STACK= 497;\nexport const SET_ZOBJECT_CONTEXT_MENU = 498;\n\nexport const SET_OBJECT_DRAGGING = 499;\n\nexport const SET_ENABLE_ROLL_VIEWER = 500;\n\nexport const SET_ZOBJECT_MODAL = 501;\nexport const SET_ZOBJECT_PROGRESSBAR = 502;\n\nexport const SET_SHOW_PLAYLIST_MENU= 503;\nexport const SET_CURRENT_PLAYLIST_SONG = 504;\n\nexport const SET_SPORE_TOKEN_ID = 505;\nexport const SET_SOLD_PLAYERS = 506;\nexport const SET_JACKER_SHARE_LINK = 507;\nexport const SET_PENDING_SPORES = 508;\nexport const SET_USED_CHEAT_CODE = 509;\nexport const SET_SECONDS_REMAINING = 510;\n\nexport const SET_PLAYLIST_LOADED = 511;\n\nexport const SET_PLAYER_REF = 512;\nexport const SET_PLAY_STATUS = 513;\n\nexport const SET_LEAK_LOADED = 514;\nexport const SET_SONG_LOADED = 515;\n","import React, { useEffect, useCallback, useState} from 'react';\nimport PlayButton from '../buttons/PlayButton.js';\nimport {connect} from 'react-redux';\n\nconst SimpleControls = ({playerRef}) => { \n    let [playing, setPlaying] = useState(false);\n    let [started, setStarted] = useState(false);\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n    }, [setPlaying, setStarted]);\n\n    console.log('simple controls');\n    const play = useCallback(() => {\n        playerRef.current.contentWindow.postMessage({\n            type: \"toggle-play\",\n            body: true\n        }, \"*\");\n        if (playing) {\n            setPlaying(false);\n        }\n    }, [playing, setPlaying]);\n\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"jacker-status\") {\n            let playing = parseInt(e.data.body);\n            setPlaying(playing);\n            setStarted(true);\n        }\n    }, [setPlaying, setStarted]);\n    if (!started) {\n        return;\n    }\n    return (<div className=\"simple-controls\">\n              <PlayButton play={play} isPlaying={playing}/>\n            </div>\n           );\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SimpleControls);\n","import React, { memo, useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\n\nwindow.RATIO = .3;\nconst HEIGHT = 50;\nconst SongWaveform = memo(({progress, waveform, isWaveformRainbow=true, width=330}) => { \n\n    if (!waveform) {\n        return '';\n    }\n\n    let parts = [];\n    for (let i=0; i < waveform.length - 4; i+=4) {\n        let height = Math.pow(waveform[i], window.RATIO)*(4/window.RATIO);\n        let p = {\n            height,\n            y: HEIGHT/2 - height/2,\n            r: waveform[i+1],\n            g: waveform[i+2],\n            b: waveform[i+3]\n        };\n        parts.push(p);\n    }\n    progress /= 100;\n    return (\n        <svg\n          width={width}\n          height={HEIGHT}\n          className={!isWaveformRainbow ? \"song-waveform  monochrome\" : \"song-waveform\"}>\n          {parts.map((part, i) =>\n              <rect\n                className={progress >= i / parts.length ? \"elapsed\" : \"\"}\n                x={i*(width/parts.length)}\n                y={part.y}\n                width={2}\n                height={part.height}\n                fill={!isWaveformRainbow ? 'white' : `rgb(${part.r}, ${part.g}, ${part.b})`}/>)}\n        </svg>\n    );\n});\n\nexport default SongWaveform;\n","import React, {useCallback, useEffect} from 'react';\n\n\nexport const useSporesMessageHandler = (type, callback) => {\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage, false);\n        return () => window.removeEventListener(\"message\", onMessage, false);\n    }, [type]);\n\n    const onMessage = useCallback((e) => {\n        if (e.data.type === type) {\n            callback(e.data.body);\n        }\n    }, [type]);\n};\n","class EthereumEventLog {\n    // for example, SampleTagged(bytes32,bytes32) would be the event\n    // and the arguments would be EthereumTopic(\"ipfsHash\", IPFS_HASH),\n    // EthereumTopic(\"tag\", BYTES_32)\n    constructor(event, topics, ...data) {\n        this.event = event;\n        this.topics = topics;\n        this.data = data;\n    }\n}\n\nexport default EthereumEventLog;\n","class EthereumTopic {\n    constructor(name, type, size=1) {\n        this.name = name;\n        this.type = type;\n        this.size = size*64;\n    }\n\n    convertTo(x) {\n        if (x === undefined || x === null) {\n            return undefined;\n        }\n        return this.type.convertTo(x);\n    }\n   \n    convertFrom(x) {\n        if (x === undefined || x === null) {\n            return undefined;\n        }\n        return this.type.convertFrom(x);\n    }\n}\n\nexport default EthereumTopic;\n","import {IPFS_HASH} from 'decentralized/EthereumDataTypes.js';\nimport {BOOLEAN} from './EthereumDataTypes.js';\nimport {INT_8} from 'decentralized/EthereumDataTypes.js';\nimport {INT_16} from 'decentralized/EthereumDataTypes.js';\nimport {INT_32} from 'decentralized/EthereumDataTypes.js';\nimport {UINT_256} from 'decentralized/EthereumDataTypes.js';\nimport {RIGHT_PADDED_BYTES_32} from 'decentralized/EthereumDataTypes.js';\nimport {BYTES_32, BYTES_32_LEFT} from 'decentralized/EthereumDataTypes.js';\nimport {BYTES_32_ENCRYPTED} from 'decentralized/EthereumDataTypes.js';\nimport {BYTES_32_ARRAY} from 'decentralized/EthereumDataTypes.js';\nimport {NOTE_BYTES_32} from 'decentralized/EthereumDataTypes.js';\nimport {NOTES_BYTES_32} from 'decentralized/EthereumDataTypes.js';\nimport {ADDRESS} from 'decentralized/EthereumDataTypes.js';\nimport {STRING} from 'decentralized/EthereumDataTypes.js';\n\nimport EthereumEventLog from 'decentralized/EthereumEventLog.js';\nimport EthereumTopic from 'decentralized/EthereumTopic.js';\n\nexport const SampleTagged = new EthereumEventLog(\n    'SampleTagged(bytes32,bytes32,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('tag', BYTES_32),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\n export const SampleStyle = new EthereumEventLog(\n    'SampleStyle(bytes32,bytes32,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('style', BYTES_32),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n                                                 \n export const SampleYear = new EthereumEventLog(\n    'SampleYear(bytes32,int16,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('year', INT_16),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\nexport const SampleCountry = new EthereumEventLog(\n    'SampleCountry(bytes32,bytes32,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('country', BYTES_32),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\nexport const SampleYoutube = new EthereumEventLog(\n    'SampledYoutube(bytes32,bytes32,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('videoId', RIGHT_PADDED_BYTES_32),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n \nexport const SequenceCreated = new EthereumEventLog(\n    'SequenceCreated(address,bytes32,string)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('ipfsHash', IPFS_HASH)],\n    new EthereumTopic('title', STRING));\n\nexport const SampleCreated = new EthereumEventLog(\n    'SampleCreated(address,bytes32,string,uint32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('guildId', INT_32)\n    ],\n    new EthereumTopic('title', STRING),\n);\n\nexport const NewNoteSequence = new EthereumEventLog(\n    'NewNoteSequence(bytes32,bytes32)',\n    [new EthereumTopic('sampleHash', IPFS_HASH),\n     new EthereumTopic('noteSequenceHash', IPFS_HASH)]);\n\nexport const NewDiscogsSample = new EthereumEventLog(\n    'NewDiscogsSample(bytes32,uint256,bytes32,uint32)',\n    [new EthereumTopic('sampleHash', IPFS_HASH),\n     new EthereumTopic('coverArtHash', IPFS_HASH),\n     new EthereumTopic('guildId', INT_32)\n    ],\n     new EthereumTopic('discogsId', UINT_256),\n);\n\nexport const NewNoteSequenceAggregation = new EthereumEventLog(\n    'NewNotesAggregation(bytes32,bytes32,bytes32,uint32,uint32,bytes32)',\n    [new EthereumTopic('sampleHash', IPFS_HASH),\n     new EthereumTopic('noteA', NOTE_BYTES_32),\n     new EthereumTopic('noteB', NOTE_BYTES_32)],\n    new EthereumTopic('startTime', INT_32),\n    new EthereumTopic('endTime', INT_32),\n    new EthereumTopic('remainingNotes', NOTES_BYTES_32));\n\nexport const SampleFavorited = new EthereumEventLog(\n    'SampleFavorited(address,bytes32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('sampleHash', IPFS_HASH)]);\n\nexport const SampleUnfavorited = new EthereumEventLog(\n    'SampleUnfavorited(address,bytes32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('sampleHash', IPFS_HASH)]);\n\nexport const SequenceEdited = new EthereumEventLog(\n    'SequenceEdited(address,bytes32,bytes32,bytes32,string)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('previousSequence', IPFS_HASH),\n     new EthereumTopic('newSequence', IPFS_HASH)],\n    new EthereumTopic('diff', IPFS_HASH),\n    new EthereumTopic('title', STRING),\n    );\n\nexport const TokenizedSequenceEdited = new EthereumEventLog(\n    'SequenceEdited(address,bytes32,bytes32,string,uint32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('previousSequence', IPFS_HASH),\n     new EthereumTopic('newSequence', IPFS_HASH)],\n    new EthereumTopic('title', STRING),\n    new EthereumTopic('bpm', INT_32),\n    );\n\n\nexport const PresetTag = new EthereumEventLog(\n    'PresetTagged(address,bytes32,bytes32,uint32)',\n    [new EthereumTopic('contentHash', IPFS_HASH),\n     new EthereumTopic('tag', BYTES_32),\n     new EthereumTopic('guildId', INT_32),\n    ],\n    new EthereumTopic('user', ADDRESS),\n);\n\nexport const NewGuild = new EthereumEventLog(\n    'NewGuild(address,uint32,string)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('guildId', INT_32)],\n    new EthereumTopic('name', STRING),\n);\n\n//event NewGuildMemberRequest(address indexed, address indexed, uint256 indexed);\nexport const NewGuildMemberRequest = new EthereumEventLog(\n    'NewGuildMemberRequest(address,address,uint32)',\n    [new EthereumTopic('requester', ADDRESS),\n     new EthereumTopic('newMember', ADDRESS),\n     new EthereumTopic('guildId', INT_32)]);\n\n// event NewGuildMemberRequestAccepted(address indexed, uint256 indexed);\nexport const NewGuildMemberRequestAccepted = new EthereumEventLog(\n    'NewGuildMemberRequestAccepted(address,uint32)',\n    [new EthereumTopic('newMember', ADDRESS),\n     new EthereumTopic('guildId', INT_32)]);\n\n// event NewGuildMemberRequestRejected(address indexed, uint256 indexed);\nexport const NewGuildMemberRequestRejected = new EthereumEventLog(\n    'NewGuildMemberRequestRejected(address,uint32)',\n    [new EthereumTopic('newMember', ADDRESS),\n     new EthereumTopic('guildId', INT_32)]);\n\n// event NewGuildMemberRequestRejected(address indexed, uint256 indexed);\nexport const GuildKeyEncrypted = new EthereumEventLog(\n    'GuildKeyEncrypted(address,uint32,bytes32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('guildId', INT_32),\n     new EthereumTopic('ipfsHash',IPFS_HASH)]);\n\nexport const NewEncryptedContent = new EthereumEventLog(\n    'NewEncryptedContent(address,bytes32,bytes32,int8,bytes32,bytes32[9],bytes32[6])',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('newContent', IPFS_HASH),\n     new EthereumTopic('contentType', INT_8),\n    ],\n     new EthereumTopic('previousContent', IPFS_HASH),\n    new EthereumTopic('encryptedName', BYTES_32_ENCRYPTED),\n    new EthereumTopic('encryptedContentKey', BYTES_32_ARRAY(9), 9),\n    new EthereumTopic('publicKey', BYTES_32_ARRAY(6), 6),\n    );\n\nexport const EncryptedContentShared = new EthereumEventLog(\n    'EncryptedContentShared(address,address,bytes32,bytes32[9],bytes32[6])',\n    [new EthereumTopic('sharedWith', ADDRESS),\n     new EthereumTopic('creator', ADDRESS),\n     new EthereumTopic('contentHash', IPFS_HASH),\n    ],\n    new EthereumTopic('encryptedContentKey', BYTES_32_ARRAY(9), 9),\n    new EthereumTopic('publicKey', BYTES_32_ARRAY(6), 6),\n    );\n\n\nexport const NewPublicKey = new EthereumEventLog(\n    'NewPublicKey(address,bytes32[6])',\n    [new EthereumTopic('user', ADDRESS),\n    ],\n    new EthereumTopic('publicKey', BYTES_32_ARRAY(6), 6),\n    );\n\nexport const NewPreset2 = new EthereumEventLog(\n    'NewPreset(address,bytes32,uint32,bytes32,bytes32[9],bytes32[6])',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('contentHash', IPFS_HASH),\n     new EthereumTopic('guildId', INT_32)\n    ],\n    new EthereumTopic('encryptedName', BYTES_32_ENCRYPTED),\n    new EthereumTopic('encryptedContentKey', BYTES_32_ARRAY(9), 9),\n    new EthereumTopic('publicKey', BYTES_32_ARRAY(6), 6),\n    );\n\nexport const PresetSample = new EthereumEventLog(\n    'PresetSample(bytes32,bytes32,uint32)',\n    [\n        new EthereumTopic('contentHash', IPFS_HASH),\n        new EthereumTopic('sampleHash', IPFS_HASH),\n        new EthereumTopic('guildId', INT_32)\n    ],\n    );\n\nexport const PresetInstrumentType = new EthereumEventLog(\n    'PresetInstrumentType(bytes32,bytes32,uint32)',\n    [\n        new EthereumTopic('contentHash', IPFS_HASH),\n        new EthereumTopic('instrumentType', BYTES_32_LEFT),\n        new EthereumTopic('guildId', INT_32)\n    ],\n    );\n\nexport const NewMonthlyIndex = new EthereumEventLog(\n    'NewMonthlyIndex(bytes32,uint32,uint64)',\n    [\n     new EthereumTopic('month', UINT_256),\n     new EthereumTopic('year', UINT_256)\n    ],\n     new EthereumTopic('hash', IPFS_HASH)\n    );\n\nexport const New2DMapping = new EthereumEventLog(\n    'New2DMapping(bytes32)',\n    [\n     new EthereumTopic('ipfsHash', IPFS_HASH)\n    ],\n\n    );\n\nexport const PublicMessageSent = new EthereumEventLog(\n    'PublicMessageSent(address,address,bytes32,bytes32)',\n    [\n        new EthereumTopic('fromUser', ADDRESS),\n        new EthereumTopic('toUser', ADDRESS),\n        new EthereumTopic('referenceHash', IPFS_HASH),\n    ],\n    new EthereumTopic('messageHash', IPFS_HASH),\n    );\n\nexport const SampleCopyStrike = new EthereumEventLog(\n    'SampleCopyStrike(address,bytes32,bytes32)',\n    [\n        new EthereumTopic('user', ADDRESS),\n        new EthereumTopic('sampleHash', IPFS_HASH),\n        new EthereumTopic('referenceHash', IPFS_HASH),\n    ]\n    );\n\nexport const SampleTakenDown = new EthereumEventLog(\n    'SampleTakenDown(bytes32)',\n    [\n        new EthereumTopic('sampleHash', IPFS_HASH),\n    ]\n    );\n\nexport const FoldersUpdated = new EthereumEventLog(\n    'FoldersUpdated(address,bytes32)',\n    [\n        new EthereumTopic('user', ADDRESS),\n        new EthereumTopic('foldersHash', IPFS_HASH),\n    ]\n    );\n\nexport const NewIndex = new EthereumEventLog(\n    'NewIndex(uint32,bytes32)',\n    [\n        new EthereumTopic('guildId', INT_32),\n    ],\n    new EthereumTopic('indexHash', IPFS_HASH),\n    );\n\nexport const NewGuildSequence = new EthereumEventLog(\n    'NewGuildSequence(address,bytes32,uint32,bytes32,bytes32,bytes32[9],bytes32[6])',\n    [\n        new EthereumTopic('user', ADDRESS),\n        new EthereumTopic('contentHash', IPFS_HASH),\n        new EthereumTopic('guildId', INT_32),\n    ],\n    new EthereumTopic('previousHash', IPFS_HASH),\n    new EthereumTopic('encryptedName', BYTES_32_ENCRYPTED),\n    new EthereumTopic('encryptedContentKey', BYTES_32_ARRAY(9), 9),\n    new EthereumTopic('publicKey', BYTES_32_ARRAY(6), 6),\n    );\n\nexport const NewGuildClassification = new EthereumEventLog(\n    'NewGuildClassification(uint32,bytes32)',\n    [\n        new EthereumTopic('guildId', INT_32),\n        new EthereumTopic('contentHash', IPFS_HASH),\n    ]);;\n\n export const Transfer = new EthereumEventLog(\n    'Transfer(address,address,uint256)',\n    [\n        new EthereumTopic('fromUser', ADDRESS),\n        new EthereumTopic('toUser', ADDRESS),\n    ],\n     new EthereumTopic('amount', INT_32 ),\n );;\n\nexport const SequenceTagged= new EthereumEventLog(\n    'SequenceTagged(bytes32,bytes32,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('tag', BYTES_32),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\nexport const SequenceFavorited = new EthereumEventLog(\n    'SequenceFavorited(bytes32,address,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\nexport const SequenceStarred = new EthereumEventLog(\n    'SequenceStarred(bytes32,address,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\nexport const SequenceUnfavorited = new EthereumEventLog(\n    'SequenceUnfavorited(bytes32,address,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\n\nexport const SequenceUnstarred = new EthereumEventLog(\n    'SequenceUnstarred(bytes32,address,uint32)',\n    [new EthereumTopic('ipfsHash', IPFS_HASH),\n     new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('guildId', INT_32)\n    ]);\n\n\nexport const NewDataType = new EthereumEventLog(\n    'NewDataType(bytes32,string)',\n    [new EthereumTopic('dataType', BYTES_32),\n    ],\n    new EthereumTopic('description', STRING));\n\nexport const NewLinkType = new EthereumEventLog(\n    'NewLinkType(bytes32,string)',\n    [new EthereumTopic('linkType', BYTES_32),\n    ],\n    new EthereumTopic('description', STRING));\n\nexport const NewAnnotationType = new EthereumEventLog(\n    'NewAnnotationType(bytes32,string)',\n    [new EthereumTopic('annotationType', BYTES_32),\n    ],\n    new EthereumTopic('description', STRING));\n\nexport const NewAnnotation = new EthereumEventLog(\n    'NewAnnotation(bytes32,bytes32,bytes32,address)',\n    [\n        new EthereumTopic('annotationType', BYTES_32),\n        new EthereumTopic('data', IPFS_HASH),\n        new EthereumTopic('address', ADDRESS),\n    ],\n    new EthereumTopic('annotationData', BYTES_32),\n);\n\nexport const NewLink = new EthereumEventLog(\n    'NewLink(bytes32,bytes32,bytes32,address)',\n    [new EthereumTopic('linkType', BYTES_32),\n     new EthereumTopic('fromData', IPFS_HASH),\n     new EthereumTopic('toData', IPFS_HASH),\n    ],\n     new EthereumTopic('address', ADDRESS),\n    );\n\nexport const NewMix= new EthereumEventLog(\n    'NewMix(address,bytes32,bytes32,string,uint32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('mixHash', IPFS_HASH),\n     new EthereumTopic('previousHash', IPFS_HASH),\n    ],\n     new EthereumTopic('title', STRING),\n     new EthereumTopic('guildId', INT_32),\n    );\n\nexport const NewEffect = new EthereumEventLog(\n    'NewEffect(address,bytes32,bytes32,string,uint32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('effectHash', IPFS_HASH),\n     new EthereumTopic('effectType', BYTES_32),\n    ],\n     new EthereumTopic('title', STRING),\n     new EthereumTopic('guildId', INT_32),\n    );\n\nexport const ReleaseInfo = new EthereumEventLog(\n    'ReleaseInfo(bytes32,uint32,string,bytes32,bytes32)',\n    [new EthereumTopic('artistName', BYTES_32),\n     new EthereumTopic('releaseId', INT_32),\n    ],\n     new EthereumTopic('releaseName', STRING),\n     new EthereumTopic('coverArtHash', IPFS_HASH),\n     new EthereumTopic('releaseType', BYTES_32),\n    );\n\nexport const SampleByArtist = new EthereumEventLog(\n    'SampleByArtist(bytes32,bytes32)',\n    [new EthereumTopic('artistName', BYTES_32),\n     new EthereumTopic('ipfsHash', IPFS_HASH),\n     ]\n    );\n\nexport const ArtistInfo = new EthereumEventLog(\n    'ArtistInfo(bytes32,bytes32,string)',\n    [new EthereumTopic('artistName', BYTES_32),\n     new EthereumTopic('linkType', BYTES_32),\n    ],\n     new EthereumTopic('link', STRING),\n    );\n\nexport const MidiCCParameter = new EthereumEventLog(\n    'MidiCCParameter(bytes32,uint32,bytes32,address)',\n    [new EthereumTopic('deviceName', BYTES_32),\n     new EthereumTopic('ccNumber', INT_32),\n     new EthereumTopic('parameterName', BYTES_32),\n    ],\n     new EthereumTopic('user', ADDRESS),\n    );\n\nexport const SampleInSequence = new EthereumEventLog(\n    'SampleInSequence(bytes32,bytes32)',\n    [new EthereumTopic('sequenceHash', IPFS_HASH),\n     new EthereumTopic('sampleHash', IPFS_HASH)\n    ]\n    );\n\nexport const ListEdited = new EthereumEventLog(\n    'ListEdited(bytes32,bytes32,address,bytes32,uint32)',\n    [new EthereumTopic('newContent', IPFS_HASH),\n     new EthereumTopic('previousContent', IPFS_HASH),\n     new EthereumTopic('user', ADDRESS),\n    ],\n    new EthereumTopic('title', BYTES_32),\n    new EthereumTopic('guildId', INT_32),\n    );\n\nexport const ListHighlighted = new EthereumEventLog(\n    'ListHighlighted(bytes32,address)',\n    [new EthereumTopic('contentHash', IPFS_HASH),\n    ],\n    new EthereumTopic('user', ADDRESS)\n    );\n\nexport const ListUnhighlighted = new EthereumEventLog(\n    'ListUnhighlighted(bytes32,address)',\n    [new EthereumTopic('contentHash', IPFS_HASH),\n    ],\n    new EthereumTopic('user', ADDRESS)\n    );\n\nexport const ListFavorited = new EthereumEventLog(\n    'ListFavorited(bytes32,address)',\n    [new EthereumTopic('contentHash', IPFS_HASH),\n    ],\n    new EthereumTopic('user', ADDRESS)\n    );\n\nexport const ListUnfavorited = new EthereumEventLog(\n    'ListUnfavorited(bytes32,address)',\n    [new EthereumTopic('contentHash', IPFS_HASH),\n    ],\n    new EthereumTopic('user', ADDRESS)\n    );\n\nexport const ListDeleted = new EthereumEventLog(\n    'ListDeleted(bytes32,address)',\n    [new EthereumTopic('contentHash', IPFS_HASH),\n    new EthereumTopic('user', ADDRESS)\n    ],\n    );\n\nexport const NewWallpaper = new EthereumEventLog(\n    'NewWallpaper(address,bytes32,bytes32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('wallpaperHash', IPFS_HASH),\n     new EthereumTopic('thumbnailHash', IPFS_HASH)\n    ]);\n\nexport const DefaultWallpaper = new EthereumEventLog(\n    'DefaultWallpaper(address,bytes32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('wallpaperHash', IPFS_HASH)\n    ]);\n\nexport const NewPack = new EthereumEventLog(\n    'NewPack(address,bytes32,bytes32,bytes32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('packHash', IPFS_HASH),\n     new EthereumTopic('previousHash', IPFS_HASH)\n    ],\n     new EthereumTopic('title', BYTES_32)\n);\n\nexport const PackHasContent = new EthereumEventLog(\n    'PackHasContent(bytes32,bytes32)',\n    [new EthereumTopic('packHash', IPFS_HASH),\n     new EthereumTopic('contentHash', IPFS_HASH),\n    ],\n);\n\nexport const UserLeftGuild = new EthereumEventLog(\n    'UserLeftGuild(uint256,address)',[\n     new EthereumTopic('guildId', INT_32),\n    ],\n    new EthereumTopic('user', ADDRESS),\n);\n\nexport const NewScript = new EthereumEventLog(\n    'NewScript(address,bytes32,bytes32,bytes32)',\n    [new EthereumTopic('user', ADDRESS),\n     new EthereumTopic('scriptHash', IPFS_HASH),\n     new EthereumTopic('scriptType', BYTES_32)\n    ],\n     new EthereumTopic('title', BYTES_32)\n);\n\nexport const NewCreatorProject = new EthereumEventLog(\n    'NewCreatorProject(address,uint256,bytes32,uint256,string)',\n    [\n        new EthereumTopic('creator', ADDRESS),\n        new EthereumTopic('projectId', UINT_256),\n        new EthereumTopic('contentHash', IPFS_HASH)\n    ],\n    new EthereumTopic('maxInvocations', UINT_256),\n    new EthereumTopic('title', STRING)\n);\n\nexport const NewTokenSeed = new EthereumEventLog(\n    'NewTokenSeed(uint256,uint256,bytes32)',\n    [\n        new EthereumTopic('projectId', UINT_256),\n        new EthereumTopic('tokenId', UINT_256)\n    ],\n    new EthereumTopic('seedHash', BYTES_32)\n);\n\nexport const ZoraProject = new EthereumEventLog(\n    'ZoraProject(bytes32,uint256)',\n    [\n        new EthereumTopic('projectHash', IPFS_HASH),\n        new EthereumTopic('zoraId', UINT_256)\n    ]);\n\nexport const AccountAuthorized = new EthereumEventLog(\n    'AccountAuthorized(address,address,string,uint8,bytes32,bytes32)',\n    [\n        new EthereumTopic('zequencerAddress', ADDRESS),\n        new EthereumTopic('walletAddress', ADDRESS),\n    ],\n    new EthereumTopic('message', STRING),\n    new EthereumTopic('v', INT_8),\n    new EthereumTopic('r', BYTES_32_ENCRYPTED),\n    new EthereumTopic('s', BYTES_32_ENCRYPTED)\n);\n\nexport const PluginCreated = new EthereumEventLog(\n    'PluginCreated(uint256,address,string)',\n    [\n        new EthereumTopic(\"tokenId\", UINT_256),\n        new EthereumTopic(\"creator\", ADDRESS),\n    ],\n    new EthereumTopic(\"name\", STRING)\n);\n\nexport const NewPluginVersion = new EthereumEventLog(\n    'NewPluginVersion(uint256,uint256,bytes32,string)',\n    [\n        new EthereumTopic(\"tokenId\", UINT_256),\n        new EthereumTopic(\"versionNumber\", UINT_256),\n    ],\n    new EthereumTopic(\"pluginContentHash\", IPFS_HASH),\n    new EthereumTopic(\"pluginMetadataURI\", STRING)\n);\n\nexport const ProjectHasArrangement = new EthereumEventLog(\n    'ProjectHasArrangement(bytes32)',\n    [\n    ],\n    new EthereumTopic(\"projectHash\", IPFS_HASH),\n);\n\nexport const ProjectBPM = new EthereumEventLog(\n    'ProjectBPM(bytes32,int16)',\n    [\n    ],\n    new EthereumTopic(\"projectHash\", IPFS_HASH),\n    new EthereumTopic(\"bpm\", UINT_256),\n);\n\nexport const ProjectVisuals = new EthereumEventLog(\n    'ProjectVisuals(bytes32,bytes32)',\n    [\n    ],\n    new EthereumTopic(\"projectHash\", IPFS_HASH),\n    new EthereumTopic(\"thumbnailhash\", IPFS_HASH),\n);\n\nexport const ProjectUsesPreset = new EthereumEventLog(\n    'ProjectUsesPreset(bytes32,bytes32)',\n    [\n    ],\n    new EthereumTopic(\"projectHash\", IPFS_HASH),\n    new EthereumTopic(\"presetHash\", IPFS_HASH),\n);\n\nexport const ProjectPatternsCount = new EthereumEventLog(\n    'ProjectPatternsCount(bytes32,int8)',\n    [\n    ],\n    new EthereumTopic(\"projectHash\", IPFS_HASH),\n    new EthereumTopic(\"patterns\", UINT_256),\n);\n\nexport const NewSporeCreated = new EthereumEventLog(\n    'NewSporeCreated(uint256,uint256,address,address,bytes32,bytes32)',\n    [\n    ],\n    new EthereumTopic(\"sporeId\", UINT_256),\n    new EthereumTopic(\"tokenId\", UINT_256),\n    new EthereumTopic(\"proxy\", ADDRESS),\n    new EthereumTopic(\"creator\", ADDRESS),\n    new EthereumTopic(\"sporeHash\", IPFS_HASH),\n    new EthereumTopic(\"dataHash\", IPFS_HASH),\n);\n\nexport const NewChainCreated = new EthereumEventLog(\n    'NewChainCreated(uint256,bytes32,address,address,bytes32)',\n    [\n    ],\n    new EthereumTopic(\"chainId\", UINT_256),\n    new EthereumTopic(\"name\", BYTES_32),\n    new EthereumTopic(\"proxy\", ADDRESS),\n    new EthereumTopic(\"creator\", ADDRESS),\n    new EthereumTopic(\"chainHash\", IPFS_HASH),\n);\n\nexport const NewOfficialSporeCreated = new EthereumEventLog(\n    'NewOfficialSporeCreated(uint256,uint256,address,bytes32,bytes32,string)',\n    [\n    ],\n    new EthereumTopic(\"spTokenId\", UINT_256),\n    new EthereumTopic(\"sporeId\", UINT_256),\n    new EthereumTopic(\"creator\", ADDRESS),\n    new EthereumTopic(\"sporeHash\", IPFS_HASH),\n    new EthereumTopic(\"dataHash\", IPFS_HASH),\n    new EthereumTopic(\"songName\", STRING),\n);\n\nexport const NewUnofficialSporeCreated = new EthereumEventLog(\n    'NewUnofficialSporeCreated(uint256,uint256,address,bytes32,bytes32,address,uint256)',\n    [\n    ],\n    new EthereumTopic(\"spTokenId\", UINT_256),\n    new EthereumTopic(\"sporeId\", UINT_256),\n    new EthereumTopic(\"creator\", ADDRESS),\n    new EthereumTopic(\"sporeHash\", IPFS_HASH),\n    new EthereumTopic(\"dataHash\", IPFS_HASH),\n    new EthereumTopic(\"collectionAddress\", ADDRESS),\n    new EthereumTopic(\"tokenId\", UINT_256),\n);\n\nexport const NewSporesPlaylist = new EthereumEventLog(\n    'NewSporesPlaylist(uint256,address,string)',\n    [\n    ],\n    new EthereumTopic(\"playlistId\", UINT_256),\n    new EthereumTopic(\"creator\", ADDRESS),\n    new EthereumTopic(\"metadataCID\", STRING),\n);\n\nexport const SporesPlaylistSong = new EthereumEventLog(\n    'SporesPlaylistSong(uint256,address,uint256)',\n    [\n    ],\n    new EthereumTopic(\"playlistId\", UINT_256),\n    new EthereumTopic(\"collecttionAddress\", ADDRESS),\n    new EthereumTopic(\"tokenId\", UINT_256),\n);\n\nexport const PlaylistBurned = new EthereumEventLog(\n    'PlaylistBurned(uint256)',\n    [\n    ],\n    new EthereumTopic(\"playlistId\", UINT_256)\n);\n\nexport const SongGenre = new EthereumEventLog(\n    'SongGenre(address,uint256,string,address,string)',\n    [\n    ],\n    new EthereumTopic(\"collectionAddress\", ADDRESS),\n    new EthereumTopic(\"tokenId\", UINT_256),\n    new EthereumTopic(\"genre\", STRING),\n    new EthereumTopic(\"user\", ADDRESS),\n    new EthereumTopic(\"metadataCID\", STRING)\n);\n\nexport const NewSkin = new EthereumEventLog(\n    'NewSkin(uint256,bytes32)',\n    [\n    ],\n    new EthereumTopic(\"skinId\", UINT_256),\n    new EthereumTopic(\"imageHash\", IPFS_HASH),\n);\n\n/*\nexport const NewStem = new EthereumEventLog(\n    \"NewStem(uint256,uint256,string,uint16,bool)\",\n    [],\n    new EthereumTopic('songId', UINT_256),\n    new EthereumTopic('stemId', UINT_256),\n    new EthereumTopic('uri', STRING),\n    new EthereumTopic('duration', UINT_256),\n    new EthereumTopic('isLoop', BOOLEAN),\n    );\n    */\n\nexport const ERC721Transfer = new EthereumEventLog(\n    \"Transfer(address,address,uint256)\",\n    [\n        new EthereumTopic(\"from\", ADDRESS),\n        new EthereumTopic(\"to\", ADDRESS)\n    ],\n    new EthereumTopic(\"tokens\", UINT_256)\n);\n\nexport const NewSong = new EthereumEventLog(\n    \"NewSong(uint256,string,string,int16,int16,string)\",\n    [],\n    new EthereumTopic('songId', UINT_256),\n    new EthereumTopic('title', STRING),\n    new EthereumTopic('artist', STRING),\n    new EthereumTopic('bpm', INT_16),\n    new EthereumTopic('bpmDecimal', INT_16),\n    new EthereumTopic('key', STRING),\n    );\n\nexport const NewStem = new EthereumEventLog(\n    \"NewStem(uint256,uint256,string,uint16,bool)\",\n    [],\n    new EthereumTopic('songId', UINT_256),\n    new EthereumTopic('stemId', UINT_256),\n    new EthereumTopic('uri', STRING),\n    new EthereumTopic('duration', UINT_256),\n    new EthereumTopic('isLoop', BOOLEAN),\n    );\n\nexport const NewDefaultSongConfiguration= new EthereumEventLog(\n    \"NewDefaultSongConfiguration(uint256,uint256)\",\n    [],\n    new EthereumTopic('songId', UINT_256),\n    new EthereumTopic('configId', UINT_256),\n    );\n\nexport const SongConfigurationStem = new EthereumEventLog(\n    \"SongConfigurationStem(uint256,uint256)\",\n    [],\n    new EthereumTopic('configId', UINT_256),\n    new EthereumTopic('stemId', UINT_256),\n    );\n\nexport const NewStemType= new EthereumEventLog(\n    \"NewStemType(uint256,uint8)\",\n    [],\n    new EthereumTopic('stemId', UINT_256),\n    new EthereumTopic('stemType', UINT_256),\n    );\n\nexport const ZporeDropCreated = new EthereumEventLog(\n    \"NewDropCreated(uint256,address)\",\n    [\n    ],\n        new EthereumTopic(\"songId\", UINT_256),\n        new EthereumTopic(\"dropAddress\", ADDRESS)\n    );\n\nexport const MintPriceUpdated = new EthereumEventLog(\n    \"MintPriceUpdated(address,address,uint256)\",\n    [],\n    new EthereumTopic(\"sender\", ADDRESS),\n    new EthereumTopic(\"targetZoraDrop\", ADDRESS),\n    new EthereumTopic(\"newMintPrice\", UINT_256),\n);\n\nexport const SongAttribute = new EthereumEventLog(\n    \"SongAttribute(uint256,bytes32,bytes32)\",\n    [\n        new EthereumTopic('songId', UINT_256),\n        new EthereumTopic('attributeType', BYTES_32),\n        new EthereumTopic('attributeValue', BYTES_32),\n    ],\n    );\n\n\n\n","import {SampleTagged} from 'decentralized/EthereumEvents.js';\nimport {web3, web3WSS} from './web3.js';\nimport {SampleYoutube} from 'decentralized/EthereumEvents.js';\nimport {STRING} from 'decentralized/EthereumDataTypes.js';\nconst metamaskInstalled = typeof window.web3 !== 'undefined';\n\nclass EthereumQuery {\n    constructor(address) {\n        this.address = address;\n        this.distinct = false;\n        this.selectStatements = [];\n        this.whereClauses = [];\n        this.groupBy = [];\n        this.joinClauses = [];\n        this.limitSize = undefined;\n        this.fromBlockNumber = '0x2';\n        this.toBlockNumber = undefined;\n    }\n\n    from(eventLog) {\n        this.eventLog = eventLog;\n        return this;\n    }\n\n    select(arg) {\n        this.selectStatements.push(arg);\n        return this;\n    }\n\n    // only selects distinct items in the select clause\n    distinct() {\n        this.distinct = true;\n        return this;\n    }\n\n    groupBy(col) {\n        this.groupBy.push(col);\n        return this;\n    }\n\n    where(name, value) {\n        this.whereClauses.push(new WhereClause(name, value));\n        return this;\n    }\n\n    whereIn(name, valueList) {\n        this.whereClauses.push(new WhereClause(name, undefined, valueList));\n        return this;\n    }\n\n    join(event, field) {\n        this.joinClauses.push(new JoinClause(event, field));\n    }\n\n    fromBlock(fromBlock) {\n        this.fromBlockNumber = web3.utils.toHex(fromBlock);\n        return this;\n    }\n\n    toBlock(toBlock) {\n        this.toBlockNumber = web3.utils.toHex(toBlock);\n        return this;\n    }\n\n    limit(limit) {\n        this.limitSize = limit;\n        return this;\n    }\n\n    getTopics() {\n        let topics = [web3.utils.sha3(this.eventLog.event)];\n\n        for (let i in this.eventLog.topics) {\n            let arg = this.eventLog.topics[parseInt(i)];\n            let toAdd = null;\n            for (let j in this.whereClauses) {\n                let whereClause = this.whereClauses[parseInt(j)];\n                if (whereClause.name === arg.name) {\n                    let value = whereClause.value !== undefined ?\n                        whereClause.value : whereClause.valueList[0];\n                    toAdd = arg.convertTo(value);\n                    // console.log(\"where %s = %s / %s\", whereClause.name, value, toAdd);\n                }\n              }\n            topics.push(toAdd);\n        }\n        return topics;\n    }\n\n    executeQuery() {\n        return new Promise((resolve, reject) => {\n            web3.eth.getPastLogs({\n                address: this.address,\n                topics: this.getTopics(),\n                toBlock: this.toBlockNumber,\n                fromBlock: this.fromBlockNumber}, (err, results) => {\n                    if (err) {\n                        reject(err);\n                    } else {\n                        let parsedResults = [];\n                        results.reverse();\n                        let limit = Math.min(results.length, this.limitSize || results.length);\n                        for (let i=0; i < limit; i++) {\n                            parsedResults.push(this.parseResult(results[i]));\n                        }\n                        resolve(parsedResults);\n                    }\n                });\n        });\n    }\n\n    async watchQuery(callback) {\n        let blockNumber = await web3.eth.getBlockNumber();\n        let web3ToUse = metamaskInstalled ? web3 : web3WSS;\n        web3ToUse.eth.subscribe(\n            'logs',\n            {\n                address: this.address,\n                topics: this.getTopics(),\n                fromBlock: web3.utils.toHex(blockNumber),\n            },\n            (err, result) => {\n                if (err) {\n                    console.log('error watching ');\n                    console.log(err);\n                }\n                let ret = this.parseResult(result);\n                console.log('watch query got ');\n                console.log(ret);\n                callback(ret);\n            });\n    }\n\n    parseResult(data) {\n        if (data === undefined || data === null) {\n            return undefined;\n        }\n        let resultSet = {};\n\n        for (let j in this.selectStatements) {\n            let select = this.selectStatements[parseInt(j)];\n            for (let i in this.eventLog.topics) {\n                let field = data.topics[1 + parseInt(i)];\n                let arg = this.eventLog.topics[parseInt(i)];\n                if (arg.name === select) {\n                    // convert field\n                    resultSet[select] = arg.type.convertFrom(field);\n                }\n            }\n            \n            let dataIndexSoFar = 0;\n            for (let fieldIndex in this.eventLog.data) {\n                fieldIndex = parseInt(fieldIndex);\n                let fieldData = this.eventLog.data[fieldIndex];\n                \n                if (fieldData !== undefined) {\n                    if (select == fieldData.name) {\n                        // the data field in ethereum event logs is basically a huge hex string\n                        // divided into 64-length pieces, for each data point.\n                        // Also, it starts with 0x, so we must skip the first 2 characters when\n                        // slicing out the desired data\n                        let d = data.data.slice(2 + dataIndexSoFar, 2 + dataIndexSoFar + fieldData.size);\n                        d = '0x' + d;\n                        \n                        if (fieldData.type == STRING ) {\n                            d = '0x' + data.data.slice(130 + 64*fieldIndex);\n                        } \n                        resultSet[select] = fieldData.convertFrom(d);\n                    }\n                }\n                dataIndexSoFar += fieldData.size;\n                \n            }\n        }\n        \n        resultSet.blockNumber = data.blockNumber;\n        return resultSet;\n    }\n\n    getCopy() {\n        let query = new EthereumQuery(this.address);\n        query.eventLog = this.eventLog;\n        query.selectStatements = [... this.selectStatements];\n        query.joinClauses = [... this.joinClauses];\n        query.groupBy = [... this.groupBy];\n        query.fromBlockNumber = this.fromBlockNumber;\n        query.toBlockNumber = this.toBlockNumber;\n        query.limitSize = this.limitSize;\n        return query;\n    }\n\n    getJson() {\n        return {\n            address: this.address,\n            eventLog: this.eventLog.event,\n            selectStatements: [... this.selectStatements],\n            whereClauses: [... this.whereClauses],\n            joinClauses: [... this.joinClauses],\n            groupBy: [... this.groupBy],\n            fromBlockNumber: web3.utils.hexToNumber(this.fromBlockNumber),\n            toBlockNumber: this.toBlockNumber === undefined ? undefined : web3.utils.hexToNumber(this.toBlockNumber),\n            limitSize: this.limitSize,\n            distinct: this.distinct,\n        };\n    }\n}\n\nclass WhereClause {\n    constructor(argName, argValue, valueList=[]) {\n        this.name = argName;\n        this.value = argValue;\n        this.valueList = valueList;\n    }\n}\n\nclass JoinClause {\n    constructor(event, field) {\n        this.event = event;\n        this.field = field;\n    }\n}\n\nexport default EthereumQuery;\n","import EthereumQuery from './EthereumQuery.js';\nimport {SampleCreated} from './EthereumEvents.js';\nimport BackendQueryRunner from './BackendQueryRunner.js';\n\nconst runner = new BackendQueryRunner();\n\nclass BackendQuery extends EthereumQuery {\n    constructor(address) {\n        super(address);\n    }\n\n    /*\n    async executeQuery() {\n        let queries = [];\n        for (let i in this.whereClauses) {\n            let whereClause = this.whereClauses[i];\n            let {valueList} = whereClause;\n            if (valueList.length > 0) {\n                for (let j in valueList) {\n                    let query = this.getCopy();\n                    query.whereClauses = this.whereClauses.filter(\n                        x =>\n                            x.value !== undefined);\n                    query.where(whereClause.name, valueList[j]);\n                    console.log('making of copy = ', this.getJson(), query.getJson());\n                    queries.push(query);\n                }\n            } \n        }\n\n        if (queries.length === 0) {\n            return super.executeQuery();\n        }\n        console.log('queries = ', queries);\n\n        let results  = [];\n        for (let i in queries) {\n            results = [... results, ... await queries[i].executeQuery(true)];;\n        }\n        return results;\n    }\n    */\n\n    executeQuery(useBackend=true) { \n        return new Promise((resolve, reject) => {\n            if (window.isNFT) {\n                // thenn we dont have a query\n                return resolve([]);\n            }\n            runner.submit(this.getJson())\n                .then(resolve);\n        });\n    }\n}\n\nexport default BackendQuery;\n","/**\n * Blocking query\n */\nconst MAX_QUERIES = 4;\nconst SLEEP_TIME = 20;\n\nclass BackendQueryRunner {\n    constructor() {\n        this.runningQueries = new Set();\n    }\n\n    submit(queryJson) {\n        return new Promise(async (resolve, reject) => {\n            while (this.runningQueries.size >= MAX_QUERIES) {\n                await this.sleep(SLEEP_TIME);\n            }\n\n            this.runningQueries.add(queryJson);\n\n            let url = \"/search\";\n            url = \"https://zequencer.io\" + url;\n            if (window.LOCAL_BACKEND_FLAG && window.location.hostname === \"localhost\") {\n                url = \"/search\";\n            }\n            fetch(url , {\n                method: 'POST',\n                body: JSON.stringify(queryJson),\n                \n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                }\n            })\n                .then(resp => resp.json())\n                .then(resp => {\n                    this.removeQuery(queryJson);\n                    resolve(resp || []);\n                })\n                .catch(err => {\n                    this.removeQuery(queryJson);\n                });\n        });\n    }\n\n    removeQuery(queryJson) {\n        this.runningQueries.delete(queryJson);\n    }\n\n    sleep(time) {\n        return new Promise((resolve, reject) => {\n            setTimeout(resolve, time);\n        });\n    }\n}\n\nexport default BackendQueryRunner;\n","import BackendQuery from 'decentralized/BackendQuery.js';\nimport {ethers} from 'ethers';\nimport {SampleTagged, SampleCreated} from 'decentralized/EthereumEvents.js';\nimport {web3} from 'decentralized/web3.js';\n\nconst GUILD_SAMPLES = \"0xc77d4e72dF7D0Bf96488eF543253af537fEb8737\";\n\nexport const getSampleInfo = async (id) => {\n    let query = new BackendQuery(GUILD_SAMPLES)\n        .from(SampleCreated)\n        .where(\"ipfsHash\", id);\n\n    let unfiltered = await query.executeQuery();\n\n    console.log(\"unfilteeded=\", unfiltered);\n\n    let item = unfiltered[0];\n    let tagsQuery = new BackendQuery(GUILD_SAMPLES)\n        .from(SampleTagged)\n        .where(\"ipfsHash\", id);\n\n    let tagResults = await tagsQuery.executeQuery();\n    console.log(\"TAG RESULTS=\", tagResults);\n    return {\n        ... item,\n        ... tagResults[0]\n    };\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport SongWaveform from 'components/waveform/SongWaveform.js';\nimport {useSporesMessageHandler} from 'components/hooks/useSporesMessageHandler.js';\nimport {getSampleInfo} from 'spores/samples.js';\nimport './sample.scss';\n\nconst SampleInfo = ({playerRef}) => { \n    let [currentSample, setCurrentSample] = useState();\n    let [sampleInfo, setSampleInfo] = useState();\n    let [sampleWaveform, setSampleWaveform] = useState();\n\n    useSporesMessageHandler(\"sample-changed\", setCurrentSample);\n    useSporesMessageHandler(\"sample-waveform\", setSampleWaveform);\n\n    useEffect(() => {\n        if (currentSample) {\n            getSampleInfo(currentSample[0]).then(setSampleInfo);\n        }\n    }, [currentSample]);\n\n    const goToPrevious = useCallback(() => {\n        playerRef.current.contentWindow.postMessage({type: \"previous-shuffle-sample\", body: \"yo\"}, \"*\");\n    }, []);\n\n    const goToNext = useCallback(() => {\n        playerRef.current.contentWindow.postMessage({type: \"next-shuffle-sample\", body: \"yo\"}, \"*\");\n    }, []);\n\n    return (\n        <div className=\"sample-info\">\n          <div className=\"name-and-arrows\">\n            <div className=\"sample-name\">{sampleInfo && sampleInfo.title}</div>\n            <div className=\"arrows\">\n              <div\n                onClick={goToPrevious}\n                className=\"arrow-btn pushable\"/>\n              <div\n                onClick={goToNext}\n                className=\"arrow-btn flip pushable\"/>\n            </div>\n          </div>\n          {sampleWaveform && <SongWaveform width={200} waveform={sampleWaveform}/>}\n        </div>);\n};\n\nexport default SampleInfo;\n","export const CHILL_RX_COLLECTION = '0x48D22d2cADD5FfED166747Ddd26d80fff84417aB';\nexport const CHAOS_COLLECTION = \"0x8427e46826a520b1264b55f31fcb5ddfdc31e349\";\nexport const TWINS_COLLECTION = \"0x47595d0a091686ca15732edadf532dc174fe2893\";\n","import { ethers } from \"ethers\";\nimport React, { useEffect, useCallback, useState} from 'react';\nimport {sleep} from 'utils/sleep.js';\n\nexport const useTokensOnSale = () => {\n    const [tokensOnSale, setTokensOnSale] = useState([]);\n\n    useEffect(() => {\n        // should query all of these along w buy-now price/whether theres an ask\n        getTokensOnSale().then(setTokensOnSale);\n        // for now just assume theyre for sale and for 0.4 eth\n    }, [setTokensOnSale]);\n\n    return {tokensOnSale, setTokensOnSale};\n};\n\nlet cache = undefined;\nlet loading = false;\nexport const getTokensOnSale = () => {\n    return new Promise(async (resolve) => {\n        if (loading) {\n            let i=0;\n            while (!cache && i++ < 15) {\n                await sleep(500);\n\n            }\n        }\n        if (cache) {\n            resolve(cache);\n            return;\n        }\n        loading=true;\n        let baseURL = \"https://zequencer.io\";\n        if (window.LOCAL_BACKEND_FLAG && window.location.hostname.includes(\"localhost\")) {\n            baseURL = \"\";\n        }\n\n        let url = baseURL + \"/nft-info\";\n        fetch(url)\n            .then(r => r.json())\n            .then(r => {\n                cache = r;\n                resolve(r);\n            });\n    });\n};\n\n/*\nconst getTokensOnSale = async () => {\n    let tokens = [];\n    for (let i=1; i <= 20; i++) {\n        tokens.push(await mockToken(i));\n    }\n    return tokens;\n};\n\nconst mockToken = (tokenId) => {\n    return new Promise(async (resolve) => {\n    let url = \"https://zora.co/_next/data/xBYNv8INPmebM7S5e_TsX/collections/0x7269c1A1b8aBA1390770193771F92bD722c6a77B/\" + tokenId + \".json\";\n    fetch(url)\n        .then(r => r.json())\n        .then(r => {\n            let isSold = r.ownerAddress === \"0x0Fb5e3b3F254cBDcCD69d31bcB0e92B83d381A0A\";\n            let {v3Ask} = r;\n            let askPrice = v3Ask ? r.ethPrice : undefined;\n            return {\n                tokenId: tokenId,\n                askPrice,\n                thumbnail: \"/sp-thumbnail-\" + tokenId + \".png\"\n            };\n        });\n    });\n};\n\n*/\n","import React, {useCallback, useEffect} from 'react';\nimport { AsksV11__factory } from \"@zoralabs/v3/dist/typechain/factories/AsksV11__factory\";\nimport { ethers } from \"ethers\";\nimport mainnetZoraAddresses from \"@zoralabs/v3/dist/addresses/4.json\"; // Mainnet addresses, 4.json would be Rinkeby Testnet \nimport { IERC721__factory } from \"@zoralabs/v3/dist/typechain/factories/IERC721__factory\";\nimport { IERC20__factory } from \"@zoralabs/v3/dist/typechain/factories/IERC20__factory\";\nimport { ZoraModuleManager__factory } from \"@zoralabs/v3/dist/typechain/factories/ZoraModuleManager__factory\";\nimport { useSigner } from 'wagmi';\n\n\nexport const useMintTest = () => {\n    useEffect(() => {\n        approve();\n    }, []);\n\n    const approve = useCallback(async () => {\n        const provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n        // Prompt user for account connections\n        let accounts = await provider.send(\"eth_requestAccounts\", []);\n        const signer = provider.getSigner();\n\n        const moduleManagerAddress = mainnetZoraAddresses.ZoraModuleManager;\n        const ownerAddress = \"0xdc94060e37dcb8816188508536595019c8F0C98a\";// Owner of the assets (my test acct)\n\n        const nftContractAddress = \"0x9efe0c372310e179104aa5f478e20355a2538e43\"; // zequencer test\n        const erc721Contract = IERC721__factory.connect(nftContractAddress, signer);\n\n        // Initialize ERC20 currency demo contract\n        // Initialize Zora V3 Module Manager contract \n        const moduleManagerContract = ZoraModuleManager__factory.connect(mainnetZoraAddresses.ZoraModuleManager, signer);\n        const erc721TransferHelperAddress = mainnetZoraAddresses.ERC721TransferHelper;\n        let approved = await erc721Contract.isApprovedForAll(\n            ownerAddress, // NFT owner address\n            erc721TransferHelperAddress // V3 Module Transfer Helper to approve\n        );\n        console.log(\"token transfer module approved?\", approved);\n        \n        // If the approval is not already granted, add it.\n        if (approved === false) {\n            // Notice: Since this interaction submits a transaction to the blockchain it requires an ethers signer.\n            // A signer interfaces with a wallet. You can use walletconnect or injected web3.\n            console.log(\"approving token transfer module\");\n            await erc721Contract.setApprovalForAll(erc721TransferHelperAddress, true);\n        }\n\n        // Approving Asks v1.1\n        approved = await moduleManagerContract.isModuleApproved(ownerAddress, mainnetZoraAddresses.AsksV1_1);\n        console.log(\"ASKS ARE APPROVED? \", approved);\n\n        if (approved === false) {\n            console.log(\"approving asks module\");\n            await moduleManagerContract.setApprovalForModule(mainnetZoraAddresses.AsksV1_1, true);\n        }\n\n        // create ask\n        const askModuleContract = AsksV11__factory.connect(mainnetZoraAddresses.AsksV1_1, signer);\n        let ask = await askModuleContract.askForNFT(nftContractAddress, 1);\n        if (ask.askPrice.toNumber() === 0) {\n            // create ask\n            const askPrice = ethers.utils.parseEther(\"0.001\") // 100 ETH Sale Price\n//            const ownerAddress = \"0xF296178d553C8Ec21A2fBD2c5dDa8CA9ac905A00\"; // Owner of the assets\n            const findersFeeBps = \"0\"; // 2% Finders Fee (in BPS)\n            \n            // Calling Create Ask\n            // Notice: Since this interaction submits a transaction to the blockchain it requires a signer.\n            // A signer interfaces with a wallet. You can use walletconnect or injected web3.\n            console.log(\"creating ask\");\n            await askModuleContract.createAsk(\n                nftContractAddress,\n                \"3\", // Token Id\n                askPrice,\n                \"0x0000000000000000000000000000000000000000\", // 0 address for ETH sale\n                ownerAddress,\n                findersFeeBps\n            );\n        }\n    }, []);\n\n};\n","import React, {useCallback, useRef} from 'react';\nimport { useSigner } from 'wagmi';\nimport { ethers } from \"ethers\";\nimport mainnetZoraAddresses from \"@zoralabs/v3/dist/addresses/1.json\"; // Mainnet addresses, 4.json would be Rinkeby Testnet \nimport { AsksV11__factory } from \"@zoralabs/v3/dist/typechain/factories/AsksV11__factory\";\n\nexport const useBuy = (contract=\"0x7269c1a1b8aba1390770193771f92bd722c6a77b\") => {\n    const { data: signer, isError, isLoading } = useSigner();\n    let signerRef =  useRef(signer);\n    signerRef.current = signer;\n\n    /*\n      * uncomment to test on rinkeby\n    contract = \"0xe81f2369e74debd9874466d3e31aecf700aed872\";\n    */\n\n    const buy = useCallback(async (tokenId, fillAmount) => {\n        try {\n            /*\n             * Uncomment to test on rinkeybey\n            const provider = new ethers.providers.Web3Provider(window.ethereum, \"any\");\n            // Prompt user for account connections\n            let accounts = await provider.send(\"eth_requestAccounts\", []);\n            const signer = provider.getSigner();\n\n            console.log(\"signer accounts=\", signer, accounts);\n\n            fillAmount = undefined;\n            tokenId = 3;\n            */\n\n            tokenId = tokenId.toString();\n            const askModuleContract = AsksV11__factory.connect(mainnetZoraAddresses.AsksV1_1, signerRef.current);\n            let ask = await askModuleContract.askForNFT(contract, tokenId);\n            fillAmount = fillAmount ? ethers.parseEth(fillAmount.toString()) : ask.askPrice.toString();\n            const finder = \"0x0000000000000000000000000000000000000000\"; // 0 address for finder\n            \n            let tx = await askModuleContract.fillAsk(\n                contract,\n                tokenId, // Token Id\n                \"0x0000000000000000000000000000000000000000\", // 0 address for ETH sale\n                fillAmount,\n                finder,\n                {\n                    value: fillAmount\n                }\n            );\n            return tx;\n        } catch (e) {\n            console.log(\"error = \", e);\n            return false;\n        }\n    }, [contract, signer]);\n\n    return buy;\n};\n","\nimport { ConnectButton, darkTheme } from '@rainbow-me/rainbowkit';\nimport React, { useEffect, useCallback, useState} from 'react';\nimport PulseLoader from 'react-spinners/PulseLoader'\nimport {connect} from 'react-redux';\nimport './finalize.scss';\nimport {useMintTest} from './test.js';\nimport {useBuy} from 'components/hooks/useBuy.js';\nimport {useBalance} from 'wagmi';\nimport {useSigner} from 'wagmi';\n\nconst FinalizePurchase = ({account, _askPrice, _thumbnail, name, tokensOnSale, onCompletedBuy, onCancel, cart, onDone, contractAddress}) => { \n    let balanceData = useBalance({addressOrName: account});\n    let {data} = useSigner();\n    let balance = balanceData.data && parseFloat(balanceData.data.formatted);\n    let [finished, setFinished] = useState(false);\n    let [error, setError] = useState();\n    let [current, setCurrent] = useState(cart[0]);\n    let [waitingForWallet, setWaitingForWallet] = useState(false);\n    let [confirming, setConfirming] = useState(false);\n\n    const buy = useBuy(contractAddress);\n   \n    let thumbnail = _thumbnail || tokensOnSale.find(x => x.tokenId === current).thumbnail;\n    let number = cart.indexOf(current) + 1;\n    let total = cart.length;\n\n    let obj = tokensOnSale && tokensOnSale.find(x => x.tokenId === current);\n    let askPrice = _askPrice || obj.askPrice;\n\n    const completeBuy = useCallback(() => {\n        console.log('complete buy called');\n        let tokenId = current;\n        // we wanna buy this one\n        setWaitingForWallet(true);\n        buy(tokenId).then(\n            x => {\n                if (x) {\n                    setConfirming(x.hash);\n                    x.wait(1).then(x => {\n                        setFinished(true);\n                        setConfirming(false);\n                        if (number === cart.length) {\n                            // we have truly completed\n                        } else {\n                            setCurrent(cart[number]);\n                        }\n                        onCompletedBuy(tokenId);\n                    });\n                    setWaitingForWallet(false);\n                    setError(undefined);\n                } else {\n                    setError(\"You rejected the transaction. Please try again or continue browsing.\");\n                }\n                setWaitingForWallet(false);\n            });\n    }, [current, setCurrent, number, setWaitingForWallet, cart]);\n\n    if (finished || confirming) {\n        return (\n        <div className=\"finalize-modal-drop\">\n          <video\n            playsInline\n            muted\n            className={confirming ? \"confirming shrooms-video\" : \"shrooms-video\"}\n            autoPlay\n            loop\n            src={\"/mushrooms-medium.mp4\"}/>\n          <div\n            onClick={(e) => e.stopPropagation()}\n            className=\"finalize-modal\">\n            <div onClick={onDone} className=\"close-button\">x</div>\n            <div className=\"logo-container\">\n              <img className=\"spores-logo-black\" src=\"/spores-logo-black.svg\"/>\n            </div>\n            <div className=\"sp-modal-title\">\n              <div className=\"sp-title\">\n                {confirming ? \"Completing Purchase\" : (name ? \"You`ve Bought the \" + name : \"You\\'ve Bought the SP-\" + current)}\n                \n              </div>\n            </div>\n            {confirming ? <div className=\"sp-modal-body\">\n              <p>\n                Your new Spore Player should arrive in your wallet in a few moments.\n              </p>\n                            <div className=\"pulse-container\">\n              <PulseLoader\n                sizeUnit={\"px\"}\n                size={10}\n                color={'#ffffff'}\n                loading={true}\n              />\n                            </div>\n                          </div> :\n             <div className=\"sp-modal-body\">\n               <p>\n                 Congrats, you can now dose yourself with some cyber psilocybin.\n               </p>\n             {!name && <div\n                 onClick={() => window.open(\"/sp/\" + current, '_newtab')}\n                 className=\"pushable open-your-player\">\n                 Open your New Player\n                       </div>}\n             </div>}\n            </div>\n        </div>\n        );\n    }\n\n    return (\n        <div onClick={onCancel} className=\"finalize-modal-drop\">\n          <div\n            onClick={(e) => e.stopPropagation()}\n            className=\"finalize-modal\">\n            <div onClick={onCancel} className=\"close-button\">x</div>\n            <div className=\"logo-container\">\n              <img className=\"spores-logo-black\" src=\"/spores-logo-black.svg\"/>\n            </div>\n            <div className=\"sp-modal-title\">\n              <div className=\"sp-title\">\n                Buy {name ? name : `SP-${current}`}\n              </div>\n              {cart.length > 1 && <div className=\"purchase-part\"><span className=\"part-number\">{number}</span> of <span className=\"total-parts\">{total}</span></div>}\n            </div>\n            <div className=\"sp-modal-body\">\n              <p>\n                 You're about to buy this Spore Player for a fixed price.\n              </p>\n              <div className=\"thumbnail-and-price\">\n                <img src={thumbnail}/>\n                <div className=\"token-price\">\n                  <div className=\"price-label\">\n                    PRICE\n                  </div>\n                  <div className=\"price-eth\">\n                    {askPrice} ETH\n                  </div>\n                </div>\n              </div>\n              {error && <div className=\"error-text\"><img src=\"/error-icon.svg\"/> {error}</div>}\n              {waitingForWallet ?\n               <div className=\"waiting-for-wallet\">\n                 <span className=\"inner\">\n                   <span className=\"helper-text\">\n                     Waiting for Wallet \n                   </span>\n                   <PulseLoader\n                     sizeUnit={\"px\"}\n                     size={10}\n                     color={'#ffffff'}\n                     loading={true}\n                   />\n                 </span>\n               </div> : balance < parseFloat(askPrice) ?\n               <div className=\"low-balance complete-buy\">\n                 Insufficient balance for purchase.\n               </div> :\n               !data ? <div className=\"connect-wallet-container\"><ConnectButton\n                         accountStatus=\"address\" \n                         showBalance={{ smallScreen: false, largeScreen: false }}\n                         label=\"Connect Wallet\"\n                       /> </div>: \n               <div\n                 onClick={() => completeBuy()}\n                 className=\"complete-buy\">\n                 Complete Purchase \n               </div>}\n            </div>\n          </div>\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FinalizePurchase);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {useTokensOnSale} from '../hooks/useTokensOnSale.js';\nimport {connect} from 'react-redux';\nimport FinalizePurchase from './FinalizePurchase.js';\nimport { useAccount } from 'wagmi';\n\nconst BuyPlayerFLow = ({name, setBuying, thumbnail, askPrice, setCompletedBuy, tokenId}) => { \n    const {data, isError, isLoading } = useAccount();\n    console.log(\"acc data =\", data);\n    let {setTokensOnSale, tokensOnSale} = useTokensOnSale();\n\n    if (!tokensOnSale || tokensOnSale.length === 0) {\n        return '';\n    }\n    return (\n        <FinalizePurchase\n          name={name}\n          _askPrice={askPrice}\n          _thumbnail={thumbnail}\n          account={data && data.address}\n          onCompletedBuy={() => setCompletedBuy(true)}\n          onDone={() => {\n              setBuying(false);\n              \n          }}\n          tokensOnSale={tokensOnSale} onCancel={() => setBuying(false)} cart={[tokenId]} setCart={() => 0}/>\n    );\n};\n\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuyPlayerFLow);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {isMobile} from 'react-device-detect';\nimport {setSoldPlayers} from 'actions/index.js';\nimport BuyPlayerFlow from 'components/buy/BuyPlayerFlow.js';\nimport {connect} from 'react-redux';\nimport {useTokensOnSale} from '../hooks/useTokensOnSale.js';\nimport './buy-unsold.scss';\n\nconst BuyUnsold = ({upperGradInverted, soldPlayers=[], tokenId, text, showRemaining, onCompleteSale}) => { \n    let {setTokensOnSale, tokensOnSale} = useTokensOnSale();\n    let [buying, setBuying] = useState(false);\n\n    if (!tokensOnSale || tokensOnSale.length === 0) {\n        return '';\n    }\n\n    let unsold = tokensOnSale.filter(x => x.askPrice);\n    if (unsold.length === 0) {\n        return '';\n    }\n    if (soldPlayers.includes(tokenId)) {\n        return (\n            <div className=\"buy-unsold\">\n              Owned By You\n            </div>);\n    }\n    let style = {};\n    if (upperGradInverted && text) {\n        style.color = upperGradInverted;\n        style.borderBottomColor = upperGradInverted;\n    }\n    return (\n        <div className={text ? \"buy-unsold has-text\" : \"buy-unsold\"}>\n          {buying && <BuyPlayerFlow setCompletedBuy={() => {\n              setSoldPlayers([... soldPlayers, tokenId]);\n              if (onCompleteSale) {\n                  onCompleteSale(); // call optional callback\n              }\n          }} setBuying={setBuying} tokenId={tokenId}/>}\n          <div\n            style={style}\n            onClick={() => setBuying(true)}\n            className=\"buy-unsold-btn pushable\">\n            {text ? text : <span>\n                             Buy SP-{tokenId}\n                           </span>}\n          </div>\n          {((!isMobile && !text) || showRemaining) &&\n           <a\n             href={\"/sp/\" + tokenId}\n             className=\"unsold-remaining\">{unsold.length} remaining</a>}\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      soldPlayers: state.spore.soldPlayers\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setSoldPlayers: x => dispatch(setSoldPlayers(x))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuyUnsold);\n","import {ethers} from 'ethers';\n\nexport const signMessage = async (signer, msg) => {\n    let flatSig = await signer.signMessage(msg);\n\n    return {\n        flatSignature: flatSig,\n        splitSignature: ethers.utils.splitSignature(flatSig),\n    };\n};\n   \n","import {signMessage} from './sign.js';\nimport {ipfsHashToBytes32} from 'utils/ipfs.js';\n\nconst sporeMessage = (x) => `A new spore awakens at ipfs://${x}`;\n\nexport const newSpore = (signer, spTokenId, collectionAddress, tokenId, recordingHash, dataHash) => {\n    return new Promise(async (resolve) => {\n        console.log('new spore w data hash=%s collectionAddress=%s tokenId=%s', dataHash, collectionAddress, tokenId);\n        let message = sporeMessage(recordingHash);\n        console.log('signer=', signer);\n        let {account, flatSignature, splitSignature} = await signMessage(signer, message);\n        console.log(\"SIGNED MESSAGE=\", account);\n\n        // now store this signed message on the ropsten contract\n        let {r,s,v} = splitSignature;\n        \n        let body = {\n            r,\n            s,\n            v,\n            message,\n            recordingHash: ipfsHashToBytes32(recordingHash),\n            dataHash: ipfsHashToBytes32(dataHash),\n            tokenId,\n            spTokenId,\n            collectionAddress,\n        };\n        \n        let baseURL = \"https://zequencer.io\";\n        if (window.location.hostname.includes(\"localhost\")) {\n            baseURL = \"\";\n        }\n\n        fetch(baseURL + '/newUnofficialSpore/' , {\n            method: 'POST',\n            body: JSON.stringify(body),\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            }\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                resolve(resp.transactionHash);\n            });\n    });\n};\n\n","/*\n    This file is part of Universal Sequencer.\n    Universal Sequencer is free software: you can redistribute it and/or modif\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    Universal Sequencer is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\nimport Tone from 'tone';\nimport ipfsClient from 'decentralized/Ipfs.js';\nvar bufferToArrayBuffer = require('buffer-to-arraybuffer');\n\nclass AudioUnit {\n    constructor(context=Tone.Master.context) {\n        this.duration = 0;\n        this.source = undefined;\n        this.buffer = undefined;\n        this.playbackRate = 1;\n        this.looping = false;\n        this.playSound.bind(this);\n        this.context = context;\n        this.seek.bind(this);\n        this.stopSound.bind(this);\n        this.gain = new Tone.Gain(1);\n        this.gain.connect(Tone.Master);\n    }\n\n    dispose() {\n        if (this.source !== undefined) {\n            this.source.disconnect();\n        }\n        this.buffer = undefined;\n        this.source = undefined;\n    }\n\n    getContext() {\n        return this.context;\n    }\n\n    playSound(x, duration, isLooping) {\n        if (x == undefined) {\n            x = 0;\n        }\n        if (this.source != undefined) {\n            this.source.stop();\n        }\n        this.source = Tone.Master.context.createBufferSource(); // creates a sound source\n        this.source.connect(this.gain);       // connect the source to the context's destination (the speakers)\n        this.source.buffer = this.buffer;\n        //this.source.playbackRate.value = this.playbackRate;\n        this.source.loop = isLooping;\n        this.source.start(0, Math.max(0, x), duration);\n    }\n\n    seek(x) {\n        this.stopSound();\n        this.playSound(x);\n    }\n\n    stopSound() {\n        if (this.source != undefined) {\n            this.source.stop();\n        }\n    }\n\n    loadRawBuffer(buffer) {\n        this.buffer = buffer;\n        this.duration = buffer.duration;\n    }\n    \n    setBuffer(buffer) {\n        this.buffer = buffer;\n        this.duration = buffer.duration;\n    }\n}\n\nexport default AudioUnit;\n\n","import { createDecoder } from './minimp3-wasm.js';\nimport {sleep} from 'utils/sleep.js';\nimport Tone from 'tone';\n\nlet _counter=0;\nlet decoder;\n\nlet cache = {};\n\nlet mp3Recorder;\nlet results = {};\n\nconst decode = async (mp3Data, counter) => {\n    if (!mp3Recorder) {\n        mp3Recorder = new Worker(window.isNFT ? \"mp3Worker.js\" : \"/mp3Worker.js\");\n        mp3Recorder.onmessage = (e) => {\n            results[e.data.id] = e.data;\n        };\n    }\n    mp3Recorder.postMessage({mp3Data, isNFT: window.isNFT, id: counter});\n\n    while (!results[counter]) {\n        await sleep(100);\n    }\n    return results[counter];\n}\n\nexport const decodeMP3 = async (mp3Data) => {\n    const {decoded, sampleRate, position} = await decode(mp3Data, _counter++);\n    let ctxt = Tone.Master.context;\n    let channels = 2;\n    const _buffer = ctxt.createBuffer(channels, position/2, sampleRate); \n    const channelDataL = _buffer.getChannelData(0);\n    const channelDataR = channels === 2 ? _buffer.getChannelData(1) : null;\n    // int16 -> float32\n    for (let i = 0; i < decoded.length; i+=2) {\n      const l = decoded[i];\n      const r = decoded[i+1];\n      channelDataL[i/2] = l >= 32768 ? -(65536 - l) / 32768 : l / 32767;\n        if (channels === 2) {\n            channelDataR[i/2] = r >= 32768 ? -(65536 - r) / 32768 : r / 32767;\n        }\n    }\n    return _buffer;\n};\n\nexport const initMP3 = async (engine) => {\n    /*\n    let name = \"/completed_live_0bf4d6d54e4b03be05f1a24f090ee4d0_vocals.mp3\";\n    const res = await fetch(name);\n    const buffer = await res.arrayBuffer();\n    const mp3Data = new Uint8Array(buffer);\n    const decoder = await createDecoder(mp3Data, '/decoder.opt.wasm');\n    decoder.seek(0);\n    const results = decoder.decode(30);\n    let pcm = results.pcm;\n    console.log(pcm);\n    let ctxt = Tone.Master.context;\n    const _buffer = ctxt.createBuffer(2, pcm.length/2, results.samplingRate);\n    const channelDataL = _buffer.getChannelData(0);\n    const channelDataR = _buffer.getChannelData(1);\n    // int16 -> float32\n    for (let i = 0; i < pcm.length; i+=2) {\n      const l = pcm[i];\n      const r = pcm[i+1];\n      channelDataL[i/2] = l >= 32768 ? -(65536 - l) / 32768 : l / 32767;\n      channelDataR[i/2] = r >= 32768 ? -(65536 - r) / 32768 : r / 32767;\n    }\n    let sample = new Sample(NOT_UPLOADED_YET);\n    sample.audioBuffer = _buffer;\n    sample.needsSave = true;\n    // await sample.fetchAudio();\n    sample.tags = [];\n    sample.name = \"test\";\n    await engine.addSound(sample);\n    */\n};\n","import {decodeMP3} from 'utils/mp3.js';\nimport Tone from 'tone';\n\nconst bufferToArrayBuffer = require('buffer-to-arraybuffer');\n\nlet cache = {};\nexport const decodeAudioData = (blob, hash) => {\n    return new Promise(async (resolve, reject) => {\n        if (cache[hash]) {\n            return resolve(cache[hash]);\n        }\n        if (blob === undefined) {\n            reject();\n            return;\n        }\n        try {\n            try {\n                let sliced = blob.slice(0,4);\n                let type = new TextDecoder().decode(sliced);\n                if (type === \"RIFF\") {\n                    let r = await Tone.Master.context.decodeAudioData(blob);\n                    console.log('r =', r);\n                    if (hash) {\n                        cache[hash] = r;\n                    }\n                    resolve(r);\n                } else {\n                    let r = await decodeMP3(new Int8Array(blob));\n                    if (hash) {\n                        cache[hash] = r;\n                    }\n                    resolve(r);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n};\n\nexport const clearDecodeCache = () => {\n    cache = {};\n};\n","import AudioUnit from 'engine/audio.js';\nimport React, {useRef, useCallback, useEffect, useState} from 'react';\nimport {decodeAudioData} from 'utils/decode.js';\nimport Tone from 'tone';\nimport ipfs from 'decentralized/Ipfs.js';\n\nconst bufferToArrayBuffer = require('buffer-to-arraybuffer');\n\nconst getSound = async (hash) => {\n    if (hash.startsWith(\"http\")) {\n        let resp = await fetch(hash);\n        return await resp.blob();\n    }\n    return await ipfs.getSound(hash, 10000000);\n};\nexport const useAudioPlayer = (hash, autoPlay, isLooping) => {\n    let [audioPlayer, setAudioPlayer] = useState();\n    let currentHash = useRef();\n    let [loaded, setLoaded] = useState();\n    let [loading, setLoading] = useState(false);\n    let startTime = useRef();\n    let [isPlaying, setIsPlaying] = useState(false);\n    let playerRef = useRef();\n\n    const play = useCallback(() => {\n        startTime.current = new Date().getTime();\n        playerRef.current.playSound(0, 100000, isLooping);\n        setIsPlaying(true);\n    }, [setIsPlaying]);\n\n    const stop = useCallback(() => {\n        playerRef.current.stopSound(0);\n        setIsPlaying(false);\n    }, [setIsPlaying]);\n\n\n    const togglePlay = useCallback(() => {\n        if (isPlaying) {\n            playerRef.current.stopSound(0);\n            setIsPlaying(false);\n        } else {\n            play();\n        }\n    }, [isPlaying, setIsPlaying]);\n\n    const dispose = useCallback(() => {\n        if (audioPlayer) {\n            audioPlayer.dispose();\n        }\n    }, [audioPlayer]);\n\n    useEffect(() => {\n        if (!hash) {\n            if (playerRef.current) {\n                playerRef.current.stopSound();\n                setIsPlaying(false);\n                //setAudioPlayer(undefined);\n            }\n            return;\n        }\n        if (playerRef.current) {\n            playerRef.current.stopSound();\n            setIsPlaying(false);\n            //setAudioPlayer(undefined);\n        }\n\n        if (currentHash.current === hash && playerRef.current) {\n            play();\n            return;\n        }\n\n\n        setLoading(true);\n        setLoaded(false);\n        getSound(hash).then(\n            async blob => {\n                let arrayBuffer = blob.arrayBuffer ? await blob.arrayBuffer() : bufferToArrayBuffer(blob);\n                let audioBuffer = await decodeAudioData(arrayBuffer, hash);\n                let player = undefined;\n                if (playerRef.current) {\n                    player = playerRef.current;\n                    player.stopSound();\n                    setIsPlaying(false);\n                } else {\n                    player = new AudioUnit(Tone.Master.context);\n                }\n                player.setBuffer(audioBuffer);\n                setAudioPlayer(player);\n                playerRef.current = player;\n                setLoaded(true);\n                setLoading(false);\n                if (autoPlay) {\n                    play();\n                    //player.playSound(0, 100000, isLooping);\n                }\n                currentHash.current = hash;\n            });\n    }, [hash, setAudioPlayer, setLoaded, setLoading, setIsPlaying, autoPlay]);\n\n    return {\n        loaded,\n        loading,\n        setLoaded, \n        audioPlayer,\n        dispose,\n        togglePlay,\n        play,\n        startTime,\n        isPlaying,\n        stop\n    };\n};\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {isMobile} from 'react-device-detect';\nimport {connect} from 'react-redux';\nimport './jolly.scss';\nimport './heatmap.scss';\n\nconst JollyRancherPlayer = ({width, spore, progress, height=110}) => { \n    let ref = useRef();\n    let loaded = useRef();\n\n    // TODO: need to wait for the iframe to fully load before sending this\n    // likely need a post message listener for \"zequencerProjectLoaded\"\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage, false);\n        return () => {\n            window.removeEventListener(\"message\", onMessage);\n        };\n    }, [spore]);\n\n    const onMessage = useCallback((e) => {\n        if (e.data === \"sporeIFrameLoaded\") {\n            // then we need to send it over\n            sendHeatmapHash();\n            loaded.current = true;\n        }\n    }, [spore]);\n\n    useEffect(() => {\n        if (loaded.current) {\n            console.log(\"spore.dataHash =\", spore.datahash, spore);\n            sendHeatmapHash();\n        }\n    }, [spore]);\n\n    const sendHeatmapHash = useCallback(() => {\n        console.log('sending hash', spore.dataHash);\n        if (ref.current && ref.current.contentWindow) {\n            if (spore) {\n                ref.current.contentWindow.postMessage({\n                    type: \"heatmapHash\",\n                    body: spore.dataHash\n                }, \"*\");\n            }\n        }\n    }, [spore]);\n\n    useEffect(() => {\n        if (ref.current && ref.current.contentWindow) {\n            if (spore) {\n                ref.current.contentWindow.postMessage({\n                    type: \"heatmapHash\",\n                    body: spore.dataHash\n                }, \"*\");\n            }\n        }\n    }, [spore]);\n\n    useEffect(() => {\n        if (ref.current && ref.current.contentWindow) {\n            ref.current.contentWindow.postMessage({\n                type: \"sporePosition\",\n                body: progress\n            }, \"*\");\n        }\n    }, [progress]);\n\n    useEffect(() => {\n        if (ref.current && ref.current.contentWindow) {\n            ref.current.contentWindow.postMessage({\n                type: \"heatmapSize\",\n                body: [width, 90]\n            }, \"*\");\n        }\n    }, [width]);\n       \n    return (\n        <iframe\n          ref={ref}\n          sandbox=\"allow-scripts allow-same-origin\"\n          allowtransparency=\"true\"\n          height={height}\n          width={width}\n          aria-describedby=\"spore\"\n          alt=\"spore.vision\"\n          //src={\"https://zequencer.io/ipfs/QmTh6hkgEGGLpVP5XANvDToWMmLNq1VFXcS4vXnCMjrefC/\"}\n          //src={\"https://zequencer.io/ipfs/QmTp5n1FsKeqEj4u8MGRScVY9BGkkWPiR3AEgqe8gvbTeE/\"}\n          src={\"https://zequencer.mypinata.cloud/ipfs/QmVvhZjnEJCBLs7SK2ED9xjbk7ZzjQQq4DHzfh7PJp9314/\"}\n          className=\"spore-heatmap zora-mediaObject css-hnzuw7 zora-mediaObject--mediaLoaded zora-mediaObject--isFullPage\"\n          style={{borderWidth: \"0px\"}}/>\n        );\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(JollyRancherPlayer);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {isMobile} from 'react-device-detect';\nimport {useAudioPlayer} from 'components/hooks/useAudioPlayer.js';\nimport {connect} from 'react-redux';\nimport JollyRancherPlayer from '../spore/JollyRancherPlayer.js';\nimport './heatmap-player.scss';\n\nconst HeatmapPlayer = ({recordingHash, spore, disabled}) => { \n    let {audioPlayer, dispose} = useAudioPlayer(recordingHash);\n    let className = \"heatmap-player \";\n    if (disabled) {\n        className += \" disabled\";\n    }\n    return (\n        <div className={className}>\n          <JollyRancherPlayer width={isMobile ? 250 : 450} height={80} spore={spore}/>\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HeatmapPlayer);\n","import React, { useState, useEffect, useRef } from 'react';\n\nexport function useInterval(callback, delay) {\n  const savedCallback = useRef();\n\n  // Remember the latest callback.\n  useEffect(() => {\n    savedCallback.current = callback;\n  }, [callback]);\n\n  // Set up the interval.\n  useEffect(() => {\n    function tick() {\n      savedCallback.current();\n    }\n    if (delay !== null) {\n      let id = setInterval(tick, delay);\n      return () => clearInterval(id);\n    }\n  }, [delay]);\n}\n","const CHAOS_COLLECTION = \"0x8427e46826a520b1264b55f31fcb5ddfdc31e349\";\nconst CHAOS_METADATA  = \"https://opensea.mypinata.cloud/ipfs/bafybeic3pw5dd6tsu67mpgcm3mj5x335nfmq7xpesomv3uyuqluv2srsg4/\";\nconst OPEN_SEA_PINATA = \"https://opensea.mypinata.cloud/ipfs/\";\n\nexport const getMetadata = (url) => {\n    return new Promise(resolve => {\n        if (url.startsWith(\"ipfs://\")) {\n            url = \"https://zora-prod.mypinata.cloud/ipfs/\" + url.slice(7);\n        }\n        if (url.includes(\"ipfs.io\")) {\n            url = url.replace(\"ipfs.io\", \"zora-prod.mypinata.cloud\");\n        }\n        console.log(\"URL TO GET IS NOW=\", url);\n        fetch(url).then(\n            r => r.json())\n            .then(\n                r => {\n                    let {animation_url, audio_url} = r;\n                    console.log(\"ANIMATION_URL=%s audio_url=%s\", animation_url, audio_url);\n                    let json = {\n                        ... r\n                    };\n                    if (animation_url) {\n                        if (animation_url.includes(\"ipfs\")) {\n                            json.ipfs = animation_url.slice(7);\n                            json.url =OPEN_SEA_PINATA + animation_url.slice(7);\n                        } else {\n                            json.url = animation_url;\n                        }\n                    };\n                    if (audio_url) {\n                        if (audio_url.includes(\"/ipfs/\")) {\n                            let indexOf = audio_url.indexOf(\"/ipfs\");\n                            json.ipfs = audio_url.slice(indexOf+6);\n                        }\n                    }\n                    resolve(json);\n                });\n    });\n};\n\nexport const jack = async (url, getTokenMetadata) => {\n    console.log(\"chaos called\", url);\n    /*\n    if (url.includes(\"0x8427e46826a520b1264b55f31fcb5ddfdc31e349\")) {\n        // we are in a chaos drop\n        let parts = parse_url(url);\n        let path = parts.path;\n        let splitted = path.split(\"/\").filter(x => x !== \"\");\n        let tokenId = splitted[3];\n        let _url = CHAOS_METADATA + tokenId + \".json\";\n        return await getMetadata(_url);\n    }\n    */\n    if (url.toLowerCase().includes(\"chaos\") || url.includes(\"opensea\") || url.includes(\"zora\") || url.includes(\"sound.xyz\") || url.includes(\"catalog.works\") || url.includes(\"mintsongs.com\")) {\n        console.log('was chaos');\n        // then we need to figure out the \n        let {contract, tokenId, release} = await getParts(url);\n        console.log(\"parts=\", contract, tokenId);\n        let ret = await getZoraAPI(url, release);\n        console.log('zora api=', ret);\n        if (!ret) {\n            let meta = await getTokenMetadata(contract, tokenId);\n            console.log('token metadata we got for tokenId=%s', tokenId, meta);\n            if (!meta) {\n                return undefined;\n            }\n            let x = await getMetadata(meta);\n            if (!x.collectionAddress) {\n                x.collectionAddress  = contract;\n            }\n            if (!x.tokenId ) {\n                x.tokenId = tokenId;\n            }\n            return x;\n        } else {\n            let audio_url = ret.url;\n            let indexOf = audio_url.indexOf(\"/ipfs\");\n            let json = {\n                ... ret.metadata,\n                url: audio_url,\n            };\n            if (!json.collectionAddress) {\n                json.collectionAddress = contract;\n            }\n            if (!json.tokenId ) {\n                json.tokenId = tokenId;\n            }\n            return json;\n        }\n    }\n};\n\nconst getParts = async (url) => {\n\n    let part = \"/ethereum/\";\n    if (url.toLowerCase().includes(\"chaos\")) {\n       var re = /#[1-9]\\d*\\b/g;\n        var matches = url.match(re); \n        console.log(\"matches =\", matches);\n        if (matches[0]) {\n            return {\n                contract: CHAOS_COLLECTION,\n                tokenId: parseInt(matches[0].slice(1))\n            };\n        } else {\n            return {\n                contract: CHAOS_COLLECTION,\n                tokenId: 1\n            };\n        }\n    } else if (url.includes(\"sound.xyz\")) {\n        console.log(\"SOUND XYZ TYPE\");\n        let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/soundxyz/\" : \"https://zequencer.io/soundxyz/\";\n        if (!window.LOCAL_BACKEND_FLAG) {\n            baseURL = \"https://zequencer.io/soundxyz/\";\n        }\n        let indexOf = url.indexOf(\"sound.xyz\");\n        let soundxyzPath = url.slice(indexOf + 10);\n        let ret = await fetch(baseURL + soundxyzPath);\n        console.log(\"SOUND XYZ returned=\", ret);\n        let json = await ret.json();\n        url = json.contractAddress + \"/\" + 1;\n        let release = soundxyzPath.split(\"/\")[1];\n        return {contract: json.contractAddress, tokenId: \"1\", release};\n    } else if (url.includes(\"catalog.works\")) {\n        console.log(\"CATALOG TYPE\");\n        console.log(\"url container catalog=\", url);\n        let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/catalog/\" : \"https://zequencer.io/catalog/\";\n        if (!window.LOCAL_BACKEND_FLAG) {\n            baseURL = \"https://zequencer.io/catalog/\";\n        }\n        let str = \"catalog.works/\";\n        let indexOf = url.indexOf(str);\n        let soundxyzPath = url.slice(indexOf + str.length);\n        console.log('sound xyz path =', baseURL + soundxyzPath);\n        let ret = await fetch(baseURL + soundxyzPath);\n        let json = await ret.json();\n        return {contract: json.contractAddress}; //, tokenId: json.tokenId};\n    } else if (url.includes(\"zora.co\")) {\n        part = \"/collections/\";\n    } else if (url.includes(\"mintsongs.com\")) {\n        part = \"/tokens/\";\n    }\n    let indexOf = url.indexOf(part);\n        url = url.slice(indexOf + part.length);\n        let p = url.split(\"/\");\n    if (p[0] === \"zora\") {\n        p[0] = \"0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7\";\n    }\n    return {\n        contract: p[0],\n        tokenId: p[1],\n    };\n};\n\nconst getZoraAPI = async (url, release=\"\") => {\n    if (url.includes(\"zora\")) {\n        let part = \"/collections/\";\n        let indexOf = url.indexOf(part);\n        url = url.slice(indexOf + part.length);\n        let parts = url.split(\"/\")\n        if (parts[0] === \"zora\") {\n            parts[0] = \"0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7\";\n        }\n        url = parts.join(\"/\");\n    } else if (url.includes(\"sound.xyz\")) {\n        //let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/soundxyz/\" : \"https://zequencer.io/soundxyz/\";\n        let baseURL = \"https://zequencer.io/soundxyz/\";\n        let indexOf = url.indexOf(\"sound.xyz\");\n        let soundxyz = url.slice(indexOf + 10);\n        let ret = await fetch(baseURL + soundxyz);\n        let json = await ret.json();\n        url = json.contractAddress + \"/\" + release;\n    } else {\n        let part = \"/ethereum/\";\n        let indexOf = url.indexOf(part);\n        url = url.slice(indexOf + part.length);\n    }\n    \n    //let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/jacker/\" : \"https://zequencer.io/jacker/\";\n    let baseURL = \"https://zequencer.io/jacker/\";\n\n//    if (window.location.hostname === \"localhost\" && window.HAS_LOCAL_BACKEND) {\n     //   baseURL =  \"/jacker/\"; \n //   } \n    try {\n        let ret = await fetch(baseURL + url);\n        return await ret.json();\n    } catch(e) {\n        return undefined;\n    }\n};\n \nfunction parse_url(url) {\n    var pattern = RegExp(\"^(([^:/?#]+):)?(//([^/?#]*))?([^?#]*)(\\\\?([^#]*))?(#(.*))?\");\n    var matches =  url.match(pattern);\n    return {\n        scheme: matches[2],\n        authority: matches[4],\n        path: matches[5],\n        query: matches[7],\n        fragment: matches[9]\n    };\n}\n\nconst isChaos = (url) => {\n    return url.includes(CHAOS_COLLECTION);\n};\n","import React, {useRef, useCallback} from 'react';\nimport {ethers} from 'ethers';\nimport {infuraProvider} from 'wagmi/providers/infura';\nimport { IERC721Metadata__factory} from \"@zoralabs/v3/dist/typechain/factories/IERC721Metadata__factory\";\nimport { useSigner } from 'wagmi';\nconst infuraId = \"2f3dce2af1044e88b4851c3d73c3d00c\";\n\nexport const useTokenMetadata = () => {\n    return getTokenMetadata;\n};\n\nexport const getTokenMetadata = async (contract, tokenId) => {\n    let provider = new ethers.providers.InfuraProvider(\"mainnet\", infuraId);\n    const tokens  = IERC721Metadata__factory.connect(contract, provider);\n    try {\n        tokenId = ethers.BigNumber.from(tokenId);\n        let meta = await tokens.tokenURI(tokenId);\n        return meta;\n    } catch (e) {\n        return undefined;\n    }\n};\n\n","import {jack} from 'jacker/jack.js';\nimport {getTokenMetadata} from 'components/hooks/useTokenMetadata.js';\n\n// JACK is essentially token metadata but standardized in a way that\n// we can use in the platform\nexport const getJackFromToken = async (collectionAddress, tokenId) => {\n    let link = \"https://zora.co/collections/\" + collectionAddress + \"/\" + tokenId;\n    let jacked = await jack(link, getTokenMetadata);\n    return jacked;\n};\n","import { useAccount } from 'wagmi';\nimport {isMobile} from 'react-device-detect';\nimport {CHAOS_COLLECTION} from 'constants/collections.js';\nimport BuyUnsold from 'components/nft-jacker/BuyUnsold.js';\nimport {setPendingSpores} from 'actions/index.js';\nimport {newSpore} from 'spores/newSpore.js';\nimport ipfs from 'decentralized/Ipfs.js';\nimport { useSigner } from 'wagmi';\nimport HeatmapPlayer from 'components/heatmap-player/HeatmapPlayer.js';\nimport {setCurrentPlaylistSong} from 'actions/index.js';\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {useOwnsAnySpore} from 'components/hooks/useOwnsAnySpore.js';\nimport {getJackFromToken} from 'utils/getJackFromToken.js';\n\nconst FinishedUploading = ({\n    recordedRemix,\n    spTokenId,\n    tokenId,\n    collectionAddress,\n    setPendingSpores,\n    complete,\n    usedCheatCode,\n    playlistLoaded,\n    loadJack,\n    currentSong,\n    setCurrentSong\n}) => { \n    const {data: account, isError, isLoading} = useAccount();\n    const {data: signer} = useSigner();\n    let [waitingOnSign, setWaitingOnSign] = useState(false);\n    let [showConnectWallet, setShowConnectWallet] = useState(false);\n    let [completedSale, setCompletedSale] = useState(false);\n    let {recording, sliderData, modeData} = recordedRemix;\n    let [transactionHash, setTransactionHash] = useState(undefined);\n    let isSporeOwner = true; //useOwnsAnySpore() || usedCheatCode || completedSale || collectionAddress === CHAOS_COLLECTION;\n\n    const save = useCallback(async () => {\n        let {dataHash, recordingHash} = recordedRemix;\n        setWaitingOnSign(true);\n        let transactionHash = await newSpore(signer, spTokenId, collectionAddress, tokenId, recordingHash, dataHash);\n        window.localStorage.removeItem(\"recordedRemix\");\n        \n        setTransactionHash(transactionHash);\n        \n        let p = {\n            spTokenId,\n            collectionAddress,\n            tokenId,\n            recordingHash,\n            dataHash,\n        };\n        setPendingSpores([p]);\n\n        let pending = window.localStorage.getItem(\"pending-spores\");;\n        if (pending === null) {\n            pending = [];\n        } else {\n            pending = JSON.parse(pending);\n        }\n        pending = [... pending, p];\n        window.localStorage.setItem(\"pending-spores\", JSON.stringify(pending));\n    }, [signer, spTokenId, recordedRemix, tokenId, collectionAddress, setWaitingOnSign, account]);\n\n    let nextSong = undefined;\n    if (playlistLoaded) {\n        playlistLoaded = playlistLoaded.metadata.playlist;\n        for (let i=0; i < playlistLoaded.length; i++) {\n            let item = playlistLoaded[i];\n            if (item.collectionAddress === currentSong.collectionAddress &&\n                item.tokenId === currentSong.tokenId) {\n                // then we load the next\n                nextSong = playlistLoaded[i+1];\n                break;\n            }\n        }\n    }\n\n\n    const loadNext = useCallback(() => {\n        getJackFromToken(nextSong.collectionAddress, nextSong.tokenId).then(\n            jack => {\n                complete();\n                setCurrentSong(nextSong);\n                loadJack(jack, undefined, !isMobile);\n            });\n    }, [nextSong]);\n\n    let inner = '';\n    if (!account)  {\n        // we need them to connect wallet\n        inner = (\n            <div className=\"inner-spore-recorded\">\n              <div className=\"connect-button-wrapper\">\n                <ConnectButton\n                  accountStatus=\"address\" \n                  showBalance={{ smallScreen: false, largeScreen: false }}\n                  label=\"Connect Wallet\"\n                />\n              </div>\n              <div className=\"sign-helper\">\n                By connecting your wallet, you can etch your identity onto this Remix, where it will live on-chain.\n              </div>\n            </div>\n        );\n    } else if (isSporeOwner) {\n        // they are connected any own a spore\n        if (transactionHash) {\n            // we've done it\n            inner = (\n                <div className=\"sign-recording-container\">\n                  <p>\n                    Your spore is being transmitted on-chain. This will take a few seconds.\n                  </p>\n                  <p>\n                    <a href={\"https://ropsten.etherscan.io/tx/\" + transactionHash}>Etherscan </a>\n                  </p>\n                  {playlistLoaded ?\n                   <div onClick={loadNext}\n                        className=\"continue-remixing-btn pushable\">\n                     Play Next\n                   </div> :\n                   <div onClick={complete} className=\"continue-remixing-btn pushable\">\n                     Continue Mixing\n                   </div>}\n                </div>\n            );\n        } else {\n            // need to sign\n            inner = (\n                <div className=\"sign-recording-container\">\n                  <div\n                    onClick={save}\n                    className=\"pushable sign-btn\">\n                    Sign & Upload\n                  </div>\n                  <div className=\"sign-helper\">\n                    {waitingOnSign ? `\nPlease now go to your wallet to sign the message. This costs no-gas, so no-stress.\n` : \n                    `In order to transmit this remix on-chain, you'll need to sign a message\n                    with your wallet. This costs no-gas, so no-stress.`}\n                  </div>\n                </div>\n            );\n        }\n    } else {\n        // connected but dont own so they must buy\n        inner = (\n            <div className=\"spores-buy-helper\">\n              Buy a <i>Genesis Spore</i> to etch your wallet address onto this Remix where it will live on-chain.\n              <BuyUnsold\n                onCompleteSale={() => setCompletedSale(true)}\n                showRemaining={true}\n                text={\"Buy SP-\" + spTokenId}\n                tokenId={spTokenId}/>\n \n            </div>\n        );\n    }\n\n    // should show a greyed out heatmap containing the song if not connected\n\n    return (\n        <div className=\"spore-recorded-dialog\">\n          <div className=\"spore-header\">\n            Spores recorded your remix.\n          </div>\n          <HeatmapPlayer disabled={!isSporeOwner} spore={recordedRemix}/>\n          {inner}\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n      usedCheatCode: state.spore.usedCheatCode,\n      playlistLoaded: state.playlist.playlistLoaded,\n      currentSong: state.playlist.currentSong,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setPendingSpores: x => dispatch(setPendingSpores(x)),\n\n      setCurrentSong: x => dispatch(setCurrentPlaylistSong(x))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(FinishedUploading);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './modal.scss';\n\nconst Modal = ({children, hide}) => { \n    return (\n        <div\n          onClick={hide}\n          className=\"spore-modal-backdrop\">\n          {/*<iframe className=\"modal-iframe\" src=\"https://zequencer.mypinata.cloud/ipfs/QmdgpJjL3v3wc9B7cvS66Av4yrXrnGDEpMi3rUAq9t3gHU/\"/>*/}\n         <div\n            onClick={e => e.stopPropagation()}\n            className=\"spore-modal-dialog\">\n           <div className=\"logo-container\">\n             <img\n               onClick={() => hide()}\n               className=\"pushable spores-logo\" src=\"/spores-logo-black.svg\"/>\n           </div>\n            {children}\n          </div>\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Modal);\n","import React, {useEffect, useState} from 'react';\nimport {connect} from 'react-redux';\nimport PulseLoader from 'react-spinners/PulseLoader'\nimport './progressbar.scss';\nconst WIDTH = 390;\n\nconst UnknownProgressBar = ({\n    text,\n    className=\"\",\n    width=WIDTH,\n    intervalTime=100,\n    intervalPiece=10}) => {\n    let [loadingProgress, setLoadingProgress] = useState(24);\n\n    useEffect(() => {\n        const interval = setInterval(() => {\n            setLoadingProgress(x => (x + intervalPiece) % 100);\n        }, intervalTime);\n        return () => clearInterval(interval);\n    }, []);\n    \n    let style = {\n        width: width * loadingProgress / 100.0\n    };\n    return (\n      <div className={\"progress-bar\" + className}>\n        <div style={{\n          borderRadius: \"35px\",\n          height: \"70px\",\n          width: \"70px\",\n          position: \"absolute\",\n          margin: \"auto\",\n          left: \"0\",\n          right: \"0\",\n          top: \"0\",\n          bottom: \"0\"}}>\n          <img style={{width: \"100%\"}} src='/spores-icon-glow.svg'></img>\n        </div>\n      </div>\n        // <div className={\"progress-bar \" + className}>\n        //   <div className=\"inner-progress-bar\">\n        //   <div className=\"progress\" style={style}/>\n        //     <div className=\"loading-text\">\n        //       {text} ...\n        //     </div>\n        //   </div>\n        // </div>\n    );\n};\n\nconst mapStateToProps = (state, props)=> {\n    return {\n    };\n};\n\n\nexport default connect(mapStateToProps, null)(UnknownProgressBar);\n","import BackendQuery from 'decentralized/BackendQuery.js';\nimport {ethers} from 'ethers';\nimport {NewUnofficialSporeCreated} from 'decentralized/EthereumEvents.js';\nimport {web3} from 'decentralized/web3.js';\n\nexport const getSporeWithHash = async (sporeHash, dataHash) => {\n    let query = new BackendQuery(\"0xD810401bAb352E3D1a75b2799b4D66819C25E225\")\n        .from(NewUnofficialSporeCreated)\n        .where('sporeHash', sporeHash)\n        .where('dataHash', dataHash);\n\n    let unfiltered = await query.executeQuery();\n    return unfiltered[0];\n};\n\nexport const getSporeRemixes = async (collectionAddress, tokenId) => {\n    let query = new BackendQuery(\"0xD810401bAb352E3D1a75b2799b4D66819C25E225\")\n        .from(NewUnofficialSporeCreated);\n\n    let unfiltered = await query.executeQuery();\n\n    if (collectionAddress) {\n        query.where(\"collectionAddress\", collectionAddress.toLowerCase());\n    }\n    \n    if (tokenId !== undefined) {\n        if (tokenId.length > 10) {\n            // then we have a bignumber\n            let big = ethers.BigNumber.from(tokenId);\n            big = web3.utils.padLeft(big.toHexString(), 64).toLowerCase();\n            query.where(\"tokenId\", big);\n        } else {\n            let parsed = parseInt(tokenId);\n            query.where(\"tokenId\", isNaN(parsed) ? tokenId : parsed);\n        }\n    }\n\n    let results = await query.executeQuery();\n\n    let pend = getPending().filter(x => x.collectionAddress === collectionAddress && parseInt(x.tokenId) === parseInt(tokenId));\n\n    results = [...pend, ... results];\n    return results;\n};\n\nexport const getRemixByNumber = async (id) => {\n    let query = new BackendQuery(\"0xD810401bAb352E3D1a75b2799b4D66819C25E225\")\n        .from(NewUnofficialSporeCreated)\n        .where('sporeId', parseInt(id));\n\n    let results = await query.executeQuery();\n    return results[0];\n};\n\nexport const getRemixesMap = async () => {\n    let query = new BackendQuery(\"0xD810401bAb352E3D1a75b2799b4D66819C25E225\")\n        .from(NewUnofficialSporeCreated);\n\n    let unfiltered = await query.executeQuery();\n    let pending = getPending();\n    updatePending(pending, unfiltered);\n    unfiltered = [... unfiltered, ... pending];\n\n    let collections = {};\n    for (let result of unfiltered) {\n        let {collectionAddress, tokenId} = result;\n        collectionAddress = collectionAddress.toLowerCase();\n        if (!collections[collectionAddress]) {\n            collections[collectionAddress] = {};\n        }\n        if (!collections[collectionAddress][tokenId]) {\n            collections[collectionAddress][tokenId] = [];\n        }\n        collections[collectionAddress][tokenId].push(result);\n\n    }\n    return collections;\n};\n\n\n\nconst getPending = () => {\n    let pending = window.localStorage.getItem(\"pending-spores\");;\n    if (pending === null) {\n        pending = [];\n    } else {\n        pending = JSON.parse(pending);\n    }\n    for (let s of pending) {\n        s.sporeHash = s.recordingHash;\n    }\n    return pending;\n};\n\nconst updatePending = (pending, results) => {\n    let _pending = [];\n    for (let r of pending) {\n        let skip = false;\n        for (let result of results) {\n            if (r.recordingHash === result.sporeHash) {\n                skip=true;\n                break;\n            }\n        }\n        if (!skip) {\n            _pending.push(r);\n        }\n    }\n    window.localStorage.setItem(\"pending-spores\", JSON.stringify(_pending));\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport FinishedUploading  from './FinishedUploading.js';\nimport ipfs from 'decentralized/Ipfs.js';\nimport Modal from 'components/modal/Modal.js';\nimport UnknownProgressBar from 'components/progressbar/UnknownProgressBar.js';\nimport {connect} from 'react-redux';\nimport {getSporeRemixes} from 'spores/getSporeRemixes.js';\nimport './recording.scss';\n\nconst SporeRecorded = ({\n    recordedRemix,\n    uploadingRemix,\n    spTokenId,\n    tokenId,\n    collectionAddress,\n    onRemixSigningCompleted,\n    loadJack\n}) => { \n    let [savedToLocal, setSavedToLocal] = useState(true);\n    useEffect(() => {\n        window.localStorage.setItem(\"recordedRemix\", {\n            recordedRemix,\n            tokenId,\n            spTokenId,\n            collectionAddress,\n        });\n        setSavedToLocal(true);\n    }, [recordedRemix, setSavedToLocal, tokenId, collectionAddress, spTokenId]);\n\n    if (!recordedRemix && !uploadingRemix) {\n        return '';\n    }\n    return (\n        <Modal hide={e => []}>\n          {!recordedRemix || !savedToLocal ?\n           <div className=\"spore-recorded-dialog\">\n             <div className=\"spore-header\">\n               Spores recorded your remix.\n             </div>\n             <div className=\"uploading-text\">\n               Processing your new sound.\n             </div>\n             <div className=\"progress-container\">\n               <UnknownProgressBar width={180}/>\n             </div>\n           </div> : \n           <FinishedUploading\n             spTokenId={spTokenId}\n             tokenId={tokenId}\n             complete={onRemixSigningCompleted}\n             collectionAddress={collectionAddress}\n             recordedRemix={recordedRemix}\n             loadJack={loadJack}\n           />\n}\n        </Modal>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SporeRecorded);\n","\nimport {isMobile} from 'react-device-detect';\nimport PlayButton from '../buttons/PlayButton.js';\nimport React, { useRef, useEffect, useCallback, useState} from 'react';\nimport SongWaveform from 'components/waveform/SongWaveform.js';\nimport {connect} from 'react-redux';\nimport './shuffle.scss';\n\nconst WIDTH = 330;\n\nconst ShuffleButton = ({hideWaveform, isWaveformRainbow, buttonTextColor, playerRef, innerControls}) => { \n    let width = innerControls ? window.innerWidth :  WIDTH;\n    let ref = useRef();\n    let scrubRef = useRef();\n    let [waveform, setWaveform] = useState();\n    let [progress, setProgress] = useState(0);\n    let [playing, setPlaying] = useState(0);\n    let [started, setStarted] = useState(false);\n    let [scrubbing, setScrubbing] = useState(false);\n    let off = useRef(0);\n    let [scrub, setScrub] = useState(undefined);\n    \n\n    useEffect(() => {\n        window.addEventListener(\"mouseup\", finishScrub);\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"touchmove\", onMouseMove);\n        return () => {\n            window.removeEventListener(\"mouseup\", finishScrub);\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"touchmove\", onMouseMove);\n        }\n    }, [scrubbing, setScrub, setScrubbing]);\n\n    const finishScrub = useCallback(() => {\n        setScrubbing(false);\n    }, [setScrubbing]);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage, false);\n        return x => window.removeEventListener(\"message\", onMessage, false);\n    }, [setProgress, setPlaying, setStarted, setWaveform]);\n\n    const onMessage = useCallback(e => {\n        if (e.data.type === \"waveform-data\") {\n            setWaveform(e.data.body);\n        }\n        if (e.data.type === \"song-player-progress\") {\n            let progress = parseInt(e.data.body);\n            setProgress(progress);\n        }\n        if (e.data.type === \"jacker-playback-status\") {\n            let playing = parseInt(e.data.body);\n            setPlaying(playing);\n            if (playing) {\n                setStarted(true);\n            }\n        }\n    }, [started, setProgress, setPlaying, setStarted, setWaveform]);\n\n    const onPlayClicked = useCallback(() => {\n        playerRef.current.contentWindow.postMessage({\n            type: \"jacker-pause-toggle\",\n            body: true,\n        }, \"*\");\n    }, []);\n\n    const onMouseMove = useCallback((e) => {\n        if (!scrubbing) {\n            return;\n        }\n        if (e.touches) {\n            e = e.touches[0];\n        }\n\n        let rect = ref.current.getBoundingClientRect();\n        let x = e.clientX - rect.left;\n        let percent = (x / width) * 100;\n        percent = Math.max(0, Math.min(100, percent));\n        setScrub(percent);\n        playerRef.current.contentWindow.postMessage({\n            type: \"jacker-seek\",\n            body: percent\n        }, \"*\");\n    }, [scrubbing, setScrub]);\n\n    let className = \"shuffle-buttons\";\n\n    if (!started) {\n        return '';\n    }\n\n    let style = {\n        borderColor: buttonTextColor\n    };\n\n    progress = scrubbing && scrub ? scrub : progress;\n    return (\n        <div\n          onMouseDown={(e) => {\n              setScrubbing(true);\n              onMouseMove(e);\n          }}\n          onTouchStart={(e) => {\n              setScrubbing(true);\n              onMouseMove(e);\n          }}\n          className={className}>\n          {!hideWaveform && <SongWaveform progress={progress} waveform={waveform} isWaveformRainbow={isWaveformRainbow}/>}\n          <div className=\"play-and-slider\">\n          <PlayButton color={buttonTextColor} style={style} isPlaying={playing} play={onPlayClicked}/>\n          <div\n            ref={ref}\n            style={style} className=\"slider-container\">\n            <div\n              style={{\n                  backgroundColor: buttonTextColor,\n                  width: width*(100-progress)/100,\n                  left: width*progress/100}} className=\"slider-inner\"/>\n            <div\n              ref={scrubRef}\n              onMouseDown={(e) => {\n                  e.stopPropagation();\n                  setScrubbing(true);\n              }}\n              onTouchStart={(e) => {\n                  e.stopPropagation();\n                  setScrubbing(true);\n              }}\n              style={{\n                  backgroundColor: buttonTextColor,\n                  left: width*progress/100}} className=\"slider-scrubber\"/>\n          </div>\n          </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ShuffleButton);\n","import React, {useState, useEffect, useCallback} from 'react';\nimport {getRemixByNumber} from 'spores/getSporeRemixes.js';\nimport ipfs from 'decentralized/Ipfs.js';\n\nexport const useRemixListener = (clear, playerRef, remixId) => {\n    let [recordedRemix, setRecordedRemix] = useState();\n    let [uploadingRemix, setUploadingRemix] = useState(window.TEST_REMIX_UPLOAD_FLAG);\n    let [remixToPlay, setRemixToPlay] = useState();\n\n    useEffect(() => {\n        if (remixId) {\n            getRemixByNumber(remixId).then(\n                x => {\n                    setRemixToPlay(x);\n                });\n        }\n    }, [remixId]);\n\n    useEffect(() => {\n        if (window.TEST_REMIX_UPLOAD_FLAG) {\n            setTimeout(() => {\n                setRecordedRemix(\"@mmmmm\");\n            }, 5000);\n        }\n    }, []);\n    \n    const onRemixSigningCompleted = useCallback(() => {\n        clear();\n        setRecordedRemix(undefined);\n        setUploadingRemix(undefined);\n        if (playerRef.current) {\n            /*\n            playerRef.current.contentWindow.postMessage({\n                \"type\": \"jacker-stop\",\n                \"body\": \"jacker-stop\",\n            }, \"*\");\n            */\n        }\n    }, [setRecordedRemix, setUploadingRemix, clear]);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage, false);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, [setRecordedRemix, setUploadingRemix]);\n\n    const onMessage = useCallback(e => {\n        let data = e.data;\n        if (data.type === \"uploadingRecording\") {\n            if (playerRef.current) {\n                playerRef.current.contentWindow.postMessage({\n                    type: \"jacker-stop\",\n                    body: \"please\"\n                }, \"*\");\n            }\n            setUploadingRemix(true);\n        } else if (data.type == \"sporeRecorded\") {\n            let json = {\n                sliderChanges: data.body.sliderData,\n                modeChanges: data.body.modeData\n            };\n            ipfs.addJson(json).then(\n                hash => {\n                    setRecordedRemix({\n                        recordingHash: data.body.recording,\n                        dataHash: hash\n                    });\n                });\n        }\n    }, [setRecordedRemix, setUploadingRemix]);\n\n    return {recordedRemix, uploadingRemix, onRemixSigningCompleted, remixToPlay, setRemixToPlay};\n};\n","import React, { useRef, useState, useEffect } from 'react';\nimport {connect} from 'react-redux';\nimport {setPlayerRef} from 'actions/index.js';\nimport SimpleControls from './SimpleControls.js';\nimport {isMobile} from 'react-device-detect';\nimport SampleInfo from 'components/samples/SampleInfo.js';\nimport {useAccount} from 'wagmi';\nimport VideoShader from 'components/video/VideoShader.js';\nimport SporeRecorded from 'components/recording/SporeRecorded.js';\nimport { useSporeEmbed } from 'components/hooks/useSporeEmbed.js';\nimport { useSporeListener } from 'components/hooks/useSporeListener.js';\nimport SporeControls from 'components/nft-jacker/ShuffleButton.js';\nimport {useRemixListener} from 'components/hooks/useRemixListener';\nimport './spore-embed.scss';\n\nconst CID = 'QmWV7gqvBeXT9VVYEEL5J9oGEvQFDjYZZ4rgGYz9JDk3h7';\nconst DEFAULT_SPORE_URL = `https://zequencer.mypinata.cloud/ipfs/${CID}/?tokenId=40&gallery=true`;\n\nconst SporeEmbed = ({\n    simpleControls,\n    zorbId,\n    isFullScreen,\n    songTitle=\"\",\n    collectionAddress,\n    tokenId,\n    artist,\n    hideWaveform,\n    thumbnail,\n    setStems,\n    stems,\n    isWaveformRainbow,\n    url= 'https://zequencer.mypinata.cloud/ipfs/QmNejpqTsVw3W3872o85XhWiKVG6gUchVJTvS4uUj2fUrC',\n    innerControls,\n    hideControls,\n    children,\n    playerRef,\n    setPlayerRef,\n    isSimple,\n    color=\"white\",\n}) => {\n    const {data: account, isError, isLoading} = useAccount();\n    const ref = playerRef || useRef();\n\n    let {totalRemixes, recordedRemix, uploadingRemix, onRemixSigningCompleted, remixToPlay, setRemixToPlay} = useRemixListener(\n        () => [],\n        ref\n    );\n\n    const {loaded} = useSporeListener(ref);\n\n    useEffect(() => {\n        if (loaded && zorbId) {\n            /*\n            ref.current.contentWindow.postMessage({\n                body: zorbId,\n                type: \"zorb-id\"\n            }, \"*\");\n            */\n        }\n    }, [zorbId, loaded]);\n    useEffect(() => {\n        if (!loaded) {\n            return;\n        }\n        return;\n        setTimeout(() => {\n            ref.current.contentWindow.postMessage({\n                type: \"unlocked-loops\",\n                body: stems\n            }, \"*\");\n        }, 1000);\n    }, [stems, loaded]);\n\n    useEffect(() => {\n        setPlayerRef(ref);\n    }, []);\n\n    return (\n        <div\n          className=\"spore-embed-container\">\n          {children}\n          <SporeRecorded\n            uploadingRemix={uploadingRemix}\n            recordedRemix={recordedRemix}\n            collectionAddress={collectionAddress}\n            spTokenId={1}\n            onRemixSigningCompleted={onRemixSigningCompleted}\n            tokenId={tokenId}\n            playerRef={ref}/>\n          {thumbnail && <img src={thumbnail} className={\"cover-image\"}/>}\n          <div className={\"spore-embed-helper\"}>\n            {!hideControls && innerControls &&\n             <SporeControls\n               hideWaveform={hideWaveform}\n               innerControls={innerControls}\n               isWaveformRainbow={isWaveformRainbow}\n               buttonTextColor={color} playerRef={ref} />}\n            <div className=\"song-title\">\n              {songTitle}\n            </div>\n            <div className=\"song-artist\">\n              {artist}\n            </div>\n            {!isSimple && <div className=\"stems-unlocked\">\n              {Math.min(11, stems)} / 11 STEMS UNLOCKED\n              </div>}\n          </div>\n          <div className={\"flex w-full\"}>\n            <iframe\n              className={\"spore-embed z-20 mx-auto\"}\n              width={isFullScreen ? window.innerWidth : 340}\n              height={isFullScreen ? window.innerHeight : 400}\n              ref={ref}\n              src={url}\n            />\n            {/*simpleControls && <SimpleControls playerRef={ref}/>*/}\n        {!hideControls && !innerControls && <SporeControls\n              isWaveformRainbow={isWaveformRainbow}\n                                              hideWaveform={hideWaveform}\n                                              buttonTextColor={color} playerRef={ref} />}\n            {!isMobile && !hideWaveform && <SampleInfo playerRef={ref}/>}\n          </div>\n        </div>\n  )\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setPlayerRef: x => dispatch(setPlayerRef(x))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SporeEmbed);\n","import React, { useEffect, useCallback, useState} from 'react';\n\nexport const useSporeListener = (ref) => {\n    const [loaded, setLoaded] = useState(false);\n    useEffect(() => {\n        window.addEventListener(\"message\", onReceive, false);\n        return () => window.removeEventListener(\"message\", onReceive);\n    }, [setLoaded]);\n\n    const onReceive = useCallback((e) => {\n        /*\n        if (e.origin !== \"https://zequencer.mypinata.cloud\" && e.origin !== \"https://main.djdhx85izle40.amplifyapp.com/\") {\n            return;\n        }\n        */\n        if (e.data === \"Finished Loading Project\") {\n            // we are ready to send in the song via an iframe message\n            setLoaded(true);\n        }\n  \n    }, [setLoaded]);\n\n    return {loaded};\n};\n","\nimport VideoRecording from './VideoRecording.js';\nimport VideoContentShader from './VideoContentShader.js';\nimport React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {togglePlay} from './control.js';\nimport PlayButton from 'components/buttons/PlayButton.js';\nimport PlaybarContainer from './PlaybarContainer.js';\nimport {useVideoController} from './useVideoController.js';\nimport VideoShader from './VideoShader.js';\nimport {sleep} from 'utils/sleep.js';\nimport {isMobile} from 'react-device-detect';\nimport {vertexShader} from './blurred-shader/vertex.js';\nimport {fragmentShader} from './blurred-shader/fragment.js';\n\nimport SporeEmbed from 'components/player/SporeEmbed.js';\nimport './video.scss';\nimport './video-mobile.scss';\nimport '../nft-jacker/nft-jacker.scss';\nimport '../drops/drop.scss';\n\n\nimport {connect} from 'react-redux';\n\nlet PLAYER_CID = 'Qmd2UjeaJkoeF5uE3dmwKQv6VY3NoAzsZFRGFsRcaUoTn3';\nconst VideoJacker = ({\n    videoURL=\"https://zequencer.mypinata.cloud/ipfs/QmU6xYLumQ8TXiJXpNV3g5m5bwmeZDyigpagwdQ3b8wy7T\",\n    playerURL=`https://zequencer.mypinata.cloud/ipfs/${PLAYER_CID}/?tokenId=24&gallery=true`,\n    lightweight\n}) => { \n    let ref = useRef();\n    let canvasRef = useRef();\n    let playerRef = useRef();\n    let {started, rewind, fastForward, isPlaying, uniforms} = useVideoController({ref, playerRef});\n    let [showControls, setShowControls] = useState(false);\n\n    useEffect(() => {\n        if (!isMobile && started) {\n            setShowControls(true);\n        }\n    }, [started, setShowControls]);\n\n    useEffect(() => {\n        if (!isPlaying && started) {\n            setShowControls(true);\n        } else if (isPlaying && isMobile) {\n            setTimeout(() => {\n                setShowControls(false);\n            }, 1000);\n        }\n    }, [isPlaying, setShowControls, started]);\n\n    const togglePlayControls = useCallback(() => {\n        if (!isMobile) {\n            return;\n        }\n        setShowControls(!showControls);\n    }, [showControls, setShowControls]);\n\n    let className = \"drop nft-jacker jacked video-jacker\";\n    if (isMobile && !started) {\n        className += \" dark-setting\";\n    }\n    if (lightweight) {\n        className += \" lightweight\";\n    }\n    return (<div className={className}>\n              <SporeEmbed\n                hideWaveform={true}\n                isSimple={true}\n                playerRef={playerRef}\n                videoRef={ref}\n                innerControls={isMobile}\n                songTitle=\"VERIFIED FEAT. CHIIEF DIIN\" \n                artist=\"HALEEK MAUL\"\n                hideControls={true}\n                url={playerURL}>\n                {/*\n                isMobile && started && <VideoShader \n                               uniforms={uniforms}\n                  fragmentShader={fragmentShader}\n                  vertexShader={vertexShader}\n                  videoRef={ref}\n                  width={window.innerWidth}\n                  height={isMobile ? window.innerHeight*0.7 : window.innerHeight}\n                  />*/}\n              </SporeEmbed>\n              <div className=\"z-50 h-1/3 md:z-10 fixed md:h-full w-full flex items-center justify-center\">\n                {!lightweight && \n                <VideoContentShader\n                  canvasRef={canvasRef}\n                  started={started}\n                  videoRef={ref} uniforms={uniforms}/>}\n                <video\n                  preload=\"auto\"\n                  preLoad=\"auto\"\n                  onClick={togglePlayControls}\n                  className=\"absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full\"\n                  style={{opacity: lightweight ? 1.0 : 0.0}}\n                  crossorigin=\"\"\n                  ref={ref}\n                  muted\n                  playsInline\n                  src={videoURL}>\n                </video>\n                <PlaybarContainer videoRef={ref} playerRef={playerRef} started={started}/>\n              </div>\n              {showControls &&\n               <div className=\"play-controls z-50 absolute left-0 right-0 mx-auto w-4 md:w-28\">\n                 <img onClick={rewind} className=\"rew pushable\" src=\"/rewind-icon.svg\"/>\n                 <PlayButton isPlaying={isPlaying} play={() => togglePlay(playerRef)}/>\n                 <img onClick={fastForward} className=\"fwd pushable\" src=\"/fast-forward-icon.svg\"/>\n               </div>}\n              {/*started && <VideoRecording canvasRef={canvasRef} started={started}/>*/}\n           </div>\n           );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VideoJacker);\n","export const togglePlay = (playerRef) => {\n    playerRef.current.contentWindow.postMessage({\n        type: \"jacker-pause-toggle\",\n        body: true,\n    }, \"*\");\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './pitch.scss';\n\nconst NUM_PAGES = 3;\nconst Gen3Info = () => { \n    let [showPitch, setShowPitch] = useState(false);\n    let [page, setPage] = useState(1);\n    if (showPitch) {\n        return (\n            <div className=\"gen3-info\">\n              <div onClick={() => setShowPitch(false)} className=\"pushable exit-btn\">x</div>\n              <img\n                onClick={() => page < NUM_PAGES ? setPage(page+1) : 0}\n                className=\"pitch-deck-image\" src={`/spores-pitch-${page}.jpg`}/>\n              <div className=\"page-navigator\">\n                <div className={page > 1 ? \"prev-btn\" : \"prev-btn hide\"} onClick={() => setPage(page-1)}>\n                </div>\n                <div className=\"page-info\">\n                  {page} / 3\n                </div>\n                <div className={page < NUM_PAGES ? \"next-btn\" : \"hide next-btn\"} onClick={() => setPage(page+1)}>\n                </div>\n              </div>\n            </div>);\n    } else {\n        return (\n            <div onClick={() => setShowPitch(true)} className=\"gen3-btn pushable\">\n              <div className=\"gen3-text\">\n                Gen3 Vision \n              </div>\n            </div>\n        );\n    }\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Gen3Info);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {truncate} from 'components/spore/AudioPlayer.js';\nimport { useEnsName } from 'wagmi';\nimport './ens.scss';\n\nconst ENSName = ({address, className}) => { \n    const { data, isError, isLoading } = useEnsName({\n        address\n    });\n\n    if (isLoading) return '';\n\n    return (\n        <span className={\"ens-name \" + className}>\n          {data === null ? truncate(address) : data}\n        </span>);\n};\n\nexport default ENSName;\n","/*\n    This file is part of Universal Sequences.\n    Universal Sequences is free software: you can redistribute it and/or modif\n    it under the terms of the GNU General Public License as published by\n    the Free Software Foundation, either version 3 of the License, or\n    (at your option) any later version.\n\n    Universal Sequences is distributed in the hope that it will be useful,\n    but WITHOUT ANY WARRANTY; without even the implied warranty of\n    MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n    GNU General Public License for more details.\n\n    You should have received a copy of the GNU General Public License\n    along with this program.  If not, see <http://www.gnu.org/licenses/>.\n*/\n\n\nconst MIN_BRIGHTNESS = 170;\nconst brightCache = {};\nconst trackCache = {};\n\nclass Colors {\n    constructor() {\n    }\n\n    transparent(color, opacity) {\n        return color.slice(0, color.length-1) + ', ' + opacity + ')';\n    }\n\n    intToRGB(i){\n        var c = (i & 0x00FFFFFF)\n            .toString(16)\n            .toUpperCase();\n        \n        return \"#\" + \"00000\".substring(0, 6 - c.length) + c;\n    }\n\n    hueShift(c, shift) {\n        let {h, s, l} = getHSLFromString(c);\n        return getHSLString({h: h + shift, s, l});\n    }\n\n    warm(warmth, start=141, s=100) {\n        let h = start;\n        let l = 50;\n        return getHSLString({h: h - warmth, s, l});\n    }\n\n    compliment(c, rotate=2) {\n        let {h, s, l} = getHSLFromString(c);\n        if (h === 0) {\n            h++;\n        }\n        h += rotate*10 % 255;\n        let x = getHSLString({h, s, l});\n        return x;\n    }\n\n    saturate(c, factor, lightFactor=1, lightForce) {\n        if (!c) {\n            return undefined;\n        }\n        if (c.startsWith(\"hsl\")) {\n            let {h, s, l} = getHSLFromString(c);\n            l *= lightFactor;\n            if (lightForce) {\n                l = lightForce;\n            }\n            s = Math.min(s*factor, 100);\n            c = getHSLString({h, s, l});\n            return c;\n        } else {\n            let rgb = this.getRGB(c);\n            let {h, s, l} = RGBToHSL(rgb);\n            l *= lightFactor;\n            if (lightForce) {\n                l = lightForce;\n            }\n            s = Math.min(s*factor, 100);\n            c = getHSLString({h, s, l});\n            return c;\n        }\n    }\n\n    brighten(c, factor) {\n        if (c.startsWith(\"hsl\")) {\n            let hsl = getHSLFromString(c);\n            hsl = brightenHSL(hsl, factor);\n            return getHSLString(hsl);\n        }\n        let cacheResult = brightCache[(c + '.' + factor)];\n        if (cacheResult) {\n            return cacheResult;\n        }\n        let r = Math.min(255, Math.floor(parseInt(c.slice(1, 3), 16) * factor));\n        let g = Math.min(255, Math.floor(parseInt(c.slice(3, 5), 16) * factor));\n        let b = Math.min(255, Math.floor(parseInt(c.slice(5), 16) * factor));\n\n        r = r.toString(16);\n        g = g.toString(16);\n        b = b.toString(16);\n\n        if (r.length === 1) {\n            r = '0' + r;\n        }\n\n        if (g.length === 1) {\n            g = '0' + g;\n        }\n\n        if (b.length === 1) {\n            b = '0' + b;\n        }\n\n        let x = '#' + r + g + b;\n        brightCache[c + '.' + factor] = x;\n        return x;\n\n    }\n\n    getBrightness(c) {\n        let rgb = this.getRGB(c);\n\n        let color = 0.299*rgb.r + 0.587*rgb.g + 0.114*rgb.b;\n        return color;\n    }\n\n    rawHSLToHex({h,s,l}) {\n        return hslToHex(h,s,l);\n    }\n\n    hslToHex(color) {\n        let {h,s,l} = getHSLFromString(color);\n        return hslToHex(h,s,l);\n    }\n\n    getRGB(c) {\n        let r = Math.floor(parseInt(c.slice(1, 3), 16)); \n        let g = Math.floor(parseInt(c.slice(3, 5), 16));\n        let b = Math.floor(parseInt(c.slice(5), 16));\n        return {r:r, g:g, b:b};\n    }\n}\n\nfunction RGBToHSL({r,g,b}) {\n    // Make r, g, and b fractions of 1\n    r /= 255;\n    g /= 255;\n    b /= 255;\n\n    // Find greatest and smallest channel values\n    let cmin = Math.min(r,g,b),\n        cmax = Math.max(r,g,b),\n        delta = cmax - cmin,\n        h = 0,\n        s = 0,\n        l = 0;\n\n    if (delta == 0)\n        h = 0;\n    // Red is max\n    else if (cmax == r)\n        h = ((g - b) / delta) % 6;\n    // Green is max\n    else if (cmax == g)\n        h = (b - r) / delta + 2;\n    // Blue is max\n    else\n        h = (r - g) / delta + 4;\n\n    h = Math.round(h * 60);\n\n    // Make negative hues positive behind 360\n    if (h < 0)\n        h += 360;\n\n    // Calculate lightness\n    l = (cmax + cmin) / 2;\n\n    // Calculate saturation\n    s = delta == 0 ? 0 : delta / (1 - Math.abs(2 * l - 1));\n\n    // Multiply l and s by 100\n    s = +(s * 100).toFixed(1);\n    l = +(l * 100).toFixed(1);\n\n    return {h, s, l};\n}\n\nfunction getHSLString({h, s, l}) {\n    return \"hsl(\" + h + \",\" + s + \"%,\" + l +\"%)\";\n}\n\nfunction getHSLFromString(str) {\n    str = str.substring(4);\n    let [hPart, sPart, lPart] = str.split(\",\");\n    let index = sPart.indexOf(\"%\");\n    sPart = sPart.substring(0, index);\n    index = lPart.indexOf(\"%\");\n    lPart = lPart.substring(0, index);\n    return {\n        h: parseFloat(hPart),\n        s: parseFloat(sPart),\n        l: parseFloat(lPart),\n    };\n\n}\n\nfunction brightenHSL({h, s, l}, factor) {\n    return {\n        h,\n        s,\n        l: l* factor\n    };\n}\n\nfunction hslToHex(h, s, l) {\n  l /= 100;\n  const a = s * Math.min(l, 1 - l) / 100;\n  const f = n => {\n    const k = (n + h / 30) % 12;\n    const color = l - a * Math.max(Math.min(k - 3, 9 - k, 1), -1);\n    return Math.round(255 * color).toString(16).padStart(2, '0');   // convert to Hex and prefix \"0\" if needed\n  };\n  return `#${f(0)}${f(8)}${f(4)}`;\n}\n\n\n\nexport default Colors;\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Colors from 'components/Colors.js';\nimport Tone from 'tone';\nconst colors = new Colors();\nwindow.heatRoot = 1.1;\n//window.bucketSize = 4;\nwindow.bucketSize = 1;\nwindow.saturation = 80;\n\nconst SporeHeatMap = ({heat, width=54, height=10, center=false, saturation=200, duration}) => { \n    // lets start with slider data\n    if (!heat) {\n        return '';\n    }\n\n    // first process the heat\n    let bucketSize = width === 54 ? window.bucketSize*2 : window.bucketSize;\n    let buckets = getBuckets(heat, bucketSize);\n    let max = Math.max(...Object.values(buckets))*.75;\n    let maxStep = Math.max(...Object.keys(buckets));\n    /*\n    if (duration) {\n        let oldMaxStep = maxStep;\n        maxStep = (duration/new Tone.Time('32n'))/(bucketSize);\n        console.log(\"max step=%s old max step=%s dur=%s\", maxStep, oldMaxStep, duration);\n    }\n    */\n    return (\n        <svg className=\"heatmap\" width={width} height={10}>\n          {Object.keys(buckets).map(\n              step => <rect\n                        width={width > 80 ? 4 : 1}\n                        height={center ? height* Math.min(1, Math.pow(buckets[step], window.heatRoot)/max) : height}\n                        opacity={Math.min(1, Math.pow(buckets[step], window.heatRoot)/max)}\n                        fill={colors.warm(190*Math.min(1, Math.pow(buckets[step], window.heatRoot)/max), 190,\n                                          Math.min(1, Math.pow(buckets[step], window.heatRoot)/max)*saturation)}\n                        x={width*step/maxStep}\n                        y={center ? height/2 - height* Math.min(1, Math.pow(buckets[step], window.heatRoot)/max)/2 : 0}/>)}\n        </svg>);\n};\n\nconst getBuckets = (heat, bucketSize) => {\n    let sliderData = heat.sliderChanges;\n    let modeData = heat.modeChanges;\n    let regions = sliderData.map(x => Math.round((isNaN(x[0]) ? 0 : x[0]) / bucketSize));\n    let buckets = {};\n    for (let x of regions) {\n        if (!buckets[x]) {\n            buckets[x] = 0;\n        }\n        buckets[x]+=1;\n    }\n\n    regions = modeData.map(x => Math.round((isNaN(x[0]) ? 0 : x[0]) / bucketSize));\n    let max = Math.max(...Object.values(regions));\n    for (let x of regions) {\n        if (!buckets[x]) {\n            buckets[x] = 0;\n        }\n        buckets[x]+=16;\n        let q=0;\n        for (let i=x+1; i < max; i++) {\n            if (regions.some(x => x === i)) {\n                break;\n            }\n            if (!buckets[i]) {\n                buckets[i] = 0;\n            }\n            buckets[i] += (50+q);\n            q+=8;\n        }\n    }\n    return buckets;\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SporeHeatMap);\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport ENSName from 'components/ens/ENSName.js';\nimport UnknownProgressBar from 'components/progressbar/UnknownProgressBar.js';\nimport JollyRancherPlayer from './JollyRancherPlayer.js';\nimport {isMobile} from 'react-device-detect';\nimport SporeHeatMap from \"components/spore/SporeHeatMap.js\";\n\nimport {useInterval} from \"components/hooks/useInterval.js\";\nimport PlayButton from \"components/buttons/PlayButton.js\";\nimport {connect} from 'react-redux';\nimport Tone from 'tone';\n\nconst AudioPlayer = ({\n    songName=\"\",\n    artist=\"\",\n    heat,\n    externalURL,\n    creator,\n    audioUnit,\n    store,\n    spore,\n    preset,\n    setPreset,\n    sporeMetadata\n}) => { \n\n    let WIDTH=isMobile ? 230 : 500;\n    let ref = useRef();\n    let [playing, setPlaying] = useState(false);\n    let [playTime, setPlayTime] = useState(undefined);\n    let startPoint = useRef(0);\n    let [progress, setProgress] = useState(0);\n    let [mouseSeeker, setMouseSeeker] = useState();\n\n    useEffect(() => {\n        setPlaying(false);\n        setProgress(0);\n    }, [spore]);\n\n    useEffect(() => {\n        setPlaying(false);\n        setProgress(0);\n        setPlayTime(undefined);\n        startPoint.current = 0 ;\n    }, [spore, setPlaying, setProgress, setPlayTime]);\n\n    const onTick = useCallback(() => {\n        let diff = Tone.Master.context.currentTime - playTime;\n        if (playing) {\n            setProgress((diff + startPoint.current) / audioUnit.duration);\n        }\n    }, [playing, setProgress, playTime]);\n\n    useInterval(onTick, 40);\n\n    const onClickPlay = useCallback(() => {\n        if (playing) {\n            startPoint.current = startPoint.current + Tone.Master.context.currentTime - playTime;\n            audioUnit.stopSound();\n        } else {\n            audioUnit.playSound(startPoint.current);\n        }\n        setPlaying(!playing);\n        //setProgress(0);\n        setPlayTime(Tone.Master.context.currentTime);\n    }, [playing, setProgress, setPlaying, audioUnit, playTime]);\n\n    const mouseSeek = useCallback((e) => {\n        e.stopPropagation();\n        setMouseSeeker(undefined);\n        if (!playing) {\n            setPlaying(true);\n        }\n        let x = e.clientX - ref.current.getBoundingClientRect().left;\n        let percentage = x / WIDTH;\n        let startTime = percentage * audioUnit.duration;\n        audioUnit.playSound(startTime);\n        startPoint.current = startTime;\n        setPlayTime(Tone.Master.context.currentTime);\n        setMouseSeeker(x);\n        setTimeout(() => {\n            setMouseSeeker(undefined);\n        }, 300);\n    }, [playing, setPlaying, setPlayTime, setMouseSeeker, audioUnit]);\n\n    useEffect(() => {\n        return () => {\n            if (audioUnit) {\n                audioUnit.stopSound();\n            }\n        }\n    }, [audioUnit]);\n\n    progress = Math.min(100, progress);\n\n    return (\n        <div className={audioUnit ? \"audio-player\" : \"audio-player disabled\"}>\n          {audioUnit &&\n           <PlayButton isPlaying={playing}\n                       play={onClickPlay}/>}\n          <div\n            ref={ref}\n            onClick={mouseSeek}\n            className=\"play-time-and-slider\">\n            {!audioUnit && <div className=\"progress-container\">\n                           <UnknownProgressBar />\n                         </div>}\n            {sporeMetadata && <JollyRancherPlayer\n                        setPreset={setPreset}\n                                width={WIDTH}\n                        preset={preset}\n                        progress={progress}\n                        store={store}\n                        spore={sporeMetadata}\n                      />}\n           <div className=\"play-time\">\n              {audioUnit && <div className=\"time\">\n              {formatTime(progress*audioUnit.duration)} / {formatTime(audioUnit.duration)}\n                            </div>}\n              {creator && <div className=\"creator\">\n                            Remixed by <span className=\"wallet-address\"><a target=\"_blank\" href={\"https://etherscan.io/address/\"+creator}><ENSName address={creator}/></a></span>\n                          </div>}\n            </div>\n            <div className=\"song-title-and-author\">\n              <div className=\"song-title\">\n                {songName}\n              </div>\n              <div className=\"song-creator\">\n                Original by <span className=\"creator-name\"><a target=\"_blank\" href={externalURL}>{artist}</a></span>\n              </div>\n            </div>\n          </div>\n        </div>);\n}\n\nexport const truncate = (creator) => {\n    return creator.slice(0, 4) + '..' + creator.slice(-2);\n};\n\nconst formatTime = (time) => {\n    if (!time) {\n        time = 0;\n    }\n    let minutes = Math.floor(time/60);\n    let seconds = Math.floor(time - minutes * 60);\n    if (seconds < 10) {\n        seconds = '0' + seconds;\n    }\n\n    return `${minutes}:${seconds}`;\n\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\n            /*\n            <div\n              onClick={mouseSeek}\n              ref={ref} className=\"play-slider\">\n              {mouseSeeker && <div style={{left: mouseSeeker}} className=\"mouse-seeker\"/>}\n              <SporeHeatMap duration={audioUnit.duration} center={true} height={8} heat={heat} width={WIDTH}/>\n            <div\n              style={{width: WIDTH * progress}}\n              className=\"play-slider-inner\">\n            </div>\n            */\n \n\n/*\n\n\n*/\nexport default connect(mapStateToProps, mapDispatchToProps)(AudioPlayer);\n","import React, { useEffect, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {\n    EmailIcon,\n    EmailShareButton,\n    FacebookMessengerIcon,\n    FacebookMessengerShareButton,\n    RedditIcon,\n    RedditShareButton,\n    TelegramIcon,\n    TelegramShareButton,\n    TwitterIcon,\n    TwitterShareButton,\n    WhatsappIcon,\n    WhatsappShareButton,\n  } from \"react-share\";\n  import { BsShareFill } from 'react-icons/bs';\n  import { FaRegClipboard } from 'react-icons/fa';\nimport { isMobile } from 'react-device-detect';\n\nconst ShareButton = ({url, setShowModal, showShareModal, type, lowerGradInverted, buttonBgColor}) => {\n    const [isCopied, setIsCopied] = useState(false);  \n    const shareUrl = url;\n    const title = \"Check out this song on Spores!\";\n\n    function copyText() {\n        {navigator.clipboard.writeText(url)};\n        setIsCopied(true);\n    }\n\n    return (\n        <>\n          <div className='share-button pushable' onClick={(e) => {\n              e.stopPropagation();\n              setShowModal(true);\n          }}>\n                <BsShareFill style={{fill: isMobile ? lowerGradInverted : buttonBgColor}}/>\n            </div>\n            {showShareModal && <div className='share-button-modal'>\n                <div className='share-upper-container'>\n                    <div><p>{type === \"remix\" ? \"Share Remix\" : \"Share Song\"}</p></div>\n                    <div onClick={() => setShowModal(false)} className=\"share-close-button\">x</div>\n                </div>\n                <div className='share-url-field'>\n                    <p>{url}</p>\n                    <FaRegClipboard className=\"pushable\" style={{color: isCopied ? \"#84ff98\" : \"white\", cursor: \"pointer\"}} onClick={copyText}/>\n                </div>\n                <div className='share-icon-container'>\n                    <div className='sharing-icon pushable'>\n                        <TwitterShareButton\n                            url={shareUrl}\n                            title={title}>\n                            <TwitterIcon size={32} round/>\n                        </TwitterShareButton>\n                    </div>\n                    <div className='sharing-icon pushable'>\n                        <FacebookMessengerShareButton\n                            url={shareUrl}\n                            quote={title}>\n                            <FacebookMessengerIcon size={32} round/>\n                        </FacebookMessengerShareButton>\n                    </div>\n                    <div className='sharing-icon pushable'>\n                        <RedditShareButton\n                            url={shareUrl}\n                            title={title}>\n                            <RedditIcon size={32} round/>\n                        </RedditShareButton>\n                    </div>\n                    <div className='sharing-icon pushable'>\n                        <TelegramShareButton\n                            url={shareUrl}\n                            title={title}>\n                            <TelegramIcon size={32} round/>\n                        </TelegramShareButton>\n                    </div>\n                    <div className='sharing-icon pushable'>\n                        <WhatsappShareButton\n                            url={shareUrl}\n                            title={title}\n                            separator=\":: \">\n                            <WhatsappIcon size={32} round/>\n                        </WhatsappShareButton>\n                    </div>\n                    <div className='sharing-icon pushable'>\n                        <EmailShareButton\n                            url={shareUrl}\n                            subject={title}>\n                            <EmailIcon size={32} round/>\n                        </EmailShareButton>\n                    </div>\n                </div>\n            </div>}\n            \n        </>\n    )\n  }\n\n  const mapStateToProps = (state, props) => {\n    return {\n    };\n  };\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n    };\n  };\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(ShareButton);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {useAudioPlayer} from 'components/hooks/useAudioPlayer.js';\nimport AudioPlayer from 'components/spore/AudioPlayer.js';\nimport {connect} from 'react-redux';\nimport './player.scss';\nimport ShareButton from '../nft-jacker/ShareButton';\n\nconst RemixPlayer = ({remix, setRemix, songName, artist, externalURL, shareLink}) => { \n    let {audioPlayer, dispose} = useAudioPlayer(remix.sporeHash);\n    return (\n        <div className=\"remix-player\">\n          <div className=\"pushable close-button\" onClick={() => setRemix(undefined)}>x</div>\n          <ShareButton\n            url={shareLink || (\"spores.vision/play/\" + remix.collectionAddress + \"/\" + remix.tokenId + \"/\" + remix.sporeId)}\n            type={\"remix\"}/>\n          <AudioPlayer\n            externalURL={externalURL}\n            artist={artist}\n            songName={songName}\n            creator={remix.creator}\n            audioUnit={audioPlayer}\n            spore={remix}\n            sporeMetadata={remix} />\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RemixPlayer);\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {getSporeRemixes} from 'spores/getSporeRemixes.js';\nimport {getSporeHashIcon} from 'spores/getSporeHashIcon.js';\nimport hashAvatar from 'hash-avatar';\nimport svgToTinyDataUri from 'mini-svg-data-uri';\nimport ENSName from 'components/ens/ENSName.js';\nimport {connect} from 'react-redux';\nimport { isMobile } from 'react-device-detect';\nimport './remixlist.scss'\n\nconst RemixList = ({\n    creatorsToIgnore=[],\n    spTokenId,\n    setRemixToPlay,\n    remixToPlay,\n    collectionAddress,\n    tokenId,\n    clear\n}) => {\n    let [remixData, setRemixData] = useState([]);\n    const [noRemixes, setNoRemixes] = useState();\n\n    useEffect(() => {\n        if (collectionAddress && tokenId) {\n            getSporeRemixes(collectionAddress, tokenId)\n                .then(result => {\n                    result = result.filter(x => !creatorsToIgnore.includes(x.creator));\n                    setRemixData(result);\n                    setNoRemixes(result.length === 0 ? true : false);\n                });\n        }\n    }, [setRemixData, collectionAddress, tokenId]);\n\n    return (\n        <div className='remix-list-container'>\n            {isMobile && <div className='remix-close-button-container'><div className=\"pushable close-button\" onClick={() => clear()}>x</div></div>}\n            {noRemixes && <div className='no-remix-div'>No remixes have been made for this song yet. You could be the first...</div>}\n            {remixData.map(x => \n                <RemixListItem\n                  spTokenId={spTokenId}\n                  isPlaying={x === remixToPlay}\n                  setRemixToPlay={setRemixToPlay}\n                  clear={clear}\n                  data={x}/>\n            )}\n        </div>\n        );\n};\n\nexport const RemixListItem = ({clear, isPlaying, data, setRemixToPlay, spTokenId}) => {\n    let hashedIcon = svgToTinyDataUri(getSporeHashIcon(data.sporeHash, {size: 60}));\n    let className = \"remix-list-item-container pushable\";\n    if (isPlaying) {\n        className += \" playing\";\n    }\n    return(\n        <div\n          onClick={() => {\n              setRemixToPlay(data);\n              if (isMobile) {\n                  clear();\n              }\n          }}\n          className={className}>\n            <div className='remix-icon' style={{backgroundImage: 'url(\"' + hashedIcon + '\")'}}></div>\n            <div className='remix-info-container'>\n              {!data.sporeId ? <div className='remix-number'>Remix (Pending)</div>\n               : <div className='remix-number'>Remix #{data.sporeId}</div>}\n              <div className='remix-created-on'>Mixed on {spTokenId ? spTokenId : \"SP-\" + data.spTokenId}</div>\n              <div className='remix-address'>By {data.sporeId ? <ENSName address={data.creator}/> : \"You\"}</div>\n            </div>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n    return {\n    };\n  };\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n    };\n  };\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(RemixList);\n","import color from \"tinycolor2\"\nimport hash from \"string-hash\"\n\nexport const getSporeHashIcon = (uid, {size}) => {\n    const n = hash(uid)\n    const c1 = color({ h: n % 360, s: 0.95, l: 0.5 })\n    const c1_ = c1.toHexString()\n    const c2 = c1.triad()[1].toHexString()\n\n    return `<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n    <svg width=\"${size}px\" height=\"${size}px\" viewBox=\"0 0 61 61\" version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\">\n      <defs>\n      <circle cx=\"30.658\" cy=\"30.9537\" r=\"30\" fill=\"url(#paint0_radial_151_38)\" fill-opacity=\"0.58\"/>\n      <radialGradient id=\"paint0_radial_151_38\" cx=\"0\" cy=\"0\" r=\"1\" gradientUnits=\"userSpaceOnUse\" gradientTransform=\"translate(30.658 30.9537) rotate(90) scale(30)\">\n            <stop stop-color=\"${c1_}\"/>\n            <stop offset=\"1\" stop-color=\"${c2}\" stop-opacity=\"0\"/>\n        </radialGradient>\n      </defs>\n      <g id=\"Page-1\" stroke=\"none\" stroke-width=\"1\" fill=\"none\" fill-rule=\"evenodd\">\n        <rect id=\"Rectangle\" fill=\"url(#paint0_radial_151_38)\" x=\"0\" y=\"0\" width=\"80\" height=\"80\"></rect>\n      </g>\n    </svg>`\n}","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './glossary.scss';\n\nconst Glossary = (props) => { \n  return (\n          <div className=\"glossary-items\">\n            <div\n              className=\"helper-item item-1\">\n              <p className=\"glossary-number\">\n                1\n              </p>\n              <p className=\"glossary-term\">\n                CHANGE MODE\n              </p>\n              <p className=\"glossary-definition\">\n                PRESS TO SWITCH TO LOOP MODE, ALLOWING YOU TO LOOP THE TRACK AND ACCESS SECONDARY SLIDERS*.\n              </p>\n            </div>\n            <div\n              className=\"helper-item item-2\">\n              <p className=\"glossary-number\">\n                2\n              </p>\n              <p className=\"glossary-term\">\n                JUICE / LOOP*\n              </p>\n              <p className=\"glossary-definition\">\n                ADJUST THE AMOUNT OF \"JUICE\", THAT THE EXTERNAL LOOP CONTRIBUTES, OR LOOP A SECTION OF THE TRACK.\n              </p>\n            </div>\n            <div\n              className=\"helper-item item-3\">\n              <p className=\"glossary-number\">\n                3\n              </p>\n              <p className=\"glossary-term\">\n                PITCH UP / PITCH DOWN*\n              </p>\n              <p className=\"glossary-definition\">\n                SLIDE TO RAISE THE PITCH AND SPEED UP, OR LOWER THE PITCH AND SLOW DOWN THE TRACK.\n              </p>\n            </div>\n            <div className=\"helper-item item-4\">\n              <p className=\"glossary-number\">\n                4\n              </p>\n              <p className=\"glossary-term\">\n                STUTTER / SPACE*\n              </p>\n              <p className=\"glossary-definition\">\n                CONTROL STUTTERING WHICH REPEATS THE TRACK OR ADD VASTNESS TO IT WITH SPACE.\n              </p>\n            </div>\n            <div className=\"helper-item item-5\">\n              <p className=\"glossary-number\">\n                5\n              </p>\n              <p className=\"glossary-term\">\n                ACOUSTIFY / GATE*\n              </p>\n              <p className=\"glossary-definition\">\n                RAISE THE GUITAR LEVELS OR CONTROL THE GATE EFFECT AT DIFFERENT RATES.\n              </p>\n            </div>\n            <div className=\"helper-item item-6\">\n              <p className=\"glossary-number\">\n                6\n              </p>\n              <p className=\"glossary-term\">\n                CHANGE LOOP\n              </p>\n              <p className=\"glossary-definition\">\n                SWITCH TO THE NEXT LOOP TO INTERWEAVE INTO THE TRACK.\n              </p>\n            </div>\n          </div>);\n \n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Glossary);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {getSporeRemixes} from 'spores/getSporeRemixes.js';\nimport RemixPlayer from 'components/remix/RemixPlayer.js';\nimport RemixList from '../remix/RemixList.js';\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport BuyPlayerFlow from 'components/buy/BuyPlayerFlow.js';\nimport Glossary from './Glossary.js';\nimport {connect} from 'react-redux';\nimport SporeEmbed from 'components/player/SporeEmbed.js';\nimport '../nft-jacker/nft-jacker.scss';\nimport './drop.scss';\n\nconst CREATORS_TO_IGNORE = [\"0xdc94060e37dcb8816188508536595019c8f0c98a\", \"0x0fb5e3b3f254cbdccd69d31bcb0e92b83d381a0a\"];\nconst Drop = ({simpleControls, zorbId, url, className, color, hideWaveform, collectionAddress, isSimple, thumbnail, tokenId, askPrice=\"2\", songTitle, artist, isFullScreen, children}) => { \n    const [buying, setBuying] = useState(false);\n    const [stems, setStems] = useState(3);\n    const [remixToPlay, setRemixToPlay] = useState();\n\n    useEffect(() => {\n        getSporeRemixes(collectionAddress, tokenId).then(\n            s => {\n                s = s.filter(x => !CREATORS_TO_IGNORE.includes(x.creator))\n                let remixes = Math.max(0, s.length-1);\n                setStems(3 + remixes);\n            });\n    }, []);\n\n    return (\n        <div className={className ? \"drop nft-jacker jacked \" + className : \"drop nft-jacker jacked\"}>\n          {remixToPlay && <div className=\"remix-backdrop\"><RemixPlayer artist={artist} songName={songTitle} setRemix={setRemixToPlay} remix={remixToPlay}/></div>}\n          {buying && <BuyPlayerFlow\n                       name=\"SPX-1\"\n                       askPrice={askPrice} tokenId={1} thumbnail=\"/inmysoul-cover.jpeg\" setBuying={setBuying}/>}\n          <div className=\"connect-button-wrapper drop-top\">\n            <ConnectButton\n              accountStatus=\"address\" \n              showBalance={{ smallScreen: false, largeScreen: false }}\n              label=\"Connect Wallet\"\n            />\n          </div>\n          <SporeEmbed\n            zorbId={zorbId}\n            simpleControls={simpleControls}\n            collectionAddress={collectionAddress}\n            color={color}\n            isFullScreen={isFullScreen}\n            isSimple={isSimple}\n            tokenId={tokenId}\n            stems={stems}\n            isWaveformRainbow={false}\n            songTitle={songTitle}\n            hideWaveform={hideWaveform}\n            thumbnail={thumbnail} \n            artist={artist}\n            url={url}\n          />\n          <div className=\"drop-description\">\n            {children}\n            {/* <div className=\"buy-button\">\n              <div className=\"action\">\n                <a target=\"_blank\" href={`https://zora.co/collections/${collectionAddress}/${tokenId}`}>BID ON ZORA </a>\n              </div>\n              <div className=\"asking-price\">\n                <div className=\"price-label\">RESERVE</div>\n                <div className=\"price\">{askPrice} ETH</div>\n              </div>\n            </div> */}\n            {<RemixList\n              spTokenId=\"SP - IN MY SOUL\"\n              remixToPlay={remixToPlay}\n              setRemixToPlay={setRemixToPlay}\n              creatorsToIgnore={CREATORS_TO_IGNORE}\n              collectionAddress={collectionAddress}\n              tokenId={tokenId}\n                            clear={() => []}/>}\n            {!isSimple && <div className=\"drop-features\">\n              LISTEN. PLAY. JUICE. PITCH UP. GATE. WOBBLE. STUTTER. LOOP. SPACE. PITCH DOWN. REMIX.\n                          </div>}\n        {!isSimple && <div className=\"spore-overview\">\n              <div className=\"overview-header\">\n                SPORE OVERVIEW\n              </div>\n              <img src=\"/spore.svg\" className=\"spore-overview-image\"/>\n                      </div>}\n            {!isSimple && <Glossary/>}\n         </div>\n       </div>);\n};\n\nexport default Drop;\n","\nimport Gen3Info from './Gen3Info.js';\nimport React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Drop from './Drop.js';\nimport './thugger.scss';\nimport './nextgen.scss';\n\n//const CID = \"QmWEEvyNZmr3kngUjE8TNRRC5FmnXZLC1TdQk87UYe1cQL\";\nconst CID = \"QmbtfXrV8ZUxM5PweH5EZKnpawpBDQsPHvn4Fk9rXzM3Vg\";\n\nconst Thugger = (props) => { \n    let [entered, setEntered] = useState(false);\n    let [remove, setRemove] = useState(false);\n\n    useEffect(() => {\n        if (entered) {\n            setTimeout(() => {\n                setRemove(true);\n            }, 1000);\n        }\n    }, [entered, setRemove]);\n\n    return (\n        <div className=\"next-gen\">\n          {!remove && <div className={!entered ? \"enter-overlay\" : \"enter-overlay hide\"}>\n                        <div\n                          onClick={() => setEntered(true)}\n                          className=\"inner-overlay\">\n                          <img\n                            className=\"\"\n                            src=\"/spore-logo-future2.jpeg\"/>\n                          <div className=\"click-text\">\n                            Click to Enter\n                          </div>\n                        </div>\n                      </div>}\n          {remove && <Gen3Info/>}\n        <Drop\n          hideWaveform={true}\n          color=\"black\"\n          url={`https://zequencer.mypinata.cloud/ipfs/${CID}/?tokenId=32&gallery=true`}\n          collectionAddress=\"0x0000000000000000000000000000000000000001\"\n          isFullScreen={true}\n          tokenId={1}\n          className=\"thugger\"\n          artist=\"Young Thug\"\n          isSimple={true}\n          songTitle=\"Hop Out Ft. Wiz Kalifa\">\n          {/*\n         <p className=\"tagline-p\">\n           Spores grows strains of songs and media.\n         </p>\n         <p className=\"tagline-p\">\n           Season 1\n         </p>\n           */}\n       </Drop>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Thugger);\n","export const VOCALS = 0;\nexport const INSTRUMENTS = 1;\nexport const DRUMS = 2;\nexport const BASS = 3;\nexport const GUITARS = 4;\n\nexport const TYPE_TO_NAME = {\n    0: \"Vocals\",\n    1: \"Instruments\",\n    2: \"Drums\",\n    3: \"Bass\",\n    4: \"Guitars\",\n};\n","\n/**\n * contains the abi and contract address\n*/\n\nclass StemsContract {\n\n    constructor() {\n        this.abi = [\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"songId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"configId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewDefaultSongConfiguration\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"title\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"artist\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string[]\",\n\t\t\t\t\"name\": \"stemURIs\",\n\t\t\t\t\"type\": \"string[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"enum Songs.StemType[][]\",\n\t\t\t\t\"name\": \"stemTypes\",\n\t\t\t\t\"type\": \"uint8[][]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool[]\",\n\t\t\t\t\"name\": \"isLoops\",\n\t\t\t\t\"type\": \"bool[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint16[]\",\n\t\t\t\t\"name\": \"durations\",\n\t\t\t\t\"type\": \"uint16[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"int16\",\n\t\t\t\t\"name\": \"bpm\",\n\t\t\t\t\"type\": \"int16\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"int16\",\n\t\t\t\t\"name\": \"bpmDecimal\",\n\t\t\t\t\"type\": \"int16\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"key\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"newSong\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"songId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"name\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"artist\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"int16\",\n\t\t\t\t\"name\": \"bpm\",\n\t\t\t\t\"type\": \"int16\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"int16\",\n\t\t\t\t\"name\": \"bpmDecimal\",\n\t\t\t\t\"type\": \"int16\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"key\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewSong\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"songId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"stemId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"uri\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint16\",\n\t\t\t\t\"name\": \"duration\",\n\t\t\t\t\"type\": \"uint16\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"isLoop\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewStem\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"songId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string[]\",\n\t\t\t\t\"name\": \"stemURIs\",\n\t\t\t\t\"type\": \"string[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"enum Songs.StemType[][]\",\n\t\t\t\t\"name\": \"stemTypes\",\n\t\t\t\t\"type\": \"uint8[][]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint16[]\",\n\t\t\t\t\"name\": \"durations\",\n\t\t\t\t\"type\": \"uint16[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool[]\",\n\t\t\t\t\"name\": \"isLoops\",\n\t\t\t\t\"type\": \"bool[]\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"newStems\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"stemId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"enum Songs.StemType\",\n\t\t\t\t\"name\": \"stemType\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewStemType\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"configId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"stemId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"SongConfigurationStem\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"songId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256[]\",\n\t\t\t\t\"name\": \"stemIds\",\n\t\t\t\t\"type\": \"uint256[]\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"updateSongConfiguration\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"songId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getDefaultSongConfiguration\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"songId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getSong\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"components\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\t\t\"name\": \"name\",\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\t\t\"name\": \"artist\",\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"int16\",\n\t\t\t\t\t\t\"name\": \"bpm\",\n\t\t\t\t\t\t\"type\": \"int16\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"int16\",\n\t\t\t\t\t\t\"name\": \"bpmDecimal\",\n\t\t\t\t\t\t\"type\": \"int16\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\t\t\"name\": \"key\",\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"internalType\": \"struct Songs.Song\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"tuple\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"configId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getSongConfiguration\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256[]\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint256[]\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"stemId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getStem\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"components\": [\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\t\t\"name\": \"uri\",\n\t\t\t\t\t\t\"type\": \"string\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"uint16\",\n\t\t\t\t\t\t\"name\": \"duration\",\n\t\t\t\t\t\t\"type\": \"uint16\"\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\t\t\"name\": \"isLoop\",\n\t\t\t\t\t\t\"type\": \"bool\"\n\t\t\t\t\t}\n\t\t\t\t],\n\t\t\t\t\"internalType\": \"struct Songs.Stem\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"tuple\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"stemId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"getStemTypes\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"enum Songs.StemType[]\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"uint8[]\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"view\",\n\t\t\"type\": \"function\"\n\t}\n        ];\n\n        this.contractAddress = \"0xBEEF8B1A18B376A82D87d1797359A7aDF09f3dCc\";\n    }\n\n    getContract(web3) {\n        return new web3.eth.Contract(this.abi, this.contractAddress);\n    }\n}\n\nexport default StemsContract;\n","import BackendQuery from \"decentralized/BackendQuery.js\";\nimport {TYPE_TO_NAME} from \"constants/stem-types.js\";\nimport {\n    NewSong,\n    NewStem,\n    NewDefaultSongConfiguration,\n    SongConfigurationStem,\n    NewStemType} from 'decentralized/EthereumEvents.js';\nimport StemsContract from \"decentralized/contracts/StemsContract.js\";\nlet contract = new StemsContract().contractAddress;\n\nlet cached = undefined;\nexport const getSongs = async (songIds) => {\n    if (!songIds && cached) {\n        return cached;\n    }\n    let query = new BackendQuery(contract)\n        .from(NewSong);\n\n    if (songIds) {\n        query.whereIn(\"songId\", songIds);\n    }\n    let songs = await query.executeQuery();\n    let defaultStems = await getDefaultStems(songs.map(x => x.songId));\n    let _songs = [];\n    for (let song of songs) {\n        // grab stems\n        let songId = song.songId;\n        let query = new BackendQuery(contract)\n            .from(NewStem)\n            .where('songId', songId);\n        let stems = await query.executeQuery(true,true);\n        let found = false;\n        for (let _s of _songs) {\n            if (_s.songId === songId) {\n                found = true;\n                break;\n            }\n        }\n        if (found) {\n            continue;\n        }\n        let stemIds = stems.map(x => x.stemId);\n        let typesQuery = new BackendQuery(contract)\n            .from(NewStemType)\n            .whereIn('stemId', stemIds);\n\n        let songDefaultStems = defaultStems[songId];\n        let types = await typesQuery.executeQuery(true,true);\n        let _stems = [];\n        for (let stem of stems) {\n            if (_stems.some(x => x.stemId === stem.stemId)) {\n                continue;\n           }\n            if (songDefaultStems) {\n                stem.isDefaultStem = songDefaultStems.includes(stem.stemId);\n            } else {\n                stem.isDefaultStem = false;\n            }\n            let _types = types.filter(x => x.stemId === stem.stemId);\n            stem.stemTypes = _types.map(x => x.stemType);\n            stem.prettyStemTypes = _types.map(x => TYPE_TO_NAME[x.stemType]);\n            _stems.push(stem);\n        }\n\n        song.stems = _stems;\n        _songs.push(song);\n    }\n    cached = _songs;\n    return _songs;\n};\n\nconst getDefaultStems = async () => {\n    let query = new BackendQuery(contract)\n        .from(NewDefaultSongConfiguration);\n\n    let results = await query.executeQuery(true,true);\n\n    let songIds = new Set();\n    let configIdToSongId = {};\n    for (let result of results) {\n        // we want the latest configs, they are orded by newest -- so\n        // skip if exists\n        if (!songIds.has(result.songId)) {\n            configIdToSongId[result.configId] = result.songId;\n        }\n        songIds.add(result.songId);\n    }\n\n    // now we got the configs so lets grab the stems per config\n    let configIds = Object.keys(configIdToSongId);\n    configIds = configIds.map(x => parseInt(x));\n    let stemsQuery = new BackendQuery(contract)\n        .from(SongConfigurationStem)\n        .whereIn('configId', configIds);\n\n    let stemResults = await stemsQuery.executeQuery(true,true);\n\n    let songToStems = {};\n    for (let result of stemResults) {\n        let songId = configIdToSongId[result.configId];\n        if (!songToStems[songId]) {\n            songToStems[songId] = [];\n        }\n        songToStems[songId].push(result.stemId);\n    }\n\n    return songToStems;\n};\n\n\nexport const getAllStems = async () => {\n    let query = new BackendQuery(contract)\n        .from(NewStem);\n\n    let results = await query.executeQuery(true,true);\n\n    let allStems = results.map(x => x.uri.slice(\"ipfs://\".length));\n    return allStems;\n};\n","export const STEMS_CONTRACT = \"0xBEEF8B1A18B376A82D87d1797359A7aDF09f3dCc\";\n","import {ZporeDropCreated} from 'decentralized/EthereumEvents.js';\nimport BackendQuery from 'decentralized/BackendQuery.js';\nimport {STEMS_CONTRACT} from 'stems/contract.js';\n\nexport const getDropAddress = async (songId) => {\n    let query = new BackendQuery(STEMS_CONTRACT)\n        .from(ZporeDropCreated)\n        .select(\"dropAddress\")\n        .select(\"songId\");\n\n    if (songId !== undefined) {\n        query = query.where(\"songId\", parseInt(songId));\n    }\n    let results = await query.executeQuery();\n    if (songId  !== undefined) {\n        return results[0].dropAddress;\n    } else {\n        return results;\n    }\n};\n","import {NewStem} from 'decentralized/EthereumEvents.js';\nimport {NewStemType, NewSong, SongAttribute} from 'decentralized/EthereumEvents.js';\nimport BackendQuery from 'decentralized/BackendQuery.js';\nimport {STEMS_CONTRACT} from './contract.js';\n\nexport const fetchSongMetadata = async (songId) => {\n   let query = new BackendQuery(STEMS_CONTRACT)\n        .from(NewSong)\n        .select(\"title\")\n       .select(\"artist\")\n    if (songId !== undefined) {\n        query = query.where('songId', parseInt(songId));\n    }\n\n    let results = await query.executeQuery(true, true);\n\n    if (songId !== undefined) { \n        let songIds = [{songId: parseInt(songId)}];\n        let attributes = await getAttributesForSongs(songIds);\n        results[0].attributes = attributes[songId];\n        return results[0];\n    } else {\n        let attributes = await getAttributesForSongs();\n        results.forEach(x => x.attributes = attributes[x.songId]);\n        return results;\n    }\n};\nexport const getSongTitle = async (songId) => {\n    return (await fetchSongMetadata(songId)) || {title: \"unreleased\", artist: \"yo\"};;\n}\n\nconst S3_BASE = \"https://spores-stems.s3.us-east-2.amazonaws.com/\"\nexport const fetchStemIds = async (object) => {\n    let ipfsHashes = Array.from(new Set([\n        ...object.synths.map(x => \"ipfs://\" + x[1].slice(S3_BASE.length)),\n        ...object.drums.map(x => \"ipfs://\" + x[1].slice(S3_BASE.length))\n    ]));\n    let query = new BackendQuery(STEMS_CONTRACT)\n        .from(NewStem)\n        .select(\"stemId\")\n        .whereIn(\"uri\", ipfsHashes);\n\n    let results = await query.executeQuery();\n    let ipfsToStemId = {};\n    for (let result of results) {\n        ipfsToStemId[S3_BASE + result.uri.slice(\"ipfs://\".length)] = result.stemId;\n    }\n    return ipfsToStemId;\n};\n\nexport const computeStemsData = (object, ipfsToStemId, duration, startTime, endTime) => {\n    // now we need to determine the percentages\n    let synthPercentages = computeForType(ipfsToStemId, object.synths, duration, startTime, endTime);\n    let drumPercentages = computeForType(ipfsToStemId, object.drums, duration, startTime, endTime);\n    let remixPercentages = computeForType(undefined, object.remixes, duration, startTime, endTime);\n    let percentages = {\n        ...synthPercentages,\n        ...drumPercentages\n    };\n\n    delete percentages[undefined];\n\n    let stemIds = Object.keys(percentages).map(x => parseInt(x));\n    let stemPercentages = Object.values(percentages).map(Math.round);\n    let data = {\n        stemIds,\n        percentages: stemPercentages,\n        remixPercentages\n    };\n    return data;\n};\n\nconst computeForType = (ipfsToStemId, history, duration, startTime, endTime) => {\n    let totalTime = duration; //history[history.length - 1][2];\n    if (history.length === 0) {\n        return {};\n    }\n    let lastTime = Math.max(history[0][2], startTime);\n    let stemToTime = {};\n    let lastIpfsHash = history[0][1];\n\n    for (let [step, ipfsHash, time] of [... history.slice(1), [0, 0, endTime]]) {\n        let stemId = ipfsToStemId ? ipfsToStemId[lastIpfsHash || ipfsHash] : lastIpfsHash || ipfsHash;\n        lastIpfsHash = ipfsHash;\n        let _lastTime = lastTime || 0;\n        let timeChunk = time - _lastTime;\n        lastTime = time;\n        if (!stemToTime[stemId]) {\n            stemToTime[stemId] = 0;\n        }\n        stemToTime[stemId] += timeChunk;\n    }\n\n\n    let stemToPercentage = {};\n    for (let stemId in stemToTime) {\n        if (stemId !== undefined) {\n            stemToPercentage[stemId] = 100*stemToTime[stemId]/totalTime;\n        }\n    }\n\n    return stemToPercentage;\n};\n\nconst getAttributesForSongs = async (songs) => {\n    let query = new BackendQuery(STEMS_CONTRACT)\n        .from(SongAttribute);\n    if (songs) {\n        let songIds = songs.map(x => x.songId);\n        query = query.whereIn(\"songId\", songIds);\n    }\n\n    let results = await query.executeQuery(true, true);\n    let songToAttributes = {};\n    for (let result of results) {\n        let {songId, attributeType, attributeValue} = result;\n        if (attributeValue === '\\x01') {\n            attributeValue = true;\n        } else if (attributeValue === '\\x00') {\n            attributeValue = false;\n        } else if (attributeValue === null) {\n            attributeValue = false;\n        }\n        if (!songToAttributes[songId]) {\n            songToAttributes[songId] = {};\n        }\n        if (songToAttributes[songId][attributeType]) {\n            // skip if it exists\n            continue;\n        } \n        songToAttributes[songId][attributeType] = attributeValue;\n    }\n    return songToAttributes;\n};\n\n\nexport const getStemFromURI = async (uri) => {\n    let base = \"https://spores-stems.s3.us-east-2.amazonaws.com/\";\n    uri = \"ipfs://\" + uri.slice(base.length);\n\n    let query = new BackendQuery(STEMS_CONTRACT)\n        .from(NewStem)\n        .where('uri', uri);\n\n    let results = await query.executeQuery();\n    let {songId, stemId} = results[0];\n\n    let typeQuery = new BackendQuery(STEMS_CONTRACT)\n        .from(NewStemType)\n        .where('stemId', stemId);\n\n    let typeResults = await typeQuery.executeQuery();\n\n    let types = typeResults.map(x => x.stemType);\n\n    let songQuery = new BackendQuery(STEMS_CONTRACT)\n        .from(NewSong)\n        .where('songId', songId);\n\n    let songResults = await songQuery.executeQuery();\n    let {artist, title}= songResults[0];\n    let ret = {\n        stemId,\n        artist,\n        title,\n        types\n    };\n    return ret;\n};\n","import React, { useEffect, useRef, useCallback, useState} from 'react';\nimport {TYPE_TO_NAME} from 'constants/stem-types.js';\nimport {getStemFromURI} from 'stems/getStems.js';\nimport {connect} from 'react-redux';\nimport './tooltip.scss';\n\nlet cache = {};\nconst ZorbSampleTooltip = ({tooltip, setTooltip}) => { \n    let timer = useRef();\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, [setTooltip]);\n\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"sample-engaged\") {\n            let uri = e.data.body;\n            setTooltip(undefined);\n            clearTimeout(timer.current);\n            if (cache[uri]) {\n                setTooltip(cache[uri]);\n            } else {\n                getStemFromURI(uri).then((e) => {\n                    cache[uri] = e;\n                    setTooltip(e);\n                });\n            }\n            timer.current = setTimeout(() => {\n                setTooltip(undefined);\n            }, 4000);\n        }\n    }, [setTooltip]);\n\n    if (!tooltip) {\n        return '';\n    }\n\n    let type = TYPE_TO_NAME[tooltip.types[0]];\n    return (<div className=\"px-4 py-2 text-sm w-96 bg-zinc-100\t text-black zorb-sample-tooltip z-30 fixed bottom-0 left-0 right-0 mx-auto\">\n              {tooltip && <div className=\"flex\">\n                            <span className=\"mr-2\">{type === \"Instruments\" ? \"Synths\" : type}:</span>\n                            <span className=\"mr-1 text-white\">{tooltip.artist}</span> - \n                            <span className=\"ml-2 text-zinc-100\">{tooltip.title}</span> \n                            <span className=\"rounded-full bg-zinc-100 px-2 text-xs py-1 ml-auto\">#{tooltip.stemId}</span>\n                          </div>}\n            </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZorbSampleTooltip);\n","export const HARDCODED = [\n    {\n        \"__typename\": \"Token\",\n        \"tokenId\": \"17055\",\n        \"tokenContract\": {\n            \"name\": \"Zorbs\",\n            \"network\": \"ETHEREUM\",\n            \"description\": null,\n            \"collectionAddress\": \"0xca21d4228cdcc68d4e23807e5e370c07577dd152\",\n            \"symbol\": \"ZORB\",\n            \"chain\": 1\n        },\n        \"mintInfo\": {\n            \"price\": {\n                \"__typename\": \"PriceAtTime\",\n                \"blockNumber\": 13919463,\n                \"chainTokenPrice\": {\n                    \"decimal\": 0,\n                    \"raw\": \"0\"\n                },\n                \"nativePrice\": {\n                    \"decimal\": 0,\n                    \"raw\": \"0\",\n                    \"currency\": {\n                        \"address\": \"0x0000000000000000000000000000000000000000\",\n                        \"decimals\": 18,\n                        \"name\": \"ETH\"\n                    }\n                },\n                \"usdcPrice\": {\n                    \"decimal\": 0,\n                    \"raw\": \"0\"\n                }\n            },\n            \"originatorAddress\": \"0x45fc43177eb8d9105d28d13ce95133845a7d163f\",\n            \"toAddress\": \"0x45fc43177eb8d9105d28d13ce95133845a7d163f\",\n            \"mintContext\": {\n                \"__typename\": \"TransactionInfo\",\n                \"blockNumber\": 13919463,\n                \"blockTimestamp\": \"2022-01-01T12:08:21+00:00\",\n                \"transactionHash\": \"0x01a4eb3a113f9969dd38e920381ab03ddedbe0b7ac479fc68937322b0495504e\",\n                \"logIndex\": 183\n            }\n        },\n        \"collectionAddress\": \"0xca21d4228cdcc68d4e23807e5e370c07577dd152\",\n        \"lastRefreshTime\": \"2022-04-26T12:54:14.178000+00:00\",\n        \"owner\": \"0x45fc43177eb8d9105d28d13ce95133845a7d163f\",\n        \"name\": \"Zorb #17055\",\n        \"description\": \"Zorbs were distributed for free by ZORA on New Years 2022. Each NFT imbues the properties of its wallet holder, and when sent to someone else, will transform.\\n\\nView this NFT at [zorb.dev/nft/17055](https://zorb.dev/nft/17055)\",\n        \"image\": {\n            \"size\": \"855\",\n            \"url\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgyMiwgNzMlLCA4NiUpIiAvPjxzdG9wIG9mZnNldD0iMzkuNTglIiBzdG9wLWNvbG9yPSJoc2woMjIsIDgxJSwgNzglKSIgLz48c3RvcCBvZmZzZXQ9IjcyLjkyJSIgc3RvcC1jb2xvcj0iaHNsKDY3LCA5MSUsIDYzJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCg3MSwgOTYlLCA1MSUpIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iaHNsKDcxLCA5NiUsIDUwJSkiIC8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw1KSI+PHBhdGggZD0iTTEwMCA1MEMxMDAgMjIuMzg1OCA3Ny42MTQyIDAgNTAgMEMyMi4zODU4IDAgMCAyMi4zODU4IDAgNTBDMCA3Ny42MTQyIDIyLjM4NTggMTAwIDUwIDEwMEM3Ny42MTQyIDEwMCAxMDAgNzcuNjE0MiAxMDAgNTBaIiBmaWxsPSJ1cmwoI2d6cikiIC8+PHBhdGggc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDc1KSIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTUwLDAuNWMyNy4zLDAsNDkuNSwyMi4yLDQ5LjUsNDkuNVM3Ny4zLDk5LjUsNTAsOTkuNVMwLjUsNzcuMywwLjUsNTBTMjIuNywwLjUsNTAsMC41eiIgLz48L2c+PC9zdmc+\",\n            \"mimeType\": \"image/svg+xml\",\n            \"mediaEncoding\": {\n                \"__typename\": \"ImageEncodingTypes\",\n                \"original\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/original\",\n                \"large\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/large\",\n                \"poster\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/poster\",\n                \"thumbnail\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/thumbnail\"\n            }\n        },\n        \"content\": {\n            \"size\": null,\n            \"url\": null,\n            \"mimeType\": null,\n            \"mediaEncoding\": {\n                \"__typename\": \"UnsupportedEncodingTypes\",\n                \"original\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/content/original\"\n            }\n        }\n    },\n    {\n        \"__typename\": \"Token\",\n        \"tokenId\": \"22640\",\n        \"tokenContract\": {\n            \"name\": \"Zorbs\",\n            \"network\": \"ETHEREUM\",\n            \"description\": null,\n            \"collectionAddress\": \"0xca21d4228cdcc68d4e23807e5e370c07577dd152\",\n            \"symbol\": \"ZORB\",\n            \"chain\": 1\n        },\n        \"mintInfo\": {\n            \"price\": {\n                \"__typename\": \"PriceAtTime\",\n                \"blockNumber\": 13920555,\n                \"chainTokenPrice\": {\n                    \"decimal\": 0,\n                    \"raw\": \"0\"\n                },\n                \"nativePrice\": {\n                    \"decimal\": 0,\n                    \"raw\": \"0\",\n                    \"currency\": {\n                        \"address\": \"0x0000000000000000000000000000000000000000\",\n                        \"decimals\": 18,\n                        \"name\": \"ETH\"\n                    }\n                },\n                \"usdcPrice\": {\n                    \"decimal\": 0,\n                    \"raw\": \"0\"\n                }\n            },\n            \"originatorAddress\": \"0x45fc43177eb8d9105d28d13ce95133845a7d163f\",\n            \"toAddress\": \"0x45fc43177eb8d9105d28d13ce95133845a7d163f\",\n            \"mintContext\": {\n                \"__typename\": \"TransactionInfo\",\n                \"blockNumber\": 13920555,\n                \"blockTimestamp\": \"2022-01-01T16:14:17+00:00\",\n                \"transactionHash\": \"0x1a368286d5bdb34a123cef5f7990fbcfa0a8c8e15fa635139f45bb57bbab951e\",\n                \"logIndex\": 134\n            }\n        },\n        \"collectionAddress\": \"0xca21d4228cdcc68d4e23807e5e370c07577dd152\",\n        \"lastRefreshTime\": \"2022-05-05T04:13:48.488000+00:00\",\n        \"owner\": \"0x45fc43177eb8d9105d28d13ce95133845a7d163f\",\n        \"name\": \"Zorb #22640\",\n        \"description\": \"Zorbs were distributed for free by ZORA on New Years 2022. Each NFT imbues the properties of its wallet holder, and when sent to someone else, will transform.\\n\\nView this NFT at [zorb.dev/nft/22640](https://zorb.dev/nft/22640)\",\n        \"image\": {\n            \"size\": \"855\",\n            \"url\": \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgyMiwgNzMlLCA4NiUpIiAvPjxzdG9wIG9mZnNldD0iMzkuNTglIiBzdG9wLWNvbG9yPSJoc2woMjIsIDgxJSwgNzglKSIgLz48c3RvcCBvZmZzZXQ9IjcyLjkyJSIgc3RvcC1jb2xvcj0iaHNsKDY3LCA5MSUsIDYzJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCg3MSwgOTYlLCA1MSUpIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iaHNsKDcxLCA5NiUsIDUwJSkiIC8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw1KSI+PHBhdGggZD0iTTEwMCA1MEMxMDAgMjIuMzg1OCA3Ny42MTQyIDAgNTAgMEMyMi4zODU4IDAgMCAyMi4zODU4IDAgNTBDMCA3Ny42MTQyIDIyLjM4NTggMTAwIDUwIDEwMEM3Ny42MTQyIDEwMCAxMDAgNzcuNjE0MiAxMDAgNTBaIiBmaWxsPSJ1cmwoI2d6cikiIC8+PHBhdGggc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDc1KSIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTUwLDAuNWMyNy4zLDAsNDkuNSwyMi4yLDQ5LjUsNDkuNVM3Ny4zLDk5LjUsNTAsOTkuNVMwLjUsNzcuMywwLjUsNTBTMjIuNywwLjUsNTAsMC41eiIgLz48L2c+PC9zdmc+\",\n            \"mimeType\": \"image/svg+xml\",\n            \"mediaEncoding\": {\n                \"__typename\": \"ImageEncodingTypes\",\n                \"original\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/original\",\n                \"large\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/large\",\n                \"poster\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/poster\",\n                \"thumbnail\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/thumbnail\"\n            }\n        },\n        \"content\": {\n            \"size\": null,\n            \"url\": null,\n            \"mimeType\": null,\n            \"mediaEncoding\": {\n                \"__typename\": \"UnsupportedEncodingTypes\",\n                \"original\": \"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/content/original\"\n            }\n        }\n    }\n];\n","import React, {useState, useEffect} from 'react';\nimport {HARDCODED} from './hardcoded-zorbs.js';\nimport { ZDK, ZDKNetwork, ZDKChain } from \"@zoralabs/zdk\";\n\nconst networkInfo = {\n    network: ZDKNetwork.Ethereum,\n    chain: ZDKChain.Mainnet,\n};\n\nconst API_ENDPOINT = \"https://api.zora.co/graphql\";\nconst args = { \n    endPoint:API_ENDPOINT, \n    networks:[networkInfo], \n    apiKey: \"ROLsxj1Z_MDY40UDQszIIw\"\n};\n\nconst zdk = new ZDK(args) // All arguments are optional\nlet cache = {};\n\nexport const useTokenOwners = ({account}) => {\n    let [isLoading, setIsLoading] = useState(true);\n    let [zorbs, setZorbs] = useState([]);\n\n    useEffect(() => {\n        console.log('user tokens owners');\n        if (account && account.address) {\n            // use the ultra futuristic zora api to get see if they own\n            // one of these open editions\n            let _account =  account;\n            setIsLoading(true);\n            if (cache[_account.address]) {\n                setZorbs(cache[_account.address]);\n                return;\n            }\n            zdk.tokens({\n                where: {\n                    collectionAddresses: [\"0xCa21d4228cDCc68D4e23807E5e370C07577Dd152\"],\n                    ownerAddresses: [_account.address]\n                }})\n                .then(\n                    results => {\n                        let tokens = results.tokens.nodes.map(x => x.token);\n                        if (tokens.length === 0) {\n                            tokens = HARDCODED;\n                        }\n                        cache[_account.address] = tokens;\n                        setZorbs(tokens);\n                    });\n        }\n    }, [account, setIsLoading, setZorbs]);\n\n    return {zorbs, isLoading};\n};\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {useInterval} from 'components/hooks/useInterval.js';\nimport {connect} from 'react-redux';\n\nconst WIDTH = 150;\nconst BlendAnimation = ({leak}) => { \n    \n    let leakCounter = useRef(0);\n    let blendStartTime = useRef(0);\n    let [percentage, setPercentage] = useState();\n    const onTick = useCallback(() => {\n        let time = new Date().getTime() - blendStartTime.current \n        setPercentage(100*Math.min(1, time / 5000));\n    }, [setPercentage]);\n\n    useEffect(() => {\n        blendStartTime.current = new Date().getTime();\n        leakCounter.current++;\n    }, [leak]);\n\n    useInterval(onTick, 50);\n\n    return (\n        <div\n          style={{width: WIDTH}} className={\"ml-4 h-2 bg-zinc-500 p-0.5 rounded-full \" + (percentage === 100 ? \"  opacity-0\" : \"\")}>\n          <div style={{width: (WIDTH-4)*percentage/100}}\n               className={\"h-1 bg-white overflow-hidden\" + (leakCounter.current % 2 === 0 ? \" ml-auto\" : \"\")}/>\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BlendAnimation);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\n\nconst CloseIcon = ({onClick, className}) => { \n  return (<svg\n            onClick={onClick}\n            className={className + \" close-btn z-30 ml-2 w-4 h-5 \"} viewPort=\"0 0 12 12\" version=\"1.1\"\n            xmlns=\"http://www.w3.org/2000/svg\">\n            <line x1=\"1\" y1=\"11\" \n                  x2=\"11\" y2=\"1\" \n                  stroke=\"white\" \n                  stroke-width=\"2\"/>\n            <line x1=\"1\" y1=\"1\" \n                  x2=\"11\" y2=\"11\" \n                  stroke=\"white\" \n                  stroke-width=\"2\"/>\n          </svg>\n  );\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CloseIcon);\n","export const SW = 'SW';\nexport const SE  = 'SE';\nexport const NE  = 'NE';\nexport const NW  = 'NW';\nexport const N = 'N';\nexport const S = 'S';\nexport const W = 'W';\nexport const E = 'E';\n\nexport const go = (dir, len) => {\n    switch (dir) {\n    case N:\n        return ` c 0 -5 0 -5 0 -${len}`;\n    case S:\n        return ` c 0 5 0 5 0 ${len}`;\n    case E:\n        return ` c 5 0 5 0 ${len} 0`;\n    case W:\n        return ` c -5 0 -5 0 -${len} 0`;\n    }\n};\n\nexport const corner  = (side, size=50) => {\n    switch (side) {\n    case SW:\n        return ` c 0, ${size}, ${size}, ${size} ${size}, ${size} `;\n    case SE:\n        return ` c ${size}, 0 ${size}, -${size} ${size}, -${size} `;\n    case NE:\n        return ` c 0, -${size} -${size}, -${size} -${size}, -${size} `;\n    case NW:\n        return ` c -${size}, 0 -${size}, ${size} -${size}, ${size} `;\n    }\n};\n\n//export const smoothstep = (dirX, dirY, \n\nexport const side = (sideLength, nextLength, radius, dir, depth=0, size={sideLength,nextLength}) => {\n    const _go = (y1) => {\n        if (y1 > sideLength) {\n            return \"\";\n        }\n        sideLength -= y1;\n        return go(dir, y1);\n    };\n\n\n    const smooth = (a1, b1, a2, b2=20) => {\n        if (a2 > sideLength) {\n            return _go(a2-sideLength);\n        }\n        sideLength -= Math.abs(a2);\n        nextLength -= b1;\n\n        switch (dir) {\n        case S:\n            return ` c 0,${a1} ${b1},${b2} ${b1},${a2} `;\n        case E:\n            return ` c ${a1},0 ${b2},${-b1} ${a2},${-b1} `;\n        case N:\n            return ` c 0,${-a1} ${-b1},${-b2} ${-b1},${-a2} `;\n        case W:\n            return ` c ${-a1},0 ${-b2},${b1} ${-a2},${b1} `;\n        }\n    };\n\n    const complete = () => {\n        let _corner = dir === S ? corner(SW, radius) :\n            dir === N ? corner(NE, radius) : dir === E ? corner(SE, radius) : corner(NW, radius);\n        return go(dir, sideLength) + ' ' + _corner;\n    };\n\n    const next = (_radius=radius) => {\n        let _nextLength = nextLength;\n        return side(\n            _nextLength, size.sideLength, _radius,\n            dir === S ? E : dir === E ? N : dir === W ? S : W,\n            depth+1,\n            {\n                sideLength: size.nextLength,\n                nextLength: size.sideLength\n            }\n        );\n   };\n    \n    return {go: _go, smooth, complete, next};\n};\n","import {\n    side,\n    SW,\n    SE,\n    NE,\n    NW,\n    N,\n    E,\n    W,\n    S,\n    go,\n    corner} from './paths.js';\n\nexport const peval = ({radius, algo, relative, width, height, top=0}) => {\n    // starting point based on radius\n    let d = `M 0, ${radius+top} `;\n\n    let s = undefined;\n\n    let depth=0;\n\n    // keep track of how much we've increased the bounds\n    let xIncrease = 0;\n    let yIncrease = 0;\n\n    let ogRadius = radius;\n    for (let sideAlgo of algo) {\n        let attr = getAttributes(sideAlgo, ogRadius, relative);\n        let {_radius, _relative} = attr;\n        if (_relative===undefined) {\n            _relative = relative;\n        }\n        //_radius = _radius || radius;\n        sideAlgo = sideAlgo.filter(x => x.type !== \"attribute\");\n        let _sideAlgo = flattenAlgo(sideAlgo);\n        let total = 0;\n        if (!s) {\n            s = side(height, width, radius, S);\n        }\n\n        for (let step of _sideAlgo) {\n            let value = _relative ? relativeValue(step.value, depth, width, height) : step.value;\n            if (step.type === \"walk\") {\n                d += s.go(value);\n            } else {\n                total += value[1];\n                d += s.smooth(... value);\n            }\n        }\n        d += s.complete();\n        s = s.next();\n\n        if (total < 0) {\n            if (depth % 2 === 0) {\n                // increase x\n                xIncrease += -total;\n            } else {\n                yIncrease += -total;\n            }\n        }\n        depth++;\n    }\n    return {xIncrease, yIncrease, d};\n};\n\nconst relativeValue = (value, depth, width, height) => {\n    let _a = depth % 2 ===0 ? height : width;\n    let _b = depth % 2 ===0 ? width : height;\n    if (Array.isArray(value)) {\n        return [\n            _a*value[0]/100,\n            _b*value[1]/100,\n            _a*value[2]/100,\n        ];\n    } else {\n        return _a*value/100;\n    }\n}\n\n\nconst getRadius = (side) => {\n    if (!side) {\n        return undefined;\n    }\n    let attr = side.filter(x => x.type===\"attribute\")\n        .find(x => x.value.type === \"radius\");\n    if (attr) {\n        return attr.value.value;\n    }\n    return undefined;\n};\n\n\nconst getAttributes = (sideAlgo, radius, relative) => {\n    let _attributes = sideAlgo.filter(x => x.type === \"attribute\");\n    let _radius = radius;\n    let _relative = relative;\n    for (let attr of _attributes) {\n        if (attr.value.type === \"radius\") {\n            _radius = attr.value.value;\n        }\n        if (attr.type === \"relative\") {\n            _relative = attr.value;\n        }\n    }\n    return {radius: _radius, relative: _relative};\n};\n\nconst flattenAlgo = (sideAlgo) => {\n    let _sideAlgo = [];\n    for (let x of sideAlgo) {\n        if (x.operations) {\n            _sideAlgo = [... _sideAlgo, ...x.operations];\n        } else {\n            _sideAlgo.push(x);\n        }\n    }\n    return _sideAlgo;\n};\n","\nexport const attribute = (type, value) => {\n    return {\n        type: 'attribute',\n        value: {\n            type,\n            value\n        }\n    };\n};\n\nexport const walk = (s) => {\n    return {\n        type: 'walk',\n        value: s\n    };\n};\n\n// b1 is is startTEnsion\n// b2 is end tension\nexport const curve = (a=5,b1=10,c=15,b2=20) => {\n    return {\n        depth: (x) => curve(a, x, c, b2),\n        tension: (x) => curve(a, b1, c, x),\n        start: (x) => curve(x, b1, c, b2),\n        end: (x) => curve(a, b1, x, b2),\n        mirror: () => curve(a, -b1, c, b2),\n        type: 'smooth',\n        value: [a,b1,c,b2]\n    };\n}\n\nexport const cut = (a,b,c,_factor=1, _walk) => {\n    // should be functional first and foremost so it doesnt mutate ever\n    const factor = (x) => {\n        return cut(a,b,c,x,_walk);\n    };\n\n    const walkFn = (x) => {\n        return cut(a,b,c,_factor,x);\n    };\n\n    let curve1 = curve(a,b,c);\n    let curve2 = curve(a,-_factor*b,c);\n    let operations = _walk ? [curve1, walk(_walk), curve2] :\n        [curve1, curve2];\n    return {\n        factor,\n        walk: walkFn,\n        operations\n    };\n}\n\nexport const relative = (v) => {\n    return attribute(\"relative\", v);\n}\n\nexport const radius = (v) => {\n    return attribute(\"radius\", v);\n};\n\n","import React, { useRef, useLayoutEffect, useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {peval} from './eval.js';\nimport {walk, curve, relative, cut, radius} from './dsl.js';\nimport './curve.scss';\n\nconst CurveDiv = ({\n    top=0,\n    children,\n    svgFilter,\n    fill=\"#0000008c\",\n    stroke=\"white\",\n    className=\"\",\n    algo=[],\n    relative=true,\n    radius=60\n}) => { \n    let ref = useRef();\n\n    const [size, setSize] = useState({width: 0, height: 0});\n    const onChange = useCallback(() => {\n        if (!ref.current) {\n            return;\n        }\n        let _size = {\n            width: ref.current.offsetWidth,\n            height: ref.current.offsetHeight\n        };\n        setSize(_size);\n    }, [setSize]);\n\n    useEffect(() => {\n        new ResizeObserver(onChange).observe(ref.current)\n    }, []);\n\n    let width = Math.max(20, size.width-radius*2);\n    let height = Math.max(20, size.height-radius*2);\n\n    let a = new Date().getTime();\n    let {d, xIncrease, yIncrease} = peval({\n        width,\n        height,\n        algo,\n        radius,\n        relative,\n        top\n    });\n    let b = new Date().getTime();\n    // we need to pass\n    // ([go(50), smooth(800, 50, 140)], [go(100), smooth(400, 30, 100)], [go(150), smooth(400, 30, 100)]\n\n    // what kind of scriping language can I do for this\n    // a DSL that can be passed into the props of here and executed\n\n    //d += \"150,0 150, 0\"\n    //d += \"0, 150 150, -150\";\n    return (<div\n              style={{blockSize: \"fit-content\"}}\n              ref={ref} className={\"relative flex flex-col \" + className}>\n              <svg\n                width={xIncrease + size.width + 100 + 'px'}\n                height={yIncrease + size.height + 100 + 'px'}\n                className=\"absolute top-0 left-0 z-0\">\n                {svgFilter && svgFilter.def}\n                <path filter={svgFilter && svgFilter.name} stroke={stroke} fill={fill}\n                      d={d} />\n              </svg>\n              {children}\n            </div>);\n}\n\nexport default CurveDiv;\n\n","export const abi = [{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"approved\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Approval\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"approved\",\"type\":\"bool\"}],\"name\":\"ApprovalForAll\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"Transfer\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"approve\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"name\":\"balanceOf\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"balance\",\"type\":\"uint256\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"getApproved\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"}],\"name\":\"isApprovedForAll\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"name\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"ownerOf\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"owner\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"},{\"internalType\":\"bytes\",\"name\":\"data\",\"type\":\"bytes\"}],\"name\":\"safeTransferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"operator\",\"type\":\"address\"},{\"internalType\":\"bool\",\"name\":\"_approved\",\"type\":\"bool\"}],\"name\":\"setApprovalForAll\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"bytes4\",\"name\":\"interfaceId\",\"type\":\"bytes4\"}],\"name\":\"supportsInterface\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"symbol\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"tokenURI\",\"outputs\":[{\"internalType\":\"string\",\"name\":\"\",\"type\":\"string\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"from\",\"type\":\"address\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"tokenId\",\"type\":\"uint256\"}],\"name\":\"transferFrom\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}];\n","\n\nimport Web3 from 'web3';\nimport {abi} from './zorb-abi.js';\nconst address = \"0xCa21d4228cDCc68D4e23807E5e370C07577Dd152\";\n\nlet cache = {};\nexport const getZorb = (tokenId) => {\n    return new Promise((resolve) => {\n        if (cache[tokenId]) {\n            resolve(cache[tokenId]);\n            return;\n        }\n        let web3 = new Web3(new Web3.providers.HttpProvider('https://mainnet.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c'));\n        const contract = new web3.eth.Contract(abi, address);\n        const x = contract.methods.tokenURI(tokenId).call().then(\n            uri => {\n                let starter = 'data:application/json;base64,';\n                if (uri.startsWith(starter)) {\n                    let str = atob(uri.slice(starter.length));\n                    let json = JSON.parse(str);\n                    cache[tokenId] = json.image;\n                    resolve(json.image);\n                }\n            });\n    });\n}\n","import React, { useEffect, useCallback, useState} from 'react';\nimport BlendAnimation from './BlendAnimation.js';\nimport CloseIcon from 'components/svg/CloseIcon.js';\nimport ENSName from 'components/ens/ENSName.js';\nimport {connect} from 'react-redux';\nimport './leak-controller.scss';\nimport CurveDiv from 'components/ux/CurveDiv.js';\nimport {walk, curve, relative, cut, radius} from 'components/ux/dsl.js';\nimport {getZorb} from 'utils/getZorb.js';\n\nconst LeakController = ({zorbId, hideLeaks, leak, playerRef}) => { \n    let [zorbs, setZorbs] = useState([]);\n\n    useEffect(() => {\n        let _zorbId = leak.attributes[\"zorb\"];\n        getZorb(_zorbId).then((a) =>\n            getZorb(zorbId).then(b => setZorbs([a,b])));\n        }, [leak, setZorbs]);\n\n    const DROP_ALGO = [\n        [],\n        [\n            radius(3),\n        ],\n        [\n            radius(5),\n        ],\n        [\n            radius(5),\n            walk(50),\n            cut(10, 15, 30)\n        ],\n    ];\n\n    const revert = useCallback(() => {\n        playerRef.current.contentWindow.postMessage({\n            type: \"revert-stem\",\n            body: \"\"\n        }, \"*\");\n        hideLeaks();\n    }, [playerRef]);\n\n    let remixCreator = leak.mintInfo.toAddress;\n    return (\n        <CurveDiv\n          relative={false}\n          svgFilter={{def: (\n              <defs><filter id='shadow' color-interpolation-filters=\"sRGB\">\n                      <feDropShadow dx=\"5\" dy=\"3\" stdDeviation=\"3\" flood-opacity=\"0.5\"/>),\n                      \n                    </filter>\n              </defs>),\n                     name: \"url(#shadow)\"\n                    }}\n          algo={DROP_ALGO} radius={24} fill=\"#ffffff33\" stroke=\"transparent\" className=\"leak-controller fixed z-30\">\n          <div className=\"text-xs z-30 pt-3 pb-1 pl-4 pr-1\">\n            <div className=\"flex\">\n              <div>{leak.song.title} </div>\n              <div className=\"px-2 py-1 bg-white text-black ml-2 text-xs rounded-full leak-label\">leak #{leak.tokenId}</div>\n            </div>\n            <div className=\"flex text-zinc-100\">\n              {leak.song.artist}\n            </div>\n            <div className=\"flex mt-2\">\n              <div className=\"flex mr-3 zorbs\">\n                {zorbs.map((x, i) => <img src={x} className={\"w-8 \" + (i == 1 ? \" second\" : \"\")}/>)}\n              </div>\n              <ENSName className=\"text-zinc-500\" address={remixCreator}/>\n            </div>\n          </div>\n          <BlendAnimation leak={leak}/>\n          <CloseIcon\n            onClick={revert}\n            className=\"close-icon\">\n          </CloseIcon>\n        </CurveDiv>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LeakController);\n","import React, { useEffect, useRef, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './scrub.scss';\n\nconst ScrubUX = ({playerRef, setIsScrubbing, isScrubbing}) => { \n    let mouseDown = useRef(false);\n    let ref = useRef();\n\n    let [mouseProgress, setMouseProgress] = useState(0);\n    let [clock, setClock] = useState({\n        duration: 0,\n        progress: 0,\n    });\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, [setClock, clock]);\n\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"song-position\") {\n            setClock({\n                ... clock,\n                progress: e.data.body\n            });\n        }\n        if (e.data.type === \"song-duration\") {\n            setClock({\n                ... clock,\n                duration: e.data.body\n            });\n        }\n    }, [setClock, clock]);\n \n    const onMouseDown = useCallback(() => {\n        mouseDown.current = true;\n        setIsScrubbing(true);\n    }, [setIsScrubbing]);\n    const release = useCallback(() => {\n        mouseDown.current = false;\n        setIsScrubbing(false);\n    }, [setIsScrubbing]);\n\n    useEffect(() => {\n        window.addEventListener(\"mouseup\", release);\n        return () => window.removeEventListener(\"mouseup\", release);\n    }, [setIsScrubbing]);\n\n    useEffect(() => {\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"touchmove\", onMouseMove);\n        return () => {\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"touchmove\", onMouseMove);\n        }\n    }, [playerRef, setMouseProgress]);\n\n    const onMouseMove = useCallback((e) => {\n        if (!playerRef || !playerRef.current || !mouseDown.current) {\n            return;\n        }\n        if (e.touches) {\n            e = e.touches[0];\n        }\n        let left = e.clientX - ref.current.getBoundingClientRect().left\n        let width = ref.current.offsetWidth;\n        let percentage = 100*left / width;\n        setMouseProgress(Math.max(0, Math.min(100,percentage)));\n        playerRef.current.contentWindow.postMessage({\n            type: \"seek-to-percentage\",\n            body: Math.max(0, Math.min(100,percentage))\n        }, \"*\");\n    }, [playerRef, setMouseProgress]);\n\n\n    let _progress = mouseDown.current ? mouseProgress : clock.progress;\n    let color = `hsl(${(180 + _progress/100*360.0) % 360.0}deg 83% 55%)`;\n    return (\n        <div\n          ref={ref}\n          onMouseDown={onMouseDown}\n          onTouchStart={onMouseDown}\n          className=\"scrub-bar h-3 w-5/6 bg-black\">\n          <div style={{width: _progress + '%'}} className=\"absolute w-8 h-4 inner-playbar\"/>\n          <div style={{\n              backgroundColor: color,\n              left: _progress + '%'}} className=\"absolute w-8 h-6 playhead rounded-full\"/>\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef,\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScrubUX);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './progress.scss';\n\nconst CircularProgressBar = ({percentage, radius}) => { \n    let strokeWidth = 6;\n    let circum = 2*(radius-2*strokeWidth)*Math.PI;\n    let a = percentage/100*circum;\n    let b = (100-percentage)/100*circum;\n    let style = {\n    };\n    let arr = [];\n    for (let i=0; i < 16; i++) {\n        arr.push((percentage/32)/100*circum);\n        arr.push((percentage/32)/100*circum);\n    }\n    arr.pop();\n    arr.push(b);\n    return (\n        <svg className=\"circular-progress\" width={2*radius+'px'} height={2*radius+'px'}>\n          <defs>\n            <linearGradient id=\"linear\" x1=\"0%\" y1=\"0%\" x2=\"100%\" y2=\"0%\">\n              <stop offset=\"0%\" stop-color=\"#afe5ff\"/>\n              <stop offset=\"50%\" stop-color=\"#7373f9\"/>\n              <stop offset=\"100%\" stop-color=\"#3d62ff\"/>\n            </linearGradient>\n          </defs>\n          <circle\n            className=\"outter-circle\"\n            strokeWidth={strokeWidth}\n            style={style} cx={radius+strokeWidth} cy={radius+strokeWidth} r={radius-strokeWidth*2} />\n        {percentage > 0 && <circle\n            className=\"inner-circle\"\n            strokeDashoffset={(radius+strokeWidth/4)}\n            strokeWidth={strokeWidth}\n            strokeDasharray={arr.join(',')}\n           stroke=\"url(#linear)\"\n                             style={style} cx={radius+strokeWidth} cy={radius+strokeWidth} r={radius-strokeWidth*2} />}\n       </svg>);\n\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CircularProgressBar);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport CircularProgress from 'components/progressbar/Circular.js';\nimport {connect} from 'react-redux';\nimport {useInterval} from 'components/hooks/useInterval.js';\n\nconst LoadingRemix = (props) => { \n    let [progress, setProgress] = useState(0);\n\n    const callback = useCallback(() => {\n        setProgress((progress + 1) % 100);\n    }, [setProgress, progress]);\n\n    useInterval(callback);\n    return (<CircularProgress percentage={progress} radius={props.radius || 30}/>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LoadingRemix);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport LoadingRemix from 'components/zpore/remixes/LoadingRemix.js';\nimport {connect} from 'react-redux';\nimport {setSongLoaded, setLeakLoaded} from 'actions/index.js';\n\nimport './song-selector.scss';\nimport {getSongs} from 'stems/getStemz.js';\nconst SongSelector = (props) => { \n    let [songs, setSongs] = useState([]);\n    let [loading, setLoading] = useState();\n    useEffect(() => {\n        getSongs().then((s) => setSongs(s.filter(x => !x.title.includes(\"Psilocybin\"))));\n    }, []);\n\n    const loadSong = useCallback((song) => {\n        setLoading(song.songId);\n        props.playerRef.current.contentWindow.postMessage({\n            type: \"switch-songs\",\n            body: {\n                ... song,\n                autoPlay: true\n            }\n        }, \"*\");\n        console.log('setting song loaded=', song.songId, song);\n        props.setSongLoaded(song.songId);\n        props.setLeakLoaded(undefined);\n    }, [props.playerRef, setLoading]);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, []);\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"song-switch-completed\") {\n            props.hide();\n        }\n    }, [setLoading]);\n\n    return (<div onClick={e => e.stopPropagation()} className=\"pt-4 pb-5 song-selector\">\n              <div className=\"header-columns\">\n                <div className=\"p-2 flex text-xs\">\n                  <div className=\"w-48 text-center\">title</div>\n                  <div className=\"w-48 text-center\">artist</div>\n                  <div className=\"w-16 text-center\">tempo</div>\n                </div>\n              </div>\n            {songs.map(\n                song =>\n                <div\n                  onClick={() => loadSong(song)}\n                  className={loading === song.songId === song.songId || (parseInt(props.songLoaded) === song.songId ? \"bg-zinc-500 \" : \"\") + \"pl-2 py-1 flex cursor-pointer text-xs rounded-lg song-option\"}>\n                  <div className=\"w-48\">{song.title}</div>\n                  <div className=\"w-48 text-zinc-300\">{song.artist}</div>\n                  <div className=\"w-16 text-zinc-300\">{song.bpm}</div>\n                  {loading == song.songId && <LoadingRemix radius={16}/>}\n                </div>)}\n            </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      songLoaded: state.spore.songLoaded,\n      playerRef: state.spore.playerRef\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setSongLoaded: x => dispatch(setSongLoaded(x)),\n      setLeakLoaded: x => dispatch(setLeakLoaded(x)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SongSelector);\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {useInterval} from 'components/hooks/useInterval.js';\n\nconst TextAndTime = ({timeElapsed}) => { \n    let ref = useRef(0);\n    let [text, setText] = useState(\"wants to play\");\n\n    const onTick = useCallback(() => {\n        setText(undefined);\n        ref.current++;\n        if (ref.current % 2 === 1) {\n            setText(\"wants to play\");\n        }else {\n            setText(\"leaked \" + leakTime(timeElapsed) + \" ago\");\n        }\n    }, [text, timeElapsed]);\n\n    useInterval(onTick, 4000);\n    \n    if (!text) {\n        return '';\n    }\n    return (<span className={\"time-and-text italic ml-1 \" + (ref.current % 2 === 0 ? \" odd \" : \" even\")}>{text}</span>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nconst leakTime  = (time) => {\n    let minutes = time / 1000 / 60;\n    if (minutes < 60) {\n        return Math.ceil(minutes) + \" min. \";\n    }\n\n    let hours = minutes / 60;\n    if (hours < 48) {\n        return Math.ceil(hours) + \" hours \"\n    }\n\n    let days = hours / 24;\n    return Math.round(days) + \" days \";\n};\n\n\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TextAndTime);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\n\nconst MultiplayerIcon = ({zorb1, zorb2}) => { \n    return (<svg className=\"zorb-multiplayer\" xmlns=\"http://www.w3.org/2000/svg\" width=\"40\" height=\"40\" viewBox=\"0 0 141 121\" fill=\"none\">\n<path d=\"M70 20C70 8.95431 61.0457 0 50 0C38.9543 0 30 8.9543 30 20C30 20 31.0457 30 20 30C8.95431 30 0 38.9543 0 50C0 61.0457 8.9543 70 20 70C31.0457 70 30 80 30 80C30 91.0457 38.9543 100 50 100C61.0457 100 70 91.0457 70 80C70 80 68.9543 70 80 70C91.0457 70 100 61.0457 100 50C100 38.9543 91.0457 30 80 30C68.9543 30 70 20 70 20Z\" fill=\"white\"/>\n<path d=\"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z\" stroke=\"black\" stroke-opacity=\"0.06\"/>\n<path d=\"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z\" stroke=\"black\" stroke-opacity=\"0.06\"/>\n<path d=\"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z\" stroke=\"black\" stroke-opacity=\"0.06\"/>\n              <image\n                className=\"zorb-img\"\n                x=\"50\" y=\"50\" width=\"35\" height=\"35\" href={zorb2}/>\n<path d=\"M111 41C111 29.9543 102.046 21 91 21C79.9543 21 71 29.9543 71 41C71 41 72.0457 51 61 51C49.9543 51 41 59.9543 41 71C41 82.0457 49.9543 91 61 91C72.0457 91 71 101 71 101C71 112.046 79.9543 121 91 121C102.046 121 111 112.046 111 101C111 101 109.954 91 121 91C132.046 91 141 82.0457 141 71C141 59.9543 132.046 51 121 51C109.954 51 111 41 111 41Z\" fill=\"white\"/>\n<path d=\"M110.499 101.015L110.5 101.023C110.488 111.782 101.762 120.5 91 120.5C80.2381 120.5 71.5125 111.782 71.5 101.023L71.5008 101.015C71.5027 100.993 71.5052 100.961 71.5079 100.921C71.5133 100.842 71.5195 100.727 71.5232 100.583C71.5306 100.295 71.5281 99.8866 71.4892 99.3979C71.4117 98.4232 71.1884 97.1132 70.5985 95.7957C70.0067 94.474 69.0441 93.1413 67.4932 92.1422C65.9425 91.1432 63.8384 90.5 61 90.5C50.2304 90.5 41.5 81.7696 41.5 71C41.5 60.2304 50.2304 51.5 61 51.5C63.8384 51.5 65.9425 50.8568 67.4932 49.8578C69.0441 48.8587 70.0067 47.526 70.5985 46.2043C71.1884 44.8868 71.4117 43.5768 71.4892 42.6021C71.5281 42.1134 71.5306 41.705 71.5232 41.4169C71.5195 41.2727 71.5133 41.1582 71.5079 41.0785C71.5052 41.0386 71.5027 41.0074 71.5008 40.9855L71.5 40.9769C71.5125 30.218 80.2381 21.5 91 21.5C101.762 21.5 110.488 30.218 110.5 40.9769L110.499 40.9855C110.497 41.0074 110.495 41.0386 110.492 41.0785C110.487 41.1582 110.481 41.2727 110.477 41.4169C110.469 41.705 110.472 42.1134 110.511 42.6021C110.588 43.5768 110.812 44.8868 111.402 46.2043C111.993 47.526 112.956 48.8587 114.507 49.8578C116.057 50.8568 118.162 51.5 121 51.5C131.77 51.5 140.5 60.2304 140.5 71C140.5 81.7696 131.77 90.5 121 90.5C118.162 90.5 116.057 91.1432 114.507 92.1422C112.956 93.1413 111.993 94.474 111.402 95.7957C110.812 97.1132 110.588 98.4232 110.511 99.3979C110.472 99.8866 110.469 100.295 110.477 100.583C110.481 100.727 110.487 100.842 110.492 100.921C110.493 100.938 110.494 100.952 110.495 100.965C110.497 100.985 110.498 101.001 110.499 101.015Z\" stroke=\"black\" stroke-opacity=\"0.06\"/>\n<path d=\"M110.499 101.015L110.5 101.023C110.488 111.782 101.762 120.5 91 120.5C80.2381 120.5 71.5125 111.782 71.5 101.023L71.5008 101.015C71.5027 100.993 71.5052 100.961 71.5079 100.921C71.5133 100.842 71.5195 100.727 71.5232 100.583C71.5306 100.295 71.5281 99.8866 71.4892 99.3979C71.4117 98.4232 71.1884 97.1132 70.5985 95.7957C70.0067 94.474 69.0441 93.1413 67.4932 92.1422C65.9425 91.1432 63.8384 90.5 61 90.5C50.2304 90.5 41.5 81.7696 41.5 71C41.5 60.2304 50.2304 51.5 61 51.5C63.8384 51.5 65.9425 50.8568 67.4932 49.8578C69.0441 48.8587 70.0067 47.526 70.5985 46.2043C71.1884 44.8868 71.4117 43.5768 71.4892 42.6021C71.5281 42.1134 71.5306 41.705 71.5232 41.4169C71.5195 41.2727 71.5133 41.1582 71.5079 41.0785C71.5052 41.0386 71.5027 41.0074 71.5008 40.9855L71.5 40.9769C71.5125 30.218 80.2381 21.5 91 21.5C101.762 21.5 110.488 30.218 110.5 40.9769L110.499 40.9855C110.497 41.0074 110.495 41.0386 110.492 41.0785C110.487 41.1582 110.481 41.2727 110.477 41.4169C110.469 41.705 110.472 42.1134 110.511 42.6021C110.588 43.5768 110.812 44.8868 111.402 46.2043C111.993 47.526 112.956 48.8587 114.507 49.8578C116.057 50.8568 118.162 51.5 121 51.5C131.77 51.5 140.5 60.2304 140.5 71C140.5 81.7696 131.77 90.5 121 90.5C118.162 90.5 116.057 91.1432 114.507 92.1422C112.956 93.1413 111.993 94.474 111.402 95.7957C110.812 97.1132 110.588 98.4232 110.511 99.3979C110.472 99.8866 110.469 100.295 110.477 100.583C110.481 100.727 110.487 100.842 110.492 100.921C110.493 100.938 110.494 100.952 110.495 100.965C110.497 100.985 110.498 101.001 110.499 101.015Z\" stroke=\"black\" stroke-opacity=\"0.06\"/>\n<path d=\"M110.499 101.015L110.5 101.023C110.488 111.782 101.762 120.5 91 120.5C80.2381 120.5 71.5125 111.782 71.5 101.023L71.5008 101.015C71.5027 100.993 71.5052 100.961 71.5079 100.921C71.5133 100.842 71.5195 100.727 71.5232 100.583C71.5306 100.295 71.5281 99.8866 71.4892 99.3979C71.4117 98.4232 71.1884 97.1132 70.5985 95.7957C70.0067 94.474 69.0441 93.1413 67.4932 92.1422C65.9425 91.1432 63.8384 90.5 61 90.5C50.2304 90.5 41.5 81.7696 41.5 71C41.5 60.2304 50.2304 51.5 61 51.5C63.8384 51.5 65.9425 50.8568 67.4932 49.8578C69.0441 48.8587 70.0067 47.526 70.5985 46.2043C71.1884 44.8868 71.4117 43.5768 71.4892 42.6021C71.5281 42.1134 71.5306 41.705 71.5232 41.4169C71.5195 41.2727 71.5133 41.1582 71.5079 41.0785C71.5052 41.0386 71.5027 41.0074 71.5008 40.9855L71.5 40.9769C71.5125 30.218 80.2381 21.5 91 21.5C101.762 21.5 110.488 30.218 110.5 40.9769L110.499 40.9855C110.497 41.0074 110.495 41.0386 110.492 41.0785C110.487 41.1582 110.481 41.2727 110.477 41.4169C110.469 41.705 110.472 42.1134 110.511 42.6021C110.588 43.5768 110.812 44.8868 111.402 46.2043C111.993 47.526 112.956 48.8587 114.507 49.8578C116.057 50.8568 118.162 51.5 121 51.5C131.77 51.5 140.5 60.2304 140.5 71C140.5 81.7696 131.77 90.5 121 90.5C118.162 90.5 116.057 91.1432 114.507 92.1422C112.956 93.1413 111.993 94.474 111.402 95.7957C110.812 97.1132 110.588 98.4232 110.511 99.3979C110.472 99.8866 110.469 100.295 110.477 100.583C110.481 100.727 110.487 100.842 110.492 100.921C110.493 100.938 110.494 100.952 110.495 100.965C110.497 100.985 110.498 101.001 110.499 101.015Z\" stroke=\"black\" stroke-opacity=\"0.06\"/>\n              <image className=\"zorb-img\" x=\"91\" y=\"71\" width=\"35\" height=\"35\" href={zorb1}/>\n</svg>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(MultiplayerIcon);\n","export function formatDate(date) {\n    return (date.getMonth() + 1) + '/' + date.getDate();\n}\n\nexport const formatClock = (duration) => {   \n\n    // Hours, minutes and seconds\n    var hrs = ~~(duration / 3600);\n    var mins = ~~((duration % 3600) / 60);\n    var secs = ~~duration % 60;\n\n    // Output like \"1:01\" or \"4:03:59\" or \"123:03:59\"\n    var ret = \"\";\n\n    if (hrs > 0) {\n        ret += \"\" + hrs + \":\" + (mins < 10 ? \"0\" : \"\");\n    }\n\n    ret += \"\" + mins + \":\" + (secs < 10 ? \"0\" : \"\");\n    ret += \"\" + secs;\n    return ret;\n}\n\n\n\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {formatClock} from 'utils/formatDate.js';\nimport {connect} from 'react-redux';\n\nconst Clock = (props) => { \n    let [clock, setClock] = useState({\n        duration: 0,\n        progress: 0,\n    });\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, [setClock, clock]);\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"song-position\") {\n            setClock({\n                ... clock,\n                progress: e.data.body\n            });\n        }\n        if (e.data.type === \"song-duration\") {\n            setClock({\n                ... clock,\n                duration: e.data.body\n            });\n        }\n    }, [setClock, clock]);\n    return (<div className={(props.className || \"text-sm\") + \" clock\"}>\n              {formatClock(clock.progress/100*clock.duration)} / {formatClock(clock.duration)}\n            </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Clock);\n","export const triggerRefresh = (transactionHash, contractAddress) => {\n    let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/\" : \"https://zequencer.io/\";\n    console.log(\"hostname=\", window.location.hostname, baseURL);\n    if (!window.LOCAL_BACKEND_FLAG) {\n        baseURL = \"https://zequencer.io/\";\n    }\n\n    console.log('triggering refresh=', contractAddress, transactionHash, baseURL);\n    fetch(baseURL + \"refreshContract/\", {\n        method: \"POST\",\n         headers: {\n             'Accept': 'application/json',\n             'Content-Type': 'application/json'\n         },\n        body: JSON.stringify({\n            contractAddress,\n            transactionHash\n        })\n    });\n\n};\n","export const minter = {\n    deployed: {\n        goerli: \"0xe0Da76A68731162f678E9acDFc91F2266bcDBA3C\",\n    },\n    abi: [\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"renderer\",\n          \"type\": \"address\"\n        }\n      ],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"constructor\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"Access_OnlyAdmin\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"MinterNotAuthorized\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"TransferNotSuccessful\",\n      \"type\": \"error\"\n    },\n    {\n      \"inputs\": [],\n      \"name\": \"WrongPrice\",\n      \"type\": \"error\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": false,\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"address\",\n          \"name\": \"newRenderer\",\n          \"type\": \"address\"\n        }\n      ],\n      \"name\": \"MetadataRendererUpdated\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": false,\n          \"internalType\": \"address\",\n          \"name\": \"minter\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"address\",\n          \"name\": \"mintRecipient\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"tokenId\",\n          \"type\": \"uint256\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"string\",\n          \"name\": \"tokenURI\",\n          \"type\": \"string\"\n        }\n      ],\n      \"name\": \"Mint\",\n      \"type\": \"event\"\n    },\n    {\n      \"anonymous\": false,\n      \"inputs\": [\n        {\n          \"indexed\": false,\n          \"internalType\": \"address\",\n          \"name\": \"sender\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"address\",\n          \"name\": \"targetZoraDrop\",\n          \"type\": \"address\"\n        },\n        {\n          \"indexed\": false,\n          \"internalType\": \"uint256\",\n          \"name\": \"newMintPrice\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"MintPriceUpdated\",\n      \"type\": \"event\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address payable\",\n          \"name\": \"dropsContractAddress\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"address\",\n          \"name\": \"mintRecipient\",\n          \"type\": \"address\"\n        },\n        {\n          \"components\": [\n            {\n              \"internalType\": \"string\",\n              \"name\": \"contentURI\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"coverArtURI\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"uint256\",\n              \"name\": \"zorbId\",\n              \"type\": \"uint256\"\n            },\n            {\n              \"internalType\": \"uint8[]\",\n              \"name\": \"stemPercentages\",\n              \"type\": \"uint8[]\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"bpm\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"string\",\n              \"name\": \"detune\",\n              \"type\": \"string\"\n            },\n            {\n              \"internalType\": \"address[]\",\n              \"name\": \"contractAddresses\",\n              \"type\": \"address[]\"\n            },\n            {\n              \"internalType\": \"uint256[]\",\n              \"name\": \"ids\",\n              \"type\": \"uint256[]\"\n            }\n          ],\n          \"internalType\": \"struct ZporeMetadataRenderer.ZporeRemix\",\n          \"name\": \"data\",\n          \"type\": \"tuple\"\n        }\n      ],\n      \"name\": \"purchase\",\n      \"outputs\": [],\n      \"stateMutability\": \"payable\",\n      \"type\": \"function\"\n    },\n    {\n      \"inputs\": [\n        {\n          \"internalType\": \"address\",\n          \"name\": \"zoraDrop\",\n          \"type\": \"address\"\n        },\n        {\n          \"internalType\": \"uint256\",\n          \"name\": \"newMintPricePerToken\",\n          \"type\": \"uint256\"\n        }\n      ],\n      \"name\": \"setMintPrice\",\n      \"outputs\": [],\n      \"stateMutability\": \"nonpayable\",\n      \"type\": \"function\"\n    }\n  ]\n};\n","import {triggerRefresh} from 'backend/cacheServer.js';\nimport {ZporeDropCreated} from 'decentralized/EthereumEvents.js';\nimport Web3 from 'web3';\nimport {ethers} from 'ethers';\nimport {creator} from './abi/zpore-drop-creator.js';\nimport {minter} from 'zpore/abi/zpore-minter.js';\nimport BackendQuery from 'decentralized/BackendQuery.js';\nimport {STEMS_CONTRACT} from 'stems/contract.js';\n\n\nconst PINATA_BASE = \"https://zequencer.mypinata.cloud/ipfs/\";\n\n// aka where the tokens will go--> generated by the zora drop creator contract, which was passed the\n// custom metadata renderer and minter\nexport const DROP_CONTRACT = \"0xdAA94fBd00C9a23B4e3b4f684d1103Ff1dDfF972\".toLowerCase();\nconst {deployed, abi} = minter;\n\n// the deployed creator contract contains the \"purchase\" function that we are gonna call, and pass\n// the drop contract (i.e. where the tokens go)\n\nexport const newZpore = async (signer, address, songId, remixURI, stemsData, zorbId=1, bpm, detune, mintPrice) => {\n\n    let query = new BackendQuery(STEMS_CONTRACT)\n        .from(ZporeDropCreated)\n        .select(\"dropAddress\")\n        .select(\"songId\")\n        .where(\"songId\", parseInt(songId));\n    ;\n\n    let results = await query.executeQuery();\n    if (!results[0]) {\n        // error\n        return;\n    }\n    let dropAddress = results[0].dropAddress;\n\n    let {stemIds, percentages, remixPercentages} = stemsData;\n    let contractAddresses = [];\n    for (let stemId of stemIds) {\n        contractAddresses.push(STEMS_CONTRACT);\n    }\n\n    for (let key in remixPercentages) {\n        let [contractAddress, tokenId] = key.split(\",\");\n        contractAddresses.push(contractAddress);\n        stemIds.push(parseInt(tokenId));\n        percentages.push(Math.max(0, remixPercentages[key]));\n    }\n\n    let remixData = {\n        contentURI: PINATA_BASE + remixURI,\n        coverArtURI: \"https://zequencer.mypinata.cloud/ipfs/QmWTRoQiZHNoRtkxhtzzg6Uk5HwLqdm4fLSH64s9SULEZn\",\n        zorbId,\n        stemPercentages: percentages.map(x => Math.max(0, Math.round(x))),\n        bpm: bpm.toString(),\n        detune: detune.toString(),\n        contractAddresses,\n        ids: stemIds,\n    };\n\n    console.log(\"REMIX DATA TO PUSH=\", remixData);\n\n    // we need to add the payable amount and tell them its this much\n    let args = [dropAddress, address, remixData]; //, {value: ethers.utils.parseEther(mintPrice.toString())}];\n    console.log(\"mint price=\", mintPrice);\n    let value = mintPrice * 1000000000000000000; //ethers.utils.parseEther(mintPrice.toString());\n\n    let body =  {\n            args,\n            value: value\n    };\n    console.log(\"body = \", body);\n    let resp = await fetch(\"https://zequencer.io/gasless-spore\", {\n        method: \"POST\",\n        body: JSON.stringify(body),\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        }\n    });\n    let json = await resp.json();\n    /*\n    console.log('args to use=', args);\n    // so we got the drop address, aka the first argument now we need to build the sound object\n    \n    console.log(\"abi/signer\", abi, signer);\n    console.log(\"DEPLOYED GOERLI =\", deployed.goerli);\n    const contract = new ethers.Contract(deployed.goerli, abi, signer);\n    const tx = await contract.purchase(...args);\n    let transactionHash = tx.hash;\n//    triggerRefresh(transactionHash, DROP_CONTRACT);\n*/\n\n    return json.transactionHash;\n    // first up: figure out what the contract is...\n    /*\n    console.log(\"STEMS DATA=\", stemsData);\n    remixURI = PINATA_BASE + remixURI;\n    coverURI = PINATA_BASE + coverURI;\n    const contract = new ethers.Contract(deployed.goerli, abi, signer);\n    let args = [\n            remixURI,\n            coverURI,\n            caption,\n            zorbId,\n            stemsData.stemIds, // stemIds\n            stemsData.percentages, // percentages\n    ];\n    console.log(\"ARGS TO TRANSACT=\", args);\n    const tx = await contract.purchase(\n        DROP_CONTRACT,\n        args,\n        {\n            value: 0\n        });\n\n    console.log('purchase returned', tx);\n    console.log('waiting...');\n    let transactionHash = tx.hash;\n    triggerRefresh(transactionHash, DROP_CONTRACT);\n    */\n};\n","import BackendQuery from 'decentralized/BackendQuery.js';\nimport {ethers} from 'ethers';\nimport {ERC721Transfer} from 'decentralized/EthereumEvents.js';\nimport {web3} from 'decentralized/web3.js';\nimport {DROP_CONTRACT} from './zpore.js';\nimport {creator} from './abi/zpore-drop-creator.js';\nimport {ERC721} from './abi/erc721.js';\nimport {getDropAddress} from './getDropAddress.js';\nimport { ZDK, ZDKNetwork, ZDKChain } from \"@zoralabs/zdk\";\n\nconst networkInfo = {\n    network: ZDKNetwork.Ethereum,\n    chain: ZDKChain.Goerli,\n};\nconst ZORA_API_KEY = \"ROLsxj1Z_MDY40UDQszIIw\";\nconst API_ENDPOINT = \"https://api.zora.co/graphql\";\nconst args = { \n              endPoint:API_ENDPOINT, \n              networks:[networkInfo], \n              apiKey: ZORA_API_KEY\n};\nconst zdk = new ZDK(args) // All arguments are optional\n\nexport const getZporeRemixes = async (songId, dropAddress) => {\n    if (!dropAddress) {\n        dropAddress = await getDropAddress(songId);\n    }\n\n    \n    let results = await zdk.tokens({\n        where: {\n            collectionAddresses: [dropAddress],\n        },\n        includeFullDetails: true});\n    let tokens = results.tokens.nodes.map(x => x.token);\n\n    return tokens.map(\n        x => {\n            if (!x.metadata) {\n                x.metadata = decode(x.tokenUrl);\n            }\n            return x;\n        }).filter(x => x.metadata);\n};\n\n\nexport const getTokenURI = async (tokenId, address) => {\n    const contract = new web3.eth.Contract(ERC721.abi, address);\n\n    const result = await contract.methods.tokenURI(tokenId).call();\n    return decode(result);\n}\n\nconst decode = (uri) => {\n    let starter = 'base64,';\n    if (uri.indexOf(starter) >= 0) {\n        let str = atob(uri.slice(uri.indexOf(starter) + starter.length));\n        return JSON.parse(str);\n    }\n    return \"\";\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport ScrubUX from './ScrubUX.js';\nimport SongSelector from './SongSelector.js';\nimport TextAndTime from './TextAndTime.js';\nimport MultiplayerIcon from './MultiplayerIcon.js';\nimport {isMobile} from 'react-device-detect';\nimport CloseIcon from 'components/svg/CloseIcon.js';\nimport {useTokenOwners} from 'utils/zorbs.js';\nimport ENSName from 'components/ens/ENSName.js';\nimport Clock from './Clock.js';\nimport {getZporeRemixes} from 'zpore/getZporeRemixes.js';\nimport {connect} from 'react-redux';\nimport CurveDiv from 'components/ux/CurveDiv.js';\nimport './header.scss';\nimport SimpleControls from 'components/player/SimpleControls.js';\nimport {walk, curve, relative, cut, radius} from 'components/ux/dsl.js';\n\nconst ZporeControlHeader = ({\n    hideLeaks,\n    nextLeak,\n    chooseLeak,\n    artist,\n    songId,\n    title,\n    playerRef,\n    setShowRemixes,\n    setRemixes,\n    remixes,\n    tooltip,\n    userZorbs,\n    ... props\n}) => { \n\n    let [isScrubbing, setIsScrubbing] = useState(false);\n    let [showingSongs, setShowingSongs] = useState(false);\n\n    useEffect(() => {\n        getZporeRemixes(songId)\n            .then(result => {\n                setRemixes(result);\n            });\n    }, [songId]);\n\n    let {zorbs} = useTokenOwners({account: {address: nextLeak && nextLeak.mintInfo.toAddress}});\n\n    const DROP_ALGO = [\n        [],\n        [\n            walk(140),\n            curve()\n                .start(10)\n                .end(30)\n                .tension(10)\n                .depth(40),\n            walk(30),\n            curve()\n                .start(10)\n                .end(50)\n                .tension(30)\n                .depth(-20)\n        ],\n        [\n        ],\n        [\n        ]\n    ];\n\n    let walkAmount = 160; //nextLeak ? 200 + 2*(nextLeak.song.title + nextLeak.song.artist).length : 10;\n    const DROP_ALGO_2 = [\n        [],\n        [],\n        [],\n        [\n            relative(true),\n            walk(isMobile ? 38 : 32),\n            curve()\n                .start(window.A)\n                .end(window.B)\n                .tension(window.C)\n                .depth(70),\n            walk(isMobile ? 40 : 50),\n            curve()\n                .start(10)\n                .end(12)\n                .tension(30)\n                .depth(-70)\n            ]\n    ];\n\n    let leakCreator = nextLeak && nextLeak.mintInfo.toAddress;\n\n    let zorb = zorbs && zorbs[0] && zorbs[0].image.url;\n    let userZorb = userZorbs && userZorbs[0] && userZorbs[0].image.url;\n\n    let dateLeaked = nextLeak && new Date(nextLeak.mintInfo.mintContext.blockTimestamp);\n\n    let timeElapsed = dateLeaked && new Date().getTime() - dateLeaked.getTime();\n\n    return [\n        (isScrubbing && <div className=\"scrub-backdrop\"/>),\n        (<CurveDiv\n           radius={24}\n           className={\"zpore-control-header next-leak-controller \" + (nextLeak && !tooltip ? \" showing\" : \" invisible\")}\n           algo={DROP_ALGO_2}\n          svgFilter={{def: (\n              <defs><filter id='shadow' color-interpolation-filters=\"sRGB\">\n                      <feDropShadow dx=\"5\" dy=\"3\" stdDeviation=\"3\" flood-opacity=\"0.5\"/>),\n                      \n                    </filter>\n              </defs>),\n                     name: \"url(#shadow)\"\n                    }}\n           fill=\"#ffffff33\"\n           stroke=\"transparent\">\n           <div className=\"flex z-30 flex-col  overflow-hidden inner-control\">\n             <div className=\"flex items-start\">\n               <div className=\"flex-col flex\">\n                 <div className=\"w-full pl-1 pt-4 pb-0 flex text-xs top-header\">\n                   <CloseIcon\n                     className=\"close-btn z-30 w-4 h-5 pointer-events-auto\" viewPort=\"0 0 12 12\" version=\"1.1\"\n                     onClick={() => hideLeaks(15000)}\n                   />\n                   {zorb && <img className=\"zorb-icon-1 ml-2 w-4 h-4\" src={zorb}/>} <ENSName className=\"mx-2\" address={leakCreator}/> <TextAndTime timeElapsed={timeElapsed}/>\n                 </div>\n                 {/*<div className=\"pl-3 pb-3 flex\">\n                   <span className=\"text-xs\">\n                     <span className=\"italic ml-2\">leaked</span> {leakTime(timeElapsed)} ago\n                   </span>\n                 </div>*/}\n             </div>\n               <div\n                 onClick={() => chooseLeak()}\n                 className=\"cursor-pointer flex items-start text-s ml-auto mr-2 my-auto px-3 py-1 load-into-spore bg-black text-white\">\n                 <div className=\"w-24\">play multiplayer</div> <MultiplayerIcon zorb1={zorb} zorb2={userZorb}/>\n               </div>\n             </div>\n           </div>\n         </CurveDiv>),\n        (<div\n          svgFilter={{def: (\n              <defs><filter id='shadow' color-interpolation-filters=\"sRGB\">\n                      <feDropShadow dx=\"5\" dy=\"3\" stdDeviation=\"3\" flood-opacity=\"0.5\"/>),\n                      \n                    </filter>\n              </defs>),\n                     name: \"url(#shadow)\"\n                    }}\n           relative={false}\n           radius={12} className={(showingSongs ? \"showing-songs \" : \"\") + \"zpore-control-header \" + (nextLeak ? \" \" : \"\")} algo={DROP_ALGO} fill={showingSongs ? \"#0000004a\" : \"#ffffff33\"} stroke=\"transparent\">\n           <div className=\"flex z-20 flex-col  overflow-hidden inner-control\">\n             <div\n                 onClick={() => setShowingSongs(!showingSongs)}\n               className=\"w-full px-3 py-2 flex text-sm top-header\">\n               <div className=\"text-white\">{title}</div>\n               <div\n                 className=\"ml-2 text-zinc-100 underline decoration-solid cursor-pointer\">{artist}</div>\n             </div>\n             {showingSongs && <SongSelector hide={() => setShowingSongs(false)}/>}\n             <div className={(showingSongs ? \"invisible \" : \"\") + \"w-full pt-3 px-3 pb-1 flex\"}>\n                <div className=\"flex\">\n                  {playerRef && <SimpleControls playerRef={playerRef}/>}\n                  <Clock className=\"text-white text-xs\"/>\n                </div>\n                <div onClick={() => setShowRemixes(true)} className=\"ml-auto remixes-btn text-xs  text-white\">\n                  {remixes.length} remixes \n                </div>\n              </div>\n             <ScrubUX setIsScrubbing={setIsScrubbing}/>\n           </div>\n         </div>)\n    ];\n};\n\nconst leakTime  = (time) => {\n    let minutes = time / 1000 / 60;\n    if (minutes < 60) {\n        return Math.ceil(minutes) + \" min. \";\n    }\n\n    let hours = minutes / 60;\n    if (hours < 48) {\n        return Math.ceil(hours) + \" hours \"\n    }\n\n    let days = hours / 24;\n    return Math.round(days) + \" days \";\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef,\n      a: window.A || 6,\n      b: window.B || 60,\n      c: window.C || 20\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZporeControlHeader);\n","const baseNotes = ['C', 'C#', 'D', 'D#', 'E', 'F', 'F#', 'G', 'G#','A', 'A#', 'B' ];\nconst NOTE_TO_INDEX = {\n    'C': 0,\n    'C#': 1,\n    'D': 2,\n    'D#': 3,\n    'E': 4,\n    'F': 5,\n    'F#': 6,\n    'G': 7,\n    'G#': 8,\n    'A': 9,\n    'A#': 10,\n    'B': 11,\n};\nconst octaves = [1,2,3,4,5,6,7];\n\nconst BLACK_NOTES = {\n    'C#': true, 'D#': true, 'F#': true, 'G#': true, 'A#': true\n};\n\nconst STRING_TO_NOTE = {};\n\nclass Note {\n    constructor(note, octave) {\n        if (note === undefined) {\n            note = 'C';\n        }\n        this.note = note.toUpperCase();\n        this.octave = octave;\n    }\n\n    isBlackNote() {\n        return BLACK_NOTES[this.note];\n    }\n\n    transpose(i) {\n        // what octave is it\n\n        let noteIndex = NOTE_TO_INDEX[this.note];\n        let remainder = Math.floor(modulo(i, 12));\n        let div = Math.floor(i / 12);\n        return new Note(baseNotes[remainder], this.octave + div);\n    }\n\n    addTranspose(i) {\n        let noteIndex = NOTE_TO_INDEX[this.note];\n        let remainder = Math.floor(modulo(i + noteIndex, 12));\n        let div = Math.floor((i + noteIndex) / 12);\n        return new Note(baseNotes[remainder], this.octave + div);\n    }\n\n    toString() {\n        return this.note + this.octave;\n    }\n\n    getTranspose() {\n        let noteIndex = this.noteIndex();\n        let oct = this.octave - middleC.octave;\n        let noteDifference = this.noteIndex() - middleC.noteIndex();\n        return oct*12 + noteDifference;\n    }\n\n    noteIndex() {\n        return NOTE_TO_INDEX[this.note];\n    }\n\n    getCopy() {\n        return new Note(this.note, this.octave);\n    }\n\n    equal(other) {\n        return this.note === other.note &&\n            this.octave === other.octave;\n    }\n}\n\nconst middleC  = new Note('C', 3);\n\nfunction modulo(a, b) {\n    return ((a%b)+b)%b;\n}\n\nfunction fromTranspose(transpose) {\n    return middleC.getCopy().transpose(transpose);\n}\n\nfunction fromString(str, useCache=true) {\n    if (useCache && STRING_TO_NOTE[str]) {\n        let note = STRING_TO_NOTE[str];\n        return note;\n    } \n    let note = undefined;\n    if (str.substring(1, 2) === '#') {\n        note = new Note(str.substring(0, 2), parseInt(str.substring(2)));\n    } else {\n        note = new Note(str.substring(0, 1), parseInt(str.substring(1)));\n    }\n\n    if (useCache) {\n        STRING_TO_NOTE[str] = note;\n    }\n    return note;\n}\n\nconst NOTES = baseNotes.map(\n        note => new Note(note, 3));\n\nfor (let i=0; i < 16; i++) {\n    for (let j in baseNotes) {\n        let note = baseNotes[j] + i;\n        fromString(note);\n    }\n}\n\nexport default {Note, middleC, fromString, fromTranspose, NOTES, baseNotes};\n","import Notes from 'utils/Notes.js';\n\nexport const getTransposeDiff = (a, b) => {\n    let [noteA, keyA] = a.key.split(\" \");\n    let [noteB, keyB]= b.key.split(\" \");\n\n    let noteA1 = Notes.fromString(noteA+'3');\n    let transposeA = Notes.fromString(noteA+'3').getTranspose();\n    let transposeB = Notes.fromString(noteB+'3').getTranspose();\n\n    if (transposeA > 6) {\n        transposeA = transposeA - 12;\n    }\n    if (transposeB > 6) {\n        transposeB = transposeB - 12;\n    }\n\n    return transposeA - transposeB;\n    // okay we can \n};\n \n","export const getAttributeValue = (attributes, type) => {\n    let obj = attributes.find(x => x.trait_type === type || x.traitType === type);\n    let value = obj && obj.value; \n    let parsed = parseFloat(value);\n    if (!isNaN(parsed)) {\n        return parsed;\n    }\n    return value;\n};\n\nexport const getAttributeMapping = (attributes) => {\n    if (!attributes) {\n        return {};\n    }\n    let keys = attributes.map(x => x.trait_type || x.traitType);\n    let obj = {};\n    for (let key of keys) {\n        obj[key] = getAttributeValue(attributes, key);\n    }\n    return obj;\n};\n","import {fetchSongMetadata} from 'stems/getStems.js';\nimport {getZorb} from 'utils/getZorb.js';\nimport {getTransposeDiff} from 'stems/getTransposeDifference.js';\nimport {getZporeRemixes} from 'zpore/getZporeRemixes.js';\nimport {getAttributeMapping} from 'erc721/attributes.js';\nimport {INSTRUMENTS, BASS, DRUMS} from 'constants/stem-types.js';\n\nlet lastArgs = {};\nwindow.execute = () => {\n    multiplayer(lastArgs.songId, lastArgs.leak);\n};\nexport const multiplayer = async (songId, leak) => {\n    lastArgs = {songId, leak};\n    // given songId we can grab that\n    // current osng\n    let song = await fetchSongMetadata(window.songId, true);\n    let otherSong = leak.song; \n    let remix = leak;\n\n    let dropAddress = otherSong.dropAddress;\n    let tokenId = parseInt(leak.tokenId);\n\n    let songOffset = parseInt(song.attributes[\"start-time\"])/1000;\n    let otherSongOffset = parseInt(otherSong.attributes[\"start-time\"] || 33)/1000;\n\n\n    let {detune, bpm, zorb} = leak.attributes;\n    let leakBPM = bpm;\n    let bpms = [bpm, 2*bpm, bpm/2];\n\n    bpms.sort((a,b) => Math.abs(song.bpm - a) - Math.abs(song.bpm - b));\n    bpm = bpms[0];\n    let transposeOff = 0;\n    if (bpm < leak.attributes.bpm) {\n        if (Math.abs(leak.attributes.bpm - song.bpm) < 35) {\n            bpm = bpms[1];\n            transposeOff = -12;\n        }\n    }\n\n\n    if (song.bpm > 80 && song.bpm < 110) {\n        // then we need to never allow hyper fast bpms which are just insane\n        if (leak.attributes.bpm > 90) {\n            bpm = leak.attributes.bpm;\n            if (leak.attributes.bpm >= 110) {\n                transposeOff = -12;\n            }\n        }\n    }\n\n    let bpmRatio = otherSong.bpm / bpm;\n    let adjustedOffset = bpmRatio * otherSongOffset; // how much it has to pitch down from OG other song\n    let offsetDifference = otherSongOffset - songOffset;\n\n    // how many semitones we need to pitch this to match this current song\n    // note: this remix is from this same song so it\n    let semitones = detune / 100; \n\n    // say this sample is +6st then we need to pitch it down -6st\n    let transpose = getTransposeDiff(song, otherSong) - semitones;\n    if (transpose >= 12) {\n        transpose = transpose % 12;\n    } else if (transpose >= 6) {\n        transpose -= 12;\n    } else if (transpose < -6) {\n        transpose += 12;\n    }\n\n    if (bpm < otherSong.bpm && bpm)  {\n    }\n    transpose += transposeOff;\n\n    let id = remix.metadata.animation_url;\n    let sound = await remix.downloadedAudio; // wait for promise\n\n    // the information needed by the player to load this correctly\n    let payload = {\n        sound: sound,\n        id,\n        transpose,\n        onset: adjustedOffset,\n        volume: 0.5,\n        bpm: bpm,\n        contractAddress: dropAddress,\n        tokenId,\n        leakBPM,\n        stemTypes: [INSTRUMENTS, BASS, DRUMS] // what to replace\n    };\n\n    // send this to the player and have it replace the instrumental\n    window.playerRef.current.contentWindow.postMessage({\n        type: \"load-stem\",\n        body: payload\n    }, \"*\");\n\n    getZorb(zorb).then(\n        uri => {\n            let starter = 'base64,';\n            if (uri.indexOf(starter) >= 0) {\n                let str = atob(uri.slice(uri.indexOf(starter) + starter.length));\n                window.playerRef.current.contentWindow.postMessage({\n                    type: \"incoming-zorb\",\n                    body: str\n                }, \"*\");\n            }\n        });\n\n};\n\nwindow.multiplayer = multiplayer;\n","import React, {useEffect, useCallback} from 'react';\n\nexport const useZporePlaybackListener = ({setPlayStatus}) =>{\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, []);\n\n\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"jacker-status\") {\n            setPlayStatus(e.data.body);\n        }\n    }, []);\n\n};\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport Circular from 'components/progressbar/Circular.js';\nimport {connect} from 'react-redux';\nimport {useInterval} from 'components/hooks/useInterval.js';\n\nconst ZporeLoading = ({setFinished, playerRef}) => { \n    let [percentage, setPercentage] = useState(0);\n    let interval = useRef([]);\n    let progress = useRef(0);\n    let shownProgress = useRef(0);\n    let velocity = useRef(1);\n    \n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, [setPercentage, percentage, setFinished, playerRef]);\n\n\n    const onTick = useCallback(() => {\n        if (shownProgress.current > 94) {\n            velocity.current *= 0.99;\n        }\n        let x = shownProgress.current+velocity.current*0.1;\n        setPercentage(x);\n        shownProgress.current = x;\n    }, [setPercentage]);\n\n    useInterval(onTick, 20);\n\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"loading-progress\") {\n            velocity.current = Math.min(7, Math.max(4.5, (e.data.body - progress.current)/10));\n            progress.current = e.data.body;\n            if (shownProgress.current > progress.current) {\n                velocity.current *= 0.5;\n            }\n        }\n        if (e.data === \"Finished Loading Project\") {\n            if (playerRef) {\n                console.log(\"acknowledging\");\n                playerRef.current.contentWindow.postMessage({\n                    \"type\": \"finished-acknowledged\",\n                    body: true\n                }, \"*\");\n            }\n            setFinished(true);\n        }\n    }, [setPercentage, setFinished, percentage, playerRef]);\n    \n    return (\n        <Circular percentage={percentage} radius={155}/>\n        );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZporeLoading);\n","import React from 'react';\nexport const SHADOW_FILTER = {\n    def: (\n        <defs><filter id='shadow' color-interpolation-filters=\"sRGB\">\n                <feDropShadow dx=\"5\" dy=\"3\" stdDeviation=\"3\" flood-opacity=\"0.5\"/>),\n\n                \n              </filter>\n        </defs>\n),\nname: \"url(#shadow)\"\n};\n\nexport const SHADOW_NOISE_FILTER = {\n    def: (\n        <defs><filter id='shadow' color-interpolation-filters=\"sRGB\">\n                <feDropShadow dx=\"5\" dy=\"3\" stdDeviation=\"3\" flood-opacity=\"0.5\"/>),\n                \n              </filter>\n        </defs>\n),\nname: \"url(#shadow)\"\n};\n\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Colors from 'components/Colors.js';\nimport './remix-dna.scss';\nconst stc = require('string-to-color');\n\nconst colors = new Colors();\n\n\nconst color = (t) => {\n    return colors.saturate(stc(t), 4, 1, 50);\n};\n\nconst SIZE = 50;\n\nconst RemixDNADetails = ({remix, remixDNA, attributes}) => { \n    console.log(\"attributes=\", attributes);\n    console.log(\"remixDNA=\", remixDNA);\n    console.log('remix=', remix);\n\n    let stemKeys = Object.keys(attributes).filter(x => x.includes(\"Stem\"));\n\n    let stems = {};\n    for (let key of stemKeys) {\n        let [stem, contractAddress, tokenId] = key.split(\" \");\n        if (!stems[contractAddress]) {\n            stems[contractAddress] = [];\n        }\n        let value = attributes[key];\n        stems[contractAddress].push({\n            contractAddress,\n            tokenId: parseInt(tokenId.slice(1)),\n            percentage: value\n        });\n    }\n    console.log(\"STEMS parsed=\", stems);\n    return (\n        <div className=\"remix-dna-details relative\">\n        {Object.keys(stems).map(\n            contractAddress =>\n            <div className=\"contract-container\">\n            {stems[contractAddress].map(\n                remixAtom =>\n                <div\n                style={{\n                    width: SIZE * remixAtom.percentage / 100,\n                    height: SIZE * remixAtom.percentage / 100,\n                    borderRadius: SIZE * remixAtom.percentage / 100,\n                    backgroundColor: color(contractAddress + ' ' + remixAtom.tokenId)\n                }}\n                  className=\"remix-atom\">\n                </div>)}\n            </div>\n        )}\n          <div className=\"remix-bpm text-xs rounded-full px-3 flex absolute bottom-2 right-2\">\n            <span className=\"mr-2 \">BPM</span>\n            <span className=\"text-zinc-100\">{Math.round(attributes[\"bpm\"])}</span>\n          </div>\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RemixDNADetails);\n","import React from  'react';\nimport {SHADOW_FILTER} from 'components/ux/filters.js';\nimport CurveDiv from 'components/ux/CurveDiv.js';\nimport {walk, curve, relative, cut, radius} from 'components/ux/dsl.js';\n\nexport const AlgorithmicCurve = ({fill, relative, params, className, children, svgFilter}) => {\n    return (\n        <CurveDiv\n          svgFilter={svgFilter || SHADOW_FILTER}\n          fill={fill || \"#ffffff29\"}\n          stroke=\"#ffffff26\"\n          relative={relative || false} algo={curveAlgorithm(params)} radius={params.radius} className={className}>\n          {children}\n        </CurveDiv>);\n \n};\n\nexport const curveAlgorithm = (params) => {\n    return [\n        [\n            walk(params.walk1),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(params.depth1a),\n            walk(params.walk2),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(-params.depth1b)\n        ],\n        [],\n        [\n            walk(params.walk3),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(params.depth2a),\n            walk(params.walk4),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(-params.depth2b)\n        ],\n        [\n        ]\n    ];\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {SHADOW_NOISE_FILTER} from 'components/ux/filters.js';\nimport {getAttributeMapping} from 'erc721/attributes.js';\nimport RemixDNADetails from './RemixDNADetails.js';\nimport {AlgorithmicCurve} from './curve-algorithms.js';\nimport DatGui, { DatBoolean, DatColor, DatNumber, DatString } from 'react-dat-gui';\nimport {connect} from 'react-redux';\n\nconst RemixDetails = ({remix}) => { \n     const [params, setParams] = useState({\n        a: 10,\n        b: 17,\n        c: 12,\n        walk1: 24,\n        walk2: 41,\n        walk3: 65,\n        walk4: 0,\n        depth1a: 10,\n        depth1b: 10,\n        depth2a: 10,\n        depth2b: 12,\n        radius: 52,\n    });\n\n    const guiUpdate = (newData) => setParams({ ...params, ...newData });\n        /*<DatGui data={params} onUpdate={guiUpdate} liveUpdate={true}>\n            <DatNumber path=\"a\" label=\"a\" min={0} max={100} step={1} />\n            <DatNumber path=\"b\" label=\"b\" min={0} max={100} step={1} />\n            <DatNumber path=\"c\" label=\"c\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk1\" label=\"walk1\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk2\" label=\"walk2\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk3\" label=\"walk3\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk4\" label=\"walk4\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth1a\" label=\"depth1a\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth1b\" label=\"depth1b\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth2a\" label=\"depth2a\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth2b\" label=\"depth2b\" min={0} max={100} step={1} />\n            <DatNumber path=\"radius\" label=\"radius\" min={0} max={100} step={1} />\n\n            </DatGui>*/\n \n    return (\n         \n        <AlgorithmicCurve svgFilter={SHADOW_NOISE_FILTER} fill=\"#323131bf\" relative={true} params={params} className=\"remix-details\">\n          <div className=\"inner-details p-5 flex-1 flex flex-col z-30\">\n            <div className=\"name-text mb-3 text-lg\">{formatName(remix.metadata.name)}</div>\n            <div className=\"token-text mb-3 text-lg\">{formatToken(remix.tokenId)}</div>\n            <img className=\"logo-small\" src=\"/Subtract.svg\"/>\n            <RemixDNADetails remix={remix} attributes={getAttributeMapping(remix.attributes)} remixDNA={remix.metadata.remixDNA}/>\n          </div>\n        </AlgorithmicCurve>);\n};\n\nconst formatName = (x) => {\n    return x.slice(0, x.indexOf(\"(\"));\n};\n\n\nconst formatToken = (x) => {\n    x = x.toString()\n    while (x.length < 4) {\n        x = '0' + x;\n    }\n    return x;\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(RemixDetails);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {getZorb} from 'utils/getZorb.js';\n\nconst Zorb = ({zorbId, ...props}) => { \n    let [zorb, setZorb] = useState(undefined);\n    useEffect(() => {\n        if (zorbId !== undefined) {\n            getZorb(zorbId).then(setZorb);\n        }\n    }, [setZorb, zorbId]);\n\n    if (!zorb) {\n        return '';\n    }\n    return (<img {... props} src={zorb}/>);\n}\n\nexport default Zorb;\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {useInterval} from 'components/hooks/useInterval.js';\nimport {connect} from 'react-redux';\n\nconst ScrubBar = ({audioPlayer, startTime, isPlaying} ) => { \n    let [percentage, setPercentage] = useState(0);\n\n    const onTick = useCallback(() => {\n        if (isPlaying) {\n            setPercentage(((new Date().getTime() - startTime.current)/1000)/(audioPlayer.buffer.duration)*100 % 100);\n        }\n    }, [isPlaying, audioPlayer]);\n    useInterval(onTick, 20);\n    return (\n        <div className=\"scrub-bar bg-black h-4 w-full\">\n          <div\n            style={{left: .9*percentage + \"%\"}}\n            className=\"playhead w-8 h-8 bg-white\">\n          </div>\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ScrubBar);\n","import ENSName from 'components/ens/ENSName.js';\nimport ShareButton from 'components/nft-jacker/ShareButton.js';\nimport Tone from 'tone';\nimport PlayButton from 'components/buttons/PlayButton.js';\nimport RemixDetails from './RemixDetails.js';\nimport React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport LoadingRemix from './LoadingRemix.js';\nimport Zorb from './Zorb.js';\nimport ScrubBar from './ScrubBar.js';\nimport './currently-playing.scss';\n\nconst CurrentlyPlaying = ({songId, remixId, startTime, audioPlayer, loading, togglePlay, isPlaying, seek, playing, remixStats}) => { \n    let [fullscreen, setFullScreen] = useState(false);\n    let [showShareModal, setShowModal] = useState(false);\n\n    useEffect(() => {\n        if (playing && !loading) {\n            setFullScreen(true);\n        }\n    }, [playing, loading]);\n    \n    if (!playing) {\n        return '';\n    }\n    let zorbId = playing && playing.metadata.attributes.find(x => x.trait_type === 'zorb').value;\n    let genImg = playing.metadata.image;\n    return (\n        [\n            fullscreen &&\n                <div className=\"fullscreen-backdrop\"\n                     onClick={() => setFullScreen(false)}\n                >\n                  <ShareButton\n                    setShowModal={setShowModal}\n                    type=\"remix\"\n                    showShareModal={showShareModal}\n                    url={\"spores.vision/zp/\" + songId + \"/\" + remixId}\n                    lowerGradInverted={\"black\"}\n                    buttonBgColor={\"white\"}/>\n                  {!showShareModal && <RemixDetails stats={remixStats[playing.tokenId]} remix={playing}/>}\n                </div>,\n        <div className=\"currently-playing\">\n          {loading && <LoadingRemix/>}\n          {!loading && <PlayButton resume={true} play={(x) => {\n              togglePlay(x);\n          }} isPlaying={isPlaying}/>}\n          {!loading && <ScrubBar audioPlayer={audioPlayer} startTime={startTime} isPlaying={isPlaying}/>}\n          {!loading && <img onClick={() => setFullScreen(true)} src={genImg} className=\"gen-img pushable\"/>}\n          {!loading && playing && !loading && <Zorb className=\"zorb\" zorbId={zorbId}/>}\n          {!loading && <ENSName address={playing.owner}/>}\n\n        </div>\n            ]\n        );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(CurrentlyPlaying);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Colors from 'components/Colors.js';\nimport './traits.scss';\n\nconst stc = require('string-to-color');\n\nconst colors = new Colors();\n\n\nconst color = (t) => {\n    return colors.saturate(stc(t), 4, 1, 50);\n};\n\nconst StemTraits = ({traits}) => { \n    return (\n        <div className=\"stem-traits\">\n          {traits\n           .filter(x => x.trait_type.includes(\"Stem\"))\n           .map(({trait_type, value})=>\n            <div\n              style={{\n                  //color: colors.getBrightness(stc(trait_type)) < 150 ? \"white\" : \"black\",\n                  backgroundColor: color(trait_type)}}\n              className=\"stem-trait\">\n              {/*<div className=\"value\">{value}</div>*/}\n              </div>)}\n          {/*traits\n           .filter(x => x.trait_type.includes(\"bpm\"))\n           .map(({trait_type, value})=>\n            <div\n              style={{\n                  //color: colors.getBrightness(stc(trait_type)) < 150 ? \"white\" : \"black\",\n                  borderColor: color(trait_type)}}\n              className=\"stem-trait\">\n              <div className=\"type\">{trait_type}</div>\n              <div className=\"value\">{roundBPM(value)}</div>\n              </div>)*/}\n        </div>);\n};\n\nconst roundBPM = (bpm) => {\n    bpm = parseFloat(bpm);\n    return Math.round(bpm * 10) / 10;\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StemTraits);\n","export const getSegmentedPath = (x1, y1, x2, y2) => {\n    if (y2 > y1) {\n        return [\n            x1, y1,\n\n            x1, (0.75*y1 + 0.25*y2),\n            x1, (0.75*y1 + 0.25*y2 + 1),\n\n            x1, (0.5*y1 + 0.5*y2),\n            x1, (0.5*y1 + 0.5*y2 + 1),\n            \n            x2, (0.5*y1 + 0.5*y2),\n            x2, (0.5*y1 + 0.5*y2 + 1),\n\n            x2, (0.25*y1 + 0.75*y2 + 0),\n            x2, (0.25*y1 + 0.75*y2 + 1),\n\n            x2, y2-2,\n            x2, y2];\n    }  else {\n        // dont wanna interect the node\n        return [\n            x1, y1,\n\n            x1, y1 + 15,\n            x1, y1 + 16,\n\n            x1, y1 + 30,\n            x1, y1 + 31,\n\n            x1*0.5 + x2*0.5, y1 + 30,\n            x1*0.5 + x2*0.5, y1 + 31,\n\n            x1*0.5 + x2*0.5, (.5*y1 + .5*y2) + 30,\n            x1*0.5 + x2*0.5, (.5*y1 + .5*y2) + 31,\n\n            x1*0.5 + x2*0.5, y2 - 30,\n            x1*0.5 + x2*0.5, y2 - 31,\n\n            x2, y2 - 30,\n            x2, y2 - 31,\n\n            x2, y2 - 16,\n            x2, y2 - 15,\n\n            x2, y2 - 2,\n            x2, y2];\n    }\n};\n\nexport const getPath = (x1,y1,x2,y2, isHorizontal) => {\n    let y_a = 40;\n    let y_b = 100;\n    if (y2 < y1) {\n        y_a = 80;\n    }\n\n    if (isHorizontal) {\n        return [\n            x1, y1,\n            x1, y1 + y_a,\n            x2 - y_b, y2,\n            x2, y2,\n        ];\n    } \n\n    return [\n        x1, y1,\n        x1, y1 + y_a,\n        x2, y2 - y_b,\n        x2, y2];\n};\n\nconst fl = (x) => Math.floor(x);\n\nexport const getPathString = (points) => {\n    let d = \"M \" + fl(points[0]) + ' ' + fl(points[1]);\n    let pts = \"\";\n    for (let i=2 ; i < points.length - 1; i+=2) {\n        pts += (fl(points[i]) + ' ' + fl(points[i+1])) + ' ';\n    }\n    let command = \"C\";\n    let u = d + \" \" + command + \" \" + pts;\n    return u;\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {getSegmentedPath, getPath, getPathString} from './getPath.js';\nimport {connect} from 'react-redux';\nimport './roots.scss';\nconst SporeRoots = ({refs, rootRef}) => { \n    if (!rootRef || !rootRef.current) {\n        return;\n    }\n    return (<svg className=\"spore-roots\">\n            {refs.map(\n                (ref,i) => <SporeBranch refs={refs} to={ref} from={rootRef} i={i}/>)}\n            </svg>);\n};\n\nconst SporeBranch = ({to, from, refs, i}) => {\n    let [positions, setPositions] = useState();\n\n    useEffect(() => {\n        let toRect = to.current.getBoundingClientRect();\n        let fromRect = from.current.getBoundingClientRect();\n        setPositions([fromRect.left+0.5*fromRect.width+0.5*(toRect.left-fromRect.left)/600*fromRect.width, fromRect.top+fromRect.height, toRect.left+25, toRect.top]);\n    }, [refs, i]);\n\n    if (!positions) {\n        return [];\n    }\n    let [x1,y1,x2,y2] = positions;\n    let path = getPath(x1,y1,x2,y2);\n    let d = getPathString(path);\n    return [\n        <path d={d} className=\"not-dashed\"/>,\n        <path d={d} className=\"dashed\"/>,\n    ];\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SporeRoots);\n","export const getLeakTime = (leak) => {\n    let dateLeaked = new Date(leak.mintInfo.mintContext.blockTimestamp);\n\n    let timeElapsed = dateLeaked && new Date().getTime() - dateLeaked.getTime();\n    return leakTime(timeElapsed);\n};\n\nconst leakTime  = (time) => {\n    let minutes = time / 1000 / 60;\n    if (minutes < 60) {\n        return Math.ceil(minutes) + \" min. \";\n    }\n\n    let hours = minutes / 60;\n    if (hours < 48) {\n        return Math.ceil(hours) + \" hours \"\n    }\n\n    let days = hours / 24;\n    return Math.round(days) + \" days \";\n};\n\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {getLeakTime} from '../header/getLeakTime.js';\nimport Tone from 'tone';\nimport {AlgorithmicCurve} from './curve-algorithms.js';\nimport StemTraits  from './StemTraits.js';\nimport ENSName from 'components/ens/ENSName.js';\nimport {getZorb} from 'utils/getZorb.js';\nimport {SHADOW_FILTER} from 'components/ux/filters.js';\nimport CurveDiv from 'components/ux/CurveDiv.js';\nimport {walk, curve, relative, cut, radius} from 'components/ux/dsl.js';\n\nexport default ({params, stats={}, refs, setRefs, remix, playing, audioPlayer, setPlaying, isPlaying, togglePlay, play}) => {\n    const ref = useRef();\n    let [hover, setHover] = useState(false);\n    const [zorb, setZorb] = useState();\n    const [data, setData] = useState();\n    useEffect(() => {\n        let metadata = remix.metadata;\n        setData(metadata);\n        let zorbId = metadata.attributes.find(x => x.trait_type === \"zorb\").value;\n        getZorb(zorbId).then(setZorb);\n    }, [remix]);\n\n    useEffect(() => {\n        if (zorb && !refs.includes(ref)) {\n            setRefs([... refs, ref]);\n        }\n    }, [zorb, refs, setRefs]);\n\n    if (!data) {\n        return '';\n    }\n\n    let traits = data.attributes;\n\n    const DROP_ALGO = [\n        [\n            walk(params.walk1),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(params.depth1a),\n            walk(params.walk2),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(-params.depth1b)\n        ],\n        [],\n        [\n            walk(params.walk3),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(params.depth2a),\n            walk(params.walk4),\n            curve()\n                .start(params.a)\n                .end(params.b)\n                .tension(params.c)\n                .depth(-params.depth2b)\n        ],\n        [\n        ]\n    ];\n\n\n    return (\n        <AlgorithmicCurve params={params} className={playing === remix ? \"zorb-remix-option playing\" : \"zorb-remix-option\"}>\n        <div\n          className=\"z-30 flex flex-col w-full cursor-pointer inner-card\"\n          onClick={async () => {\n              await Tone.Master.context._context.resume();\n              setPlaying(remix);\n          }}\n              ref={ref}>\n              <div className=\"inner\">\n                <StemTraits traits={traits}/>\n                {zorb && <img onMouseOver={() => setHover(true)} onMouseLeave={() => setHover(false)} className=\"zorb-image\" src={zorb}/>}\n                <div className=\"token-id\">{remix.tokenId}</div>\n                {/*<div className=\"caption\">\n                <img src={remix.metadata.image}/>\n                </div>*/}\n              </div>\n              <div className={hover ? \"hover-name show\" : \"hover-name\"}><ENSName address={remix.owner}/></div>\n          <div className=\"pt-1 leak-time flex text-xs text-center mx-auto color-zinc-200\">\n            <span className=\"mx-auto\">\n              {getLeakTime(remix)} ago\n            </span>\n          </div>\n          {stats.deepRemixes > 0 && <div className=\"pt-1 remixes-count mt-auto flex mx-auto rounded-full px-3 text-xs\">\n                                          {stats.deepRemixes} <span className=\"mt-0.5 ml-1\"></span></div>}\n              {playing && <div\n                            onClick={(e) => {\n                                e.stopPropagation();\n                                togglePlay();\n                                // audioPlayer.stopSound()\n                                setPlaying(undefined);\n                            }}\n\n                            className=\"pause-button\"/>}\n            </div>\n        </AlgorithmicCurve>\n    );\n};\n\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {SHADOW_FILTER} from 'components/ux/filters.js';\nimport DatGui, { DatBoolean, DatColor, DatNumber, DatString } from 'react-dat-gui';\nimport CurveDiv from 'components/ux/CurveDiv.js';\nimport {walk, curve, relative, cut, radius} from 'components/ux/dsl.js';\nimport CurrentlyPlaying from './CurrentlyPlaying.js';\nimport StemTraits  from './StemTraits.js';\nimport ENSName from 'components/ens/ENSName.js';\nimport ipfs from 'decentralized/Ipfs.js';\nimport {getZorb} from 'utils/getZorb.js';\nimport {connect} from 'react-redux';\nimport \"./zorb-remix-view.scss\";\nimport SporeRoots from './SporeRoots.js';\nimport RemixCard from './RemixCard.js';\nimport {getSongTitle} from 'stems/getStems.js';\n\nconst ZorbRemixView = ({\n    togglePlay,\n    isPlaying,\n    play,\n    remixStats, songId, remixes, hide, audioPlayer, setPlaying, playing}) => { \n    let [refs, setRefs] = useState([]);\n    let rootRef = useRef();\n    const [params, setParams] = useState({\n        a: 10,\n        b: 17,\n        c: 12,\n        walk1: 31,\n        walk2: 13,\n        walk3: 39,\n        walk4: 0,\n        depth1a: 10,\n        depth1b: 10,\n        depth2a: 10,\n        depth2b: 12,\n        radius: 14,\n    });\n\n    let [artist, setArtist] = useState('');\n    let [title, setTitle] = useState('');\n\n    useEffect(() => {\n        if (songId !== undefined) {\n            getSongTitle(songId).then(({artist, title}) => {\n                setArtist(artist);\n                setTitle(title);\n            });\n        }\n    }, [songId, setArtist, setTitle]);\n\n    const DROP_ALGO = [\n        [],\n        [\n            walk(10),\n            curve()\n                .start(8)\n                .end(15)\n                .tension(20)\n                .depth(90),\n            walk(10),\n            curve()\n                .start(8)\n                .end(15)\n                .tension(20)\n                .depth(-90)\n        ],\n        [\n        ],\n        [\n        ]\n    ];\n\n    const guiUpdate = (newData) => setParams({ ...params, ...newData });\n\n\n    return (\n        <div className=\"zorb-remix-view\">\n          {/*\n          <DatGui data={params} onUpdate={guiUpdate} liveUpdate={true}>\n            <DatNumber path=\"a\" label=\"a\" min={0} max={100} step={1} />\n            <DatNumber path=\"b\" label=\"b\" min={0} max={100} step={1} />\n            <DatNumber path=\"c\" label=\"c\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk1\" label=\"walk1\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk2\" label=\"walk2\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk3\" label=\"walk3\" min={0} max={100} step={1} />\n            <DatNumber path=\"walk4\" label=\"walk4\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth1a\" label=\"depth1a\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth1b\" label=\"depth1b\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth2a\" label=\"depth2a\" min={0} max={100} step={1} />\n            <DatNumber path=\"depth2b\" label=\"depth2b\" min={0} max={100} step={1} />\n            <DatNumber path=\"radius\" label=\"radius\" min={0} max={100} step={1} />\n\n          </DatGui>\n           */}\n          {/*<SporeRoots rootRef={rootRef} refs={refs}/>*/}\n          <div onClick={hide} className=\"back-btn\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"currentColor\" class=\"bi bi-arrow-left\" viewBox=\"0 0 16 16\"> <path fill-rule=\"evenodd\" d=\"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z\"/> </svg>\n          </div>\n          <CurveDiv svgFilter={SHADOW_FILTER} className=\"ancestral-source\" fill=\"black\" stroke=\"transparent\" algo={DROP_ALGO} radius={32}>\n            <div ref={rootRef} className=\"pt-3 z-30 flex\">\n              <div className=\"song-name\">\n                {title}\n              </div>\n              <div className=\"artist-name\">\n                {artist}\n              </div>\n            </div>\n          </CurveDiv>\n          <div className=\"zorb-children\">\n            {[... remixes].reverse().map(\n                x => <RemixCard\n                       params={params}\n                       togglePlay={togglePlay}\n                       isPlaying={isPlaying}\n                       play={play}\n                       stats={remixStats[x.tokenId]}\n                       audioPlayer={audioPlayer}\n                       refs={refs}\n                       setPlaying={setPlaying} playing={playing} setRefs={setRefs} remix={x}/>)}\n          </div>\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZorbRemixView);\n","import React, { useEffect, useRef, useCallback, useState} from 'react';\nimport {getDropAddress} from 'zpore/getDropAddress.js';\nimport CurrentlyPlaying from './CurrentlyPlaying.js';\nimport {PLAYING} from 'constants/play-statuses.js';\nimport {togglePlayback} from 'player/controls.js';\nimport {useAudioPlayer} from 'components/hooks/useAudioPlayer.js';\nimport ipfs from 'decentralized/Ipfs.js';\nimport AudioUnit from 'engine/audio.js';\nimport {REMIX_COLLECTION_ADDRESS} from 'constants/zpore-addresses.js';\nimport {getZporeRemixes} from 'zpore/getZporeRemixes.js';\nimport {connect} from 'react-redux';\nimport ZorbRemixView from './ZorbRemixView.js';\nimport './remixes.scss';\n\nconst ZorbRemixes = ({remixes, remixId, songId, show, setRemixId, setShow, playerRef, playStatus}) => { \n    let [soundURL, setSoundURL] = useState();\n    let [autoPlay, setAutoPlay] = useState(true);\n    let {audioPlayer, stop, loading, togglePlay, startTime, isPlaying, play} = useAudioPlayer(soundURL, autoPlay, true);\n    let [playing, setPlaying] = useState();\n    let [remixStats, setRemixStats] = useState({});\n    let alreadyLoaded = useRef(false);\n\n    useEffect(() => {\n        if (playerRef && playerRef.current && playerRef.current.contentWindow) {\n            playerRef.current.contentWindow.postMessage({\n                type: \"sleep-ui\",\n                body: show ? 1 : 0\n            }, \"*\");\n        }\n    }, [show, playerRef]);\n\n    useEffect(() => {\n        if (playing) {\n            setRemixId(playing.tokenId);\n        }\n    }, [playing, setRemixId]);\n\n    useEffect(() => {\n        if (!songId) {\n            return;\n        }\n        console.log('songId=', songId);\n        getDropAddress(songId).then(\n            async dropAddress => {\n                let url = 'https://zequencer.io/searchRemixes/' + dropAddress;\n                let res = await fetch(url);\n                let json = await res.json();\n                console.log(\"STATS=\",json);\n                setRemixStats(json);\n            });\n    }, [songId]);\n\n    useEffect(() => {\n        if (!show && playing) {\n            stop();\n            setPlaying(undefined);\n        }\n    }, [setPlaying, playing, show, stop]);\n\n    useEffect(() => {\n        if (remixId === undefined) {\n            alreadyLoaded.current = true;\n        }\n    }, []);\n\n    useEffect(() => {\n        if (remixId !== undefined && !alreadyLoaded.current) {\n            setAutoPlay(false);\n            let remix = remixes.find(x => x.tokenId === remixId);\n            if (remix) {\n                setPlaying(remix);\n                alreadyLoaded.current = true;\n            }\n\n        }\n    }, [setAutoPlay, remixId, setPlaying, remixes]);\n\n\n    useEffect(() => {\n        if (playing) {\n            let sound = playing.metadata.animation_url;\n            setSoundURL(sound);\n        } else {\n            setSoundURL(undefined);\n        }\n    }, [playing, audioPlayer, remixes, setSoundURL]);\n\n    useEffect(() => {\n        if (show && playStatus === PLAYING) {\n            togglePlayback(playerRef.current);\n        }\n    }, [show, playStatus, playerRef]);\n\n    if (show) {\n        return [<ZorbRemixView\n                  remixStats={remixStats}\n                  songId={songId}\n                  audioPlayer={audioPlayer}\n                  setAutoPlay={setAutoPlay}\n                  isPlaying={isPlaying}\n                  togglePlay={togglePlay}\n                  play={play}\n                  playing={playing}\n                  setPlaying={(x) => {\n                      setAutoPlay(true);\n                      setPlaying(x);\n                  }}\n                 hide={() => {\n                     if (audioPlayer) {\n                         audioPlayer.stopSound();\n                     }\n                     setShow(false);\n                     setRemixId(undefined);\n                 }} remixes={remixes}/>,\n                <CurrentlyPlaying\n                  songId={songId}\n                  remixId={remixId}\n                  remixStats={remixStats}\n                  startTime={startTime}\n                  loading={loading}\n                  isPlaying={isPlaying}\n                  togglePlay={togglePlay}\n                  playing={playing}\n                  audioPlayer={audioPlayer}/>];\n    }\n    return '';\n    /*\n    return (\n        <div\n          onClick={() => setShow(true)}\n          className=\"remixes-button\">\n          <span>{remixes.length} Remixes </span>\n        </div>);\n        */\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef,\n      playStatus: state.playback.playStatus\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZorbRemixes);\n","\nexport const togglePlayback = (player) => {\n    console.log('toggling playback');\n    player.contentWindow.postMessage({\n        type: \"toggle-play\",\n        body: true\n    }, \"*\");\n};\n\n","export const STOPPED = 0;\nexport const PLAYING = 1;\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './animation.scss';\n\nconst ZorbAnimation = ({zorbStartPosition}) => { \n    let {image, x, y} = zorbStartPosition;\n    let [animating, setAnimating] = useState(false);\n\n    const set = (property, value) => {\n        property = '--' + property;\n        document.documentElement.style.setProperty(property, value);\n    };\n\n    useEffect(() => {\n        let width = window.innerWidth;\n        let height = window.innerHeight;\n        set(\"zorb-start-x\", x+-25+'px');\n        set(\"zorb-start-y\", y+-25+'px');\n        set(\"zorb-mid-x\", width/2-25+'px');\n        set(\"zorb-mid-y\", width/2-25+'px');\n        set(\"zorb-end-x\", width/2-25+'px');\n        set(\"zorb-end-y\", height/2-25+'px');\n        setAnimating(true);\n        setTimeout(() => {\n            setAnimating(false);\n        }, 1000);\n    }, [zorbStartPosition, x, y, setAnimating]);\n\n    if (!animating) {\n        return '' ;\n    }\n\n    return (<img\n              style={{left: x, top: y}}\n              className=\"zorb-animation animate-it\" src={image}/>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZorbAnimation);\n","\nexport const useFlags = () => {\n    window.PLAYLIST_FLAG = true;\n    window.CHARTS_FLAG = true;\n    window.TOKEN_LOCK_FLAG = true;\n    window.LOCAL_BACKEND_FLAG = true;\n    window.CHILLRX_FLAG = false;\n    window.ABOUT_TO_END_FLAG = false;\n    window.TEST_REMIX_UPLOAD_FLAG = false;\n    window.OWN_FAKE_SPORE_FLAG = window.location.hostname === \"localhost\";\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport UnknownProgressBar from 'components/progressbar/UnknownProgressBar.js';\n\n\nconst SavingProgressInfo = ({\n    hide,\n    download,\n    transaction,\n    downloading,\n    isWaitingForSignature\n}) => { \n    if (downloading) {\n        return (\n            <div className=\"download-test downloading\">\n              <UnknownProgressBar/>\n            </div> \n        );\n    } else if (isWaitingForSignature) {\n        return (\n            <div className=\"waiting download-test\">\n              We are transmitting your remix on-chain.\n              <div className=\"test-net\">\n                This is on a test-network, as we develop this.\n              </div>\n              <UnknownProgressBar/>\n            </div> \n        );\n    } else {\n        return (<div className=\"download-test\">\n         <span>Your remix is now beaming into other spores. Download your remix <a target=\"_blank\" href={\"https://zequencer.mypinata.cloud/ipfs/\" + download}>here</a>. </span>\n              <br/>\n\n                  <div\n                    onClick={hide}\n                    className=\"px-3 py-1 text-md ok-button pushable\">\n                    \n                    OK <svg height=\"13\" width=\"16\"><path d=\"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z\"></path></svg>\n                </div>\n                </div>);\n    }\n  return (<div></div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SavingProgressInfo);\n","import React, {useEffect, useState} from 'react';\nimport {web3} from 'decentralized/web3.js';\nimport {minter} from 'zpore/abi/zpore-minter.js';\nimport BackendQuery from 'decentralized/BackendQuery.js';\nimport {\n    MintPriceUpdated,\n    ZporeDropCreated} from 'decentralized/EthereumEvents.js';\nimport {STEMS_CONTRACT} from 'stems/contract.js';\n\nlet {deployed} = minter;\n\nexport const useZporeMintPrice = (songId) => {\n    let [dropAddress, setDropAddress] = useState();\n    let [mintPrice, setMintPrice] = useState();\n\n    useEffect(() => {\n        getDropAddress(songId).then(\n            dropAddress => {\n                setDropAddress(dropAddress);\n                getMintPrice(dropAddress).then(setMintPrice);\n            });\n    }, [songId]);\n\n    return {mintPrice, dropAddress};\n};\n\nconst getMintPrice = async (dropAddress) => {\n    let query = new BackendQuery(deployed.goerli)\n        .from(MintPriceUpdated)\n        .where('targetZoraDrop', dropAddress);\n    ;\n    let results = await query.executeQuery();\n    let result = results[0];\n    console.log(\"result.newMintPrice=\", result.newMintPrice);\n    let mintPrice = result.startsWith && result.startsWith('0x') ?\n        price(result.newMintPrice.slice(3)) :\n        result.newMintPrice / 1000000000000000000;\n    console.log(\"MINT PRICE WE GOT=\", mintPrice);\n    return mintPrice;\n};\n\nconst getDropAddress = async (songId) => {\n    let query = new BackendQuery(STEMS_CONTRACT)\n        .from(ZporeDropCreated)\n        .select(\"dropAddress\")\n        .select(\"songId\")\n        .where(\"songId\", parseInt(songId));\n\n    let results = await query.executeQuery();\n    if (!results[0]) {\n        // error\n        return;\n    }\n    let dropAddress = results[0].dropAddress;\n    return dropAddress;\n};\n \nexport const price = (x) => parseInt(x, 16)/1000000000000000000;\n","import React, {useEffect, useState, useCallback} from 'react';\nexport const SECONDS_PER_STEP = (bpm) => {\n    // how many steps in a minute?\n    \n    // there are 8 steps per beat so multiply by 8\n    let steps_per_min = bpm*8;\n\n    // there are 60 seconds per minute so multiply by 60\n    let steps_per_second = steps_per_min / 60;\n\n    // invert\n\n    return 1/steps_per_second;\n};\n\nexport const getRuler = ({buffer, start, pts, silence, width, bpm, startStep, length}) => {\n    let [beats, setBeats] = useState([]);\n    let [offset, setOffset] = useState();\n    let [beatWidth, setBeatWidth] = useState();\n\n    useEffect(() => {\n        let duration = buffer[0].length/44100;\n\n        // how many steps does this make?\n        \n        let ratioOffset = silence  / duration;\n        let offset = ratioOffset*width*2;\n\n        // figure out how many beats to divide by assuming 90 beats per minute\n\n        // how many minutes\n        let durationMin = duration / 60;\n        let beatCount = (durationMin * bpm)/2;\n        let beatWidth = width*2/beatCount; // width of 1 beat in pixels\n\n        // offset by startSteps % to 32\n\n        let sps = SECONDS_PER_STEP(bpm);\n        let modOffsetSeconds = (32 - (startStep % 32) + 8)*sps;\n\n        let addiitional = (2*width)*(modOffsetSeconds / duration);\n\n        if (startStep === 0) {\n        } else {\n            offset += addiitional;\n        }\n\n        // how much of steps to offset by\n\n\n        let beats = [];\n        for (let i=0; i < beatCount; i++) {\n            beats.push(beatWidth*i + offset);\n        }\n        setBeats(beats);\n        setOffset(offset);\n        setBeatWidth(beatWidth);\n    }, [buffer, start, silence, width, bpm, startStep, length]);\n\n    const isInside = useCallback((i) => {\n        return 100*(offset + i*beatWidth)/(2*width) >= start && 100*(offset+i*beatWidth)/(2*width) <= start + length;\n    }, [offset, beatWidth, width, start, length]);\n    return {beats, isInside};\n}\n","import React, {useEffect, useCallback, useState} from 'react';\nimport {SECONDS_PER_STEP} from './getRuler.js';\nimport {computeStemsData} from 'stems/getStems.js';\n\n// start and length are % values w.r.t the duration of the waveform\nexport const useCroppedStemsData = ({\n    endTime,\n    loopsData,\n    stemsData,\n    remixesHistory,\n    startStep,\n    silence,\n    start,\n    length,\n    buffer\n}) => {\n    let [croppedStemsData, setCroppedStemsData] = useState({});\n    useEffect(() => {\n        // based on the start step (of the entire buffer) \n\n        // so loopsData -> raw shit\n        // stemsData is simply a mapping between ipfsHash -> stemId so we dont need to change\n\n        // we must \"truncate\" loopsData to only apply to the \"cropped\" section specified\n        // by start x length x buffer x start step\n\n        let croppedSynths = cropData(loopsData.synths, start, length, buffer, endTime);\n        let croppedDrums = cropData(loopsData.drums, start, length, buffer, endTime);\n\n        let croppedRemixes = cropData(remixesHistory, start, length, buffer, endTime, true);\n\n        let duration = buffer[0].length/44100;\n        \n        let _startTime = (endTime- duration) + duration*start/100;\n        let _endTime  = _startTime+  duration*length/100;;\n        let totalTime = _endTime - _startTime;\n        \n        \n        let croppedLoopsData = {synths: croppedSynths, drums: croppedDrums, remixes: croppedRemixes};\n        let computed = computeStemsData(croppedLoopsData, stemsData, totalTime, _startTime, _endTime); //croppedLoopsData,  stemsData);\n\n        // todo: need to computeStemsData based on the \"start-step\" set by the cropper\n\n        // these variables need to converted to stem id + contract address pairs\n        setCroppedStemsData(computed);\n\n    }, [silence, stemsData, start, length, setCroppedStemsData, endTime, remixesHistory]);\n\n    return {\n        croppedStemsData\n    };\n};\n\nconst cropData = (loopsData, start, length, buffer, recordEndTime, debug) => {\n    loopsData = loopsData.map(x => ([isNaN(x[0]) ? 0 : x[0], x[1], x[2]]));\n    // first we must get the full duration in steps\n    let duration = buffer[0].length/44100;\n\n    let startTime = (recordEndTime - duration) + duration*start/100;\n\n    let endTime  = startTime+  duration*length/100;;\n\n    if (loopsData.length === 0) {\n        return [];\n    }\n\n    // find the field just before startIntSteps\n    // find the field just before endInSteps\n\n\n    let firstField = undefined;\n\n    if (debug) {\n    }\n\n    let prevField = loopsData[0][2];\n    for (let [step, hash, time] of loopsData) {\n\n        if (time >= startTime) {\n            firstField = prevField || time;\n            // look at pervious field we've found \n            break;\n        }\n        prevField = time;\n    }\n\n    if (firstField === undefined) {\n        // if this is the case none of the times in loopsData were greater than\n        // the start time, meaning we use the last one\n        firstField = loopsData[loopsData.length - 1][2];\n    }\n\n    let lastField = undefined;\n\n    prevField = undefined;\n    for (let [step, hash, time] of loopsData) {\n        if (time >= endTime) {\n            lastField = prevField || time;\n            if (debug) {\n            }\n            break;\n        }\n        prevField = time;\n    }\n\n    if (lastField === undefined) {\n        lastField = loopsData[loopsData.length - 1][2];\n    }\n\n    if (debug) {\n\n\n    }\n\n    let x = loopsData.filter(x => x[2] >= firstField && x[2] <= lastField);\n\n    if (x[0] && x[0][2] > startTime) {\n        x[0][2] = startTime;\n    }\n  //  console.log(\"RETURNING \", x);\n\n    return x;\n};\n","\nexport const writeScreenshot = (url) => {\n    console.log('writing screenshot=', url);\n    return new Promise(resolve => {\n        fetch(url)\n            .then(res => res.blob())\n            .then(blob => {\n                var data = new FormData();\n                data.append(\"file\", blob);\n                var headers= { \n                    pinata_api_key: '66a8464d59553776562c',\n                    pinata_secret_api_key: '96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109',\n                };\n                \n                let url= 'https://api.pinata.cloud/pinning/pinFileToIPFS';\n                fetch(url, {\n                    method: 'POST',\n                    headers,\n                    body: data\n                }).then(async (resp) => {\n                    let json = await resp.json();\n                    console.log('succesfully uploaded the screenshot');\n                    resolve(json.IpfsHash);\n                });\n            });\n    });\n};\n","import lamejs  from 'lamejstmp';\n\nexport const cropAndStore = async (buffer, start, length) => {\n    let totalSize = buffer[0].length;\n    let startOffset = Math.ceil(start/100*buffer[0].length);\n    let lengthOffset = Math.ceil(length/100*totalSize);\n    let left = new Float32Array(lengthOffset);\n    let right = new Float32Array(lengthOffset);\n\n    left.set(buffer[0].subarray(startOffset, startOffset + lengthOffset));\n    right.set(buffer[1].subarray(startOffset, startOffset + lengthOffset));\n\n    let mp3 = exportToMP3([left, right]);\n    let hash = await addToPinata(mp3, true) ;\n    return hash;\n    // now we need to turn this into an mp3\n\n    // finally post to pinata\n};\n\nconst exportToMP3 = (samples) => {\n    let mp3Data = [];\n    var mp3encoder = new lamejs.Mp3Encoder(samples.length, 44100, 128); //mono 44.1khz encode to 128kbps\n\n    let left = samples[0]; //one second of silence (get your data from the source you have)\n    let right = samples[1]; //one second of silence (get your data from the source you have)\n    let sampleBlockSize = 1152; //can be anything but make it a multiple of 576 to make encoders life easier\n\n    for (var i = 0; i < left.length; i += sampleBlockSize) {\n        let leftChunk = left.subarray(i, i + sampleBlockSize);\n        let rightChunk = right ? right.subarray(i, i + sampleBlockSize) : undefined;\n        for (let i=0; i < leftChunk.length; i++) {\n            leftChunk[i] *= 32767.5;\n            if (rightChunk) {\n                rightChunk[i] *= 32767.5;\n            }\n        }\n        var mp3buf = rightChunk ?\n            mp3encoder.encodeBuffer(leftChunk, rightChunk) : \n            mp3encoder.encodeBuffer(leftChunk);\n        if (mp3buf.length > 0) {\n            mp3Data.push(mp3buf);\n        }\n    }\n    var mp3buf = mp3encoder.flush();   //finish writing mp3\n    \n    if (mp3buf.length > 0) {\n        mp3Data.push(mp3buf);\n    }\n    \n    var blob = new Blob(mp3Data, {type: 'audio/mp3'});\n    return blob;\n    /*\n    console.log(\"MP3 data=\", mp3Data);\n\n    let total = 0;\n    for (let x of mp3Data) {\n        total += x.length;\n    }\n    var out = new Int8Array(total);\n    let c=0;\n    for (let i=0; i < mp3Data.length; i++) {\n        out.set(mp3Data[i], c);\n        c += mp3Data[i].length;\n    }\n    console.log(\"OUT=\", out);\n    return out;\n    */\n};\n\nconst addToPinata = (buffer, isBlob) => {\n    return new Promise((resolve) => {\n        var data = new FormData();\n        if (isBlob) {\n            data.append(\"file\",buffer);\n        } else {\n            data.append(\"file\",new Blob([buffer]));\n        }\n        var headers= { \n                pinata_api_key: '66a8464d59553776562c',\n                pinata_secret_api_key: '96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109',\n            };\n        \n        let url= 'https://api.pinata.cloud/pinning/pinFileToIPFS';\n        fetch(url, {\n            method: 'POST',\n            headers,\n            body: data\n        }).then(async (resp) => {\n            let json = await resp.json();\n            resolve(json.IpfsHash);\n        });\n    });\n};\n\n","import React, {useCallback} from 'react';\nimport {newZpore} from 'zpore/zpore.js';\nimport {writeScreenshot} from './screenshot.js';\nimport {cropAndStore} from 'utils/cropAndStore.js';\nimport { useAccount } from 'wagmi';\n\nexport const usePostRemix = ({\n    songId,\n    mintPrice,\n    bpm,\n    detune,\n    stemsData,\n    screenshot,\n    caption,\n    buffer,\n    signer,\n    start,\n    setIsWaitingForSignature,\n    setDownloading,\n    length,\n    setDownload,\n    stop,\n    setTransaction,\n    zorbId\n}) => {\n\n    const {data: account, isError, isLoading} = useAccount();\n\n    const post = useCallback(async () => {\n        stop();\n        let dataToStore = {caption};\n        /**\n           1. Crop and store on ipfs\n           2. Store caption on ipfs\n         */\n\n        // todo: send to server to backup on s3\n        let remixURI = await cropAndStore(buffer, start, length);\n\n        let imageURI = \"none\"; //await writeScreenshot(screenshot);\n\n        console.log('songId for remix=', songId);\n\n        setDownload(remixURI);\n        setDownloading(false);\n\n        setIsWaitingForSignature(true);\n\n        // given the stems data we need to generate a list of contract addresses and ids\n        // i.e. the stems contract and the stemIds\n        // we dont need caption no more\n        let tx = await newZpore(signer, account.address, songId, remixURI, stemsData, zorbId, bpm, detune, mintPrice);\n        //let transactionHash = tx.hash;\n        let transactionHash = \"fuck\";\n        setTransaction(transactionHash);\n        setIsWaitingForSignature(false);\n        //await tx.wait(1);\n    }, [\n        account,\n        stemsData,\n        account,\n        screenshot,\n        caption,\n        signer,\n        start,\n        mintPrice,\n        setIsWaitingForSignature,\n        bpm,\n        detune,\n        songId,\n        setDownload,\n        setDownloading,\n        length,\n        setDownload\n    ]);\n\n    return post;\n};\n \n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {SECONDS_PER_STEP} from './getRuler.js';\n\nconst SlicingTooltip = ({endTime, length, beatGuide,  start, buffer, bpm, detune, setBPM, setDetune}) => { \n    useEffect(() => {\n        let prevTime = -1;\n        let _start = start;\n        start = (start / 100) * buffer[0].length / 44100;\n        let end = ((_start + length)/100) * buffer[0].length / 44100;\n        let matches = [];\n        for (let i=0; i < beatGuide.length; i++) {\n            let [stepNumber, time, _bpm, _detune] = beatGuide[i];\n            let _time = (buffer[0].length / 44100) - (endTime - time);\n            if (_time >= start && _time < end) {\n                matches.push({bpm: _bpm, detune: _detune});\n                //break;\n            }\n            prevTime = _time;\n        }\n        let sumBpm = 0;\n        let sumDetune  = 0;\n        for (let {bpm, detune} of matches) {\n            sumBpm += bpm;\n            sumDetune += detune;\n        }\n        setBPM(sumBpm / matches.length);\n        setDetune(sumDetune / matches.length);\n    }, [start, length, buffer, beatGuide, endTime, setBPM, setDetune]);\n\n    return (\n        <div className=\"start-info\">\n          <div className=\"flex-col w-8 flex\">\n            <span className=\"slice-len text-center\">{Math.round(bpm)}</span>\n            <span className=\"text-zinc-500 text-xs text-center\">bpm</span>\n          </div>\n          <div className=\"flex-col w-8 flex\">\n            <span className=\"slice-len text-center\">{detune > 0 ? '+' : ''}{round(detune/100)}</span>\n            <span className=\"mx-1 text-zinc-500 text-xs text-center\">tuning</span>\n          </div>\n          <div className=\"mt-0.5 ml-auto w-16 flex flex-col\">\n            <div className=\"text-xs flex w-full h-4\">\n              <div className=\"label mt-0.5\">00:{round(start, true)}</div>\n              <div className=\"text-xs ml-auto text-zinc-500\">\n                s\n              </div>\n            </div>\n            <span className=\"mt-0.5 mx-1 text-zinc-500 text-xs text-center\">start</span>\n          </div>\n        </div>\n    );\n};\n\nconst round = (x, isTime) => {\n    x = Math.round(x*10)/10;\n    if (isTime && x < 10) {\n        return \"0\" + x;\n    }\n    return x;\n};\n\nexport default SlicingTooltip;\n","export const getBeatPoints = (beatGuide, buffer, width, endTime, silence=0, len=16) => {\n    let duration = buffer[0].length/44100;\n\n    // what we really need is the end time to tie all of this together\n    beatGuide = [... beatGuide].reverse();\n    let pts = [];\n    for (let [stepNumber, time] of beatGuide ) {\n        if (stepNumber % len !== 0) {\n            continue;\n        }\n        let fromEnd = endTime - time\n        let x_offset = (fromEnd / duration) * width;\n        // note whether this is a \"bar start\" or \"middle of bar\" tick\n        pts.push([width - x_offset, stepNumber % 32 === 0 ? true : false]);\n    }\n    return pts;\n};\n","import React, {useRef, useState, useCallback, useEffect} from 'react';\nimport {getBeatPoints} from './getBeatPoints.js';\nimport {getRuler} from './getRuler.js';\nimport {SECONDS_PER_STEP} from './getRuler.js';\n\n\nexport const useMagneticSlicer = ({ref, bpm=90, width, buffer, startStep, silence, waveform, endTime, beatGuide}) => {\n    let [start, setStart] = useState(0);\n    let [length, setLength] = useState(100);\n    let [draggingStart, setDraggingStart] = useState();\n    let [draggingEnd, setDraggingEnd] = useState();\n    let lengthRef = useRef(length);\n\n    //let {beats}  = getRuler({buffer, start, silence, pts: waveform, width, bpm, startStep});\n    let beats  = getBeatPoints(beatGuide, buffer, width*2, endTime, silence, 64).filter(\n        ([x, isBar]) => isBar).map(x => x[0]);\n\n    useEffect(() => {\n        lengthRef.current = length;\n    }, [length]);\n\n    const quantizeLength = useCallback((percentage) => {\n        let duration = buffer[0].length/44100;\n        let time = percentage/100*(duration);\n        let secondsPerStep = SECONDS_PER_STEP(bpm);\n\n        // secsPerStep/steps = time\n        let steps = time / secondsPerStep ;\n        let modded = (16 - (steps % 16));\n\n        if (modded > 8) {\n            modded = -(steps % 16);\n        }\n\n        // see the mod from the beat\n\n        let moddedTime = secondsPerStep * modded;\n        let moddedPercentage = 100 * moddedTime / duration;\n        return percentage + moddedPercentage;\n    }, [buffer]);\n\n    const quantize = useCallback((percentage) => {\n\n        let beats  = getBeatPoints(beatGuide, buffer, width*2, endTime, silence, 64).filter(\n            ([x, isBar]) => isBar).map(x => x[0]);\n        let _beats = beats.map(x => x/(2*width)*100);\n        // find the percentage that is closest\n\n        let minDistance = 100000;\n        let min = -1;\n        for (let beat of _beats) {\n            let dist = Math.abs(beat-percentage);\n            if (dist < minDistance) {\n                min = beat;\n                minDistance = dist;\n            }\n        }\n        return min;\n    }, [startStep, buffer, silence, bpm, beats, endTime, silence, width, beatGuide]);\n        \n    const onMouseMove = useCallback((e) => {\n        if (draggingStart === undefined && draggingEnd === undefined) {\n            return;\n        }\n        if (e.touches) {\n            e = e.touches[0];\n        }\n        let rect = ref.current.getBoundingClientRect();\n\n        let x = e.pageX - rect.left;\n        if (draggingStart !== undefined) {\n            let diff = 100*(x - draggingStart.x) / (width*2);\n            let newStart = draggingStart.start + diff;\n            newStart = Math.max(0, Math.min(100, newStart));\n            setStart(newStart);\n            setLength(Math.min(100 - newStart, draggingStart.length - diff));\n        } else {\n            let diff = 100*(x - draggingEnd.x) / (width*2);\n            let newLength = draggingEnd.length + diff;\n            setLength(Math.min(100 - start, Math.max(0, newLength)));\n        }\n\n    }, [draggingStart, width, draggingEnd, start, length, setLength, setStart, [startStep, buffer, silence, bpm]]);\n\n    const dragStartControl = useCallback((e) => {\n        if (e.touches) {\n            e = e.touches[0];\n        }\n        let rect = ref.current.getBoundingClientRect();\n        let x = e.clientX - rect.left;\n        setDraggingStart({x, start, length});\n    }, [setDraggingStart, start, length]);\n\n    const dragEndControl = useCallback((e) => {\n        if (e.touches) {\n            e = e.touches[0];\n        }\n        let rect = ref.current.getBoundingClientRect();\n        let x = e.clientX - rect.left;\n        setDraggingEnd({x, length});\n    }, [setDraggingEnd, length]);\n\n    const onMouseUp = useCallback(() => {\n        if (draggingStart || draggingEnd) {\n            let quantized = quantize(start);\n            setStart(quantized);\n            let quantizedLength = quantizeLength(lengthRef.current);\n            setLength(Math.min(100-quantized, quantizedLength));\n        } \n        setDraggingStart(undefined);\n        setDraggingEnd(undefined);\n    }, [draggingStart, draggingEnd, start, setLength, length, setStart, setDraggingEnd, setDraggingStart, buffer]);\n\n    useEffect(() => {\n        if (draggingStart) {\n            return;\n        }\n        let quantized = quantize(0);\n        setStart(quantized);\n        let quantizedLength = quantizeLength(lengthRef.current);\n        setLength(Math.min(100-quantized, quantizedLength));\n    }, [beatGuide, beatGuide, setStart, buffer, setStart, buffer, width, endTime, silence]);\n\n    useEffect(() => {\n        window.addEventListener(\"mousemove\", onMouseMove);\n        window.addEventListener(\"touchmove\", onMouseMove);\n        window.addEventListener(\"mouseup\", onMouseUp);\n        window.addEventListener(\"touchend\", onMouseUp);\n        return () => {\n            window.removeEventListener(\"mousemove\", onMouseMove);\n            window.removeEventListener(\"touchmove\", onMouseMove);\n            window.removeEventListener(\"touchend\", onMouseUp);\n            window.removeEventListener(\"mouseup\", onMouseUp);\n        };\n    }, [draggingStart, width, draggingEnd, start, length, setLength, setStart,\n        setDraggingStart, setDraggingEnd, draggingStart, buffer, bpm, startStep, silence\n       ]);\n\n\n    return {dragEndControl, dragStartControl, start, length};\n};\n","import React, { memo, useEffect, useCallback, useState} from 'react';\nimport {getBeatPoints} from './getBeatPoints.js';\nimport {getRuler} from './getRuler.js';\nimport {connect} from 'react-redux';\n\nconst HEIGHT = 100;\nexport const SECONDS_PER_STEP = (bpm) => {\n    // how many steps in a minute?\n    \n    // there are 8 steps per beat so multiply by 8\n    let steps_per_min = bpm*8;\n\n    // there are 60 seconds per minute so multiply by 60\n    let steps_per_second = steps_per_min / 60;\n\n    // invert\n\n    return 1/steps_per_second;\n};\nexport default memo(({\n    width,\n    silence,\n    buffer,\n    bpm=90,\n    waveform,\n    endTime,\n    start,\n    length,\n    height=100,\n    startStep,\n    beatGuide\n}) => { \n\n    let [pts, setPts] = useState([]);\n\n    useEffect(() => {\n        let x = [];\n\n        for (let i=0 ; i < waveform.length; i += 4) {\n            x.push(waveform[i]*(height*.35)/HEIGHT);\n        }\n        setPts(x);\n    }, [waveform, setPts]);\n\n    let _start = start/100*pts.length;\n\n    let beatPoints = getBeatPoints(beatGuide, buffer, width*2, endTime);\n    const isInside = (x) => {\n        return 2*width * start / buffer.duration>= x &&\n            x <= 2*width * (start + length) / buffer.duration;\n    };\n\n    return (\n        <svg width={width*2} height={height}>\n          {pts.map((y, i) =>\n              <rect\n                className={(i >= _start && i <= _start + length/100*pts.length ? \"sliced-region\" : \"\") + (i%2===0 ? \" even \" : \" odd\")}\n                x={2*i/pts.length*width}\n                y={height/2-y/2}\n                height={y}\n                width={2}/>)}\n          {beatPoints.map(([x, isBar], i) => \n              <rect x={x}\n                    y={isBar ? height-(isInside(x) ? 30 : 15): height-(isInside(x) ? 10 : 5)}\n                    height={(isBar ? 30 : 6)*(isInside(x) ? 1 : 0.5)}\n                    width={2}\n                    className={isInside(x) ? \"inside beat-ruler\" : \"beat-ruler\"}\n                    fill=\"red\"/>)}\n          {/*beats.map((x,i) =>\n              <rect\n                x={x}\n                y={i%2 === 0 ? height-(isInside(i) ? 30 : 15): height-(isInside(i) ? 20 : 10)}\n                height={(i%2===0 ? 30 : 20)*(isInside(i) ? 1 : 0.5)}\n                width={2}\n                className={isInside(i) ? \"beat inside\" : \"beat\"}/>)*/}\n        </svg>\n    );\n});\n\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\n\nconst Captioner = ({caption, setCaption}) => { \n    return (\n        <div className=\"captioner\">\n          <input placeholder=\"Describe your sound...\" value={caption} onChange={(e) => setCaption(e.target.value)}/>\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Captioner);\n","import SavingProgressInfo from './SavingProgressInfo.js';\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport { useAccount } from 'wagmi';\nimport {ethers} from 'ethers';\nimport {useZporeMintPrice} from './useZporeMintPrice.js';\nimport {useCroppedStemsData} from './useCroppedStemsData.js';\nimport {newZpore} from 'zpore/zpore.js';\n//import TextHelper from './TextHelper.js';\nimport {writeScreenshot} from './screenshot.js';\nimport {usePostRemix} from './usePostRemix.js';\nimport SlicingTooltip from './SlicingTooltip.js';\nimport {REMIX_COLLECTION_ADDRESS, REMIX_TOKEN_ID} from 'constants/zpore-addresses.js';\nimport {useMagneticSlicer} from './useMagneticSlicer.js';\nimport React, { useEffect, useCallback, useRef, useState} from 'react';\nimport ipfs from 'decentralized/Ipfs.js';\nimport {cropAndStore} from 'utils/cropAndStore.js';\nimport {newSpore} from 'spores/newSpore.js';\nimport UnknownProgressBar from 'components/progressbar/UnknownProgressBar.js';\nimport { useSigner } from 'wagmi';\nimport {isMobile} from 'react-device-detect';\nimport {useWaveformPlayer} from './useWaveformPlayer.js';\nimport PlayButton from 'components/buttons/PlayButton.js';\nimport {connect} from 'react-redux';\nimport SliceWaveformSVG from './SliceWaveformSVG.js';\nimport Captioner from './Captioner.js';\nimport './slice-waveform.scss';\n\nconst SliceWaveform = ({\n    silence,\n    songId,\n    endTime,\n    screenshot,\n    zorbId,\n    beatGuide,\n    waveform,\n    buffer,\n    onCancel,\n    remixesHistory,\n    startStep,\n    stemsData, // these 2 should be 1...\n    loopsData, \n}) => { \n    const {data: account, isError, isLoading} = useAccount();\n    let ref = useRef();\n    const {data: signer} = useSigner();\n    let [saving, setSaving] = useState();\n    let [caption, setCaption] = useState('');\n    let [isWaitingForSignature, setIsWaitingForSignature] = useState();\n    let [downloading, setDownloading] = useState(false);\n    let [isCaptioning, setIsCaptioning] = useState(false);\n    let [width, setWidth] = useState();\n    let [download, setDownload] = useState();\n    let [transaction, setTransaction] = useState();\n    let [bpm, setBPM] = useState(120);\n    let [detune, setDetune] = useState(0);\n\n    useEffect(() => {\n        // calculates the width that should be set for the waveform\n        let _width = isMobile ? 300 : ref.current.offsetWidth;\n        let width = (_width - 60)/2;\n        setWidth(width);\n    }, [setWidth]);\n\n    const {\n        start,\n        length,\n        dragEndControl,\n        dragStartControl\n    } = useMagneticSlicer({ref, width, buffer, startStep, silence, waveform, endTime, beatGuide, endTime});\n\n    const {\n        croppedStemsData\n    } = useCroppedStemsData({stemsData, loopsData, start, length, startStep, silence, buffer, endTime, remixesHistory});\n\n    let {dropAddress, mintPrice} = useZporeMintPrice(songId);\n\n    const {\n        playhead,\n        stop,\n        play,\n        isPlaying\n    } = useWaveformPlayer({buffer, start, length});\n\n    useEffect(() => {\n        return () => stop();\n    }, []);\n\n    // todo: combine this data into one esy to use object...\n    const post = usePostRemix({\n        bpm,\n        detune,\n        mintPrice,\n        stemsData: croppedStemsData,\n        screenshot,\n        songId,\n        caption,\n        buffer,\n        signer,\n        start,\n        setIsWaitingForSignature,\n        setDownloading,\n        length,\n        setDownload,\n        stop,\n        setTransaction,\n        zorbId\n    });\n\n    if (transaction || downloading || isWaitingForSignature) {\n        return (\n            <div className=\"slicer-backdrop\">\n              <SavingProgressInfo\n                hide={onCancel}\n                download={download}\n                transaction={transaction}\n                downloading={downloading}\n                transaction={transaction}\n                isWaitingForSignature={isWaitingForSignature}/>\n            </div>\n        );\n    }\n    return (\n        <div className=\"slicer-backdrop\">\n          <div\n            className=\"slice-waveform\">\n            <div className=\"control-btn-container\">\n              <PlayButton isPlaying={isPlaying} play={play}/>\n            </div>\n            <div\n              ref={ref} \n              className=\"waveform-container\">\n              {isCaptioning ?\n               <Captioner\n                 setCaption={setCaption}\n                 caption={caption}\n               /> :\n               width &&\n               <SliceWaveformSVG\n                 endTime={endTime}\n                 beatGuide={beatGuide}\n                 silence={silence}\n                 height={isMobile ? 90 : 100}\n                 buffer={buffer}\n                 startStep={startStep}\n                 start={start} length={length} waveform={waveform} width={width}/>\n              }\n              {!isCaptioning &&\n               <div\n                 style={{left: 30 + (playhead/100)*(width)*2+'px'}}\n                 className=\"playhead\"/>\n              }\n              {!isCaptioning &&\n               <div\n                 style={{left: 30+start/100*(width*2)+'px', width: length/100*(width*2)+\"px\"}}\n                 className=\"slicer\">\n                 <div\n                   onMouseDown={dragStartControl}\n                   onTouchStart={dragStartControl}\n                   className=\"start-control\">\n                   <SlicingTooltip\n                     bpm={bpm}\n                     setBPM={setBPM}\n                     length={length}\n                     detune={detune}\n                     setDetune={setDetune}\n                     beatGuide={beatGuide} endTime={endTime} start={start} buffer={buffer}/>\n                   <div className=\"arrow-left\"/>\n                 </div>\n                 <div\n                   onTouchStart={dragEndControl}\n                   onMouseDown={dragEndControl}\n                   className=\"end-control\">\n                   <div className=\"arrow-right\"/>\n                 </div>\n               </div>}\n            </div>\n             <div className=\"slice-guide-info\">\n               slice your remix to beam into other spores\n             </div>\n          </div>\n\n          {downloading ? '' : download ?\n           <div className=\"slice-toolbar\">\n             <div onClick={onCancel} className=\"done-btn pushable continue\">\n               Continue\n             </div>\n           </div> :\n           <div className={isCaptioning ? \"slice-toolbar captioning\" : \"slice-toolbar\"}>\n             <div onClick={isCaptioning ? () => setIsCaptioning(false) : onCancel} className=\"cancel-btn pushable\">\n               {isCaptioning ? \"Edit\" : \"Cancel\"}\n             </div>\n             {!account || !account.address ?\n                             <div className=\"final-connect\"><ConnectButton\n                   accountStatus=\"address\" \n                   showBalance={{ smallScreen: false, largeScreen: false }}\n                   label=\"Connect Wallet\"\n            /> </div>: \n \n             <div onClick={() => {\n                 setDownloading(true);\n                 setTimeout(() => {\n                     setSaving(true)\n                     post();\n                 }, 40);\n             }} className={(saving ? \"opacity-20 \" : \"\") + \"done-btn pushable\"}>\n               Save\n             </div>}\n           </div>}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SliceWaveform);\n","import React, {useState, useRef, useEffect, useCallback} from 'react';\nimport {useInterval} from 'components/hooks/useInterval.js';\nimport AudioUnit from 'engine/audio.js';\nimport Tone from 'tone';\n\nconst DELAY = 30;\n\nexport const useWaveformPlayer = ({buffer, start, length}) => {\n    const startRef = useRef(start);\n    const lengthRef = useRef(length);\n    const [isPlaying, setIsPlaying] = useState(false);\n    const [player, setPlayer]  = useState(new AudioUnit(Tone.Master.context));\n    const [playhead, setPlayhead] = useState(0);\n\n    const onTick = useCallback(() => {\n        if (isPlaying) {\n            let offset = 100* (DELAY/1000) / player.duration;\n            if (playhead + offset > startRef.current + lengthRef.current) {\n                setIsPlaying(false);\n                setPlayhead(startRef.current);\n            } else {\n                setPlayhead(playhead + offset);\n            }\n        }\n    }, [isPlaying, setPlayhead, playhead, player]);\n\n    useInterval(onTick, DELAY);\n\n    useEffect(() => {\n        startRef.current = start;\n        lengthRef.current = length;\n        setPlayhead(start);\n        setIsPlaying(false);\n        player.stopSound();\n    }, [start, length, setPlayhead, setIsPlaying]);\n\n    useEffect(() => {\n        if (!buffer) {\n            return;\n        }\n        let audioBuffer = new AudioBuffer({length: buffer[0].length, sampleRate: 44100, numberOfChannels: buffer.length});\n        audioBuffer.copyToChannel(buffer[0], 0);\n        if (buffer[1]) {\n            audioBuffer.copyToChannel(buffer[1], 1);\n        }\n        player.setBuffer(audioBuffer);\n    }, [buffer]);\n\n    const playSound = useCallback(() => {\n        player.playSound(startRef.current/100*player.duration, lengthRef.current/100*player.duration);\n        setPlayhead(startRef.current);\n    }, [setPlayhead]);\n\n    const play = useCallback(() => {\n        if (isPlaying) {\n            player.stopSound();\n        } else {\n            playSound();\n        }\n        setIsPlaying(!isPlaying);\n    }, [isPlaying, setPlayhead, setIsPlaying, start, length]);\n\n    return {play, isPlaying, playhead, stop: () => player.stopSound()};\n};\n","import React, { useEffect, useRef, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport SliceWaveform from './SliceWaveform.js';\nimport {useRecordingListener} from './useRecordingListener.js';\nimport './recorder.scss';\n\n/**\n * When the user clicks the \"red\" \"finished recording\" button, this view\n * is shown. It is the top-level component of the entire record -> mint flow\n\n 1. Receives all the recording data from the iframe [this component handles it]\n 2. Shows waveform allowing cropping the recording to taste (SliceWaveform)\n 3. Shows a \"caption\" input field for writing text to go w/ the recording\n 4. Crops the screenshot of the generative art (and uploads to IPFS)\n 5. Triggers a transaction for minting the \"sliced recording\" + caption + art as an NFT\n */\n\nconst SliceRecorder = ({playerRef, zorbId, setIsSlicing, songId}) => { \n    let {\n        buffer,\n        screenshot,\n        silence,\n        beatGuide,\n        startTime,\n        startStep,\n        endTime,\n        stemsData,\n        loopsData,\n        onCancel,\n        remixesHistory,\n        waveform} = useRecordingListener();\n\n    useEffect(() => {\n        if (buffer) {\n            setIsSlicing(true);\n        }\n    }, [buffer, setIsSlicing]);\n\n    const onClick = useCallback(() => {\n        // tell the iframe \"we want the last 30 sec of audio recorded\"\n        // the hook above (useRecordingListener), will wait for a return message\n        // with the recording buffer\n        playerRef.current.contentWindow.postMessage({\n            type: \"slice-audio\",\n            body: \"\"\n        }, \"*\");\n    }, [playerRef]);\n\n    return [\n        <div className=\"slice-recorder\">\n          <img src=\"/HIFI-SAVE.svg\"\n               onClick={onClick}\n               className=\"pushable slice-recorder\">\n          </img>\n          <div className=\"rec-dot\"></div>\n        </div>\n        ,\n        waveform ? <SliceWaveform\n                     zorbId={zorbId}\n                     screenshot={screenshot}\n                     remixesHistory={remixesHistory}\n                     songId={songId}\n                     silence={silence}\n                     startStep={startStep}\n                     beatGuide={beatGuide}\n                     loopsData={loopsData}\n                     endTime={endTime}\n                     stemsData={stemsData}\n                     onCancel={() => {\n                         onCancel();\n                         setIsSlicing(false);\n                     }}\n                     buffer={buffer} waveform={waveform}/> : ''\n    ];\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SliceRecorder);\n","import React, {useRef, useEffect, useState, useCallback} from 'react';\nimport {computeStemsData, fetchStemIds} from 'stems/getStems.js';\n\nexport const useRecordingListener = () => {\n    let [screenshot, setScreenshot] = useState();\n    let [buffer, setBuffer] = useState();\n    let [waveform, setWaveform] = useState();\n    let [silence, setSilence] = useState();\n    let [startStep, setStartStep] = useState();\n    let loopsDataRef = useRef({});\n    let [loopsData, setLoopsData] = useState();\n    let [stemsData, setStemsData] = useState();\n    let [startTime, setStartTime] = useState();\n    let [endTime, setEndTime] = useState();\n    let [beatGuide, setBeatGuide] = useState();\n    let [remixesHistory, setRemixesHistory] = useState([]);\n\n    useEffect(() => {\n        if (!loopsData || !loopsData.drums || !loopsData.synths) {\n            return;\n        }\n\n        fetchStemIds(loopsData).then(x => {\n            setStemsData(x);\n            /*\n            let computed = computeStemsData(loopsData, x);\n            // todo: need to computeStemsData based on the \"start-step\" set by the cropper\n            setStemsData(computed);\n            */\n        });\n    }, [loopsData]);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n        return () => window.removeEventListener(\"message\", onMessage);\n    }, [loopsData, setWaveform, setEndTime, setBuffer, setScreenshot, setLoopsData, setStartTime, setBeatGuide]);\n    \n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"drum-loops-data\") {\n            let data = {\n                ... loopsDataRef.current,\n                drums: e.data.body\n            };\n            loopsDataRef.current = data;\n            setLoopsData(data);\n        } else if (e.data.type === \"synth-loops-data\") {\n            let data = {\n                ... loopsDataRef.current,\n                synths: e.data.body\n            };\n            loopsDataRef.current = data;\n            setLoopsData(data);\n        }\n        if (e.data.type === \"zpore-screenshot\") {\n            setScreenshot(e.data.body);\n        }\n        if (e.data.type === \"slice-audio-buffer\") {\n            setBuffer(e.data.body);\n        }\n        if (e.data.type === \"slice-silence\") {\n            setSilence(e.data.body);\n        }\n        if (e.data.type === \"slice-start-step\") {\n            setStartStep(e.data.body);\n        }\n        if (e.data.type === \"slice-audio-waveform\") {\n            setWaveform(e.data.body);\n        }\n        if (e.data.type === \"beat-guide\") {\n            setBeatGuide(e.data.body);\n        }\n        if (e.data.type === \"end-time\") {\n            setEndTime(e.data.body);\n        }\n        if (e.data.type === \"remixes-history\") {\n            setRemixesHistory(e.data.body);\n        }\n    }, [loopsData, setEndTime, setWaveform, setScreenshot, setBuffer, setStartStep, setLoopsData, setBeatGuide, setRemixesHistory]);\n\n    const onCancel = useCallback(() => {\n        setBuffer(undefined);\n        setWaveform(undefined);\n    }, [setBuffer, setWaveform]);\n\n    return {\n        remixesHistory,\n        buffer,\n        screenshot,\n        silence,\n        startStep,\n        stemsData,\n        onCancel,\n        beatGuide,\n        startTime,\n        waveform,\n        loopsData,\n        endTime\n    } ;\n\n};\n","import React, { useEffect, useCallback, useRef, useState} from 'react';\nimport {connect} from 'react-redux';\n\nconst ZorbOption = ({containerRef, setZorbId, zorbId, zorb, setZorbStartPosition}) => { \n    let ref = useRef();\n\n    let selected = zorbId === parseInt(zorb.tokenId);\n    useEffect(() => {\n    }, []);\n\n    useEffect(() => {\n        if (selected) {\n            let rect = ref.current.getBoundingClientRect();\n            setZorbStartPosition({x: rect.left, y: rect.top, image: zorb.image.url});\n        }\n    }, [selected, setZorbStartPosition]);\n\n    return (\n        <div\n          ref={ref}\n          onMouseDown={(e) => {\n              containerRef.current.style.pointerEvents = \"none\";\n              setZorbId(parseInt(zorb.tokenId));\n          }}\n          className={\"pushable zorb-option \" + (selected ? \"selected\" : \" unselected\")}>\n          <img src={zorb.image.url}  \n               className={(selected ? \"selected\" : \" unselected\")}/>\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZorbOption);\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport ZorbOption from './ZorbOption.js';\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport {connect} from 'react-redux';\nimport './zorb.scss';\n\n/**\n * Zorb Selector should only be here after it loaded\n */\nconst ZorbSelector = ({zorbs, account, setZorbId, zorbId, setZorbStartPosition, playerRef}) => { \n    let ref = useRef();\n\n    let [loaded, setLoaded] = useState(true);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n    }, [setLoaded, setZorbId]);\n\n    useEffect(() => {\n        if (zorbId && loaded && playerRef) {\n            let image = zorbs.find(x => parseInt(x.tokenId) == zorbId).image.url;\n            playerRef.current.contentWindow.postMessage({\n                type: \"zorb-id\",\n                body: image\n            }, \"*\");\n        }\n    }, [zorbId, loaded, zorbs, playerRef]);\n\n    const onMessage = useCallback((e) => {\n        if (e.data.type === \"lootbox-item-selected\") {\n            setZorbId(parseInt(e.data.body));\n        }\n    }, [setLoaded, setZorbId]);\n\n    useEffect(() => {\n        if (loaded && zorbs && playerRef && playerRef.current) {\n            let loot = {};\n            for (let zorb of zorbs) {\n                loot[zorb.tokenId] = zorb.image.url;\n            }\n            console.log(\"sending lootbox=\", loot);\n            playerRef.current.contentWindow.postMessage({\n                type: \"lootbox\",\n                body: loot\n            }, \"*\");\n        }\n    }, [zorbs, playerRef, loaded]);\n\n    useEffect(() => {\n        if (zorbs[0]) {\n            //setZorbId(parseInt(zorbs[0].tokenId));\n        }\n    }, [zorbs]);\n\n    let [hide, setHide] = useState(false);\n    useEffect(() => {\n        if (zorbId !== undefined) {\n            setTimeout(() => {\n                setHide(true);\n            }, 1000);\n        }\n    }, [zorbId]);\n    if (hide) {\n        return '';\n    }\n    return (<div\n              ref={ref}\n              onClick={() => console.log(\"zs clicked\")}\n              className=\"zs-container\">\n              <div\n                onClick={() => console.log(\"zorb selector clicked\")}\n                className=\"zorb-selector\">\n              {!zorbId && <p>\n                            insert a zorb to power the spore and remix sound in its own way\n                          </p>}\n              {zorbs.length === 0 && account ? <div className=\"no-zorbs\">No zorbs detected. </div> : zorbs.length === 0 &&\n               <div className=\"connect-button-wrapper zorb-connect\">\n                 <ConnectButton\n                   accountStatus=\"address\" \n                   showBalance={{ smallScreen: false, largeScreen: false }}\n                   label=\"Connect Wallet\"\n                 />\n               </div>}\n\n            {/*<div onClick={() => console.log(\"zorb list clicked\")} className=\"zorbs-list\">\n                {zorbs.map(\n                    x => <ZorbOption containerRef={ref} setZorbStartPosition={setZorbStartPosition} zorbId={zorbId} setZorbId={setZorbId} zorb={x}/>\n                )}\n                </div>*/}\n            </div>\n            </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZorbSelector);\n","export function shuffle(array) {\n  var currentIndex = array.length, temporaryValue, randomIndex;\n\n  // While there remain elements to shuffle...\n  while (0 !== currentIndex) {\n\n    // Pick a remaining element...\n    randomIndex = Math.floor(Math.random() * currentIndex);\n    currentIndex -= 1;\n\n    // And swap it with the current element.\n    temporaryValue = array[currentIndex];\n    array[currentIndex] = array[randomIndex];\n    array[randomIndex] = temporaryValue;\n  }\n\n  return array;\n}\n","import React, {useRef, useState, useEffect, useCallback} from 'react';\nimport {shuffle} from 'utils/shuffle.js';\nimport {multiplayer} from './multiplayer.js';\nimport {fetchSongMetadata} from 'stems/getStems.js';\nimport {getDropAddress} from 'zpore/getDropAddress.js';\nimport {getZporeRemixes} from 'zpore/getZporeRemixes.js';\nimport {getAttributeMapping} from 'erc721/attributes.js';\n\n\nconst MIN_LEAK = {\n    0: 3,\n    1: 3,\n    2: 0,\n    3: 5,\n    4: 11\n};\n\nlet counter=0;\nconst fetchAllLeaks = async (songId) => {\n    console.log('fetch all leaks called with=', songId);\n    counter++;\n    let id = counter;\n    let drops  = await getDropAddress();\n    let songs = await fetchSongMetadata(undefined, true);\n    let currentSong = songs.filter(x => x.songId === parseInt(songId));\n    let leaks = [];\n    for (let {songId, dropAddress} of drops) {\n        let song = songs.find(x => x.songId === songId);\n        let minTokenId = MIN_LEAK[songId] || 0;\n        let remixes = await getZporeRemixes(songId, dropAddress);\n        remixes = remixes.filter(\n            x => parseInt(x.tokenId) >= minTokenId);\n        remixes\n            .forEach(x => {\n                x.song = song;\n                x.song.dropAddress = dropAddress;\n                x.attributes = getAttributeMapping(x.metadata.attributes);\n        });\n        leaks = [... leaks, ... remixes];\n    }\n    // shuffle(leaks);\n    let ret = sortAlgorithm(leaks, songId, currentSong);\n    if (counter !== id) {\n        return undefined;\n    }\n    return ret.filter(x => x);\n};\n\nconst sortAlgorithm = (leaks, songId, currentSong) => {\n    leaks = [... leaks];\n\n    let dates = leaks.map(x => new Date(x.mintInfo.mintContext.blockTimestamp).getTime());\n    dates.sort();\n    dates = dates.reverse();\n    let minDate = Math.min(... dates);\n\n    leaks.forEach(\n        leak => {\n            leak.dateOrdering = dates.indexOf(new Date(leak.mintInfo.mintContext.blockTimestamp).getTime());\n        });\n\n\n    leaks.sort((a,b) => a.dateOrdering - b.dateOrdering);\n    songId = parseInt(songId);\n\n    return pickLeaks(\n        leaks,\n        {songId, range: 3, songProbability: 100},\n        {songId, range: 6, songProbability: 100},\n        {songId, songProbability: 80, range: 8},\n        {songId, songProbability: 25, range: 10},\n        {songId, songProbability: 25, range: 12},\n        {songId, songProbability: 25, range: 14},\n        {songId, songProbability: 60, range: 16},\n        {songId, songProbability: 25, range: 18},\n        {songId, songProbability: 60, range: 18},\n        {songId, songProbability: 25, range: 18},\n        {songId, songProbability: 60, range: 18},\n        {songId, songProbability: 25, range: 18},\n        {songId, songProbability: 60, range: 18},\n        {songId, songProbability: 25, range: 18},\n        {songId, songProbability: 25, range: 18},\n    );\n};\n\nconst pickLeaks = (list, ...items) => {\n    let picked = [];\n    let remaining = list;\n    let i=0;\n    for (let {songId, songProbability, range} of items) {\n        if (remaining.length === 0) {\n            break;\n        }\n        let remaining1 = remaining.filter(x => x.song.songId === songId);\n        let remaining2 = remaining.filter(x => x.song.songId !== songId);\n        let pick;\n        if (Math.random()*100 <= songProbability && remaining1.length > 0) {\n            console.log('chose song for i=%s', i);\n            pick = remaining1[Math.ceil(range*Math.random()) % remaining1.length];\n        } else { \n            console.log('chose not song for i=%s', i);\n            pick = remaining2[Math.ceil(range*Math.random()) % remaining2.length];\n        }\n        picked.push(pick);\n        remaining = remaining.filter(x => x !== pick);\n        i++;\n    }\n    return [... picked, ... shuffle(remaining)];\n};\n\nconst leakScore = (leak, currentSong) => {\n    \n};\n\nexport const useLeaks = ({playStatus, songId}) => {\n\n    let [leakTime, setLeakTime] = useState(5000);\n    let [leaks, setLeaks] = useState([]);\n    let [nextLeak, setNextLeak] = useState();\n    let [loadedLeak, setLoadedLeak] = useState();\n\n    let leakCounter = useRef(0);\n    let interval = useRef();\n\n    // when available -> true, and timer gets to 0, we show\n    // the user a new leak\n    let available = useRef(true);\n\n    useEffect(() => {\n        if (songId === undefined) {\n            return;\n        }\n        fetchAllLeaks(songId).then( (x) => {\n            if (!x) {\n                return;\n            }\n            setNextLeak(undefined);\n            available.current = true;\n            setLeaks(x);\n            leakCounter.current = 0;\n            setLeakTime(5000);\n        });\n\n    }, [songId, setLeaks, setNextLeak]);\n\n    useEffect(() => {\n        clearInterval(interval.current);\n        if (playStatus) {\n            interval.current = setInterval(() => {\n                if (available.current) {\n                    let _nextLeak = leaks[leakCounter.current % leaks.length];\n                    if (!_nextLeak || !_nextLeak.metadata) {\n                        available.current = true;\n                        leakCounter.current = leakCounter.current+1;\n                        return;\n                    }\n                    let url = _nextLeak.metadata.animation_url;\n                    _nextLeak.downloadedAudio = new Promise(async (resolve) => {\n                        let resp = await fetch(url, {method: \"GET\"});\n                        let json = await resp.arrayBuffer();\n                        let blob = new Uint8Array(json);\n                        resolve(blob);\n                    });\n                    setNextLeak(_nextLeak);\n                    available.current = false;\n                    leakCounter.current = leakCounter.current+1;\n                }\n            }, leakTime);\n        } else {\n        }\n\n        return () => clearInterval(interval.current);\n    }, [playStatus, leaks, setNextLeak, leakTime]);\n\n    const chooseLeak = useCallback(() => {\n        let leak = nextLeak;\n        available.current = true;\n        setLoadedLeak(leak);\n        setNextLeak(undefined);\n        multiplayer(songId, leak);\n    }, [setNextLeak, setLoadedLeak, songId, nextLeak]);\n\n    const hideLeaks = useCallback((time=5000) => {\n        setNextLeak(undefined);\n        setLeakTime(time);\n        setLoadedLeak(undefined);\n        available.current = true;\n        leakCounter.current = leakCounter.current+1;\n    }, [setLeakTime, setNextLeak, setLoadedLeak]);\n\n    return {leaks, chooseLeak, nextLeak, loadedLeak, hideLeaks};\n};\n\n","import ENSName from 'components/ens/ENSName.js';\nimport {getSongs} from 'stems/getStemz.js';\nimport {getDropAddress} from 'zpore/getDropAddress.js';\nimport ZorbSampleTooltip from './tooltip/ZorbSampleTooltip.js';\nimport {isMobile} from 'react-device-detect';\nimport {useTokenOwners} from 'utils/zorbs.js';\nimport LeakController from './multiplayer/LeakController.js';\nimport ZporeControlHeader from './header/ZporeControlHeader.js';\nimport {getSongTitle} from 'stems/getStems.js';\nimport {setSongLoaded, setPlayStatus} from 'actions/index.js';\nimport {multiplayer} from './multiplayer/multiplayer.js';\nimport {useZporePlaybackListener} from 'components/hooks/useZporePlaybackListener.js';\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport ZporeLoading from './ZporeLoading.js';\nimport ZorbRemixes from './remixes/ZorbRemixes.js';\nimport ZorbAnimation from './zorbs/ZorbAnimation.js';\nimport {useFlags} from 'flags/flags.js';\nimport SliceRecorder from './saving/SliceRecorder.js';\nimport {useZporeHide} from './useZporeHideUI.js';\nimport ZorbSelector from './zorbs/ZorbSelector.js';\nimport { useAccount } from 'wagmi';\nimport React, { useEffect, useRef,useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './zpore.scss';\nimport {useLeaks} from './multiplayer/useLeaks.js';\nimport Drop from '../drops/Drop.js';\nimport '../drops/thugger.scss';\nimport '../drops/nextgen.scss';\n\n//const CID = \"QmWEEvyNZmr3kngUjE8TNRRC5FmnXZLC1TdQk87UYe1cQL\";\nconst AMPLIFY = \"https://main.djdhx85izle40.amplifyapp.com/?gallery=true\";\n//const AMPLIFY = \"https://zequencer.mypinata.cloud/ipfs/QmULQvsCWhHqwpjsPF4SjqVynt6bab2mC93P8hPF3N8nti/\";\n\nconst Zpore = (props) => { \n    useFlags();\n\n    useZporePlaybackListener(props);\n\n    let [remixId, setRemixId] = useState(props.remixId);\n    let [remixes, setRemixes] = useState([]);\n    let [artist, setArtist] = useState(props.artist);\n    let [tooltip, setTooltip] = useState();\n    let [title, setTitle] = useState(props.songTitle);\n    let [showRemixes, setShowRemixes] = useState(props.showRemixes);\n    let [finished, setFinished] = useState(false);\n    let [isSlicing, setIsSlicing] = useState(false);\n    let [entered, setEntered] = useState(false);\n    let [remove, setRemove] = useState(props.showRemixes);\n    let [zorbId, setZorbId] = useState(undefined);\n    let [insertedZorb, setInsertedZorb] = useState();\n    let [zorbStartPosition, setZorbStartPosition] = useState(undefined);\n    const hideUI = false; //useZporeHide();\n    const {data: account, isError, isLoading} = useAccount();\n    const [started, setStarted] = useState(false);\n    let {zorbs} = useTokenOwners({account})\n\n    const {chooseLeak, nextLeak, loadedLeak, hideLeaks} = useLeaks({playStatus: props.playStatus, songId: props.songId});\n\n    useEffect(() => {\n        getSongs();\n    }, []);\n\n    useEffect(() => {\n        if (props._songId !== undefined) {\n            props.setSongLoaded(props._songId);\n        }\n    }, []);\n    useEffect(() => {\n        if (props.songId !== undefined) {\n            getSongTitle(props.songId).then(\n                ({title, artist}) => {\n                    setTitle(title);\n                    setArtist(artist);\n                });\n        }\n    }, [props.songId, setTitle, setArtist]);\n\n    const clicks = useRef(0);\n\n    useEffect(() => {\n        if (remixId === undefined) {\n            console.log('setting remove=', false);\n            if (!started) {\n                setRemove(false);\n            }\n            window.history.pushState('page2', 'Title', `/zp/${props.songId}`);\n        } else {\n            window.history.pushState('page2', 'Title', `/zp/${props.songId}/${remixId}`);\n        }\n    }, [remixId, setRemove, props.songId, started]);\n\n    useEffect(() => {\n        window.addEventListener(\"click\", () => clicks.current++);\n    }, []);\n    useEffect(() => {\n        if (account && finished && clicks.current > 0) {\n            setEntered(true);\n        }\n    }, [account, setEntered, finished]);\n\n    useEffect(() => {\n        console.log(\"playStatus changed=\", props.playStatus);\n        if (props.playStatus) {\n            setStarted(true);\n        }\n    }, [props.playStatus, setStarted]);\n\n\n    useEffect(() => {\n        if (zorbId !== undefined) {\n            setTimeout(() => {\n                setInsertedZorb(zorbId);\n            }, 1000);\n        }\n    }, [zorbId, setInsertedZorb]);\n\n    useEffect(() => {\n        if (entered) {\n            setTimeout(() => {\n                setRemove(true);\n            }, 1000);\n        }\n    }, [entered, setRemove]);\n\n    let className = \"next-gen zpore\";\n    if (account) {\n        className += \" connected\";\n    }\n    if (hideUI) {\n        className += \" hide-ui\";\n    }\n    if (isSlicing) {\n        className += \" is-slicing\";\n    }\n\n    if (showRemixes) {\n        className += \" showing-remixes\";\n    }\n\n    useEffect(() => {\n        window.playerRef = props.playerRef;\n        window.songId = props.songId;\n    }, [props.playerRef, props.songId]);\n\n    return (\n        <div onClick={() => console.log(\"root clicked\")} className={className}>\n          {<ZorbRemixes setRemixId={setRemixId} remixId={remixId} songId={props.songId} remixes={remixes} show={showRemixes} setShow={setShowRemixes}/>}\n          {started && <SliceRecorder songId={props.songId} setIsSlicing={setIsSlicing} zorbId={zorbId}/>}\n          {entered && <ZorbSelector\n                        zorbs={zorbs}\n             account={account}\n             setZorbId={setZorbId}\n             zorbId={zorbId}\n             setZorbStartPosition={setZorbStartPosition}/>}\n          {entered && zorbStartPosition && <ZorbAnimation setZorbStartPosition={setZorbStartPosition} zorbStartPosition={zorbStartPosition}/>}\n          {!remove &&\n           <div className={!entered ? (finished ? \"enter-overlay loaded\" : \"enter-overlay\") : \"enter-overlay hide\"}>\n             {/*<video\n                playsInline\n                className=\"rain-video\"\n                autoPlay\n                loop\n                muted\n                //src={\"/mushrooms-medium.mp4\"}\n                src={true ? \"/mobile-rain.mp4\" : \"/desktop-rain.mp4\"}\n                />*/}\n             <div\n               className=\"inner-overlay\">\n                          <img\n                            className=\"\"\n                            src=\"/LOGO-SMALL.svg\"/>\n                          {!finished && <ZporeLoading setFinished={setFinished}/>}\n                          {!finished ?\n                           <div className=\"click-text no-btn\">\n                            <div>zorb + spore = zpores</div>\n                            <div>\n                              remix songs using color\n                            </div>\n            </div> : <div className=\"click-text\">\n                       {account ? <button\n                                    className=\"enter-btn\"\n                                    onClick={() => setEntered(true)}\n                                  ><div>let's go, <ENSName address={account.address}/></div></button> : <ConnectButton\n              accountStatus=\"address\" \n              showBalance={{ smallScreen: false, largeScreen: false }}\n              label=\"Connect to Enter\"\n                                 />}\n            </div>\n           }\n             </div>\n           </div> \n          }\n          <ZporeControlHeader\n            userZorbs={zorbs}\n            tooltip={tooltip}\n            hideLeaks={hideLeaks}\n            chooseLeak={chooseLeak}\n            nextLeak={nextLeak}\n            remixes={remixes}\n            setRemixes={setRemixes}\n            setShowRemixes={setShowRemixes}\n            showRemixes={showRemixes}\n            songId={props.songId} artist={artist} title={title}/>\n          {loadedLeak && <LeakController zorbId={zorbId} hideLeaks={hideLeaks} leak={loadedLeak}/>}\n          <ZorbSampleTooltip tooltip={tooltip} setTooltip={setTooltip}/>\n          {(started || remixId === undefined) && <Drop\n            zorbId={insertedZorb}\n            hideWaveform={true}\n            color=\"black\"\n            url={props._songId !== undefined ? AMPLIFY+\"&songId=\" + props._songId : AMPLIFY}\n            collectionAddress={undefined} //'0x7269c1A1b8aBA1390770193771F92bD722c6a77B'\n            isFullScreen={true}\n            simpleControls={true}\n            tokenId={1}\n            className=\"thugger\"\n            //artist={artist || \"Keyon Christ\"}\n            isSimple={true}>\n        </Drop>}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playerRef: state.spore.playerRef,\n      playStatus: state.playback.playStatus,\n      songId: state.spore.songLoaded\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setPlayStatus: x => dispatch(setPlayStatus(x)),\n      setSongLoaded: x => dispatch(setSongLoaded(x))\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Zpore);\n","\nimport React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './timer.scss';\n\nconst TimeRemaining = ({secondsRemaining, color}) => { \n    secondsRemaining = Math.floor(secondsRemaining);\n    if (secondsRemaining > 20 || isNaN(secondsRemaining)) {\n        return '';\n    }\n    if (secondsRemaining < 10) {\n        secondsRemaining = '0'+secondsRemaining;\n    }\n    let className = secondsRemaining%2 === 1 ? \"time-remaining fade\" : \"time-remaining\";\n    return (\n        <div className={className} style={{color}}>\n          0:{secondsRemaining}\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      secondsRemaining: state.spore.secondsRemaining\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TimeRemaining);\n","import {CHILL_RX_COLLECTION} from 'constants/collections.js';\n\n// as songs come in edit this list w/ their name directly\nconst SONG_NAMES = [\n    \"Chill Song 1\",\n    \"Chill Song 2\",\n    \"Chill Song 3\",\n    \"Chill Song 4\",\n    \"Chill Song 5\",\n    \"Chill Song 6\",\n    \"Chill Song 7\",\n    \"Chill Song 8\",\n    \"Chill Song 9\",\n    \"Chill Song 10\",\n];\n\nconst SONG_TO_TOKENS = {\n    1: [1,2,3],\n    2: [4,5,6],\n    3: [7,8,9],\n    4: [10,11,12],\n    5: [13,14,15],\n    6: [16,17,18],\n    7: [19,20,21],\n    8: [22,23,24],\n    9: [25,26,27],\n    10: [28,29,30],\n};\n\nexport const getChillRXSongs = () => {\n    let songs = [];\n    for (let i=1; i <= SONG_NAMES.length; i++) {\n        songs.push({\n            songName: SONG_NAMES[i-1],\n            name: SONG_NAMES[i-1],\n            collectionAddress: CHILL_RX_COLLECTION,\n            coverArt: \"/crx-\" + i + \".png\",\n            tokenId: 1000, // todo: this will be randomly chosen of the actual tokenIds for htis song\n            songId: i,\n            tokenIds: SONG_TO_TOKENS[i]\n        });\n    }\n    return songs;\n};\n\nexport const getChillTokenId = (tokenId) => {\n    console.log(getChillRXSongs);\n    let song = getChillRXSongs().find(x => x.tokenIds.includes(parseInt(tokenId)));\n    console.log('song we found');\n    song = {\n        ... song,\n        tokenId\n    };\n    return song;\n}\n","const PINATAS = {\n    \"mintsongs\": \"mintsongs\",\n    \"zora\": \"zora-prod\",\n    \"sound.xyz\": \"soundxyz\",\n    \"zequencer\": \"zequencer\",\n    \"catalog\": \"catalog\",\n};\n\nexport const extractIPFS = (link) => {\n    if (link.startsWith(\"ipfs://\")) {\n        return link.slice(\"ipfs://\".length);\n    }\n    let part = \"/ipfs/\";\n    let index = link.indexOf(part);\n    let sliced = link.slice(part.length + index);\n    return sliced;\n};\n\nexport const getGatewayLink = (externalLink, ipfs) => {\n    if (!externalLink) {\n        console.log(\"NO EXTERNAL LINK FOUND FOR THIS LINK!\");\n        return \"https://zora-prod.mypinata.cloud/ipfs/\" + ipfs;\n    }\n    for (let type in PINATAS) {\n        if (externalLink.includes(type)) {\n            return \"https://\" + PINATAS[type] + '.mypinata.cloud/ipfs/' + ipfs;\n        }\n    }\n    return \"https://zora-prod.mypinata.cloud/ipfs/\" + ipfs;\n};\n","\nimport ipfs from 'decentralized/Ipfs.js';\nexport const save = async (json) => {\n    console.log(\"saving json=\", json);\n    let hash = await ipfs.addJson(json);\n    // save the hash and name\n\n    let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/saveJack/\" : \"https://zequencer.io/saveJack/\";\n    if (!window.LOCAL_BACKEND_FLAG) {\n        baseURL = \"https://zequencer.io/saveJack/\";\n    }\n    fetch(baseURL, {\n        method: \"POST\",\n         headers: {\n             'Accept': 'application/json',\n             'Content-Type': 'application/json'\n         },\n        body: JSON.stringify({\n            data: hash,\n            title: json.name,\n            jack: json\n        })\n    });\n};\n\nexport const saveWaitlist = async (address, message) => {\n    let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/sporeWaitlist/\" : \"https://zequencer.io/sporeWaitlist/\";\n    if (!window.LOCAL_BACKEND_FLAG) {\n        baseURL = \"https://zequencer.io/sporeWaitlist/\";\n    }\n    fetch(baseURL, {\n        method: \"POST\",\n         headers: {\n             'Accept': 'application/json',\n             'Content-Type': 'application/json'\n         },\n        body: JSON.stringify({\n            address,\n            message\n        })\n    });\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport ipfs from 'decentralized/Ipfs.js';\n\nlet cache = {};\nconst HistoryItemSource = ({item}) => { \n    let [data, setData] = useState();\n    useEffect(() => {\n        if (cache[item.data]) {\n            setData(cache[item.data]);\n        }\n        ipfs.getJson(item.data).then((data) => {\n            cache[item.data] = data;\n            setData(data);\n        });\n    }, [item]);\n\n    if (!data) {\n        return '';\n    }\n\n    return (<div className=\"history-item-source\">\n              {!item.title.includes(data.artist) && data.artist}\n              {data.link && <Source link={data.link}/>}\n            </div>);\n};\n\n\nexport const Source = ({link, textColor}) => {\n    let source = '';\n    if (link.includes('zora')) {\n        source = 'zora';\n    } else if (link.includes(\"catalog.works\")) {\n        source = 'catalog.works';\n    } else if (link.includes(\"mintsongs\")) {\n        source = 'mintsongs';\n    } else if (link.includes(\"sound.xyz\")) {\n        source = 'sound.xyz';\n    } else if (link.includes(\"opensea\")) {\n        source = 'OpenSea';\n    }\n\n    return (<div style={{color: textColor}} className=\"source\">{source}</div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HistoryItemSource);\n","import HistoryItemSource from './HistoryItemSource.js';\nimport {shuffle} from 'utils/shuffle.js';\nimport {getTokensOnSale} from 'components/hooks/useTokensOnSale.js';\nimport {isMobile} from 'react-device-detect';\nimport React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './history.scss';\nimport ipfs from 'decentralized/Ipfs.js';\n\nlet cachedTokens = undefined;\nexport const KEYON_SONGS = async () => {\n    let tokensOnSale = cachedTokens || await getTokensOnSale();\n    cachedTokens = tokensOnSale;\n\n    let unsold = tokensOnSale.filter(x => x.askPrice);\n    shuffle(unsold);\n    let [a,b,c] = unsold;\n    a = a ? a.tokenId : 12;\n    b = b ? b.tokenId : 14;\n    c = c ? c.tokenId : 18;\n    return [\n        {\n            bpm: 90,\n            title: \"Keyon Christ - Psilocybin\",\n            isSporeTrack: true,\n            metadata: {\n                tokenId: a,\n                artist: \"Keyon Christ\",\n                name: \"Psilocybin\",\n                url: \"https://zequencer.mypinata.cloud/ipfs/QmeuwQQnjdqd51Uo1xkXLawYwYfXSq7T8h2mEWuJx7wHdx\",\n                link: \"/sp/\" + a,\n                image: \"/sp-thumbnail-\" + a + \".png\"\n            }\n        },\n        {\n            bpm: 106,\n            title: \"Keyon Christ - Twisting Faith\",\n            isSporeTrack: true,\n            metadata: {\n                tokenId: b,\n                link: \"/sp/\" + b,\n                artist: \"Keyon Christ\",\n                name: \"Twisting Faith\",\n                url: \"https://zequencer.mypinata.cloud/ipfs/QmU6rmmjWWXCZd3NHjeu6pUVjBDZiMXuRx6EVtEocqz9dJ\",\n                image: \"/sp-thumbnail-\" + b + \".png\"\n            }\n        },\n        {\n            bpm: 85,\n            title: \"Keyon Christ - Ying Yang Twins\",\n            isSporeTrack: true,\n            metadata: {\n                tokenId: c,\n                link: \"/sp/\" + c,\n                image: \"/sp-thumbnail-\" + c + \".png\",\n                artist: \"Keyon Christ\",\n                name: \"Ying Yang Twins\",\n                url: \"https://zequencer.mypinata.cloud/ipfs/QmcD2Ece62eiv5FWegEyNquWN8WZzC3ZT81Wxhw6GRk4YY\",\n            }\n        }\n    ];\n}\n\nconst History = ({\n    currentSong,\n    setCurrentSong,\n    latestJacks,\n    loadHistory,\n    link\n}) => { \n    let [keyonSongs, setKeyonSongs] = useState(undefined);\n\n    useEffect(() => {\n        KEYON_SONGS().then(x => setKeyonSongs(x));\n    }, []);\n\n    const load = useCallback((x) => {\n        setCurrentSong(x);\n        if (x.metadata) {\n            loadHistory(x.metadata);\n        } else {\n            ipfs.getJson(x.data).then(\n                y => loadHistory(y));\n        }\n    }, [loadHistory, setCurrentSong]);\n\n    if (!keyonSongs) {\n        return '';\n    }\n    let history = [... keyonSongs, ... latestJacks];\n\n    if (link !== \"\") {\n        history = history.filter(x => x.title && x.title.toLowerCase().includes(link.toLowerCase()));\n    }\n\n    return (<div className=\"jack-history\">\n              <img className=\"globe\" src=\"/globe.svg\"/>\n              <div className=\"items\">\n                {history\n                 .filter(x => x.title && x.title.trim() !== \"\") \n                 .map(\n                  x => <div\n                         onClick={() => load(x)}\n                         className={(x.isSporeTrack ? \"history-item spore-track\" : \"history-item\") + (currentSong === x ? \" current\" : \"\")}>\n                         {x.isSporeTrack ? x.title : trim(x.title)}\n                         {x.isSporeTrack && <div className=\"source\">{isMobile ? \"by Spores\" : \"Released by Spores\"}</div>}\n                         {x.isSporeTrack ? (!isMobile ? <img src=\"/spores-icon-glow2.svg\"/> : '') :\n                          <HistoryItemSource item={x}/>}\n\n\n                       </div>)}\n\n              </div>\n            </div>);\n};\n\nconst trim = (x) => {\n    let len = isMobile ? 24 : 35;\n    if (x.length < len) {\n        return x;\n    }\n    return x.slice(0, len) + '...';\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(History);\n","import React, {useState, useEffect, useCallback} from 'react';\nimport {CHILL_RX_COLLECTION} from 'constants/collections.js';\nimport {getChillTokenId} from 'spores/chillRX.js';\nimport {getGatewayLink, extractIPFS} from 'utils/getGateway.js';\nimport {save} from 'jacker/save.js';\nimport {jack} from 'jacker/jack.js';\nimport {getArtistFromMetadata} from 'jacker/artist.js';\nimport {useTokenMetadata} from 'components/hooks/useTokenMetadata.js';\nimport {KEYON_SONGS} from 'components/nft-jacker/History.js';\n\nexport const useJacker = ({\n    playlistLoaded,\n    remixToPlay,\n    setLatestJacks,\n    setShowHistory,\n    setLink,\n    setShowLinkInput,\n    link,\n    latestJacks,\n    chillTokenId,\n    defaultSearch,\n    directCollectionAddress,\n    directTokenId,\n    updateURL=true\n}) => {\n    const [currentLink, setCurrentLink] = useState();\n    let [songId, setSongId] = useState();\n    let [showDesc, setShowDesc] = useState(true);\n    let [collectionAddress, setCollectionAddress] = useState();\n    let [jackedAudio, setJackedAudio] = useState();\n    let [buyThisSkin, setBuyThisSkin] = useState();\n    let [tokenId, setTokenId] = useState();\n    let [coverArt, setCoverArt] = useState();\n    let [songName, setSongName] = useState();\n    let [description, setDescription] = useState();\n    let getTokenMetadata = useTokenMetadata();\n    let [showPlayer, setShowPlayer] = useState();\n    let [artist, setArtist] = useState();\n    let [error, setError] = useState();\n    let [currentSong, setCurrentSong] = useState();\n    let [searchTerm, setSearchTerm] = useState(defaultSearch);\n\n    useEffect(() => {\n        if (!updateURL) {\n            return;\n        }\n        if (remixToPlay) {\n            window.history.pushState('page2', 'Title', '/play/' + collectionAddress + '/' + tokenId + '/' + remixToPlay.sporeId);\n        } else if (collectionAddress) {\n            window.history.pushState('page2', 'Title', '/play/' + collectionAddress + '/' + tokenId);\n        } else {\n            window.history.pushState('page2', 'Title', '/');\n        }\n    }, [remixToPlay, collectionAddress, tokenId, updateURL]);\n\n    useEffect(() => {\n        if (directCollectionAddress) {\n            let link = \"https://zora.co/collections/\" + directCollectionAddress + \"/\" + directTokenId;\n            jack(link, getTokenMetadata).then(\n                jacked => {\n                    loadJack(jacked);\n                });\n        }\n    }, []);\n\n    useEffect(() => {\n        if (chillTokenId !== undefined) {\n            let ret = getChillTokenId(chillTokenId);\n            loadJack(ret);\n        }\n    }, [\n      ]);\n\n    useEffect(() => {\n        KEYON_SONGS();\n    }, []);\n\n    const clear = useCallback(() => {\n        setLink(\"\");\n        setCollectionAddress(undefined);\n        setShowPlayer(false);\n        setCoverArt(undefined);\n        setArtist(undefined);\n        setTokenId(undefined);\n        setSongName(undefined);\n        setDescription(undefined);\n        setJackedAudio(undefined);\n        setShowLinkInput(true);\n        setSongId(undefined);\n    }, [\n        setSongId,\n        setShowLinkInput,\n        setShowPlayer,\n        coverArt,\n        setLink,\n        setTokenId,\n        setArtist,\n        setSongName,\n        setCollectionAddress,\n        setDescription,\n        setJackedAudio\n    ]);\n\n    const onJack = useCallback(async (isPlaylist) => {\n        if (link === \"\") {\n            return;\n        }\n        if (!link.startsWith(\"http\")) {\n            setSearchTerm(link);\n            return;\n        }\n        setShowPlayer(true);\n        if (isPlaylist) {\n            setShowLinkInput(false);\n        }\n        setShowDesc(false);\n        let ret = await jack(link, getTokenMetadata);\n        if (!ret) {\n            clear();\n            setError(\"The token you\\'ve linked has a strange format. Echo rejects it, respectfully...\");\n            return;\n        }\n        ret.link = link;\n        loadJack(ret, true);\n    }, [\n        link,\n        setSearchTerm,\n        latestJacks,\n        setSongName,\n        setShowHistory,\n        setCollectionAddress,\n        playlistLoaded,\n        setJackedAudio,\n        setArtist,\n        setTokenId,\n        setShowPlayer,\n        setError,\n        setShowLinkInput,\n        setSongId,\n        setCurrentLink\n    ]);\n\n    const loadChillRX = useCallback((ret) => {\n    \n        setArtist(\"Chill RX\");\n        setTokenId(ret.tokenId);\n        setSongId(ret.songId);\n        setCollectionAddress(ret.collectionAddress);\n        setSongName(ret.name);\n        setCoverArt(ret.coverArt);\n        setDescription(ret.description);\n        setJackedAudio(\"BLANK\");\n\n    }, [setSongId, setCoverArt, setArtist, setArtist, setCoverArt, setCollectionAddress]);\n\n    const loadJack = useCallback((ret, shouldSave=true, isPlaylist) => {\n        setShowHistory(false);\n        setShowPlayer(true);\n        if (!isPlaylist) {\n            setShowLinkInput(false);\n        }\n        setShowDesc(false);\n\n        if (ret.collectionAddress === CHILL_RX_COLLECTION) {\n            loadChillRX(ret);\n            return;\n        }\n        \n        let {url, ipfs} = ret;\n       \n        console.log(\"LOAD JACK CALLED ret=\", ret);\n\n        if (!ret.external_url) {\n            ret.external_url = ret.link;\n        }\n        if (!ret.link && ret.external_url) {\n            ret.link = ret.external_url;\n        }\n        if (!url) {\n            clear();\n            setError(\"The token you\\'ve linked might not contain a music NFT.\");\n            return;\n        }\n\n        setError(undefined);\n\n        let toSave = {};\n        if (url.startsWith(\"ipfs://\")) {\n            ipfs = url.slice(7);\n        }\n        if (ipfs && !url) {\n            let url = getGatewayLink(ret.external_url, ipfs);\n            //submitSplitJob(url);\n            setJackedAudio(ipfs);\n            toSave.ipfs = ipfs;\n            toSave.url = url;\n            console.log(\"URL we extracted=\", url);\n        } else {\n            let ipfsHash = extractIPFS(url);\n            console.log(\"EXTRACTED IPFS=\", ipfsHash);\n            url = getGatewayLink(ret.external_url, ipfsHash);\n            console.log('setting jacked audio=', url);\n            setJackedAudio(url);\n            toSave.url = url;\n        }\n        console.log(\"URL WE EXTRACTED = \", url);\n        if (ret.body) {\n            ret = {\n                ... ret,\n                ...ret.body,\n                name: ret.body.title\n            };\n            if (ret.body.artwork && ret.body.artwork.info) {\n                ret = {\n                    ... ret,\n                    image: ret.body.artwork.info.uri\n                };\n            }\n        }\n        let artist = getArtistFromMetadata(ret);\n        toSave.artist = artist;\n        setArtist(artist);\n\n        console.log(\"TOKEN ID =\", ret.tokenId);\n        setTokenId(ret.tokenId);\n        setSongId(ret.songId);\n        setCollectionAddress(ret.collectionAddress);\n\n        /*\n        setSongId(2);\n        setTokenId(2000);\n        setCollectionAddress(CHILL_RX_COLLECTION);\n        */\n\n        setSongName(ret.name);\n        toSave.song = ret.name;\n        setDescription(ret.description);\n\n        let image = ret.image;\n        if (ret.image) {\n            let image = getGatewayLink(ret.link, extractIPFS(ret.image));\n            setCoverArt(image);\n        } else {\n            setCoverArt(\"/zora-placeholder.png\");\n        }\n\n        toSave = {\n            ... ret,\n            ... toSave\n        };\n\n        if (ret.link) {\n            setCurrentLink(ret.link);\n        } else {\n            setCurrentLink(undefined);\n        }\n\n        if (shouldSave && artist !== \"Keyon Christ\") {\n            save(toSave);\n            /*\n            setLatestJacks([\n                toSave,\n                ... latestJacks,\n            ]);\n            */\n        }\n    }, [\n        setCurrentLink,\n        link,\n        setLatestJacks,\n        setTokenId,\n        latestJacks,\n        setSongName,\n        setJackedAudio,\n        setArtist,\n        setShowPlayer,\n        setError,\n        setShowLinkInput,\n        setShowHistory,\n        setSongId,\n    ]);\n\n    return {\n        clear,\n        onJack,\n        loadJack,\n        artist,\n        description,\n        showPlayer,\n        setShowPlayer,\n        tokenId,\n        buyThisSkin,\n        coverArt,\n        songName,\n        error,\n        currentSong,\n        jackedAudio,\n        setBuyThisSkin,\n        currentLink,\n        setCurrentSong,\n        collectionAddress,\n        songId,\n        searchTerm,\n        setSearchTerm,\n        setArtist\n    };\n};\n\n","export const getArtistFromMetadata = (metadata) => {\n    return metadata[\"artist_name\"] || metadata[\"artist\"] || (metadata.attributes && metadata.attributes[\"artist\"]) ||\n        (metadata[\"created_by\"]) || undefined;\n};\n","import React, {useEffect, useState} from 'react';\n\nexport const useLatestJacks = () => {\n    const [latestJacks, setLatestJacks] = useState();\n\n    useEffect(() => {\n        let baseURL = window.location.hostname === \"localhost\" ?\n            \"http://localhost:9090/latestJacks/\" : \"https://zequencer.io/latestJacks/\";\n        if (!window.LOCAL_BACKEND_FLAG) {\n            baseURL = \"https://zequencer.io/latestJacks/\";\n        }\n        fetch(baseURL).then(\n            async ret => {\n                let json = await ret.json();\n                setLatestJacks(json.filter(x => x.title && !x.title.includes(\"Spore Players\")));\n            });\n    }, []);\n\n    return {latestJacks, setLatestJacks};\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {isMobile} from 'react-device-detect';\nimport History from './History.js';\nimport {connect} from 'react-redux';\nimport './search-box.scss';\n\nconst EchoSearchBox = ({\n    showLinkInput,\n    setSearchTerm,\n    setShowHistory,\n    onJack,\n    loadJack,\n    link,\n    setShowInfo,\n    setLink,\n    showHistory,\n    currentSong,\n    setCurrentSong,\n    loadHistory,\n    latestJacks,\n    cheatCodeActivating\n}) => { \n    let className =!showLinkInput ? \"nft-link hide\" : \"nft-link\";\n    if (cheatCodeActivating) {\n        className += \"  activating\";\n    }\n  return (\n      <div className={className}>\n        <input\n          onKeyDown={e => e.key === \"Enter\" ? onJack() : []}\n          onClick={e => e.stopPropagation()}\n          onFocus={() => {\n              setShowHistory(true);\n              setShowInfo(false);\n          }}\n          placeholder={isMobile ? \"Search or drop a music NFT Link\" : \"Search an artist or drop a music NFT link\"} value={link} onChange={e => {\n              setShowHistory(false);\n              setShowInfo(false);\n              setLink(e.target.value);\n          }}/>\n        <div onClick={() => {\n            setLink('');\n            setSearchTerm('');\n        }} className=\"clear-btn\">x</div>\n        <div onClick={(e) => {\n            e.stopPropagation();\n            onJack();\n        }} className=\"pushable jack-btn\">\n          Remix\n        </div>\n        {cheatCodeActivating &&\n         <div className=\"activation-text\">\n           Code activated. You may freely create bangers, for the culture.\n         </div>}\n      </div>);\n};\n\nexport default EchoSearchBox;\n/**\n        {(showHistory || ((showHistory ) && !link.includes(\"http\"))) &&\n         <History\n           currentSong={currentSong}\n           link={\"\"}\n           setCurrentSong={setCurrentSong}\n           loadHistory={loadJack} latestJacks={latestJacks}/>}\n*/\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport BuyUnsold from './BuyUnsold.js';\nimport {isMobile} from 'react-device-detect';\n\nconst BuyThisSkin = ({buyThisSkin, upperGradInverted, lowerGradInverted}) => { \n    if (buyThisSkin > 20) {\n        return '';\n    }\n    return (\n        <BuyUnsold\n          upperGradInverted={isMobile ? lowerGradInverted : upperGradInverted}\n          text={isMobile ? \"Buy\" : \"Buy this spore\"}\n          tokenId={buyThisSkin}/>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(BuyThisSkin);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {Source} from 'components/nft-jacker/HistoryItemSource.js';\nimport BuyUnsold from 'components/nft-jacker/BuyUnsold.js';\nimport BuyThisSkin from 'components/nft-jacker/BuyThisSkin.js';\n\nimport {connect} from 'react-redux';\n\nconst TokenMetadata = ({\n    showBuyThisSkin,\n    buyThisSkin,\n    artist,\n    upperGradInverted,\n    lowerGradInverted,\n    coverArt,\n    songName,\n    tokenId,\n    currentLink,\n    children\n}) => { \n  return (\n      <div className=\"artist-name\" style={{color: upperGradInverted}}>\n        {children}\n        {artist}\n        <div className=\"song-name\" style={{color: upperGradInverted}}>\n          {songName}\n        </div>\n        {coverArt && <img className={artist === \"Keyon Christ\" ? \"cover-art smaller\" : \"cover-art\"} src={coverArt}/>}\n        <div />\n        <div className={artist === \"Keyon Christ\" ? \"link-and-buy keyon\" : \"link-and-buy\"}>\n          {artist === \"Keyon Christ\" && <BuyUnsold tokenId={tokenId}/>}\n          {currentLink && <a className={artist !== \"Keyon Christ\" ? \"current-link align-right\" : \"current-link\"} style={{color: upperGradInverted}} href={currentLink} target=\"_blank\" rel=\"noreferrer\">{artist !== \"Keyon Christ\" && <Source link={currentLink} textColor={upperGradInverted} />}</a>}\n        </div>\n        {showBuyThisSkin && artist !== \"Keyon Christ\" && <BuyThisSkin upperGradInverted={upperGradInverted} lowerGradInverted={lowerGradInverted} buyThisSkin={buyThisSkin}/>}\n      </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(TokenMetadata);\n","export const CHEAT_CODES = [\n    \"spores dao summer\",\n    \"the spore button\",\n];\n","import {CHILL_RX_COLLECTION} from 'constants/collections.js';\nimport {useInterval} from './useInterval.js';\nimport {useTokensOnSale} from './useTokensOnSale.js';\nimport { useAccount } from 'wagmi';\nimport React, {useRef, useEffect, useCallback, useState} from 'react';\nimport {CHEAT_CODES} from 'constants/cheat-codes.js'\n\nconst TICK_TIME = 1000;\nconst LOCK_TIME = 5 * 60 * 1000;\n\nconst isValidCheatCode = (code) => {\n    return CHEAT_CODES.some(x => code.toLowerCase().trim() === x);\n};\n\nexport const useTokenLock = (\n    cheatcode,\n    setLink,\n    setUsedCheatCode,\n    setSecondsRemaining\n) => {\n    const {data: account, isError, isLoading} = useAccount();\n    const {tokensOnSale} = useTokensOnSale();\n    let [cheatCodeActivating, setCheatCodeActivating] = useState();\n    let [locked, setLocked] = useState(false);\n    let [isSporeOwner, setIsSporeOwner] = useState();\n    let timeElapsed = useRef(0);\n    let isPlaying = useRef(false);\n    let [cheatOverriden, setCheatOverriden] = useState(false);\n\n    useEffect(() => {\n        if (isValidCheatCode(cheatcode)) {\n            setCheatOverriden(true);\n            setLocked(false);\n            window.localStorage.setItem(\"cheatcode\", cheatcode);\n            setUsedCheatCode(true);\n            setCheatCodeActivating(true);\n            setTimeout(() => {\n                setLink('');\n            }, 1000);\n            setTimeout(() => {\n                setCheatCodeActivating(false);\n            }, 10000);\n        }\n    }, [cheatcode, setCheatOverriden, setLocked, setCheatCodeActivating]);\n\n    useEffect(() => {\n        let code = window.localStorage.getItem(\"cheatcode\");\n        if (code && isValidCheatCode(code)) {\n            setCheatOverriden(true);\n            setUsedCheatCode(true);\n            setLocked(false);\n        }\n    }, []);\n\n    useEffect(() => {\n        if (window.OWN_FAKE_SPORE_FLAG) {\n            setIsSporeOwner(true);\n            setLocked(false);\n            return;\n        }\n        if (tokensOnSale && account && account.address) {\n            let _tokensOnSale = window.OWN_FAKE_SPORE_FLAG ? tokensOnSale.map(x =>\n                ({\n                    ... x,\n                    owner: account.address})) : tokensOnSale;\n            let address = account.address.toLowerCase();\n            if (_tokensOnSale.some(x =>\n                x &&\n                    x.owner &&\n                    x.owner.toLowerCase() === address)) {\n                setIsSporeOwner(true);\n                setLocked(false);\n            }\n        } else {\n        }\n    }, [tokensOnSale, account, setIsSporeOwner, setLocked]);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage, false);\n        let _timeElapsed = window.localStorage.getItem(\"time-elapsed\") || 0;\n        if (window.ABOUT_TO_END_FLAG) {\n            timeElapsed.current = LOCK_TIME - 20*1000; // parseInt(_timeElapsed);\n        } else {\n            timeElapsed.current = parseInt(_timeElapsed);\n        }\n    }, []);\n\n    const onMessage = useCallback((e) => {\n        if (e.data && Array.isArray(e.data.type) && e.data.type[0] === \"sequencer.start\") {\n            isPlaying.current = true;\n        } else if (e.data && Array.isArray(e.data.type) && e.data.type[0] === \"sequencer.stop\") {\n            isPlaying.current = false;\n        }\n    }, []);\n\n\n    // listen for play events\n    const tick = useCallback(() => {\n        if (!window.TOKEN_LOCK_FLAG || cheatOverriden) {\n            return;\n        }\n        if (timeElapsed.current >= LOCK_TIME && !locked) {\n            if (!isSporeOwner) {\n                setLocked(true);\n            }\n        }\n        if (isPlaying.current && !isSporeOwner) {\n            timeElapsed.current += TICK_TIME;\n            let secondsRemaining = LOCK_TIME/1000 - timeElapsed.current/1000;\n            setSecondsRemaining(secondsRemaining);\n            window.localStorage.setItem(\"time-elapsed\", timeElapsed.current);\n        }\n    }, [locked, setLocked, isSporeOwner, cheatOverriden]);\n\n    useInterval(tick, TICK_TIME);\n\n    return {locked, cheatCodeActivating};\n};\n","/**\n * contains the abi and contract address\n*/\n\nclass SporesPlaylistContract {\n    constructor() {\n        this.abi = [\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"playlistId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"burnPlaylist\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address[]\",\n\t\t\t\t\"name\": \"contractAddresses\",\n\t\t\t\t\"type\": \"address[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256[]\",\n\t\t\t\t\"name\": \"tokenIds\",\n\t\t\t\t\"type\": \"uint256[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"metadataCID\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"message\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint8\",\n\t\t\t\t\"name\": \"v\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes32\",\n\t\t\t\t\"name\": \"r\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes32\",\n\t\t\t\t\"name\": \"s\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"newSporesPlaylist\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"playlistId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"creator\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"metadataCID\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"NewSporesPlaylist\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"playlistId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"PlaylistBurned\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address[]\",\n\t\t\t\t\"name\": \"contractAddresses\",\n\t\t\t\t\"type\": \"address[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint256[]\",\n\t\t\t\t\"name\": \"tokenIds\",\n\t\t\t\t\"type\": \"uint256[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string[]\",\n\t\t\t\t\"name\": \"genres\",\n\t\t\t\t\"type\": \"string[]\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"message\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint8\",\n\t\t\t\t\"name\": \"v\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes32\",\n\t\t\t\t\"name\": \"r\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes32\",\n\t\t\t\t\"name\": \"s\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"setGenres\",\n\t\t\"outputs\": [],\n\t\t\"stateMutability\": \"nonpayable\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"collectionAddress\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"genre\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"user\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"metadataCID\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"SongGenre\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"anonymous\": false,\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"playlistId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"collectionAddress\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"indexed\": false,\n\t\t\t\t\"internalType\": \"uint256\",\n\t\t\t\t\"name\": \"tokenId\",\n\t\t\t\t\"type\": \"uint256\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"SporesPlaylistSong\",\n\t\t\"type\": \"event\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"a\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"b\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"compareStrings\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"bool\",\n\t\t\t\t\"name\": \"\",\n\t\t\t\t\"type\": \"bool\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"pure\",\n\t\t\"type\": \"function\"\n\t},\n\t{\n\t\t\"inputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"string\",\n\t\t\t\t\"name\": \"message\",\n\t\t\t\t\"type\": \"string\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"uint8\",\n\t\t\t\t\"name\": \"v\",\n\t\t\t\t\"type\": \"uint8\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes32\",\n\t\t\t\t\"name\": \"r\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t},\n\t\t\t{\n\t\t\t\t\"internalType\": \"bytes32\",\n\t\t\t\t\"name\": \"s\",\n\t\t\t\t\"type\": \"bytes32\"\n\t\t\t}\n\t\t],\n\t\t\"name\": \"verifyString\",\n\t\t\"outputs\": [\n\t\t\t{\n\t\t\t\t\"internalType\": \"address\",\n\t\t\t\t\"name\": \"signer\",\n\t\t\t\t\"type\": \"address\"\n\t\t\t}\n\t\t],\n\t\t\"stateMutability\": \"pure\",\n\t\t\"type\": \"function\"\n\t}\n        ];\n\n        this.contractAddress = '0xe2031bF65D3f8a96dE0a7eD1211810F49627c261';\n    }\n\n    getContract(web3) {\n        return new web3.eth.Contract(this.abi, this.contractAddress);\n    }\n}\n\nexport default SporesPlaylistContract;\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport { useAccount } from 'wagmi';\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport {connect} from 'react-redux';\nimport {useShader} from 'components/spore/sketch.js';\nimport './locked.scss';\n\nconst LockedNotification = ({clearPlayer}) => { \n    const {data: account, isError, isLoading} = useAccount();\n    let [showConnectWallet, setShowConnectWallet] = useState(false);\n    let ref = useRef();\n    let [loaded, setLoaded] = useState();\n    useEffect(() => {\n        window.addEventListener(\"message\", onMessage);\n    }, [setLoaded]);\n\n    const onMessage = useCallback((e) => {\n        if (e.data === \"loaded-lock-shader\") {\n            setLoaded(true);\n        }\n    }, [setLoaded]);\n    \n    return (\n        <div\n          ref={ref} className=\"locked-notification-background\">\n         <iframe className={loaded ? \"loaded-shader\" : \"\"} src=\"https://zequencer.mypinata.cloud/ipfs/QmUZqg4Ee2sDWqNxhAT5xrUUDY53as3VWrdWYWK5HomBgf/\"/>\n        {showConnectWallet && !account ?\n         <div\n           onClick={e => e.stopPropagation()}\n           className=\"locked-notification\">\n          <div className=\"connect-button-wrapper\">\n            <ConnectButton\n              accountStatus=\"address\" \n              showBalance={{ smallScreen: false, largeScreen: false }}\n              label=\"Connect Wallet\"\n            />\n          </div>\n         </div> : \n          <div\n            onClick={e => e.stopPropagation()}\n            className=\"locked-notification\">\n          <div className=\"logo-container\">\n            <img\n              onClick={() => clearPlayer()}\n              className=\"pushable spores-logo\" src=\"/spores-logo-black.svg\"/>\n          </div>\n            {showConnectWallet && account ? `It seems you dont't own a Spore yet. Get the full dose by purchasing a Genesis Spore.` : \n            `Enjoying this microdose of Spores? Get the full dose by purchasing a Genesis Spore.`}\n            <div\n              onClick={() => window.location.href=\"/buy?sold=false\"}\n              className=\"go-to-buy pushable\">\n                Buy Now\n            </div>\n            {!account && <div className=\"pushable already-own-one\" onClick={() => setShowConnectWallet(true)}>\n              Already own one?\n                         </div>}\n          </div>}\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(LockedNotification);\n","import ipfs from 'decentralized/Ipfs.js';\nimport {signMessage} from './sign.js';\n\nimport BackendQuery from 'decentralized/BackendQuery.js';\nimport {NewSporesPlaylist, SporesPlaylistSong } from 'decentralized/EthereumEvents.js';\nimport SporesPlaylistContract from 'decentralized/contracts/SporesPlaylistContract.js';\n\nconst playlistMessage = (cid) => \"A new playlist awakens at \" + cid;\n\nexport const newPlaylist = async (signer, collectionAddresses, tokenIds, name, description, thumbnail, songs) => {\n    let metadata = {\n        name,\n        description,\n        thumbnail,\n        tokenIds,\n        collectionAddresses,\n        playlist: songs\n    };\n   \n    let metadataCID = await ipfs.addJson(metadata);\n\n    // genereate message based on the\n    let message = playlistMessage(metadataCID);\n    let {account, flatSignature, splitSignature} = await signMessage(signer, message);\n    \n    // now store this signed message on the ropsten contract\n    let {r,s,v} = splitSignature;\n\n    let body = {\n        r,\n        s,\n        v,\n        message,\n        metadataCID,\n        tokenIds,\n        collectionAddresses,\n    };\n    console.log(body);\n        \n    let baseURL = \"https://zequencer.io\";\n    /*\n    if (window.location.hostname.includes(\"localhost\")) {\n        baseURL = \"\";\n    }\n    */\n\n    let resp = await fetch(baseURL + '/newSporesPlaylist/' , {\n        method: 'POST',\n        body: JSON.stringify(body),\n        headers: {\n            'Accept': 'application/json',\n            'Content-Type': 'application/json',\n        }\n    });\n    let respJson = await resp.json();\n    \n    return respJson.transactionHash;\n};\n\nconst ADDRESS = new SporesPlaylistContract().contractAddress;\nexport const getJuicePlaylists = async () => {\n    let query = new BackendQuery(ADDRESS)\n        .from(NewSporesPlaylist);\n\n    let results = await query.executeQuery();\n\n    for (let result of results) {\n        let {metadataCID} = result;\n        result.metadata = await ipfs.getJson(metadataCID);\n    }\n    return results.slice(0, results.length - 3);\n};\n","import Collapsible from 'react-collapsible';\nimport {isMobile} from 'react-device-detect';\nimport {\n    setPlaylistLoaded,\n    setCurrentPlaylistSong \n} from 'actions/index.js';\nimport {jack} from 'jacker/jack.js';\nimport {getJackFromToken} from 'utils/getJackFromToken.js';\nimport {useTokenMetadata} from 'components/hooks/useTokenMetadata.js';\nimport React, {useCallback} from 'react';\nimport './playlist.scss';\nimport {connect} from 'react-redux';\n\nconst PlaylistInfo = ({setCurrentPlaylistSong, setPlaylistLoaded, playlist, loadJack, currentSong, isLoaded}) => {\n    let thumbnail = \"https://zequencer.io/ipfs/\" + playlist.metadata.thumbnail;\n    let getTokenMetadata = useTokenMetadata();\n\n    const onClick = useCallback((song) => {\n        setCurrentPlaylistSong(song);\n        setPlaylistLoaded(playlist);\n        getJackFromToken(song.collectionAddress, song.tokenId).then(\n            jacked => loadJack(jacked, undefined, !isMobile));\n    }, [playlist]);\n\n    return (<>\n        <Collapsible\n          transitionTime={200}\n          easing=\"ease-in-out\"\n          open={isLoaded}\n          trigger={\n              <div className='playlist-trigger'>\n                <img src={thumbnail} className=\"playlist-trigger-img\"></img>\n                <div className=\"playlist-name\">{playlist.metadata.name}</div>\n              </div>\n          }>\n          <p className='playlist-description'>{playlist.metadata.description}</p>\n          <div className='playlist-list-container'>\n            {playlist.metadata.playlist.map(\n                (item, i) =>\n                <div\n                  onClick={() => onClick(item)}\n                  className={\n                      currentSong &&\n                          currentSong.collectionAddress === item.collectionAddress &&\n                          currentSong.tokenId === item.tokenId ?\n                          \"playlist-item current\" : \"playlist-item\"}>\n                  <div className=\"song-number\">{i+1}</div>\n                  <img src={item.coverArt} className=\"playlist-item-img\"></img>\n                  <p>{item.songName}</p>\n                  <p>{item.artist}</p>\n                </div>)}\n          </div>\n        </Collapsible>\n    </>);\n}\n\n\nconst mapStateToProps = (state, props) => {\n  return {\n      isLoaded: state.playlist.playlistLoaded && state.playlist.playlistLoaded.playlistId ===\n          props.playlist.playlistId,\n      currentSong: state.playlist.currentSong\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setPlaylistLoaded: x => dispatch(setPlaylistLoaded(x)),\n      setCurrentPlaylistSong: x => dispatch(setCurrentPlaylistSong(x)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlaylistInfo);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {usePlaylists} from 'components/hooks/usePlaylists.js';\nimport PlaylistInfo from './PlaylistInfo.js';\nimport {connect} from 'react-redux';\n\nconst JuicePlaylists = ({loadJack}) => { \n    let playlists = usePlaylists();\n    return (\n        <div\n          onClick={e => e.stopPropagation()}\n          className=\"playlist-container\">\n          <div\n            className=\"playlist-item\">\n            {playlists.map(\n                playlist =>\n                <PlaylistInfo\n                  loadJack={loadJack}\n                  playlist={playlist}/>)}\n          </div>\n        </div>);\n}\n\nexport default JuicePlaylists;\n","import React, {useEffect, useState, useCallback} from 'react';\nimport {getJuicePlaylists} from 'spores/playlist.js';\n\nexport const usePlaylists = () => {\n    let [playlists, setPlaylists] = useState([]);\n\n    useEffect(() => {\n        getJuicePlaylists().then(setPlaylists);\n    }, []);\n\n    return playlists;\n};\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport JuicePlaylists from './JuicePlaylists.js';\nimport UnknownProgressBar from 'components/progressbar/UnknownProgressBar.js';\n\nimport {ethers} from 'ethers';\nimport {web3} from 'decentralized/web3.js';\nimport {getRemixesMap} from \"spores/getSporeRemixes.js\";\nimport {getChillRXSongs} from \"spores/chillRX.js\";\nimport {connect} from 'react-redux';\nimport {useScroll} from 'components/hooks/useScroll.js';\nimport {useTokensOnSale} from '../hooks/useTokensOnSale.js';\nimport './chart.scss';\nimport Collapsible from 'react-collapsible';\nimport PlaylistInfo from './PlaylistInfo.js';\n\nconst PINATAS = {\n    \"mintsongs\": \"mintsongs\",\n    \"zora\": \"zora-prod\",\n    \"soundxyz\": \"soundxyz\",\n    \"zequencer\": \"zequencer\",\n    \"catalog\": \"catalog\",\n};\n\n// switch to true/false to enable charts as a feature\nwindow.CHARTS_FLAG = true;\n\nconst SEARCH_TIME_OUT = 1000;\n\nconst Chart = ({searchTerm, jacked, loadJack, history=[], showChart, playlistLoaded}) => { \n    let [loading, setLoading] = useState(false);\n    let [chartData, setChartData] = useState([]);\n    let [remixes, setRemixes] = useState({});\n    let [chillRXData, setChillRXData] = useState({});\n    let searchCounter = useRef(0);\n    let searchTermRef = useRef(\"\");\n    let cursor = useRef();\n    let lastCursorUsed = useRef();\n    let [keyonSongs, setKeyonSongs] = useState([]);\n    let [selectedTab, setSelectedTab] = useState(playlistLoaded ? \"playlists\" : \"new\");\n    let ref = useRef();\n    let {setTokensOnSale, tokensOnSale} = useTokensOnSale();\n    let searchId = useRef(0);\n\n    console.log(\"SEARCH TERm=\", searchTerm);\n    useEffect(() => {\n        getRemixesMap().then(setRemixes);\n        setChillRXData(getChillRXSongs());\n    }, []);\n\n    useEffect(() => {\n        searchTermRef.current = searchTerm;\n    }, [searchTerm]);\n\n    // size is a variable telling us how many items to show in the list\n    // it updates as we scroll\n    let {size} = useScroll(\n        ref,\n        Math.ceil((window.innerWidth / 200) * (window.innerHeight / 200)), // intial # to load\n        searchTerm);\n\n    useEffect(() => {\n        lastCursorUsed.current = undefined;\n        cursor.current = undefined;\n    }, [showChart]);\n\n    useEffect(() => {\n        if (selectedTab !== \"new\") {\n            return;\n        }\n        if (size >= chartData.length) {\n            if (lastCursorUsed.current === cursor.current) {\n                return;\n            }\n            // then we call search again\n            let baseURL = window.location.hostname === \"localhost\" ?\n                \"http://localhost:9090/charts\" :  \"https://zequencer.io/charts\";\n            if (!window.LOCAL_BACKEND_FLAG) {\n                baseURL = \"https://zequencer.io/charts\";\n            }\n            let url = baseURL;\n            if (cursor.current && cursor.current !== \"\") {\n                url += \"?cursor=\" + cursor.current;\n            }\n            lastCursorUsed.current = cursor.current;\n\n            let id = ++searchId.current;\n            fetch(url).then(async x => {\n                let json = await x.json();\n                if (/*searchId.current !== id ||*/ searchTermRef.current && searchTermRef.current !== \"\") {\n                    return;\n                }\n                if (json) {\n                    setLoading(false);\n                    setChartData([... chartData, ...json.results]);\n                    cursor.current = json.cursor;\n                }\n            });\n        }\n    }, [setChartData, selectedTab, chartData, size]);\n\n    useEffect(() => {\n        if (searchTerm !== \"\") {\n            setSelectedTab(\"new\");\n        }\n    }, [searchTerm, setSelectedTab]);\n\n    useEffect(() => {\n        if (playlistLoaded) {\n            setSelectedTab(\"playlists\");\n        }\n    }, [playlistLoaded]);\n\n    useEffect(() => {\n        console.log(\"SEARCH TERM CHANGED\");\n        if (!window.CHARTS_FLAG) {\n            return;\n        }\n\n        if (selectedTab == \"history\") {\n            // set to history data\n            setChartData(history);\n        } else if (selectedTab == \"new\") {\n            // set to chart/new data\n            let baseURL = window.location.hostname === \"localhost\" ? \"http://localhost:9090/charts\" :  \"https://zequencer.io/charts\";\n            if (!window.LOCAL_BACKEND_FLAG) {\n                baseURL = \"https://zequencer.io/charts\";\n            }\n            if (searchTerm && searchTerm !== \"\") {\n                let id = ++searchId.current;\n                setTimeout(() => {\n                    if (id !== searchId.current) {\n                        return;\n                    }\n                    setLoading(true);\n                    let _searchTerm = searchTerm;\n                    if (_searchTerm.toLowerCase().includes(\"chaos\")) {\n                        _searchTerm = _searchTerm.replace(\"#\", \"\");\n                    }\n                    let url = baseURL + \"/\" + _searchTerm;\n                    cursor.current = undefined;\n                    fetch(url).then(async x => {\n                        if (id !== searchId.current) {\n                            return;\n                        }\n                        let json = await x.json();\n                        setLoading(false);\n                        if (json) {\n                            setChartData(json.results);\n                            cursor.current = undefined; //json.cursor;\n                        } \n                    });\n                }, SEARCH_TIME_OUT);\n            } else {\n                setLoading(true);\n                let url = baseURL;\n                console.log(\"BASE URL SEARCh=\", url);\n                fetch(url).then(async x => {\n                    let json = await x.json();\n                    if (json) {\n                        setLoading(false);\n                        setChartData(json.results);\n                        cursor.current = json.cursor;\n                    }\n                });\n            }\n        }\n    }, [history, setChartData, searchTerm, jacked, selectedTab, cursor]);\n\n    return (<>\n              <div\n                onClick={e => e.stopPropagation()}\n                className='tab-container' style={{display: showChart ? \"flex\" : \"none\"}}>\n            {window.PLAYLIST_FLAG && <div\n            className={selectedTab == \"playlists\" ? \"tab pushable selected\" : \"tab pushable not-selected\"}\n            onClick={() => setSelectedTab(\"playlists\")}><p>Playlists</p></div>}\n            \n            <div className={selectedTab == \"history\" ? \"tab pushable selected\" : \"tab pushable not-selected\"}\n            onClick={() => setSelectedTab(\"history\")}><p>Recently Played</p></div>\n            <div className={selectedTab == \"new\" ? \"tab pushable selected\" : \"tab pushable not-selected\"}\n            onClick={() => setSelectedTab(\"new\")}><p>New Songs</p></div>\n        </div>\n\n        {/* PLAYLIST */}\n        { selectedTab == \"playlists\" &&\n          <JuicePlaylists loadJack={loadJack} playlistLoaded={playlistLoaded}/>}\n\n        {/* CHART */}\n        {selectedTab != \"playlists\" &&\n        <div\n          ref={ref}\n          onClick={e => e.stopPropagation()}\n          className=\"music-chart\" style={{display: showChart ? \"flex\" : \"none\"}}>\n            {loading ? <UnknownProgressBar width={140} text=\"Searching the metaverse\"/> : chartData.slice(0, size).map(x =>\n                <div\n                  className=\"chart-item\">\n                  <SongInfo\n                    remixes={remixes}\n                    selectedTab={selectedTab} loadJack={loadJack} data={x.jack ? {... x, token: {\n                    ... x,\n                    metadata: x.jack\n                }} :  x}/>\n              </div>)\n            }\n        </div>}\n    </>);\n};\n\nexport const SongInfo = ({data, loadJack, tokenId, thumbnail, selectedTab, askPrice, remixes, section}) => {\n    let [thumb, setThumb] = useState();\n    let artist = '';\n    let song = '';\n    let coverArt = '';\n    let externalLink = '';\n    let collectionName = '';\n    let possibleThumbnail = undefined;\n\n    if (selectedTab == \"playlists\") {\n        // SPORE TAB\n        if (section == \"chill-rx-2022\") {\n            artist = \"ChillRX\";\n            song =  data.songName;\n            coverArt = data.coverArt;\n            externalLink = \"/\";\n            collectionName = \"ChillRX Remix Contest\";\n        } else {\n            artist = \"Psilocybin EP\";\n            song =  \"SP-\" + tokenId;\n            coverArt = thumbnail;\n            externalLink = \"/buy\";\n            collectionName = \"Spore Season 1: Genesis\";\n        }\n    } else if (selectedTab == \"new\") {\n        // NEWLY MINTED TAB\n        // mintsongs & catalog & chaos\n        if (data.token.collectionName != \"Zora\") {\n            artist = data.token.metadata.artist;\n            song = data.token.metadata.title || data.token.metadata.name;\n            coverArt = \"\" + data.token.metadata.image;\n\n            // chaos external url\n            if (data.token.collectionName == \"Chaos\") {\n                externalLink = \"https://opensea.io/assets/ethereum/\" + data.token.collectionAddress + \"\\/\" + data.token.tokenId;\n            } else {\n                externalLink = data.token.metadata.external_url;\n            }\n            \n        } else {\n        // zora\n            song = data.token.name;\n            externalLink = \"https://zora.co/collections/zora/\" + data.token.tokenId;\n            \n            if (data.token.metadata.body) {\n                let body = data.token.metadata.body;\n                if (body.artwork && body.artwork.info && body.artwork.info.uri) {\n                    coverArt = body.artwork.info.uri;\n                    if (coverArt.includes(\"ipfs.io\")) {\n                        let part = \"ipfs.io/\";\n                        let index = coverArt.indexOf(part);\n                        coverArt = \"https://zora-prod.mypinata.cloud/\" + coverArt.slice(index+part.length);\n                        possibleThumbnail = `https://d2iccaf7eutw5f.cloudfront.net/0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7/${data.token.tokenId}/thumbnail`;\n                    }\n                }\n            } else {\n                coverArt = data.token.metadata.image || \"/zora-placeholder.png\";\n            }\n        }\n\n        collectionName = data.token.collectionName;\n        \n    } else {\n        // HISTORY TAB\n        artist = data.token.metadata.artist;\n        song = data.token.metadata.title || data.token.metadata.name;\n        coverArt = \"\" + data.token.metadata.image;\n        externalLink = data.token.metadata.external_url || data.token.metadata.link;\n        collectionName = \"View source\"\n\n        if (data.token.metadata.image == undefined) {\n            coverArt = \"/zora-placeholder.png\";\n        }\n\n        // Chaos external link\n        if (data.token.metadata.artist == \"Chaos\") {\n            externalLink = \"https://opensea.io/collection/chaos-songs\";\n        }\n    }\n\n    // load cover image if not from zora for NEWLY MINTED TAB\n    if (!coverArt.includes(\"zora\")) {\n        if (coverArt.includes(\"ipfs.io\")) {\n        } else if (coverArt.startsWith(\"ipfs://\")) {\n            let _coverArt;\n            for (let type in PINATAS) {\n                if (externalLink && externalLink.includes(type)) {\n                    _coverArt = `https://${PINATAS[type]}.mypinata.cloud/ipfs/${coverArt.slice(7)}`;\n                }\n            }\n            coverArt = _coverArt || \"https://zora-prod.mypinata.cloud/ipfs/\" + coverArt.slice(7);\n        }\n    }\n\n    const onClick = useCallback(() => {\n        let ret = {};\n        if (selectedTab == \"playlists\") {\n\n        } else {\n            if  (data.jack) {\n                loadJack(data.jack);\n                return;\n            } else {\n                ret = {... data.token.metadata };\n                ret.url = data.token.content.url;\n                ret.link = externalLink;\n                ret.tokenId = data.token.tokenId;\n                ret.collectionAddress = data.token.collectionAddress;\n                loadJack(ret);\n            }\n        }\n        \n    }, [data, loadJack, externalLink, tokenId]);\n\n    let numRemixes = 0;\n    if (selectedTab == \"new\" && data && data.token && data.token.collectionAddress) {\n        let collectionAddress;\n        let {tokenId} = data.token;\n        if (externalLink && externalLink.includes(\"catalog\")) {\n            collectionAddress = \"0x0bC2A24ce568DAd89691116d5B34DEB6C203F342\";\n        } else if (externalLink && externalLink.includes(\"mintsongs\")) {\n            collectionAddress = \"0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584\";\n        }\n        if (collectionAddress) {\n            coverArt = `https://d2iccaf7eutw5f.cloudfront.net/${collectionAddress}/${tokenId}/thumbnail`;\n        }\n        collectionAddress = data.token.collectionAddress.toLowerCase();\n        let _token = tokenId;\n        if (tokenId.length > 10) {\n            let big = ethers.BigNumber.from(tokenId);\n            big = web3.utils.padLeft(big.toHexString(), 64).toLowerCase();\n            _token = big;\n        }\n        if (remixes[collectionAddress] && remixes[collectionAddress][_token]) {\n            numRemixes = remixes[collectionAddress][_token].length;\n        }\n    } else if (selectedTab == \"history\" && data && data.jack && data.jack.collectionAddress) {\n        let collectionAddress;\n        let {tokenId} = data.jack;\n        if (externalLink && externalLink.includes(\"catalog\")) {\n            collectionAddress = \"0x0bC2A24ce568DAd89691116d5B34DEB6C203F342\";\n        } else if (externalLink && externalLink.includes(\"mintsongs\")) {\n            collectionAddress = \"0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584\";\n        }\n        collectionAddress = data.jack.collectionAddress.toLowerCase();\n        let _token = tokenId;\n        if (tokenId.length > 10) {\n            let big = ethers.BigNumber.from(tokenId);\n            big = web3.utils.padLeft(big.toHexString(), 64).toLowerCase();\n            _token = big;\n        }\n        if (remixes[collectionAddress] && remixes[collectionAddress][_token]) {\n            numRemixes = remixes[collectionAddress][_token].length;\n        }\n    }\n\n           \n    return (<>\n              <div\n                className=\"song-info-container\">\n                <img\n                  onError={() => setThumb(coverArt)}\n                  className=\"cover-image pushable\" loading=\"lazy\" src={thumb || possibleThumbnail || coverArt} onClick={onClick}></img>\n                <div className=\"song-info\">\n                  <div className=\"song-col\">\n                    <div className=\"song\">{song}</div>\n                    <div className=\"artist\">{artist}</div>\n                    <div className=\"from-text\">\n                      <a href={externalLink}>{collectionName}</a>\n                    </div>\n                  </div>\n                  {(numRemixes > 0) && <div className=\"num-remixes\">\n                                         <div className=\"remixes-orb\"/>{numRemixes}</div>}\n                </div>\n              </div>\n        \n    </>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playlistLoaded: state.playlist.playlistLoaded\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Chart);\n","import {useRef, useState, useEffect, useCallback} from 'react';\n\nexport const useScroll = (ref, initialSize=10, searchTerm, padding=150) => {\n    let [size, setSize] = useState(initialSize);\n    let scrollPosition = useRef(0);\n    \n    useEffect(() => {\n        if (ref.current) {\n            ref.current.scrollTo(0, 0);\n        }\n        setSize(initialSize);\n    }, [searchTerm, setSize, initialSize]);\n\n    useEffect(() => {\n        if (!ref.current ) {\n            return;\n        } \n        ref.current.addEventListener(\"scroll\", onScroll);\n        return () => ref.current && ref.current.removeEventListener(\"scroll\", onScroll);\n    }, [setSize, size, ref.current, ref. initialSize]);\n\n    const onScroll = useCallback((e) => {\n        let el = ref.current;\n        if (!el) {\n            return;\n        }\n        scrollPosition.current = el.scrollTop;\n        let bottom = el.scrollTop + el.offsetHeight;\n        let height = el.scrollHeight;\n\n        if (bottom+padding >= height) { \n            setSize(size + initialSize);\n        }\n    }, [setSize, size, ref, initialSize]);\n\n    return {size, scrollPosition};\n};\n \n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {isMobile} from 'react-device-detect';\n\nconst VisualLinks = ({helperBox, helperRefs, selected}) => { \n    const [locations, setLocations] = useState();\n    useEffect(() => {\n        if (!helperRefs) {\n            return;\n        }\n        let playerEl = helperRefs[selected].current;\n        let helperEl = helperBox.current;\n\n        let playerLocation = getLocation(playerEl);\n        let helperLocation  = getLocation(helperEl);\n\n        setLocations([helperLocation, playerLocation]);\n    }, [selected, setLocations, helperRefs]);\n    if (!locations) {\n        return '';\n    }\n\n    let points = [\n        isMobile ? locations[0].x : locations[0].x + locations[0].width,\n        isMobile ? locations[0].y + locations[0].height : locations[0].y,\n        isMobile ? locations[1].x + locations[1].width / 2 : locations[1].x,\n        locations[1].y + locations[1].height/2-1,\n        isMobile ? locations[1].x + locations[1].width / 2 : locations[1].x,\n        locations[1].y + locations[1].height/2+1,\n        locations[0].x + locations[0].width,\n        locations[0].y+locations[0].height\n    ];\n    return (\n        <svg className=\"visual-links-spore\">\n          <linearGradient id=\"AnnotationGradient\">\n            <stop offset=\"5%\" stopColor=\"#a4c3e55c\" />\n            <stop offset=\"95%\" stopColor=\"#80aaff36\" />\n          </linearGradient>\n          <polygon className=\"visual-link\" points={points}/>\n        </svg>);\n}\n\nconst getLocation = (element, bounding) => {\n    var rect = element.getBoundingClientRect();\n    let bound = {top: 0, left: 0} //bounding.getBoundingClientRect();\n    let y = rect.top - bound.top;\n    let x = rect.left - bound.left;\n    let height = element.offsetHeight;\n    let width = element.offsetWidth;\n    let pos = {x, y, width, height};\n    return pos;\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(VisualLinks);\n","export const docs = {\n    centerButton: [\n        \"Pressing the center button changes the current juice sample (controlled by top left slider). \",\n        \"Click on any empty space goes back to previous sample.\"\n    ],\n    ledButton: [\n        \"Press to enter \\\"Loop Mode\\\". When in this mode, the sliders control different looping parameters.\",\n        \"Slider 1: Loop Length\",\n        \"Slider 2: Chop n Screw\",\n        \"Slider 3: Space Reverb/Delay)\",\n        \"Slider 4: Gate Effect\",\n    ],\n    spButton1: [\n        \"Press to enter \\\"Space Mode\\\". When in this mode, the sliders control different space parameters. \",\n        \"Slider 1: Vocal Reverb\",\n        \"Slider 2: Crystalized Ambience\",\n        \"Slider 3: Bass Reverb\",\n        \"Slider 4: Drum Reverb\",\n    ],\n    spButton2: [\n        \"Press to enter \\\"Timing Mode\\\". When in this mode, the sliders control different timing parameters. \",\n        \"Slider 1: Gate Rate\",\n        \"Slider 2: 8th note Delay\",\n        \"Slider 3: Gate Depth\",\n        \"Slider 4: 16th note Delay\",\n    ],\n    slider2: [\n        \"Wobble\",\n        \"This slider controls the rate of the wobble filter.\",\n    ],\n    slider4: [\n        \"Chipmunk\",\n        \"This slider speeds up the track, raising the pitch as well.\"\n    ],\n    slider3: [\n        \"Stutter\",\n        \"This slider controls stuttering, which repeats the beat at a slider-controlled rate.\",\n        \"You must hold slider down to hear this effect.\"\n    ],\n    slider1: [\n        \"Mutated Stem\",\n        \"Each Spore Player contains a rare, mutated stem.\",\n        \"This slider reveals this mutation.\"\n        ]\n};\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport VisualLinks from './VisualLinks.js';\nimport {docs} from './docs.js';\n\n\nconst HelperLines = ({helperRefs, selected, sliderHovered}) => { \n    let ref= useRef();\n    let doc = docs[selected];\n    return [\n        <div ref={ref} key={1} className=\"helper-box\">\n          {Array.isArray(doc) ? doc.map((x, i) => <p className={(selected.includes(\"spButton\") || selected === \"ledButton\") && i===sliderHovered ? \"selected\" : \"\"}>{x}</p>) : doc}\n        </div>,\n        <VisualLinks helperBox={ref} helperRefs={helperRefs} selected={selected}/>\n    ];\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(HelperLines);\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {isMobile} from 'react-device-detect';\nimport HelperLines from './HelperLines.js';\nimport {connect} from 'react-redux';\nimport './helper.scss';\n\nconst PlayerHelper = ({clear}) => { \n    let [sliderHovered, setSliderHovered]  = useState(undefined);\n    let [selected, setSelected] = useState(\"centerButton\");\n    let centerButton = useRef();\n    //let spButton1 = useRef();\n    //let spButton2 = useRef();\n    let ledButton = useRef();\n    let slider1 = useRef();\n    let slider2 = useRef();\n    let slider3 = useRef();\n    let slider4 = useRef();\n    return (\n        <div\n          onTouchStart={(e) => {\n              e.stopPropagation();\n          }}\n          onClick={(e) => {\n              e.stopPropagation();\n              clear();\n          }}\n          className=\"player-helper\">\n          <HelperLines\n            sliderHovered={sliderHovered}\n            selected={selected}\n            helperRefs={{\n              slider1,\n              slider2,\n              slider3,\n              slider4,\n              ledButton,\n              //spButton1,\n              //spButton2,\n              centerButton\n          }}/>\n          <div onClick={clear} className=\"pushable x-button\">\n            {isMobile ? \"Ready?\" : \"x\"}\n          </div>\n          <div\n            onTouchEnd={e => {\n                console.log('stopping touch end');\n                e.stopPropagation();\n            }}\n            onTouchStart={e => {\n                console.log('stopping on touch start');\n              e.stopPropagation();\n              }}\n            onMouseDown={e => {\n                e.stopPropagation();\n                console.log('stopping mouse down');\n            }}\n            onClick={e => {\n                e.stopPropagation();\n                console.log('stopping click');\n            }}\n            className=\"mock-player\">\n            <div ref={centerButton} className={selected === \"centerButton\" ? \"center-button selected\" : \"center-button\"}\n                 onClick={(e) => {\n                     e.stopPropagation();\n                     setSelected(\"centerButton\");\n                 }}\n                 onTouchStart={() => setSelected(\"centerButton\")}\n            />\n            <div ref={ledButton} className={selected === \"ledButton\" ? \"sp-button button1 led-button selected\" : \"sp-button button1 led-button\"}\n                 onTouchStart={() => setSelected(\"ledButton\")}\n                 onClick={(e) => {\n                     e.stopPropagation();\n                     setSelected(\"ledButton\");\n                 }}\n            />\n            <div\n              onMouseLeave={() => setSliderHovered(undefined)}\n              onMouseOver={() => setSliderHovered(1)}\n              ref={slider1} className={selected === \"slider1\" ? \"sp-slider slider1 selected\" : \"sp-slider slider1\"}\n              onClick={(e) => {\n                  e.stopPropagation();\n                  setSelected(\"slider1\");\n              }}\n              onTouchStart={() => setSelected(\"slider1\")}\n            >\n              <span>1</span>\n            </div>\n            <div\n              onMouseLeave={() => setSliderHovered(undefined)}\n              onMouseOver={() => setSliderHovered(4)}\n              ref={slider2} className={selected === \"slider2\" ? \"sp-slider slider2 selected\" : \"sp-slider slider2\"}\n              onClick={(e) => {\n                  e.stopPropagation();\n                  setSelected(\"slider2\");\n              }}\n              onTouchStart={() => setSelected(\"slider2\")}\n            >\n              <span>4</span>\n            </div>\n            <div\n              onMouseLeave={() => setSliderHovered(undefined)}\n              onMouseOver={() => setSliderHovered(3)}\n              ref={slider3} className={selected === \"slider3\" ? \"sp-slider slider3 selected\" : \"sp-slider slider3\"}\n              onClick={(e) => {\n                  e.stopPropagation();\n                  setSelected(\"slider3\");\n              }}\n              onTouchStart={() => setSelected(\"slider3\")}\n            >\n              <span>3</span>\n            </div>\n            <div\n              onMouseLeave={() => setSliderHovered(undefined)}\n              onMouseOver={() => setSliderHovered(2)}\n              ref={slider4} className={selected === \"slider4\" ? \"sp-slider slider4 selected\" : \"sp-slider slider4\"}\n              onClick={(e) => {\n                  e.stopPropagation();\n                  setSelected(\"slider4\");\n              }}\n              onTouchStart={() => setSelected(\"slider4\")}\n            >\n              <span>2</span>\n            </div>\n          </div>\n        </div>\n    );\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(PlayerHelper);\n","\nimport { ConnectButton, darkTheme } from '@rainbow-me/rainbowkit';\nimport React, { useEffect, useState} from 'react';\nimport \"./info.scss\"\nimport {connect} from 'react-redux';\n\nconst Info = ({clear}) => { \n\n\n  // countdown timer\n  const calculateTimeLeft = () => {\n    let year = new Date().getFullYear();\n    const difference = +new Date(`${year}-06-20`) - +new Date();\n    let timeLeft = {};\n\n    if (difference > 0) {\n      timeLeft = {\n        D: Math.floor(difference / (1000 * 60 * 60 * 24)),\n        H: Math.floor((difference / (1000 * 60 * 60)) % 24),\n        M: Math.floor((difference / 1000 / 60) % 60),\n        S: Math.floor((difference / 1000) % 60),\n      };\n    }\n\n    return timeLeft;\n  };\n\n  const [timeLeft, setTimeLeft] = useState(calculateTimeLeft());\n  const [year] = useState(new Date().getFullYear());\n\n  useEffect(() => {\n    setTimeout(() => {\n      setTimeLeft(calculateTimeLeft());\n    }, 1000);\n  });\n\n  const timerComponents = [];\n\n  Object.keys(timeLeft).forEach((interval) => {\n    if (!timeLeft[interval]) {\n      return;\n    }\n\n    timerComponents.push(\n      <div className=\"interval\">\n        {timeLeft[interval]}{interval}\n      </div>\n    );\n  });\n\n    console.log(\"FUCKKKK\");\n    return (\n        <div className=\"infoContainer\" onClick={() => { clear(); }}>\n          <div\n            onClick={e => e.stopPropagation()}\n            className=\"infoBox\">\n              <a className=\"go-to-landing\" href=\"/\">\n                <img\n                  className=\"spores-logo-black\" src=\"/spores-logo-black.svg\"/></a>\n              <p><i>Spores</i> is a new way to remix music NFTs.</p>\n              <p><a href='/learn' className='learnLink'>Learn more</a></p>\n              <br/><p>Own a <i>Spore</i>. Unlock any music NFT. Grow remixes.</p>\n              <br/><p>Buy a <a href='/buy' className='buyLink'>Genesis <i>Spore</i></a> and get unlimited access to any music NFT.</p>\n              <br/><p><i>Spores</i> Season One mint is coming soon, 1000 <i>Spores</i> will be available. Change music forever.</p>\n              {/* <br/><div className=\"timer\">\n                {timerComponents.length ? timerComponents : <span>Time's up!</span>}\n              </div> */}\n              <div\n                  onClick={() => window.location.href = \"/buy\"}\n                  className={\"pushable \" + \"mintButton\"}>\n                  <span>Buy Now</span>\n              </div>\n            </div>\n       </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Info);\n","\n\nimport {CHILL_RX_COLLECTION} from 'constants/collections.js';\nimport {useTokensOnSale} from 'components/hooks/useTokensOnSale.js';\nimport React, { useRef, useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {KEYON_SONGS} from './History.js';\nimport {getRandomRiddim} from 'spores/riddim.js';\n\n\nconst getKeyonBPM = async (url) => {\n    let song = (await KEYON_SONGS()).find(x => x.metadata.url === url);\n    if (!song) {\n        return 0;\n    }\n    return song.bpm;\n};\n\n//const CID = 'QmcWPrnyNh4uvvMdD8q5AZCrzUBDo81Fm7ZQxm9dEwzSBH';\n// good: const CID = 'Qmbv4Rne3uG4F7fU8crQKuMyPBcqJkeU2JnJCeHjbhfuVS';\n\n// testing ying yang\nconst CID = 'QmUgvUx2oF2ntnEgRiRG8CqxmcyDHd8JhxLgopAqmcj5ao';\n// last jacker good\n//const DEFAULT_JACKER_URL = \"https://zequencer.mypinata.cloud/ipfs/QmUeUEgmw51MPaRq16DQdrbWKMT2we8uwBpG8mD836tuJz/?tokenId=40&gallery=true\";\nconst DEFAULT_JACKER_URL = `https://zequencer.mypinata.cloud/ipfs/${CID}/?tokenId=40&gallery=true`;\n//const CHILL_RX_URL = \"https://zequencer.mypinata.cloud/ipfs/QmRfyks6iDDG5jBtRPuoW3wiVCcfYpcrAvuSMcUBXuVWJK/?gallery=true\";\nconst CHILL_RX_URL = \"https://zequencer.mypinata.cloud/ipfs/QmcoMqE6ywYUidMryy2BqJF8TrbH1vkXoV9S8WxKGHRZ5s/?gallery=true\";\n\nconst JackerPlayer = ({\n    playerRef,\n    songId,\n    locked,\n    jackedAudio,\n    tokenId,\n    setBuyThisSkin,\n    remixToPlay,\n    collectionAddress,\n    showLoops\n}) => { \n\n    let loadedURL = useRef();\n    let ref = playerRef; //useRef();\n    let {tokensOnSale} = useTokensOnSale();\n    let [loaded, setLoaded] = useState();\n    let [preloaded, setPreloaded] = useState();\n    let counter = useRef(0);\n    let lastLoaded = useRef(0);\n\n    // default NFT JACKER URL \n    let [url, setURL] = useState(\n        DEFAULT_JACKER_URL\n    );\n\n    useEffect(() => {\n        if (collectionAddress === CHILL_RX_COLLECTION) {\n            console.log(\"changing url =\", CHILL_RX_URL);\n            setLoaded(false);\n            setPreloaded(false);\n            setURL(CHILL_RX_URL);\n            // we are reloading\n        } else {\n            setURL(DEFAULT_JACKER_URL);\n        }\n    }, [collectionAddress, setURL, setLoaded]);\n\n    useEffect(() => {\n        if (tokenId && loaded && ref.current) {\n            let c = ++counter.current;\n            if (new Date().getTime() - lastLoaded.current > 500) {\n                console.log(\"2. SENDING TOKENID via msg=\", tokenId);\n                ref.current.contentWindow.postMessage({\n                    type: \"tokenId\",\n                    body: songId || parseInt(tokenId)\n                }, \"*\");\n            }\n        }\n\n        if (!tokenId && tokensOnSale) {\n            let _tokens = tokensOnSale.filter(x => x.askPrice);\n            let randomlyChosenTokenId = _tokens[Math.floor(Math.random()*_tokens.length)];\n            if (randomlyChosenTokenId) {\n                let tokensToChoose = [12,13,14,15,16,17,18,21,22,23,24,25,26,27,28,29,30];\n                let tokenId = tokensToChoose[Math.floor(Math.random()*tokensToChoose.length)]; //randomlyChosenTokenId.tokenId;\n                if (!ref.current) {\n                    return;\n                }\n                ref.current.contentWindow.postMessage({\n                    type: \"tokenId\",\n                    body: parseInt(tokenId)\n                }, \"*\");\n\n                if (showLoops) {\n                    console.log('sending loop unlocked');\n                    ref.current.contentWindow.postMessage({\n                        type: \"loop-unlocked\",\n                        body: 2\n                    }, \"*\");\n                }\n                setBuyThisSkin(tokenId);\n                return;\n            } else {\n            }\n            setBuyThisSkin(undefined);\n        }\n    }, [tokenId, loaded, jackedAudio, tokensOnSale, setBuyThisSkin, songId]);\n\n    useEffect(() => {\n        window.addEventListener(\"message\", onReceive, false);\n        return () => window.removeEventListener(\"message\", onReceive);\n    }, [setLoaded, tokenId, setPreloaded, songId]);\n\n    useEffect(() => {\n        if (remixToPlay) {\n            setLoaded(false);\n            setPreloaded(false);\n        }\n    }, [remixToPlay, setLoaded, setPreloaded]);\n\n    const onReceive = useCallback((e) => {\n        if (e.origin !== \"https://zequencer.mypinata.cloud\") {\n            return;\n        }\n        if (e.data === \"ready for stems\") {\n            setPreloaded(true);\n        }\n        if (e.data === \"Finished Loading Project\") {\n            console.log(\"Finished Loading Project\");\n            setLoaded(true);\n            if (tokenId) {\n                let c = ++counter.current;\n                lastLoaded.current = new Date().getTime();\n                console.log(\"SENDING TOKEN _ =%s to proj\", songId || tokenId);\n                console.log(\"SONG ID=\", songId, typeof songId);\n                ref.current.contentWindow.postMessage({\n                    type: \"tokenId\",\n                    body: songId || parseInt(tokenId)\n                }, \"*\");\n            }\n        }\n    }, [setLoaded, tokenId, songId, setPreloaded]);\n\n    useEffect(() => {\n        if (collectionAddress === CHILL_RX_COLLECTION) {\n            return;\n        }\n        if (!jackedAudio || !loaded) {\n            return;\n        }\n        getKeyonBPM(jackedAudio).then(\n            async bpm => {\n                if (!ref.current) {\n                    return;\n                }\n                if (loadedURL.current === jackedAudio) {\n                    return;\n                }\n                loadedURL.current = jackedAudio;\n\n                ref.current.contentWindow.postMessage({\n                    type: \"clear-recording\",\n                    body: \"clear-recording\"\n                }, \"*\");\n\n                /*\n                playerRef.current.contentWindow.postMessage({\n                    type: \"jacker-pause-toggle\",\n                    body: true \n                }, \"*\");\n                */\n                \n                ref.current.contentWindow.postMessage({\n                    type: \"nft-jacker\",\n                    body: {\n                        bpm,\n                        samples: {\n                            drums: jackedAudio,\n                            vocals: jackedAudio,\n                            bass: jackedAudio, //randomSample,\n                            other: jackedAudio,\n                        }\n                    }\n                }, \"*\");\n            }\n        );\n    }, [jackedAudio, loaded, remixToPlay, collectionAddress]);\n\n    let className = (jackedAudio && preloaded) ? \"loaded player\" : \"player\";\n    if (tokenId !== 40) {\n        className += \" keyon-player\";\n    }\n    if (locked || remixToPlay || !url) {\n        return '';\n    }\n    return (\n        <div\n        >\n        <iframe\n          className={className}\n          width={340}\n          height={400}\n          ref={ref}\n          src={url}\n          \n            />\n\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(JackerPlayer);\n","const API_ENDPOINT = \"https://groovy.audioshake.ai\";\nconst UPLOAD = \"/upload/audio-link\";\nconst key = \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJjbGllbnRJZCI6ImNsNDI0bnFndjY5NjA4Z3BvNnN2bjZvdzlrIiwibGljZW5zZUlkIjoiY2w0MjRwbmw2MDBmamZnbzZmYWViNXI5NCIsImlhdCI6MTY1NDQ4MzQyMywiZXhwIjoxODEyMTYzNDIzfQ.IS3YmWHlMNzN3LNCz46tllnewBnASszM5IE55ISJ0u0\";\n\nexport const submitSplitJob = async (link) => {\n    return;\n    let body = JSON.stringify({\n        link: link,\n        name: \"test-split\"\n    });\n    let ret = await fetch(API_ENDPOINT + UPLOAD, {\n        method: \"POST\",\n        headers: {\n            Authorization: key\n        },\n        body\n    });\n\n    console.log(ret);\n};\n","import React, {useEffect, useCallback, useState} from 'react';\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport {connect} from 'react-redux';\nimport { IoLogoTwitter } from 'react-icons/io';\nimport { BiInfoCircle } from 'react-icons/bi';\nimport \"./navigation.scss\";\n\nconst Navigation = ({clear, jacked, setShowInfo}) => {\n    const [visible, setVisibility] = useState(false);\n    const clicked = () => {\n        setVisibility(visible ? false : true);\n    };\n\n    const hide = () => {\n        setVisibility(false);\n    };\n\n    return (\n        <>\n            <div className=\"menuAction pushable\" onClick={clicked}>\n                <img src={jacked != undefined ? \"/spores-logo-black.svg\" : \"/spores-logo-white.svg\"}></img>\n            </div>\n            <div className=\"navFullContainer\" style={{display: visible ? \"inherit\" : \"none\"}} onClick={hide}>\n            <div className=\"dropMenu\" style={{display: visible ? \"inherit\" : \"none\"}}>\n              <div className=\"connect-button-wrapper\">\n                <ConnectButton\n                  accountStatus=\"address\" \n                  showBalance={{ smallScreen: false, largeScreen: false }}\n                  label=\"Connect Wallet\"\n                />\n              </div>\n                <a href=\"/\" className=\"navDropItem largeItem play\">Play</a>\n                <a href=\"/buy\" className=\"navDropItem largeItem buy\">Buy</a>\n                <a href=\"/learn\" className=\"navDropItem largeItem learn\">Learn</a>\n                <div className='iconContainer'>\n                    {jacked != undefined && <div className=\"navItem smallItem pushable\" style={{marginTop: \"-2px\", color: \"black\"}} onClick={() => setShowInfo(true)}><BiInfoCircle/></div>}\n                    <div className=\"navItem smallItem pushable\" style={{marginTop: \"-2px\"}}><a href=\"https://twitter.com/SporesDAO\"><IoLogoTwitter/></a></div>\n                    <div className=\"navItem smallItem pushable\" style={{marginTop: \"-2px\"}}><a href=\"/lore\"><img style={{height: \"20px\"}} src='./mushroom-icon.svg'></img></a></div>\n                </div>\n            </div>\n        </div>\n        </>\n    )\n}\n\nconst mapStateToProps = (state, props) => {\n    return {\n    };\n  };\n  \n  const mapDispatchToProps = (dispatch) => {\n    return {\n    };\n  };\n  \n  export default connect(mapStateToProps, mapDispatchToProps)(Navigation);\n","\n\nimport React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Drop from './Drop.js';\nimport './thugger.scss';\n\n//const CID = \"QmWEEvyNZmr3kngUjE8TNRRC5FmnXZLC1TdQk87UYe1cQL\";\nconst CID = \"QmXqQ4sKuScMs9K6wuZvGUpxcEWuNuWuRqj2GcKGxnCGdn\";\n\nconst Thugger = (props) => { \n    return (\n        <Drop\n          isFullScreen={false}\n          url={`https://zequencer.mypinata.cloud/ipfs/${CID}/?tokenId=32&gallery=true`}\n          collectionAddress=\"0x0000000000000000000000000000000000000001\"\n          tokenId={1}\n          className=\"thugger\"\n          artist=\"Young Thug\"\n          isSimple={true}\n          songTitle=\"Hop Out Ft. Wiz Kalifa\">\n         <p className=\"tagline-p\">\n           Spores grows strains of songs and media.\n         </p>\n         <p className=\"tagline-p\">\n           Season 1\n         </p>\n       </Drop>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Thugger);\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport SampleInfo from 'components/samples/SampleInfo.js';\nimport {isUnlockedCollection} from 'locks/isUnlocked.js';\nimport {CHAOS_COLLECTION, CHILL_RX_COLLECTION} from 'constants/collections.js';\nimport RemixPlayer from 'components/remix/RemixPlayer.js';\nimport ShuffleButton from './ShuffleButton.js';\nimport TimeRemaining from '../lock/TimeRemaining.js';\nimport {useRemixListener} from 'components/hooks/useRemixListener.js';\nimport SporeRecorded from \"components/recording/SporeRecorded.js\";\nimport {useCoverArtColors} from 'components/hooks/useCoverArtColors.js';\nimport {useJacker} from 'components/hooks/useJacker.js';\nimport {\n    setSecondsRemaining,\n    setUsedCheatCode} from 'actions/index.js';\nimport {isMobile} from 'react-device-detect';\nimport {useLatestJacks} from 'components/hooks/useLatestJacks.js';\nimport {useFlags} from 'flags/flags.js';\nimport EchoSearchBox from './EchoSearchBox.js';\nimport TokenMetadata from 'components/metadata/TokenMetadata.js';\nimport {useTokenLock} from 'components/hooks/useTokenLock.js';\nimport LockedNotification from 'components/lock/LockedNotification.js';\nimport Chart from '../chart/Chart.js';\nimport PlayerHelper from 'components/spore/PlayerHelper.js';\nimport {KEYON_SONGS} from './History.js';\nimport Info from './Info.js'\nimport { ConnectButton, lightTheme} from '@rainbow-me/rainbowkit';\nimport JackerPlayer from './JackerPlayer.js';\nimport {jack} from 'jacker/jack.js';\nimport {save} from 'jacker/save.js';\nimport {getArtistFromMetadata} from 'jacker/artist.js';\nimport {connect} from 'react-redux';\nimport './nft-jacker.scss';\nimport './mobile-nft-jacker.scss';\nimport {submitSplitJob} from 'jacker/stem-splitter.js';\nimport { prominent } from 'color.js';\nimport Navigation from './Navigation.js'\nimport invert, { RGB, RgbArray, HexColor, BlackWhite } from 'invert-color';\nimport './connect-buttons.scss';\nimport RemixList from '../remix/RemixList.js';\nimport { HiOutlineChevronDoubleDown } from 'react-icons/hi'\nimport ShareButton from './ShareButton.js';\nimport SwipeableViews from 'react-swipeable-views';\nimport { IoMdArrowBack } from 'react-icons/io';\n\nconst NFTJacker = (props) => { \n\n    useFlags();\n    let ref = useRef();\n    let playerRef = useRef();\n\n    const [link, setLink] = useState(props.defaultSearch || '');\n    const [showHelp, setShowHelp] = useState(false);\n    const [showHistory, setShowHistory] = useState(false);\n    const {latestJacks, setLatestJacks} = useLatestJacks();\n    const [showInfo, setShowInfo] = useState(false);\n    const [showLinkInput, setShowLinkInput] = useState(true);\n    const [showRemixes, setShowRemixes] = useState(!isMobile);\n\n    const [passed, setPassed] = useState(false);\n    const [failed, setFailed] = useState(false);\n    const [password, setPassword] = useState(\"\");\n\n    useEffect(() => {\n        window.addEventListener(\"click\", clearChart);\n        return () => window.removeEventListener(\"click\", clearChart);\n    }, [setShowLinkInput, showPlayer]);\n\n    const clearChart = useCallback(() => {\n        if (showPlayer) {\n            setShowLinkInput(false);\n        }\n    }, [showPlayer, setShowLinkInput]);\n\n    const {locked, cheatCodeActivating} = useTokenLock(\n        link,\n        setLink,\n        props.setUsedCheatCode,\n        props.setSecondsRemaining\n    );\n\n   const {\n        clear,\n        onJack,\n        loadJack,\n        collectionAddress,\n        artist,\n        description,\n        showPlayer,\n        setShowPlayer,\n        tokenId,\n        searchTerm,\n        songId,\n        buyThisSkin,\n        coverArt,\n        songName,\n        error,\n        currentSong,\n        setBuyThisSkin,\n        jackedAudio,\n        setCurrentSong,\n        currentLink,\n        metadata,\n        setSearchTerm\n    } = useJacker({\n        remixToPlay,\n        setLatestJacks,\n        setShowHistory,\n        setLink,\n        setShowLinkInput,\n        link,\n        latestJacks,\n        chillTokenId: props.isChillRX && props.match.params.tokenId,\n        defaultSearch: props.defaultSearch,\n        directTokenId: props.match.params.tokenId,\n        directCollectionAddress: props.match.params.collectionAddress,\n        playlistLoaded: props.playlistLoaded,\n\n    });\n\n    const {\n        remixToPlay,\n        setRemixToPlay,\n        recordedRemix,\n        uploadingRemix,\n        onRemixSigningCompleted\n    } =\n          useRemixListener(clear, playerRef, props.match.params.remixId, playerRef);\n \n\n    useEffect(() => {\n        if (remixToPlay) {\n            window.scrollTo(0,0);\n        }\n    }, [remixToPlay, setShowPlayer, setShowRemixes]);\n\n    const {\n        clearColors,\n        coverGrad,\n        buttonTextColor,\n        buttonBgColor,\n        upperGradInverted,\n        lowerGradInverted\n    } = useCoverArtColors({coverArt});\n\n    let className = showPlayer ? \"nft-jacker jacked\" : \"nft-jacker\";\n    if (showLinkInput) {\n        className += \" showing-link-input\";\n    }\n\n    const onClickPassword = useCallback((e) => {\n        if (password === \"spores-next-gen\") {\n            setPassed(true);\n        } else {\n            setFailed(true);\n        }\n    }, [password, setFailed, setPassed]);\n\n\n    if (!passed) {\n        return (\n            <div className=\"password-protected\">\n              <div className=\"spore-future\">\n              <img className=\"spore-future-logo\" src=\"/spore-logo-future2.jpeg\"/>\n              <div className=\"password-box\">\n                <div className=\"password-label\">\n                  Password\n                </div>\n                <input type=\"password\"\n                  placeholder=\"Enter password here\" text={password} onChange={(e) => setPassword(e.target.value)}/>\n                {failed && <div className=\"password-failed\">The password you entered is incorrect.</div>}\n                <div onClick={onClickPassword} className=\"password-enter\">\n                  Enter\n                </div>\n              </div>\n              </div>\n            </div>\n        );\n    }\n    return (\n      <>\n      {/* <SwipeableViews\n        enableMouseEvents\n        style={{overflow: isMobile ? \"unset\" : \"hidden auto\", backgroundColor: \"black\"}}\n        slideStyle={{overflow: \"hidden\"}}\n        index={swipeIndex}> */}\n\n        <div\n          ref={ref}\n          onClick={() => setShowHistory(false)}\n          className={className}\n          style={{background: coverGrad}}>\n          {!isUnlockedCollection(collectionAddress) && showPlayer && artist !== \"Keyon Christ\" && !recordedRemix && !uploadingRemix &&\n           <TimeRemaining color={buttonBgColor}/>}\n          {showPlayer && locked && artist !== \"Keyon Christ\" && !recordedRemix && !uploadingRemix &&\n           !isUnlockedCollection(collectionAddress) &&\n           <LockedNotification clearPlayer={() => {\n              clear();\n              clearColors();\n         }}/>}\n          {jackedAudio &&\n           <SporeRecorded\n             recordedRemix={recordedRemix}\n             uploadingRemix={uploadingRemix}\n             collectionAddress={collectionAddress}\n             onRemixSigningCompleted={onRemixSigningCompleted}\n             tokenId={tokenId}\n             spTokenId={buyThisSkin}\n             loadJack={loadJack}\n           />}\n          {showPlayer && !isMobile && <div\n                                        onClick={() => {\n                                            if (playerRef.current) {\n                                                playerRef.current.contentWindow.postMessage({\n                                                    type: \"jacker-stop\",\n                                                    body: \"jacker-stop\"\n                                                }, \"*\");\n                                                playerRef.current.contentWindow.postMessage({\n                                                    type: \"clear-recording\",\n                                                    body: \"clear-recording\"\n                                                }, \"*\");\n                                            }\n                                            onRemixSigningCompleted();\n                                            setRemixToPlay(undefined);\n                                            setShowPlayer(false);\n                                            clear();\n                                            clearColors();\n                                        }}\n                                        className=\"back-to-charts-btn\">\n                                        <IoMdArrowBack style={{fill: buttonBgColor}}/>\n                                      </div>}\n          {showHelp &&\n           <PlayerHelper clear={() => setShowHelp(false)}/>\n          }\n          {showPlayer &&\n           <div\n             onClick={() => setShowHelp(true)} style={{color: lowerGradInverted}}\n             className=\"helper-icon\">\n             ?\n           </div>}\n        <Navigation\n          jacked={jackedAudio}\n          setShowInfo={setShowInfo}/>\n          {showPlayer && <div onClick={() => setShowHelp(true)} style={{color: lowerGradInverted}} className=\"helper-icon\">?</div>}\n          {artist === \"Keyon Christ\" &&\n           <video\n             playsInline\n             className=\"rain-video\"\n             autoPlay\n             loop\n             muted\n             src={\"/mushrooms-medium.mp4\"}/>}\n          {error && <div className=\"error-message\">{error}</div>}\n          {showLinkInput && <Chart\n            loadJack={loadJack} \n            searchTerm={searchTerm}\n            jacked={jackedAudio}\n            history={latestJacks}\n            showChart={showLinkInput}/>}\n          <div className={jackedAudio ? \"player-container show\" : \"player-container hide\"} onClick={() => setShowLinkInput(false)}>\n            {remixToPlay && <RemixPlayer externalURL={currentLink} artist={artist} songName={songName} setRemix={setRemixToPlay} remix={remixToPlay}/>}\n            <JackerPlayer\n              showLoops={props.showLoops}\n              playerRef={playerRef}\n              collectionAddress={collectionAddress}\n              songId={songId}\n              remixToPlay={remixToPlay}\n              locked={locked && !isUnlockedCollection(collectionAddress) && artist !== \"Keyon Christ\"}\n              setBuyThisSkin={setBuyThisSkin}\n              tokenId={artist === \"Keyon Christ\" || collectionAddress === CHILL_RX_COLLECTION ? tokenId : undefined}\n              jackedAudio={jackedAudio}/>\n          </div>\n          {!remixToPlay && <ShuffleButton\n                             buttonTextColor={buttonBgColor}\n                             playerRef={playerRef}/>}\n        \n          {!isMobile && !remixToPlay && jackedAudio &&\n           <SampleInfo\n             playerRef={playerRef}\n           />}\n          <EchoSearchBox\n            cheatCodeActivating={cheatCodeActivating}\n            showLinkInput={showLinkInput}\n            setShowHistory={setShowHistory}\n            setShowInfo={setShowInfo}\n            setLink={setLink}\n            setSearchTerm={setSearchTerm}\n            showHistory={showHistory}\n            currentSong={currentSong}\n            setCurrentSong={setCurrentSong}\n            loadHistory={loadJack}\n            latestJacks={latestJacks}\n            onJack={onJack}\n            loadJack={loadJack}\n            link={link}\n          />\n         {songName &&\n           <TokenMetadata\n             buyThisSkin={buyThisSkin}\n             showBuyThisSkin={collectionAddress !== CHILL_RX_COLLECTION}\n             artist={artist}\n             upperGradInverted={upperGradInverted}\n             lowerGradInverted={lowerGradInverted}\n             coverArt={coverArt}\n             songName={songName}\n             tokenId={tokenId}\n             currentLink={currentLink}\n           />}\n          {showInfo && <Info clear={() => setShowInfo(false)}/>}\n          {showPlayer && <div onClick={() => setShowLinkInput(!showLinkInput)}\n          className=\"back-btn\"\n          style={\n            isMobile ? \n            {backgroundImage: upperGradInverted == \"#ffffff\" ? \"url('/search-icon.svg')\" : \"url('/search-icon-black.svg')\"} : \n            {backgroundImage: buttonBgColor == \"#ffffff\" ? \"url('/search-icon.svg')\" : \"url('/search-icon-black.svg')\"}}/>}\n        { showPlayer && <div\n            className={\"stockLeft\"}\n            onClick={() => isMobile && setShowRemixes(true)}\n            style={{color: isMobile && showPlayer ? buttonTextColor : buttonBgColor, backgroundColor: isMobile ? buttonBgColor : \"transparent\"}}>\n            <i>Remixes </i> {!isMobile && <HiOutlineChevronDoubleDown/>}\n       </div>}\n       { showPlayer && <ShareButton\n                        url={\"spores.vision/play/\" + collectionAddress + \"/\" + tokenId}\n                        type={\"song\"}\n                        lowerGradInverted={lowerGradInverted}\n                        buttonBgColor={buttonBgColor}/>}\n      { showPlayer && showRemixes &&\n      <RemixList\n        remixToPlay={remixToPlay}\n          setRemixToPlay={setRemixToPlay}\n          collectionAddress={collectionAddress}\n          tokenId={tokenId}\n          clear={() => setShowRemixes(false)}/>}\n\n        </div>\n\n      {/* <div className='playlist-view' onClick={() => setSwipeIndex(0)}></div> */}\n      {/* </SwipeableViews> */}\n    </>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n      playlistLoaded: state.playlist.playlistLoaded\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n      setUsedCheatCode: x => dispatch(setUsedCheatCode(x)),\n      setSecondsRemaining: x => dispatch(setSecondsRemaining(x)),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(NFTJacker);\n","import React, {useCallback, useEffect, useState} from 'react';\nimport { prominent } from 'color.js';\nimport invert, { RGB, RgbArray, HexColor, BlackWhite } from 'invert-color';\n\nexport const useCoverArtColors = ({coverArt}) => {\n    let [coverGrad, setCoverGrad] = useState();\n    let [buttonTextColor, setButtonTextColor] = useState();\n    let [buttonBgColor, setButtonBgColor] = useState();\n    let [upperGradInverted, setUpperGradInverted] = useState();\n    let [lowerGradInverted, setLowerGradInverted] = useState();\n    let [mainColor, setMainColor] = useState();\n\n\n        // cover art background\n    useEffect(() => {\n      if (coverArt != null) {\n        prominent(coverArt, { amount: 3, group: 50, format: \"hex\"}).then(color => {\n          setCoverGrad(\"linear-gradient(45deg, \" + color[0] + \" 0%, \" + color[1] + \" 50%, \" + color[2] + \" 100%)\");\n          let invertedLowerColor = invert(color[0], true)\n          let invertedMidColor = invert(color[1], true);\n          let invertedUpperColor = invert(color[2], true);\n            setMainColor(color[0] === \"#000000\" ? color[1] : color[0]);\n          setButtonTextColor(invert(invertedMidColor, true));\n          setButtonBgColor(invertedMidColor);\n          setUpperGradInverted(invertedUpperColor);\n          setLowerGradInverted(invertedLowerColor)\n        })\n      }\n    }, [coverArt, setMainColor, setButtonTextColor, setButtonBgColor, setCoverGrad, setUpperGradInverted, setLowerGradInverted]);\n\n    const clearColors = useCallback(() => {\n        setLowerGradInverted();\n        setUpperGradInverted();\n        setCoverGrad();\n        setButtonBgColor();\n        setButtonTextColor();\n    }, [setLowerGradInverted, setUpperGradInverted, setCoverGrad, setButtonBgColor, setButtonTextColor]);\n \n    return {\n        mainColor,\n        clearColors,\n        coverGrad,\n        buttonTextColor,\n        buttonBgColor,\n        upperGradInverted,\n        lowerGradInverted\n    };\n};\n","\n\nimport React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport Drop from './Drop.js';\n\n//const CID = \"QmWEEvyNZmr3kngUjE8TNRRC5FmnXZLC1TdQk87UYe1cQL\";\nconst CID = \"QmVDXbQWjea3C5ARkJkFnGdBJAajbF3c4GHJKCkzQDpRHP\";\n\nconst InMySoul = (props) => { \n    return (\n        <Drop\n          url={`https://zequencer.mypinata.cloud/ipfs/${CID}/?tokenId=22&gallery=true`}\n          collectionAddress=\"0x935637ef6915b8344a943290e1d9a9caf3d6b3c3\"\n          thumbnail={\"/inmysoul-cover.jpeg\"}\n          tokenId={1}\n          askPrice=\"2\"\n          artist=\"Keyon Christ\"\n          songTitle=\"IN MY SOUL\">\n          <div className=\"buy-button\">\n            <div className=\"action\">\n              <a target=\"_blank\" href={`https://zora.co/collections/0x935637ef6915b8344a943290e1d9a9caf3d6b3c3/1`}>BID ON ZORA </a>\n            </div>\n            <div className=\"asking-price\">\n              <div className=\"price-label\">RESERVE</div>\n              <div className=\"price\">2 ETH</div>\n            </div>\n          </div>\n          {/* <p className=\"title-p\">\n            <span className=\"purple-gradient\">IN MY SOUL</span>\n          </p>\n          <p className=\"artist-p\">\n            BY <span className=\"purple-gradient\">KEYON CHRIST</span> FEAT. <span className=\"purple-gradient\">CLLLAPS</span>\n          </p> */}\n          <p className=\"tagline-p\">\n            SPORES <span className='orange-gradient'>GENERATES VARIATIONS</span> OF SONGS FOR YOU WHILE YOU STREAM.{' '}\n            <br/><br/><br/>\n            THIS NFT IS THE FIRST 1/1 SONG RELEASE FROM SPORES. IT'S A 1/1 SPORE CONTAINING <span className=\"purple-gradient\">IN MY SOUL</span> BY <a href='https://www.dazeddigital.com/music/article/55043/1/lost-track-kanye-west-the-life-of-pablo-reemerges-can-u-be-forever-mitus-nft' className='isUnderlined'>KEYON CHRIST</a> - OUR LAST DROP WAS <a href='https://www.yingyangtwins.xyz' className='isUnderlined'>YINGYANGTWINS.XYZ</a> BY VIC MENSA.{' '}\n            <br/><br/>\n            <span className='new'>NEW</span>\n            <br/>\n            <span className='green-gradient'>ACOUSTIFY</span>\n            <br/>\n            SWITCH BETWEEN THE OG AND ACOUSTIC VERSIONS OF THIS SONG WITHOUT INTERUPTING PLAYBACK.{' '}\n            <br/><br/>\n            <img src='/acoustify-small.gif' className='mx-auto isRounded'/>\n            <br/><br/>\n            PRESS THE CENTER SPORE BUTTON. UNLOCK A NEW ERA FOR STREAMING.{' '}\n            <br/><br/>\n            <span className=\"green-gradient\">10%</span> OF THE SALE WILL BE AWARDED TO THE <span className=\"orange-gradient\">BEST REMIX</span>\n            <br/><br/>\n            SPEARHEAD THE NEXT GENERATION OF THE MUSIC INDUSTRY.\n            {/* THE <span className='green-gradient'>ACOUSTIC</span> SLIDER SWITCHES FROM THE ORIGINAL VERSION OF \"IN MY SOUL\" TO THE ACOUSTIC VERSION INSTANTLY. ACOUSTIC VERSION PLAYED BY ZAMORRAH */}\n          </p>\n          {/* <p className=\"bullet-p\">\n             COMES FULLY LOADED WITH <span className=\"purple-gradient\">KEYON CHRISTS</span> NEW SINGLE \"IN MY SOUL\"\n          </p>\n          <p className=\"bullet-p\">\n             ANYONE CAN <span className=\"orange-gradient\">REMIX</span> THIS SONG FOR FREE\n          </p>\n          <p className=\"bullet-p\">\n             EACH NEW REMIX UNLOCKS ONE <span className=\"orange-gradient\">MAGICAL STEM</span> FOR THE WORLD TO HEAR\n          </p>\n          <p className=\"bullet-p\">\n             <span className=\"green-gradient\">10%</span> OF THE SALE WILL BE AWARDED TO THE <span className=\"orange-gradient\">BEST REMIX</span>, ONE WEEK FROM THE SALE \n          </p>\n          <p className=\"bullet-p\">\n             BUY THIS <span className=\"yellow-gradient\">HISTORIC 1/1</span> SO IT CAN GROW INTO THOUSANDS OF DERIVATIVES \n          </p>\n          <p className=\"arrow-p\">\n            \n          </p> */}\n        </Drop>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(InMySoul);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\n\nconst ToggleSwitch = ({name, value, onChange, isEditable=true}) => { \n    return (\n        <div\n          onMouseDown={e => e.stopPropagation()}\n          onClick={e => e.stopPropagation()}\n          className=\"toggle-switch\">\n          <div className=\"label\">{name}</div>\n          <div\n            onClick={(e) => {\n                e.stopPropagation();\n                if (isEditable) {\n                    onChange(!value);\n                } else {\n                }\n            }}\n            className={value ? \"switch on\" : \"switch\"}>\n            <div className=\"dot\"/>\n          </div>\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ToggleSwitch);\n","import {decodeMP3} from 'mp3/mp3.js';\nimport Tone from 'tone';\n\nconst bufferToArrayBuffer = require('buffer-to-arraybuffer');\n\nlet cache = {}\nexport const decodeAudioData = (blob, hash) => {\n    return new Promise(async (resolve, reject) => {\n        if (cache[hash]) {\n            return resolve(cache[hash]);\n        }\n        if (blob === undefined) {\n            reject();\n            return;\n        }\n        try {\n            try {\n                let type = new TextDecoder().decode(blob.slice(0, 4));\n                if (type === \"RIFF\") {\n                    let r = await Tone.Master.context.decodeAudioData(bufferToArrayBuffer(blob));\n                    if (hash) {\n                        cache[hash] = r;\n                    }\n                    resolve(r);\n                } else {\n                    let r = await decodeMP3(blob);\n                    if (hash) {\n                        cache[hash] = r;\n                    }\n                    resolve(r);\n                }\n            } catch (e) {\n                reject(e);\n            }\n        } catch (e) {\n            reject(e);\n        }\n    });\n};\n\nexport const clearDecodeCache = () => {\n    cache = {};\n};\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport ToggleSwitch from './ToggleSwitch.js';\n\nconst StemLoop = ({sample, isEditable=true}) => { \n    let [isLoop, setIsLoop] = useState(sample.isLoop);\n\n    const onChange = useCallback((value) => {\n        setIsLoop(value);\n        sample.isLoop = value;\n    }, [isLoop, setIsLoop, sample]);\n    return (<ToggleSwitch name=\"Loop\" value={isLoop} onChange={onChange} isEditable={isEditable}/>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StemLoop);\n","import React, { useRef, useEffect, useCallback, useState} from 'react';\nimport ToggleSwitch from './ToggleSwitch.js';\nimport {decodeAudioData} from 'utils/decodeAudioData.js';\nimport ipfs from \"decentralized/Ipfs.js\";\nimport {connect} from 'react-redux';\nimport StemLoop from './StemLoop.js';\nimport AudioUnit from 'engine/audio.js';\n\nconst SongStems = ({song, stems, setAddingMoreStems, isAdding, hasEdits, setHasEdits, setStems}) => { \n    let audioUnit = useRef(new AudioUnit());\n    let playing = useRef();\n    let [currentlyPlaying, setCurrentlyPlaying] = useState(undefined);\n\n    const onDefaultChanged = useCallback((stem, isDefaultStem) => {\n        stem.isDefaultStem = isDefaultStem;\n        song.stems = [... stems];\n        setHasEdits(hasEdits+1);\n    }, [stems, song, hasEdits]);\n\n    const play = useCallback(async (stem) => {\n        if (playing.current === stem) {\n            audioUnit.current.stopSound(0);\n            setCurrentlyPlaying(undefined);\n            return;\n        }\n        setCurrentlyPlaying(stem);\n        console.log(\"IPFS=\", stem.uri);\n        let ipfsHash = stem.uri.slice(\"/ipfs/\".length);\n        let blob = await ipfs.getSound(ipfsHash);\n        let buffer = await decodeAudioData(blob);\n        audioUnit.current.setBuffer(buffer);\n        audioUnit.current.playSound(0);\n        playing.current = stem;\n    }, [setCurrentlyPlaying]);\n\n    return (\n        <div className=\"song-stems\">\n          <div\n            onClick={() =>    window.open(\n                \"https://spores.vision/zp/\" + song.songId, \"_blank\")}\n            className=\"pushable open-in-spores\">\n            Open in Spores\n          </div>\n        {stems.map(x =>\n            <div\n              onClick={() => play(x)}\n              className={x.isLoop ? \"song-stem\" : \"song-stem is-not-loop\"}>\n              <div className=\"stem-id\">\n                Stem #{x.stemId}\n              </div>\n              <div className=\"stem-types\">\n                {x.prettyStemTypes.map(x => <div className=\"selected stem-type\">{x}</div>)}\n\n              </div>\n              <StemLoop sample={x} isEditable={false}/>\n              <ToggleSwitch\n                name=\"Is Default\"\n                value={x.isDefaultStem} onChange={(value) => onDefaultChanged(x, value)} isEditable={true}/>\n              {currentlyPlaying === x && <img src=\"/speaker-playing.svg\"/>}\n            </div>)}\n        {!isAdding && <div\n            onClick={() => setAddingMoreStems(true)}\n            className=\"add-stems pushable\">\n            add more stems to this song\n                      </div>}\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SongStems);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport './zora.scss';\n\nconst ZoraField = ({set, get, name, isTextArea}) => { \n    const [focused, setFocused] = useState(false);\n    let className = \"zora-field \";\n    if (focused || get !== \"\") {\n        className += \" focused\";\n    }\n    if (isTextArea) {\n        className += \" text-area\";\n    }\n    return (\n        <div className={className}>\n          <div className=\"field-name\">\n            {name}\n          </div>\n        {isTextArea ?\n         <textarea\n            onFocus={e => setFocused(true)}\n            onBlur={e => setFocused(false)}\n            value={get}\n            onChange={e => set(e.target.value)}\n           type=\"text\"/> :\n         <input\n            onFocus={e => setFocused(true)}\n            onBlur={e => setFocused(false)}\n            value={get}\n            onChange={e => set(e.target.value)}\n            type=\"text\"/>}\n        </div>\n    );\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ZoraField);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport Dropdown from 'react-dropdown'\nimport {connect} from 'react-redux';\n\n\nlet keys = [\"C Minor\", \"C# Minor\", \"D Minor\", \"D# Minor\", \"E Minor\", \"F Minor\", \"F# Minor\", \"G Minor\", \"G# Minor\", \"A Minor\", \"A# Minor\", \"B Minor\"];\nlet OPTIONS = keys.map(key => ({label: key, value: key}));\nconst SongKey = ({set, get}) => { \n    let className = \"song-key zora-field focused\";\n\n    const onChange = useCallback((e) => {\n        set(e.value);\n    }, [set]);\n\n    let value = OPTIONS.find(x => get === x.value);\n    return (\n        <div className={className}>\n          <div className=\"field-name\">\n            Song Key\n          </div>\n          <Dropdown\n            options={OPTIONS}\n            onChange={onChange}\n            value={value}\n            placeholder=\"Key\" />\n        </div>\n    );\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SongKey);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {triggerRefresh} from 'backend/cacheServer.js';\nimport {ethers} from 'ethers';\nimport UnknownProgressBar from \"components/progressbar/UnknownProgressBar.js\";\nimport {connect} from 'react-redux';\nimport ZoraField from \"components/fields/ZoraField.js\"\nimport SongKey from './SongKey.js';\nimport {useSigner} from 'wagmi';\nimport StemsContract from \"decentralized/contracts/StemsContract.js\";\n\nexport const STEMS_CONTRACT = \"0x74Bf6d7caAB56b3E47c235f42401F27736Df9dFC\";;\n\nconst SaveFlow = ({setCompleted, completed, hasEdits, stems, song, hideFields, openedSong}) => { \n    const {data: signer} = useSigner();\n    let [syncing, setSyncing] = useState(false);\n    let [title, setTitle] = useState('');\n    let [artist, setArtist] = useState('');\n    let [bpm, setBPM] = useState(90);\n    let [key, setKey] = useState(\"B Minor\");\n\n    let disabled = stems.some(x => x.stemTypes.length === 0) || title === \"\" || stems.length === 0 || artist === '';\n    if (hideFields) {\n        disabled = stems.length === 0;\n    }\n\n    useEffect(() => {\n        if (completed) {\n            setTitle(\"\");\n            setArtist(\"\");\n        }\n    }, [completed]);\n\n    const save = useCallback(async () => {\n        if (disabled) {\n            return;\n        }\n\n\n        let uris = [];\n        let stemTypes = [];\n        let durations = [];\n        let isLoops = [];\n        const baseURL = \"https://zequencer.mypinata.cloud/ipfs/\";\n        for (let stem of stems) {\n            stemTypes.push(stem.stemTypes);\n            uris.push(baseURL + stem.ipfsHash);\n            durations.push(parseInt(stem.audioBuffer.duration)); // needs to be in seconds\n            isLoops.push(stem.isLoop);\n        }\n        console.log(\"bpm=%s key=%s uris stemTypes\", bpm, key, uris, stemTypes, durations, isLoops);\n\n        let _contract = new StemsContract();\n        const contract = new ethers.Contract(\n            _contract.contractAddress, _contract.abi, signer);\n        if (song) {\n            let args=  [\n                ethers.BigNumber.from(song.songId),\n                uris,\n                stemTypes,\n                durations,\n                isLoops,\n            ];\n\n\n            let tx = await contract.newStems(...args, { value: 0});\n            \n            let transactionHash = tx.hash;\n            setSyncing(true);\n            triggerRefresh(transactionHash, STEMS_CONTRACT);\n            await tx.wait(5);\n            setSyncing(false);\n            setCompleted(true);\n            return;\n        }\n        let args=  [title, artist, uris, stemTypes, isLoops, durations, parseInt(bpm), 0, key];\n        console.log(\"args to send=\", args);\n        let tx = await contract.newSong(...args, { value: 0});\n        setSyncing(true);\n        let transactionHash = tx.hash;\n        triggerRefresh(transactionHash, STEMS_CONTRACT);\n        await tx.wait(3);\n        setSyncing(false);\n        setCompleted(true);\n    }, [stems, title, artist, bpm, key, disabled, song, signer, setCompleted, setSyncing]);\n\n    const saveNewConfiguration = useCallback((e) => {\n        let defaultStems = openedSong.stems.filter(x => x.isDefaultStem).map(x => x.stemId);\n        let songId =ethers.BigNumber.from(openedSong.songId);\n        console.log('songId=', songId);\n        let args=  [songId, defaultStems.map(ethers.BigNumber.from)];\n        /*\n        let transaction = new EthereumTransaction(\n            STEMS, 'updateSongConfiguration', args\n            );\n            */\n        setSyncing(true);\n        // transaction.execute();\n    }, [openedSong]);\n\n    if (syncing) {\n        return <UnknownProgressBar/>\n    }\n\n    if (hasEdits) {\n        return (\n            <div className=\"save-flow\">\n              <div\n                onClick={saveNewConfiguration}\n                className=\"save-configuration save-button pushable\">\n                Save New Default Configuration for Song\n              </div>\n            </div>\n               );\n    }\n\n    return (\n        <div className=\"save-flow\">\n          {!hideFields && <ZoraField get={title} set={setTitle} name=\"Title\"/>}\n          {!hideFields && <ZoraField get={artist} set={setArtist} name=\"Artist\"/>}\n          {!hideFields && <ZoraField get={bpm} set={setBPM} name=\"BPM\"/>}\n          {!hideFields && <SongKey get={key} set={setKey} name=\"Song Key\"/>}\n          <div\n            onClick={save}\n            className={disabled ? \"save-button disabled\" : \"save-button pushable\"}>\n            Save\n          </div>\n        </div>);\n}\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(SaveFlow);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport {connect} from 'react-redux';\nimport {TYPE_TO_NAME} from 'constants/stem-types.js';\n\nconst StemTypes = ({sample}) => { \n    let [types, setTypes] = useState(sample.stemTypes);\n\n    const toggle = useCallback((num) => {\n        num = parseInt(num);\n        let _types = [... types];\n        if (types.includes(num)) {\n            _types = types.filter(x => x !== num);\n        } else {\n            _types.push(num);\n        }\n        sample.stemTypes = _types;\n        setTypes(_types);\n    }, [types, setTypes]);\n\n    return (\n        <div className=\"stem-types\">\n        {Object.keys(TYPE_TO_NAME).map(\n            typeNumber =>\n            <div\n              onClick={() => toggle(typeNumber)}\n              className={types.includes(parseInt(typeNumber)) ? \"stem-type selected\": \"stem-type\"}>\n              {TYPE_TO_NAME[typeNumber]}\n            </div>)}\n            \n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StemTypes);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport StemLoop from './StemLoop.js';\nimport {connect} from 'react-redux';\nimport StemTypes from './StemTypes.js';\n\nconst StemOption = ({sample, deleteSample}) => { \n    return (\n        <div className=\"sample\">\n          <div className=\"name\">\n            {sample.name}\n          </div>\n          <StemTypes sample={sample}/>\n          <StemLoop sample={sample}/>\n          <div onClick={() => deleteSample(sample)} className=\"delete\">\n            x\n          </div>\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(StemOption);\n","import React, { useEffect, useCallback, useState} from 'react';\nimport { ConnectButton, darkTheme } from '@rainbow-me/rainbowkit';\nimport SongStems from './SongStems.js';\nimport SaveFlow from './SaveFlow.js';\nimport {useFlags} from 'flags/flags.js';\nimport StemOption from './StemOption.js';\nimport UnknownProgressBar from \"components/progressbar/UnknownProgressBar.js\";\nimport {connect} from 'react-redux';\nimport {useAudioDrop} from \"components/hooks/useAudioDrop.js\";\nimport {getSongs} from 'stems/getStemz.js';\nimport './stems.scss';\n\nconst Stems = (props) => { \n    const [addingToSong, setAddingToSong] = useState(undefined);\n    const [completed, setCompleted] = useState(false);\n    const [songs, setSongs] = useState([]);\n    const [stems, setStems] = useState([]);\n    const {isUploading, samples, onDrop} = useAudioDrop();\n    const [song, setSong] = useState(undefined);\n    const [hasEdits, setHasEdits] = useState(0);\n\n    useFlags();\n\n    useEffect(() => {\n        getSongs().then(setSongs);\n    }, []);\n\n    useEffect(() => {\n        getSongs().then(setSongs);\n        setStems([]);\n    }, [completed]);\n\n    useEffect(() => {\n        setStems(samples);\n    }, [samples, setStems]);\n\n    useEffect(() => {\n        window.addEventListener(\"dragenter\", function(e) {\n            e.preventDefault();\n            e.dataTransfer.effectAllowed = \"none\";\n            e.dataTransfer.dropEffect = \"none\";\n        }, false);\n        \n        window.addEventListener(\"dragover\", function(e) {\n            e.preventDefault();\n            e.dataTransfer.effectAllowed = \"none\";\n            //e.dataTransfer.dropEffect = \"none\";\n            return false;\n        });\n        window.addEventListener(\"drop\", onDrop);\n        \n    }, []);\n\n    const deleteSample = useCallback((x) => {\n        setStems(stems.filter(y => y !== x));\n    }, [stems, setStems]);\n\n    return (\n        <div\n          onDrop={onDrop} \n          onDragOver={e => e.preventDefault()}\n          className=\"stems-portal\">\n          <div className=\"layout\">\n            <div className=\"connect-button-wrapper\">\n              <ConnectButton\n                accountStatus=\"address\" \n                showBalance={{ smallScreen: false, largeScreen: false }}\n                label=\"Connect Wallet\"\n              />\n            </div>\n            <div className=\"header\">STEMS SPORES</div>\n            <div className=\"f-row\">\n               <div className=\"drop-files-here\">\n                 <span>\n                   {addingToSong ? \"Drop stems for \" + addingToSong.title : \"Drop Files Here\"}\n                 </span>\n               </div>\n              <div className=\"songs\">\n                {songs.map(_song => <div\n                                      onClick={() => _song === song ? setSong(undefined) : setSong(_song)}\n                                      className={song && song.songId === _song.songId ? \"song selected\" : \"song\"}>\n                                      <div className=\"song-title\">Song #{_song.songId}</div>\n                                      <div className=\"song-title\">{_song.title}</div>\n                                      <div className=\"song-artist\">{_song.artist}</div>\n                                      <div className=\"song-bpm\">{_song.bpm}</div>\n                                      <div className=\"song-key\">{_song.key}</div>\n                                   </div>)}\n              </div>\n              {song &&\n               <div className=\"song-info\">\n                 <SongStems\n                   song={song}\n                   setHasEdits={setHasEdits}\n                   hasEdits={hasEdits}\n                   isAdding={addingToSong}\n                   setAddingMoreStems={() => setAddingToSong(song)}\n                   stems={song.stems}/>\n               </div>}\n            </div>\n            <div className=\"samples\">\n              {stems.map(x => <StemOption sample={x} deleteSample={deleteSample}/>)}\n              {isUploading && <UnknownProgressBar/>}\n            </div>\n            <SaveFlow\n              completed={completed}\n              setCompleted={setCompleted}\n              hasEdits={hasEdits} openedSong={song} song={addingToSong} hideFields={addingToSong} stems={stems}/>\n        {completed &&\n         <div className=\"completed-info\">\n           Succesfully added to the Spores Library\n           <div\n             onClick={() => setCompleted(false)}\n             className=\"close-btn\">\n           x\n         </div>\n         </div>}\n          </div>\n        </div>);\n};\n\nconst mapStateToProps = (state, props) => {\n  return {\n  };\n};\n\nconst mapDispatchToProps = (dispatch) => {\n  return {\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Stems);\n","/*\n\nimport Jeremih from 'components/drops/Jerimiah.js';\nimport Build from 'components/build-a-spore/Build.js';\nimport Analytics from 'components/analytics/Analytics.js';\nimport RemixViewer from 'components/remix/RemixViewer.js';\nimport Zora from 'components/zora/Zora.js';\nimport RemixesPage from 'components/remix/RemixesPage.js';\nimport YingYangTwins from 'components/remix/YingYangTwins.js';\nimport PlaylistCreator from 'components/playlists/PlaylistCreator.js';\nimport Demo from \"components/demo/Demo.js\";\nimport SporeWrapper from \"components/spore/SporeWrapper.js\";\nimport SporeLore from 'components/spore/SporeLore.js';\n*/\n\nimport Waitlist from 'components/waitlist/Waitlist.js';\nimport VideoJacker from 'components/video/VideoJacker.js';\nimport NextGen from 'components/drops/NextGen.js';\nimport '@rainbow-me/rainbowkit/dist/index.css';\n//import SporeLanding from \"components/spore/SporeLanding.js\";\nimport { BrowserRouter, StaticRouter, withRouter, Route, Switch } from 'react-router-dom';\nimport Zpore from 'components/zpore/Zpore.js';\nimport NFTJacker from 'components/nft-jacker/NFTJacker.js';\nimport Thugger from 'components/drops/Thugger.js';\nimport InMySoul from 'components/drops/InMySoul.js';\nimport React, { Suspense, Component } from 'react';\nimport Stems from 'components/stems/Stems.js';\nimport './App.scss';\n\nimport {\n  getDefaultWallets,\n  RainbowKitProvider,\n    darkTheme\n} from '@rainbow-me/rainbowkit';\nimport {\n  chain,\n  configureChains,\n  createClient,\n  WagmiConfig,\n} from 'wagmi';\nimport {infuraProvider} from 'wagmi/providers/infura';\nimport { publicProvider } from 'wagmi/providers/public';\n//import Scene from './components/3D/Scene';\n\nconst infuraId = \"2f3dce2af1044e88b4851c3d73c3d00c\";\n      \nconst { chains, provider } = configureChains(\n    [chain.goerli],\n  [\n      infuraProvider({ infuraId }),\n      publicProvider()\n  ]\n);\n\nconst { connectors } = getDefaultWallets({\n  appName: 'Spore Players',\n  chains\n});\n\nconst wagmiClient = createClient({\n  autoConnect: true,\n  connectors,\n  provider\n});\n\n\n\nconst App = (props) => {\n    window.spores = true;\n    return (\n        <Suspense fallback={() => <div>Loading...</div>}>\n          <WagmiConfig client={wagmiClient}>\n          <RainbowKitProvider chains={chains}\n                              theme={darkTheme({\n                                  accentColor: 'black',\n                                  accentColorForeground: 'white',\n                                  borderRadius: 'small',\n                              })}\n          >\n          <BrowserRouter>\n            <Switch>\n              <Route  path=\"/inmysoul/\" \n                      render={(props) => <InMySoul {...props} store={props.store}/>}/>\n              <Route  path=\"/thugger/\" \n                      render={(props) => <Thugger {...props} store={props.store}/>}/>\n              <Route  path=\"/qntm1/\" \n                      render={(props) => <Zpore {...props} store={props.store}/>}/>\n              <Route  path=\"/qntm-remixes/\" \n                      render={(props) => <Zpore {...props} showRemixes={true} store={props.store}/>}/>\n              <Route  path=\"/demoneyes/\" \n                      render={(props) => <Zpore {...props} songTitle=\"Demon Eyes\" _songId={1} store={props.store}/>}/>\n              <Route  path=\"/zp/:songId/:remixId\" \n                      render={(props) => <Zpore {...props}\n                                                showRemixes={true}\n                                                remixId={props.match.params.remixId}\n                                                songTitle=\"unreleased\" _songId={props.match.params.songId} store={props.store}/>}/>\n              <Route  path=\"/zp/:songId\" \n                      render={(props) => <Zpore {...props}\n                                                songTitle=\"unreleased\" _songId={props.match.params.songId} store={props.store}/>}/>\n              <Route  path=\"/next-gen/\" \n                      render={(props) => <NextGen {...props} store={props.store}/>}/>\n              <Route  path=\"/video/\" \n                      render={(props) => <VideoJacker/>}/>\n              <Route  path=\"/stems/\" \n                      render={(props) => <Stems {...props} store={props.store}/>}/>\n              {/*\n             <Route  path=\"/loops/\"\n                      render={(props) => <NFTJacker {...props} showLoops={true} store={props.store}/>}/>\n              <Route  path=\"/play/:collectionAddress/:tokenId/:remixId\" \n                      render={(props) => <NFTJacker {...props} isDirectLink={true}  store={props.store}/>}/>\n              <Route  path=\"/play/:collectionAddress/:tokenId\" \n                      render={(props) => <NFTJacker {...props} isDirectLink={true}  store={props.store}/>}/>\n              <Route  path=\"/chaos\" \n                      render={(props) => <NFTJacker {...props} defaultSearch={\"chaos\"} store={props.store}/>}/>\n              <Route  path=\"/nftjacker/\" \n                      render={(props) => <NFTJacker {...props} store={props.store}/>}/>\n               */}\n              {/*\n              <Route  path=\"/remix/:recordingHash/:dataHash\"\n                      render={(props) => <RemixViewer {...props} store={props.store}/>}/>\n              <Route  path=\"/build/\"\n                      render={(props) => <Build {...props} store={props.store}/>}/>\n              <Route  path=\"/stats\" \n                      render={(props) => <Analytics {...props} store={props.store}/>}/>\n              <Route  path=\"/remixes/\" \n                      render={(props) => <RemixesPage {...props} store={props.store}/>}/>\n              <Route  path=\"/playlist/\" \n                      render={(props) => <PlaylistCreator {...props} store={props.store}/>}/>\n              <Route  path=\"/jeremih/\" \n                      render={(props) => <Jeremih {...props} store={props.store}/>}/>\n              <Route  path=\"/twins/\"\n                      render={(props) => <YingYangTwins {...props} store={props.store}/>}/>\n              <Route  path=\"/zora/\" \n                      render={(props) => <Zora {...props} store={props.store}/>}/>\n              <Route  path=\"/learn/\" \n                      render={(props) => <SporeLanding learning={true} {...props} store={props.store}/>}/>\n              <Route  path=\"/buy/\" \n                      render={(props) => <SporeLanding buying={true} {...props} store={props.store}/>}/>\n              <Route  path=\"/jeremih/\" \n                      render={(props) => <Demo name=\"jeremih\" {...props} store={props.store}/>}/>\n              <Route  path=\"/lightweight/\" \n                      render={(props) => <VideoJacker lightweight={true}/>}/>\n              <Route  path=\"/future/\" \n                      render={(props) => <Scene/>}/>\n              <Route  path=\"/doodles1/\" \n                      render={(props) => <Demo name=\"doodles1\" {...props} store={props.store}/>}/>\n              <Route  path=\"/doodles2/\" \n                      render={(props) => <Demo name=\"doodles2\" {...props} store={props.store}/>}/>\n              <Route  path=\"/ragnarok/\" \n                      render={(props) => <Demo name=\"ragnarok\" {...props} store={props.store}/>}/>\n              <Route  path=\"/lore\" \n                      render={(props) => <SporeLore {...props} store={props.store}/>}/>\n              <Route  path=\"/sp/:tokenId\" \n                      render={(props) => <SporeLanding {...props} store={props.store}/>}/>\n\n                  */}\n              <Route  path=\"/\" \n                      render={(props) => <Waitlist {...props} store={props.store}/>}/>\n        {/*<Route  path=\"/\" \n           render={(props) => <SporeLanding {...props} store={props.store}/>}/>*/}\n            </Switch>\n          </BrowserRouter>\n        </RainbowKitProvider>\n        </WagmiConfig>\n        </Suspense>\n    );\n};\n\nexport default App;\n\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n      console.log(\"UNREGISTERING\");\n    navigator.serviceWorker.ready.then(registration => {\n        console.log(\"regstieration UNREGISTERING\", registration);\n      registration.unregister();\n    });\n  }\n}\n","import {combineReducers} from 'redux';\nimport {playback} from './playback.js';\nimport {playlistReducer} from './playlist.js';\nimport {sporeReducer} from './spore.js';\n\nconst rootReducer = combineReducers(\n    {\n        playback,\n        playlist: playlistReducer,\n        spore: sporeReducer,\n    });\n\nexport default rootReducer;\n","import {SET_PLAY_STATUS} from 'constants/action-types.js';\nimport {STOPPED} from 'constants/play-statuses.js';\n\nexport const playback = (state = {playStatus: STOPPED}, action) => {\n    let newState;\n    switch (action.type) {\n    case SET_PLAY_STATUS:\n        return {\n            ...state,\n            playStatus: action.payload\n        };\n    default:\n        return state;\n    }\n}\n \n","import {SET_SHOW_PLAYLIST_MENU} from 'constants/action-types.js';\nimport {SET_CURRENT_PLAYLIST_SONG} from 'constants/action-types.js';\nimport {SET_PLAYLIST_LOADED} from 'constants/action-types.js';\n\nexport const playlistReducer = (state = {currentSong: \"Twisting Faith\"}, action) => {\n    let newState;\n    switch (action.type) {\n    case SET_SHOW_PLAYLIST_MENU:\n        return {\n            ... state,\n            showPlaylistMenu: action.payload\n        };\n    case SET_CURRENT_PLAYLIST_SONG:\n        console.log(\"SETTING CURRENT PLAYLIST SONG=\", action.payload);\n        return {\n            ... state,\n            currentSong: action.payload\n        };\n    case SET_PLAYLIST_LOADED:\n        console.log(\"SETTING PLAYLIST LOADED=\", action.payload);\n        return {\n            ... state,\n            playlistLoaded: action.payload\n        };\n    default:\n        return state;\n    }\n}\n \n","import {SET_SPORE_TOKEN_ID} from 'constants/action-types.js';\nimport {SET_SECONDS_REMAINING} from 'constants/action-types.js';\nimport {SET_SOLD_PLAYERS} from 'constants/action-types.js';\nimport {SET_PENDING_SPORES} from 'constants/action-types.js';\nimport {SET_USED_CHEAT_CODE} from 'constants/action-types.js';\nimport {SET_PLAYER_REF} from 'constants/action-types.js';\nimport {SET_LEAK_LOADED} from 'constants/action-types.js';\nimport {SET_SONG_LOADED} from 'constants/action-types.js';\n\nexport const sporeReducer = (state = {}, action) => {\n    let newState;\n    switch (action.type) {\n    case SET_SONG_LOADED:\n        console.log(\"SET_SONG_LOADED payload=\", action.payload);\n        return {\n            ... state,\n            songLoaded: action.payload\n        };\n    case SET_LEAK_LOADED:\n        return {\n            ... state,\n            leakLoaded: action.payload\n        };\n    case SET_PLAYER_REF:\n        return {\n            ...state,\n            playerRef: action.payload\n        };\n    case SET_SECONDS_REMAINING:\n        return {\n            ... state,\n            secondsRemaining: action.payload\n        };\n    case SET_USED_CHEAT_CODE:\n        return {\n            ... state,\n            usedCheatCode: action.payload\n        };\n    case SET_SPORE_TOKEN_ID:\n        return {\n            ... state,\n            tokenId: action.payload\n        };\n    case SET_PENDING_SPORES:\n        return {\n            ... state,\n            pendingSpores: action.payload\n        };\n    case SET_SOLD_PLAYERS:\n        return {\n            ... state,\n            soldPlayers: action.payload\n        };\n    default:\n        return state;\n    }\n}\n \n","import { createStore } from \"redux\";\nimport rootReducer from \"../reducers/index\";\nconst store = createStore(rootReducer);\n\nexport default store;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport {unregister} from './registerServiceWorker';\nimport store from \"./store/index\";\nimport { Provider } from \"react-redux\";\n\nReactDOM.render(\n    <Provider store={store}>\n      <App store={store}/>\n    </Provider> \n    , document.getElementById('root'));\n\nunregister();\n","export const sleep = (time) => {\n    return new Promise((resolve, reject) => {\n        setTimeout(resolve, time);\n    });\n}\n","import Web3 from 'web3';\n\nconst metamaskInstalled = false; // typeof window.web3 !== 'undefined';\nexport const web3 = metamaskInstalled ?\n      new Web3(window.web3.currentProvider) :\n      new Web3(new Web3.providers.HttpProvider('https://goerli.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c'));\nexport const web3WSS = \n    new Web3(new Web3.providers.WebsocketProvider('wss://goerli.infura.io/ws/v3/2f3dce2af1044e88b4851c3d73c3d00c'));\n\n/*\n\nclass Contract {\n    constructor() {\n        this.methods = {};\n        this.options = {\n            address: ''\n        };\n    }\n}\n\nexport const web3 = {\n    eth: {\n        Contract: Contract,\n        net: {\n            isListening: () => true\n        }\n    },\n    utils: {\n        asciiToHex: () => 'aa',\n        padLeft: () => '',\n        padRight: () => '',\n    }\n};\n\nexport const web3WSS = web3;\n*/\n","import Web3 from 'web3';\nimport {web3} from '../web3.js';\n\nexport const noteToAscii= {\n    'A': 'a',\n    'A#': 'A',\n    'B': 'b',\n    'C': 'c',\n    'C#': 'C',\n    'D': 'd',\n    'D#': 'D',\n    'E': 'e',\n    'F': 'f',\n    'F#': 'F',\n    'G': 'g',\n    'G#': 'G'\n};\n\nexport const noteToBytes32 = {\n    'A': web3.utils.asciiToHex('a'),\n    'A#': web3.utils.asciiToHex('A'),\n    'B': web3.utils.asciiToHex('b'),\n    'C': web3.utils.asciiToHex('c'),\n    'C#': web3.utils.asciiToHex('C'),\n    'D': web3.utils.asciiToHex('d'),\n    'D#': web3.utils.asciiToHex('D'),\n    'E': web3.utils.asciiToHex('e'),\n    'F': web3.utils.asciiToHex('f'),\n    'F#': web3.utils.asciiToHex('F'),\n    'G': web3.utils.asciiToHex('g'),\n    'G#': web3.utils.asciiToHex('G')\n};\n\nlet tmp = {};\n\nfor (let i in noteToBytes32) {\n    tmp[noteToBytes32[i]] = i;\n}\n\nexport const bytes32ToNote = tmp;\ntmp = {};\n\nfor (let i in noteToAscii) {\n    tmp[noteToAscii[i]] = i;\n}\n\n\nexport const asciiToNote = tmp;\n","class Decoder {\n    /**\n     * @param {Record<String, any>} wasm WebAssembly exports.\n     * @param {Uint8Array} data MP3 data to decode.\n     */\n    constructor(wasm, data) {\n        this.wasm = wasm;\n        this.wasm.decoder_init();\n        // Set `data` in Wasm memory.\n        this.wasm.decoder_set_mp3_data_size(data.byteLength);\n        const mp3DataInWasm = new Uint8Array(this.wasm.memory.buffer, this.wasm.decoder_mp3_data_offset(), this.wasm.decoder_mp3_data_size());\n        mp3DataInWasm.set(data);\n        // Calculate duration.\n        this.duration = this.seek(-1);\n        this.seek(0);\n    }\n\n    setData(data) {\n        this.wasm.decoder_set_mp3_data_size(data.byteLength);\n        const mp3DataInWasm = new Uint8Array(this.wasm.memory.buffer, this.wasm.decoder_mp3_data_offset(), this.wasm.decoder_mp3_data_size());\n        mp3DataInWasm.set(data);\n        this.duration = this.seek(-1);\n        this.seek(0);\n    }\n\n    /**\n     * Seeks to the specified position in seconds.\n     * @param {number} position Position to seek in seconds.\n     * @returns {number} The current position in seconds.\n     */\n    seek(position) {\n        this.wasm.decoder_seek(position);\n        return this.currentTime();\n    }\n    /**\n     * Decodes MP3 data from the current position. The decoder advances to the new position.\n     * @param {number} duration seconds to decode.\n     * @returns {object} Decoded results.\n     */\n    decode(duration) {\n        const startTime = this.currentTime();\n        this.wasm.decoder_decode(duration);\n        const pcm = new Int16Array(this.wasm.memory.buffer, this.wasm.decoder_pcm_data_offset(), this.wasm.decoder_pcm_data_size() / 2);\n        const samplingRate = this.wasm.decode_results_sampling_rate();\n        const numChannels = this.wasm.decode_results_num_channels();\n        const numSamples = this.wasm.decode_results_num_samples();\n        const actualDuration = (numSamples / numChannels) / samplingRate;\n        return {\n            pcm: pcm,\n            startTime: startTime,\n            duration: actualDuration,\n            samplingRate: samplingRate,\n            numChannels: numChannels,\n            numSamples: numSamples,\n        };\n    }\n    /**\n     * @returns {number} The current position in seconds.\n     */\n    currentTime() {\n        return this.wasm.decoder_current_time();\n    }\n}\n\nasync function createDecoder(data, wasmUrl) {\n    wasmUrl = wasmUrl || 'decoder.opt.wasm';\n    const res = await fetch(wasmUrl);\n    const buffer = await res.arrayBuffer();\n    let wasm = await WebAssembly.instantiate(buffer, {});\n    return new Decoder(wasm.instance.exports, data);\n}\n\nlet decoder = null;\nconst decodeMP3 = async (mp3Data) => {\n    let url = window.isNFT ? 'decoder.opt.wasm' : '/decoder.opt.wasm';\n    if (!decoder) {\n        decoder = await createDecoder(mp3Data, url);\n    } else {\n        decoder.setData(mp3Data);\n    }\n    const merged = new Uint16Array(mp3Data.length*6);\n    let position=0;\n    let sampleRate;\n    decoder.seek(0);\n    let counter=0;\n    const results = decoder.decode(60*5);\n    sampleRate = results.samplingRate;\n    merged.set(results.pcm, position);\n    position+=results.pcm.length;\n    return {decoded: merged, sampleRate, position};\n};\n\nexport const decodeNoWorker = function(e) {\n    return new Promise((resolve) => {\n        let {id, mp3Data, isNFT} = e;\n        decodeMP3(mp3Data, isNFT).then(\n            ({decoded, sampleRate, position}) => {\n                resolve({decoded, sampleRate, position, id});\n            });\n    });\n}\n","import { createDecoder } from './minimp3-wasm.js';\nimport {decodeNoWorker} from './mp3-noworker.js';\nimport {sleep} from 'utils/sleep.js';\nimport Sample from 'repos/Sample.js';\nimport Tone from 'tone';\n\nlet _counter=0;\nlet decoder;\n\nlet cache = {};\n\nlet mp3Recorder;\nlet results = {};\n\nconst decode = async (mp3Data, counter) => {\n    console.log(\"decode called=\", mp3Data);\n    if (true) { //window.isNFT && !window.urlSearchParams.get(\"gallery\")) {\n        // then use mp3 no worker\n        let r = await decodeNoWorker({mp3Data, isNFT: window.isNFT, id: counter});\n        return r;\n    }\n    \n    if (!mp3Recorder) {\n        mp3Recorder = new Worker(window.isNFT ? \"mp3Worker.js\" : \"/mp3Worker.js\");\n        mp3Recorder.onmessage = (e) => {\n            results[e.data.id] = e.data;\n        };\n    }\n    mp3Recorder.postMessage({mp3Data, isNFT: window.isNFT, id: counter});\n\n    while (!results[counter]) {\n        await sleep(100);\n    }\n    return results[counter];\n}\n\nexport const decodeMP3 = async (mp3Data) => {\n    let {decoded, sampleRate, position} = await decode(mp3Data, _counter++);\n    if (sampleRate !== 44100) {\n        //window.alert(\"Sample must be in 44100 hz sample rate\");\n        //return;\n    }\n    let ctxt = Tone.Master.context;\n    let channels = 2;\n//    sampleRate = 44100;\n    const _buffer = ctxt.createBuffer(channels, position/2, sampleRate); //Tone.Master.context.sampleRate); //44100);\n    const channelDataL = _buffer.getChannelData(0);\n    const channelDataR = channels === 2 ? _buffer.getChannelData(1) : null;\n    // int16 -> float32\n    for (let i = 0; i < decoded.length; i+=2) {\n      const l = decoded[i];\n      const r = decoded[i+1];\n      channelDataL[i/2] = l >= 32768 ? -(65536 - l) / 32768 : l / 32767;\n        if (channels === 2) {\n            channelDataR[i/2] = r >= 32768 ? -(65536 - r) / 32768 : r / 32767;\n        }\n    }\n    return _buffer;\n};\n\nexport const initMP3 = async (engine) => {\n    /*\n    let name = \"/completed_live_0bf4d6d54e4b03be05f1a24f090ee4d0_vocals.mp3\";\n    const res = await fetch(name);\n    const buffer = await res.arrayBuffer();\n    const mp3Data = new Uint8Array(buffer);\n    const decoder = await createDecoder(mp3Data, '/decoder.opt.wasm');\n    decoder.seek(0);\n    const results = decoder.decode(30);\n    let pcm = results.pcm;\n    console.log(pcm);\n    let ctxt = Tone.Master.context;\n    const _buffer = ctxt.createBuffer(2, pcm.length/2, results.samplingRate);\n    const channelDataL = _buffer.getChannelData(0);\n    const channelDataR = _buffer.getChannelData(1);\n    // int16 -> float32\n    for (let i = 0; i < pcm.length; i+=2) {\n      const l = pcm[i];\n      const r = pcm[i+1];\n      channelDataL[i/2] = l >= 32768 ? -(65536 - l) / 32768 : l / 32767;\n      channelDataR[i/2] = r >= 32768 ? -(65536 - r) / 32768 : r / 32767;\n    }\n    let sample = new Sample(NOT_UPLOADED_YET);\n    sample.audioBuffer = _buffer;\n    sample.needsSave = true;\n    // await sample.fetchAudio();\n    sample.tags = [];\n    sample.name = \"test\";\n    await engine.addSound(sample);\n    */\n};\n","/**\n * Handles fetching of sample metadata and the actual audio\n * buffer, either from the centralized server or IPFS.\n * The plan is to eventually migrate fully to IPFS\n*/\nclass Sample  {\n    constructor(ipfsHash) {\n        this.ipfsHash = ipfsHash;\n        this.stemTypes = [];\n    }\n    \n    getId() {\n        return this.ipfsHash;\n    }\n}\nexport default Sample;\n","import {web3} from 'decentralized/web3.js';\n\nconst metamaskInstalled = false;\n\nconst bs58 = require('bs58');\n\nexport function ipfsHashToBytes32(ipfs_hash) {\n    var h = bs58.decode(ipfs_hash).toString('hex').replace(/^1220/, '');\n    if (h.length != 64) {\n        return null;\n    }\n    return '0x' + h;\n}\n\nexport function bytes32ToIPFSHash(hash_hex) {\n    var buf = new Buffer(hash_hex.replace(/^0x/, '1220'), 'hex')\n    return bs58.encode(buf)\n}\n\nexport function convertAsciiToContractHex(ascii) {\n    let hex = web3.utils.fromAscii(ascii);\n    for (let i=hex.length; i <= 65; i++) {\n        hex += '0';\n    }\n    return hex;\n}\n\n","import ipfsClient from 'ipfs-http-client';\n\nvar bufferToArrayBuffer = require('buffer-to-arraybuffer');\nvar xhr = new XMLHttpRequest();\nconst IPFS_ADDRESS = '/ip4/3.17.26.249/tcp/4001/ipfs/QmeQRpfSrYcAaqkhNoArDyTUwyYiru2gJp4WY1WegQGjtR';\nconst TIMEOUT = 30000;\nconst END = [85,110,105,118,101,114,115,97,108,32,83,101,113,101,117,110,99,101,115 ]\n\nconst LOCAL = 'LOCAL';\nconst UNIVERSAL = 'UNIVERSAL';\nconst INFURA = 'INFURA';\n\nwindow.httpV = 'http://www.zequencer.io:5001';\nwindow.httpsV = 'https://www.zequencer.io:5002';\nclass IpfsClient {\n    restart() {\n        // do nothing since it doesnt even matter -_-\n    }\n\n    getIPFSPrefix() {\n        if (this.connectedLocally) {\n            return 'http://localhost:5001';\n        } else if (window.location.protocol === 'http:') {\n            return window.httpV;\n        } else if (window.location.protocol === 'https:') {\n            return window.httpsV;\n        }\n    }\n\n    getHashUrl(hash) {\n        /*\n        if (this.connectedLocally) {\n            return 'http://localhost:8080/ipfs/' + hash;\n        } else if (window.location.protocol === 'http:') {\n            return '/ipfs/' + hash;\n        } else {\n            return '/ipfs/' + hash;\n        }\n        */\n        return \"https://zequencer.io/ipfs/\" + hash;\n    }\n\n    async getPinnedHashes() {\n        let list = await this.ipfs.refs.local();\n        return list.map(x => x.ref);\n    }\n\n    constructor() {\n        this.controllers = new Set();\n        if (window.isNFT) {\n            return;\n        }\n        if (window.location.protocol === 'http:') {\n            this.backupIpfs = new ipfsClient('ipfs.infura.io', '5001', {protocol: 'https'});\n            if (window.isNFT) {\n                this.centralIpfs = this.backupIpfs;\n                this._centralIpfs = ipfsClient('www.zequencer.io', '5001', {protocol: 'http'});\n            } else {\n                this.centralIpfs = ipfsClient('www.zequencer.io', '5001', {protocol: 'http'});\n                this._centralIpfs = this.centralIpfs;\n            }\n        } else {\n            if (window.isNFT) {\n                this.centralIpfs = this.backupIpfs;\n                this._centralIpfs = ipfsClient('www.zequencer.io', '5002', {protocol: 'https'});\n            } else {\n                this.centralIpfs = ipfsClient('www.zequencer.io', '5002', {protocol: 'https'});\n                this._centralIpfs = this.centralIpfs;\n            }\n        }\n\n        this.ipfs = this.centralIpfs;\n\n        let self = this;\n        this.connectedLocally = false;\n        this.finishedTestingLocalConnection = false;\n        xhr.onreadystatechange = () => {\n            if (xhr.readyState == 4) {\n                // Request finished; either succesful or via timeout\n                if (xhr.status == 200) {\n                    self.ipfs = ipfsClient('localhost', '5001', {protocol: 'http'})  \n                    self.connectToCentral();\n                    self.connectedLocally = true;\n                    self.finishedTestingLocalConnection = true;\n                    this.keepSwarmConnectionAlive();\n                }\n            }\n        };\n\n        if (!window.isNFT) {\n            xhr.open(\"POST\", \"http://localhost:5001/api/v0/swarm/peers\", true);\n            xhr.timeout = 4000; // Set timeout to 4 seconds (4000 milliseconds)\n            xhr.ontimeout = function () {\n                console.log('timed out connecting to local ipfs daemon');\n            };\n        }\n\n        setTimeout(() => {\n            this.finishedTestingLocalConnection = true;\n        }, 4000);\n        xhr.send(\"\");\n    }\n\n    findProvs(hash) {\n        return new Promise((resolve, reject) => {\n            this.ipfs.dht.findprovs(hash, {maxNumProviders: 1}, (err, res) => {\n                resolve(res);\n            });\n        });\n    }\n\n    connectToCentral() {\n        try {\n                this.ipfs.swarm.connect(IPFS_ADDRESS, (err, res) => {\n                })\n                    .catch(e => console.log('error'));\n            } catch (e) {\n                console.log('error connecting to ipfs');\n            }\n    }\n\n    keepSwarmConnectionAlive() {\n        try {\n            this.ipfs.swarm.connect(IPFS_ADDRESS, (err, res) => {\n            })\n                .catch(e => console.log('error'));\n        } catch (e) {\n            console.log('error connecting to ipfs');\n        }\n        setInterval(() => {\n            if (window.sequencerEngine && window.sequencerEngine.getSequenceId) {\n                let id = window.sequencerEngine.getSequenceId();\n                if (window.sequencerEngine.store.getState().sequencer.isPlaying[id]) {\n                    return;\n                }\n            }\n            try {\n                this.ipfs.swarm.connect(IPFS_ADDRESS, (err, res) => {\n                })\n                    .catch(e => console.log('error'));\n            } catch (e) {\n                console.log('error connecting to ipfs');\n            }\n        }, 60000);\n    }\n\n    isConnectedLocally() {\n        return this.connectedLocally;\n    }\n\n    addArrayBuffer(arrayBuffer, id) {\n        let self = this;\n        return this.addHelper(arrayBuffer, id);\n    }\n\n    addArrayBufferAndSaveToDB(arrayBuffer, id) {\n        return this.addBlobAndSaveToDB(new Blob([new Uint8Array(arrayBuffer)]), id);\n    }\n\n    addHelper(arrayBuffer, id=0, name) {\n        if (name === undefined) {\n            name = 'hello';\n        } \n        let self = this;\n        return new Promise((resolve, reject) => {\n            let _ipfs = this._centralIpfs || this.ipfs;\n            if (!_ipfs) {\n                if (window.location.protocol === 'http:') {\n                    _ipfs = ipfsClient('www.zequencer.io', '5001', {protocol: 'http'});\n                } else {\n                    _ipfs = ipfsClient('www.zequencer.io', '5002', {protocol: 'https'});\n                }\n            }\n            _ipfs.add({name: name, path:'hello', content: new Buffer(arrayBuffer)}, (err, ipfsHash) => {\n                console.log(\"IPFS HASH = \", ipfsHash);\n                let hash = ipfsHash[0].hash;\n                if (err) {\n                    reject(err);\n                } else {\n                    resolve(hash);\n                }\n            }); \n        });\n    }\n\n    addBuffer(buffer, location=LOCAL, noUTF) {\n        return new Promise((resolve, reject) => {\n            let ipfsObject = this.centralIpfs;\n            ipfsObject.add(\n                buffer\n                , (err, ipfsHash) => {\n                if (err) {\n                    reject(err);\n                } else {\n                    let hash = ipfsHash[0].hash;\n                    ipfsObject.pin.add(hash);\n\n                    resolve(hash);\n                }\n            });\n        });\n    }\n\n    addJson(json, location=LOCAL, noUTF) {\n        return new Promise((resolve, reject) => {\n            console.log('adding json noUTF=', noUTF, json);\n            let _ipfs = this._centralIpfs || this.ipfs;\n            if (!_ipfs) {\n                if (window.location.protocol === 'http:') {\n                    _ipfs = ipfsClient('www.zequencer.io', '5001', {protocol: 'http'});\n                } else {\n                    _ipfs = ipfsClient('www.zequencer.io', '5002', {protocol: 'https'});\n                }\n            }\n            _ipfs.add(\n                Buffer.from(JSON.stringify(json)) \n                , (err, ipfsHash) => {\n                if (err) {\n                    reject(err);\n                } else {\n                    let hash = ipfsHash[0].hash;\n                    _ipfs.pin.add(hash);\n                    resolve(hash);\n                }\n            });\n\n            if (location === LOCAL) {\n                // add to other IPFS nodes for redundancy\n                if (_ipfs !== this.centralIpfs) {\n                    this.addJson(json, UNIVERSAL, noUTF)\n                        .then((hash) => resolve(hash));\n                }\n                this.addJson(json, INFURA, noUTF)\n                    .then((hash) => resolve(hash));\n            }\n        });\n    }\n\n    getJson(ipfsPath, useCentral=false, timeout=10000, isBytes=false) {\n        this.restart();\n        return new Promise((resolve, reject) => {\n            if (isBytes) {\n                this.ipfs.cat(ipfsPath, function (err, file) {\n                    resolve(JSON.parse(file.toString('utf8')));\n                });\n                return;\n            }\n            let url = \"/api/v0/cat?arg=\" + ipfsPath;\n            let ipfs = useCentral ? this.centralIpfs : this.ipfs;\n            let controller = new AbortController();\n            this.controllers.add(controller);\n            let signal = controller.signal;\n            setTimeout(() => {\n                controller.abort();\n                this.controllers.delete(controller);\n                reject();\n            }, timeout);\n\n            let method = 'POST';\n            let _url = this.getIPFSPrefix() + url;\n            if (window.isNFT) {\n                method = 'GET';\n                _url = ipfsPath;\n                fetch(\n                    _url,\n                    {signal,\n                     method\n                    })\n                    .then(async (resp) => {\n                        let json = await resp.json();\n                        resolve(json);\n                    });\n                return;\n            }\n\n            if (window.isNFT) {\n                return resolve({});\n            }\n\n            let dateA = new Date().getTime();\n            fetch(_url,\n                  {\n                      signal,\n                      method\n                  })\n                .then(async (response) => {\n                    let dateB = new Date().getTime();\n                    console.log('raw request took %s ms', dateB-dateA);\n                    this.readAllChunks(response.body).then(\n                        ret => {\n                            console.log(\"read all chunks took %s ms\", new Date().getTime() - dateB);\n                            let merged = this.mergeArrays(ret, 0, false);\n                            let str = new TextDecoder().decode(merged); \n                            resolve(JSON.parse(str));\n                        });\n                });\n        });\n    }\n\n    async addBytesArray(bytesArray) {\n        let b = new Uint8Array(bytesArray.length + END.length);\n        b.set(bytesArray, 0);\n        b.set(END, bytesArray.length);\n        let hash = await this.addHelper(b.buffer);\n        this.ipfs.pin.add(hash);\n        return hash;\n    }\n\n    async pin(x) {\n        return await this.ipfs.pin.add(x);\n    }\n\n    addBlob(blob, name) {\n        this.restart();\n        return new Promise((resolve, reject) => {\n            let arrayBuffer;\n            let fileReader = new FileReader();\n            let self = this;\n            fileReader.onload = function() {\n                arrayBuffer = this.result;\n                self.addHelper(arrayBuffer, undefined, name)\n                    .then(hash => {\n                        if (this.connectedLocally) {\n                            self.ipfs.pin.add(hash);\n                        }\n                        self.centralIpfs.pin.add(hash);\n                    \n                        resolve(hash);\n                    })\n                    .catch(err => reject(err));\n            };\n            fileReader.readAsArrayBuffer(blob);\n        });\n    }\n\n    addBlobAndSaveToDB(blob, id) {\n    }\n\n    converttoarraybuffer(blob) {\n        return new Promise((resolve, reject) => {\n            let arraybuffer;\n            let filereader = new filereader();\n            let self = this;\n            filereader.onload = function() {\n                resolve(this.result);\n            };\n            filereader.readasarraybuffer(blob);\n        });\n    }\n\n    readAllChunks(readableStream) {\n        const reader = readableStream.getReader();\n        const chunks = [];\n        \n        function pump() {\n            return reader.read().then(({ value, done }) => {\n                if (done) {\n                    return chunks;\n                }\n                chunks.push(value);\n                return pump();\n            });\n        }\n        \n        return pump();\n    }\n\n    getSound(hash, timeout=TIMEOUT) {\n        return new Promise((resolve, reject) => {\n            let controller = new AbortController();\n            this.controllers.add(controller);\n            let signal = controller.signal;\n            setTimeout(() => {\n                controller.abort();\n                this.controllers.delete(controller);\n                reject();\n            }, timeout);\n\n            let method = 'GET';\n            let _url = \"https://zequencer.io/ipfs/\" + hash; //this.getIPFSPrefix() + '/api/v0/get?arg=' + hash + '&stream-channels=true';\n            if (window.spores) {\n                _url = \"https://zequencer.mypinata.cloud/ipfs/\" + hash;\n            }\n            if (window.isNFT) {\n                method = 'GET';\n                _url = hash;\n                return fetch(\n                    _url,\n                    {signal,\n                     method\n                    })\n                    .then(async (resp) => {\n                        let json = await resp.arrayBuffer();\n                        resolve(new Uint8Array(json));\n                    });\n            }\n\n            if (window.isNFT) {\n                return resolve([]);\n            }\n\n            let dateA = new Date().getTime();\n            fetch(_url,\n                  {signal,\n                   method\n                  })\n                .then(async (response) => {\n                    let dateB = new Date().getTime();\n                    console.log(\"raw response took %s ms\", dateB - dateA);\n                    let arrayBuffer = await response.arrayBuffer();\n                    let dateC = new Date().getTime();\n                    console.log(\"Array buffer tranform took %s ms\", new Date().getTime() - dateB);\n                    let processed = this.processArray(new Uint8Array(arrayBuffer));\n                    console.log(\"processing took % ms\", new Date().getTime() - dateC);\n                    resolve(processed);\n                    return;\n                    this.readAllChunks(response.body).then(\n                        ret => {\n                            let merged = this.mergeArrays(ret);\n                            resolve(merged);\n                        })\n                        .catch(err => console.log('error reading chunks'));\n                })\n                .catch(err => {\n                    console.log('aborted');\n                });\n        });\n    }\n\n    arrayToBuffer(array) {\n        var buffer = new ArrayBuffer(array.length);\n\n        array.map(function(value, i){buffer[i] = value});\n        return buffer;\n    }\n\n    cancel() {\n        console.log('cancelling = ', this.controllers);\n        Array.from(this.controllers).forEach(\n            x => x.abort());\n        // this.controllers = new Set();\n    }\n\n    processArray(array, skip=512, skipEnd=true) {\n        if (!skipEnd) {\n            return array;\n        }\n\n        let a = array; //array.slice(0, array.length - (1024));\n        let offset = this.findEnd(a, END);\n        if (offset !== -1) {\n            let x = a.slice(0, offset);\n            return x;\n        }\n        return array.slice(0, array.length - (1024));;\n    }\n\n    mergeArrays(arrays, skip=512, skipEnd=true) {\n        let size = 0;\n        for (let i in arrays) {\n            size += arrays[i].length;\n        }\n\n        let array = new Uint8Array(size - skip);\n        let count = 0;\n        for (let i in arrays) {\n            if (count === 0) {\n                array.set(arrays[i].subarray(skip), count);\n                count += arrays[i].length - skip;\n            } else {\n                array.set(arrays[i], count);\n                count += arrays[i].length;\n            }\n        }\n\n        if (!skipEnd) {\n            return array;\n        }\n\n        let a = array; //array.slice(0, array.length - (1024));\n        let offset = this.findEnd(a, END);\n        if (offset !== -1) {\n            let x = a.slice(0, offset);\n            return x;\n        }\n        return array.slice(0, array.length - (1024));;\n    }\n\n    findEnd(array, ending) {\n        let index = array.length - 1600;\n        let iter = array.slice(index).values();\n        let foundIndex = 0;\n        for (let i=index; i < array.length; i++) {\n            let value = iter.next().value;\n            if (value === ending[foundIndex]) {\n                if (foundIndex == 0) {\n                    index = i;\n                }\n                foundIndex++;\n                if (foundIndex === ending.length - 1) {\n                    return index;\n                }\n            } else {\n                foundIndex=0;\n                index=i;\n            }\n\n        }\n        return -1;\n    }\n\n    getAudioBuffer(hash, context) {\n        this.restart();\n        return new Promise((resolve, reject) => {\n            this.getSound(hash)\n                .then(blob => \n                      context.decodeAudioData(bufferToArrayBuffer(blob), function(buffer) {\n                          resolve(buffer);\n                      }, function (y, d, e) { if (e) { reject(e); }}))\n                .catch(err => {\n                    reject(err);\n                });\n        });\n    }\n}\n\nconst ipfs = new IpfsClient();\n\nexport default ipfs;\n","import React, {useState, useEffect, useCallback} from 'react';\nimport {addToPinata} from 'utils/addToPinata.js';\nimport Tone from 'tone';\nimport ipfs from 'decentralized/Ipfs.js';\nimport Sample from 'repos/Sample.js';\nimport {decodeMP3} from 'mp3/mp3.js';\n\nexport const useAudioDrop = () => {\n    let [samples, setSamples] = useState([]);\n    let [isUploading, setIsUploading] = useState(false);\n    const onDrop = useCallback(async (ev) => {\n        setIsUploading(true);\n        ev.stopPropagation();\n        ev.preventDefault();\n        ev.dataTransfer.effectAllowed = \"none\";\n        ev.dataTransfer.dropEffect = \"none\";\n        \n        if (ev.dataTransfer.items) {\n            let promises = [];\n            let len = ev.dataTransfer.items.length;\n            for (var i = 0; i < len; i++) {\n                // If dropped items aren't files, reject them\n                if (ev.dataTransfer.items[i].kind === 'file') {\n                    promises.push(uploadFile(\n                        ev.dataTransfer.items[i].getAsFile()));\n                }\n            }\n            let samples = await Promise.all(promises);\n            setSamples(samples.filter(x => x.audioBuffer));\n        }\n        setIsUploading(false);\n    }, [setSamples]);\n\n    return {onDrop, samples, isUploading};\n};\n\nexport const uploadFile = (file) => {\n    return new Promise((resolve) => {\n        let reader = new FileReader();\n        if (!file.name.includes('.wav') && !file.name.includes('.flac') && !file.name.includes('.mp3')) {\n            window.alert('Only accepts .wav, .mp3, & .flac files for now');\n            return;\n        }\n        reader.readAsArrayBuffer(file)\n        reader.onloadend = async () => {\n            let raw = reader.result;\n            let buffer = new Buffer(raw);\n            \n            let savedRaw = Int8Array.from(raw);\n            let ipfsHash = await addToPinata(buffer); //ipfs.addArrayBuffer(raw);\n            let audioBuffer;\n            let sample = new Sample(ipfsHash);\n            if (file.name.includes('mp3')) {\n                audioBuffer = await decodeMP3(new Int8Array(raw));\n                sample.mp3Data = new Buffer(raw);\n                \n            } else {\n                audioBuffer = await Tone.Master.context.decodeAudioData(raw);\n            }\n            \n            sample.audioBuffer = audioBuffer;\n            sample.name = file.name;\n            resolve(sample);\n        }\n    });\n};\n\n","export const addToPinata = (buffer, isBlob) => {\n    return new Promise((resolve) => {\n        var data = new FormData();\n        if (isBlob) {\n            data.append(\"file\",buffer);\n        } else {\n            data.append(\"file\",new Blob([buffer]));\n        }\n        var headers= { \n                pinata_api_key: '66a8464d59553776562c',\n                pinata_secret_api_key: '96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109',\n            };\n        \n        let url= 'https://api.pinata.cloud/pinning/pinFileToIPFS';\n        fetch(url, {\n            method: 'POST',\n            headers,\n            body: data\n        }).then(async (resp) => {\n            let json = await resp.json();\n            resolve(json.IpfsHash);\n        });\n    });\n};\n\n","import Web3 from 'web3';\nimport {bytes32ToNote} from './chords/NoteConstants.js';\nimport {noteToBytes32} from './chords/NoteConstants.js';\nimport {asciiToNote} from './chords/NoteConstants.js';\nimport {web3} from './web3.js';\n\nconst bs58 = require('bs58');\nconst metamaskInstalled = typeof window.web3 !== 'undefined';\nconst nullBytes32 = web3.utils.padLeft('0x0', 64);\n\nclass EthereumDataType {\n    constructor(toConversion, fromConversion) {\n        this.toConversion = toConversion;\n        this.fromConversion = fromConversion;\n    }\n\n    convertTo(jsValue) {\n        return this.toConversion(jsValue);\n    }\n\n    convertFrom(ethereumValue) {\n        if (ethereumValue === nullBytes32) {\n            return null;\n        }\n        return this.fromConversion(ethereumValue);\n    }\n}\n\nfunction ipfsHashToBytes32(ipfs_hash) {\n    var h = bs58.decode(ipfs_hash).toString('hex').replace(/^1220/, '');\n    if (h.length != 64) {\n        return null;\n    }\n    return '0x' + h;\n}\n\nfunction bytes32ToIPFSHash(hash_hex) {\n    var buf = new Buffer(hash_hex.replace(/^0x/, '1220'), 'hex')\n    return bs58.encode(buf)\n}\n\nfunction trimEmpty(str) {\n    let trimmed = \"\";\n    for (let i in str) {\n        if (str.charCodeAt(i) == 0) {\n            continue;\n        }\n        trimmed += str.charAt(i);\n    }\n    return trimmed;\n}\n\nexport const IPFS_HASH = new EthereumDataType(\n    (x) => ipfsHashToBytes32(x),\n    (x) => bytes32ToIPFSHash(x));\n\nexport const INT_8 = new EthereumDataType(\n    (x) => web3.utils.padLeft(web3.utils.numberToHex(x), 64),\n    (x) => web3.utils.hexToNumber(x));\n\nexport const INT_16 = new EthereumDataType(\n    (x) => web3.utils.padLeft(web3.utils.numberToHex(x), 64),\n    (x) => trimEmpty(web3.utils.toAscii(x)));\n\nexport const INT_32 = new EthereumDataType(\n    (x) => web3.utils.padLeft(web3.utils.numberToHex(x), 64),\n    (x) => web3.utils.hexToNumber(x));\n\nexport const UINT_256 = new EthereumDataType(\n    (x) => web3.utils.padLeft(web3.utils.numberToHex(parseInt(x)), 64),\n    (x) => web3.utils.hexToNumber(x));\n\nexport const BYTES_32 = new EthereumDataType(\n    (x) => web3.utils.padRight(web3.utils.fromAscii(x), 64),\n    (x) => trimEmpty(web3.utils.toAscii(x)));\n\nexport const BYTES_32_LEFT = new EthereumDataType(\n    (x) => web3.utils.padLeft(web3.utils.fromAscii(x), 64),\n    (x) => trimEmpty(web3.utils.toAscii(x)));\n\n\nexport const BYTES_32_ENCRYPTED = new EthereumDataType(\n    (x) => web3.utils.padLeft(web3.utils.toHex(x), 64),\n    (x) => stripLeadingZeroes(x.slice(2)));\n\nfunction stripLeadingZeroes(str) {\n    for (let i=0; i < str.length; i++) {\n        if (str.slice(i, i+1) !== '0') {\n            return str.slice(i);\n        }\n    }\n \n    return str;\n}\n\n\n\n\nexport const RIGHT_PADDED_BYTES_32 = new EthereumDataType(\n    (x) => web3.utils.padRight(web3.utils.toHex(x), 64),\n    (x) => trimEmpty(web3.utils.toAscii(x)));\n\nexport const NOTES_BYTES_32 = new EthereumDataType(\n    (x) => web3.utils.padRight(x, 64),\n    (x) => trimEmpty(web3.utils.toAscii(x)).split('').map(x => asciiToNote[x]));\n\nexport const NOTE_BYTES_32 = new EthereumDataType(\n    (x) => web3.utils.padRight(x, 64),\n    (x) => asciiToNote[trimEmpty(web3.utils.toAscii(x))]);\n\nexport const ADDRESS = new EthereumDataType(\n    (x) => web3.utils.padLeft(x, 64),\n    (x) => getAddress(x));\n\nexport const STRING = new EthereumDataType(\n    (x) => web3.utils.padLeft(x[0], 64),\n    (x) => trimEmpty(web3.utils.toAscii(x)));\n\nexport const BYTES_32_ARRAY = (len) =>\n    new EthereumDataType(\n        (x) => x, // no need to convert to\n        (data) => data.slice(2, 2 + len * 64));\n\nfunction getAddress(x) {\n    return '0x' + x.slice(x.length - 40);\n}\n\nexport const BOOLEAN = new EthereumDataType(\n    (x) => web3.utils.padLeft(web3.utils.numberToHex(parseInt(x)), 64),\n    (y) => {\n        try {\n            let x = web3.utils.hexToNumber(y);\n            if (x === 1) {\n                return true;\n            } else {\n                return false;\n            }\n        } catch (e) {\n            return y;\n        }\n    },\n    false);\n\n"],"sourceRoot":""}