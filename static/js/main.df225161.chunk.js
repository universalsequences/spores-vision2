(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1000:function(t,e,r){},1002:function(t,e){},1003:function(t,e){},1028:function(t,e,r){},1099:function(t,e){},1148:function(t,e){},1149:function(t,e){},1165:function(t,e){},1190:function(t,e){},1371:function(t,e,r){},1372:function(t,e,r){},1373:function(t,e,r){},1374:function(t,e,r){},1375:function(t,e,r){},1376:function(t,e,r){},1377:function(t,e,r){},1378:function(t,e,r){},1379:function(t,e,r){},1380:function(t,e,r){},1381:function(t,e,r){},1382:function(t,e,r){},1383:function(t,e,r){},1386:function(t,e,r){},1387:function(t,e,r){},1397:function(t,e,r){},1398:function(t,e,r){},1406:function(t,e,r){},1534:function(t,e,r){},1535:function(t,e,r){},1536:function(t,e,r){},1537:function(t,e,r){},1538:function(t,e,r){},1539:function(t,e,r){},1540:function(t,e,r){},1541:function(t,e,r){},1542:function(t,e,r){},1543:function(t,e,r){},1544:function(t,e,r){},1545:function(t,e,r){},1546:function(t,e,r){},1566:function(t,e,r){},1567:function(t,e,r){},1568:function(t,e,r){},1569:function(t,e,r){},1570:function(t,e,r){},1571:function(t,e,r){},1572:function(t,e,r){},1573:function(t,e,r){},1574:function(t,e,r){},1575:function(t,e,r){},1576:function(t,e,r){},1577:function(t,e,r){},1578:function(t,e,r){},1579:function(t,e,r){},1580:function(t,e,r){},1603:function(t,e,r){},1604:function(t,e,r){},1605:function(t,e,r){},1607:function(t,e,r){"use strict";r.r(e);var n=r(1),o=r.n(n),a=r(148),i=r.n(a),c=(r(695),r(4)),s=r(12),u=(r(699),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(n.useState)(!1),r=Object(c.a)(e,2),a=r[0],i=r[1],s=Object(n.useState)(""),u=Object(c.a)(s,2),l=u[0],f=u[1],h=Object(n.useCallback)(function(){fetch("https://zequencer.io/spores-waitlist",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({email:l})}),i(!0)},[i,l]);return o.a.createElement("div",{className:"waitlist flex h-screen  "},o.a.createElement("div",{className:"m-auto inner-waitlist"},o.a.createElement("div",{className:"logo-container mx-auto mb-8"},o.a.createElement("img",{className:"m-auto ",src:"/LOGO-SMALL.svg"})),o.a.createElement("div",{className:"info text-lg"},"What's your email?"),o.a.createElement("div",{className:"info-next text-base mx"},"We'll send you an invite when the time is right."),o.a.createElement("input",{className:"w-full email-input mt-6 outline-0 text-base text-white bg-transparent",value:l,placeholder:"Enter your email",onChange:function(t){return f(t.target.value)}}),a&&o.a.createElement("div",{className:"submitted-text"},"You've been added to the waitlist!",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))),o.a.createElement("div",{onClick:h,className:a||""===l?"ok-btn pushable":"ok-btn pushable show"},"OK ",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"})))))})),l=(r(700),"\n\nuniform sampler2D video;\nuniform float width;\nuniform float height;\nuniform float gateStrength;\nuniform float playRate;\nuniform float isRolling;\nuniform float ticks;\nuniform float rollRate;\nuniform float blurring;\nuniform float filterSliderValue;\nuniform float spaceEffectLevels;\nuniform float spaceSliderValue;\n\nvec4 blur(float Size) {\nfloat Pi = 6.28318530718; // Pi*2\n    \n    // GAUSSIAN BLUR SETTINGS {{{\n    float Directions = 16.0; // BLUR DIRECTIONS (Default 16.0 - More is better but slower)\n    float Quality = 4.0; // BLUR QUALITY (Default 4.0 - More is better but slower)\n    //float Size = 8.0; // BLUR SIZE (Radius)\n    // GAUSSIAN BLUR SETTINGS }}}\n   \n    vec2 Radius = Size/vec2(width, height); //iResolution.xy;\n    \n    // Normalized pixel coordinates (from 0 to 1)\n    vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n    // Pixel colour\n    vec4 Color = texture2D(video, uv);\n    \n    // Blur calculations\n    for( float d=0.0; d<Pi; d+=Pi/Directions)\n    {\n\t\tfor(float i=1.0/Quality; i<=1.0; i+=1.0/Quality)\n        {\n\t\t\tColor += texture2D(video, uv+vec2(cos(d),sin(d))*Radius*i);\t\t\n        }\n    }\n    \n    // Output to screen\n    Color /= Quality * Directions - 15.0;\n\n    return Color*0.6;\n}\nvec4 blur9(sampler2D image, vec2 direction) {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec2 resolution =  vec2(width, height); \n  vec4 color = vec4(0.0);\n  vec2 off1 = vec2(1.411764705882353) * direction;\n  vec2 off2 = vec2(3.2941176470588234) * direction;\n  vec2 off3 = vec2(5.176470588235294) * direction;\n  color += texture2D(image, uv) * 0.1964825501511404;\n  color += texture2D(image, uv + (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv - (off1 / resolution)) * 0.2969069646728344;\n  color += texture2D(image, uv + (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv - (off2 / resolution)) * 0.09447039785044732;\n  color += texture2D(image, uv + (off3 / resolution)) * 0.010381362401148057;\n  color += texture2D(image, uv - (off3 / resolution)) * 0.010381362401148057;\n  return color;\n}\n\n// A single iteration of Bob Jenkins' One-At-A-Time hashing algorithm.\nuint hash( uint x ) {\n    x += ( x << 10u );\n    x ^= ( x >>  6u );\n    x += ( x <<  3u );\n    x ^= ( x >> 11u );\n    x += ( x << 15u );\n    return x;\n}\n\n// Compound versions of the hashing algorithm I whipped together.\nuint hash( uvec2 v ) { return hash( v.x ^ hash(v.y)                         ); }\nuint hash( uvec3 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z)             ); }\nuint hash( uvec4 v ) { return hash( v.x ^ hash(v.y) ^ hash(v.z) ^ hash(v.w) ); }\n\n\n// Construct a float with half-open range [0:1] using low 23 bits.\n// All zeroes yields 0.0, all ones yields the next smallest representable value below 1.0.\nfloat floatConstruct( uint m ) {\n    const uint ieeeMantissa = 0x007FFFFFu; // binary32 mantissa bitmask\n    const uint ieeeOne      = 0x3F800000u; // 1.0 in IEEE binary32\n\n    m &= ieeeMantissa;                     // Keep only mantissa bits (fractional part)\n    m |= ieeeOne;                          // Add fractional part to 1.0\n\n    float  f = uintBitsToFloat( m );       // Range [1:2]\n    return f - 1.0;                        // Range [0:1]\n}\n\n\n\n// Pseudo-random value in half-open range [0:1].\nfloat rand( float x ) { return floatConstruct(hash(floatBitsToUint(x))); }\nfloat rand( vec2  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec3  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\nfloat rand( vec4  v ) { return floatConstruct(hash(floatBitsToUint(v))); }\n\n\n".concat("\n\n\nvec4 glitch()\t{\n\nbool autoScan  = true;\nfloat xScanline=rollRate/64.0;\nfloat xScanline2=rollRate/32.0;\nfloat xScanlineSize=0.5;\nfloat xScanlineSize2=0.25;\nfloat yScanline = spaceSliderValue;\nfloat yScanlineAmount = spaceSliderValue + 0.05;\nfloat grainLevel = spaceSliderValue + 0.1;\nbool scanFollow = true;\nfloat analogDistort = 1.0;\nfloat bleedAmount = 1.0;\nfloat bleedDistort = 0.5;\nfloat bleedRange = 1.0;\nvec4 colorBleedL = vec4(0.8-spaceEffectLevels, 0.0, 0.4+spaceEffectLevels, 1.0);\nvec4 colorBleedC = vec4(0.0, 0.5, 0.9, 1.0);\nvec4 colorBleedR = vec4(0.8-spaceSliderValue, 0.0, 0.4+spaceEffectLevels, 1.0);\n\n\nfloat TIME = ticks / 10.0;\n   vec2 RENDERSIZE = vec2(width, height);\n   float tau = 6.283185307179586476925286766559;\n   vec2 isf_FragNormCoord = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n\tfloat\tactualXLine = (!autoScan) ? xScanline : mod(xScanline + ((1.0+sin(0.34*TIME))/2.0 + (1.0+sin(TIME))/3.0 + (1.0+cos(2.1*TIME))/3.0 + (1.0+cos(0.027*TIME))/2.0)/3.5,1.0);\n\tfloat\tactualXLineWidth = (!autoScan) ? xScanlineSize : 2.0 * xScanlineSize * ((1.0+sin(1.2*TIME))/2.0 + (1.0+cos(3.91*TIME))/3.0 + (1.0+cos(0.014*TIME))/2.0)/3.5;\n\tvec2\tloc = isf_FragNormCoord;\n\tvec4\tvhs = texture2D(video, loc);\n\tfloat\tdx = 1.0+actualXLineWidth/25.0-abs(distance(loc.y, actualXLine));\n\tfloat\tdx2 = 1.0+xScanlineSize2/10.0-abs(distance(loc.y, xScanline2));\n\tfloat\tdy = (1.0-abs(distance(loc.y, yScanline)));\n\tif (autoScan)\n\t\tdy = (1.0-abs(distance(loc.y, mod(yScanline+TIME,1.0))));\n\t\n\tdy = (dy > 0.5) ? 2.0 * dy : 2.0 * (1.0 - dy);\n\t\n\tfloat\trX = (scanFollow) ? rand(vec3(dy,actualXLine,analogDistort)) : rand(vec3(dy,bleedAmount,analogDistort));\n\tfloat\txTime = (actualXLine > 0.5) ? 2.0 * actualXLine : 2.0 * (1.0 - actualXLine);\n\t\n\tloc.x += yScanlineAmount * dy * 0.025 + analogDistort * rX/(RENDERSIZE.x/2.0);\n\t\n\tif(dx2 > 1.0 - xScanlineSize2 / 10.0)\t{\n\t\tfloat\trX2 = (dy * rand(vec3(dy,dx2,dx)) + dx2) / 4.0;\n\t\tfloat\tdistortAmount = analogDistort * (sin(rX * tau / dx2) + cos(rX * tau * 0.78 / dx2)) / 10.0;\n\t\t//loc.y = xScanline2;\n\t\tloc.x += (1.0 + distortAmount * sin(tau * (loc.x) / rX2 ) - 1.0) / 15.0;\n\t}\n\tif(dx > 1.0 - actualXLineWidth / 25.0)\n\t\tloc.y = actualXLine;\n\n\tloc.x = mod(loc.x,1.0);\n\tloc.y = mod(loc.y,1.0);\n\t\n\tvec4\tc = texture2D(video, loc);\n\tfloat\tx = (loc.x*320.0)/320.0;\n\tfloat\ty = (loc.y*240.0)/240.0;\n\tfloat\tbleed = 0.0;\n\t\n\tif (scanFollow)\n\t\tc -= rand(vec3(x, y, xTime)) * xTime / (5.0-grainLevel);\n\telse\n\t\tc -= rand(vec3(x, y, bleedAmount)) * (bleedAmount/20.0) / (5.0-grainLevel);\n\t\n\tif (bleedAmount > 0.0)\t{\n\t\ttexture2D(video, loc + vec2(0.01, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.02, 0)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.01, 0.01)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(-0.02, 0.02)).r;\n\t\tbleed += texture2D(video, loc + bleedRange * vec2(0.0, -0.03)).r;\n\t\tbleed /= 6.0;\n\t\tbleed *= bleedAmount;\n\t}\n\n\tif (bleed > 0.1){\n\t\tfloat\tbleedFreq = 1.0;\n\t\tfloat\tbleedX = 0.0;\n\t\tif (autoScan)\n\t\t\tbleedX = x + bleedDistort * (yScanlineAmount + (1.5 + cos(TIME / 13.0 + tau*(bleedDistort+(1.0-loc.y))))/2.0) * sin((TIME / 9.0 + bleedDistort) * tau + loc.y * loc.y * tau * bleedFreq) / 8.0;\n\t\telse\n\t\t\tbleedX = x + (yScanlineAmount + (1.0 + sin(tau*(bleedDistort+loc.y)))/2.0) * sin(bleedDistort * tau + loc.y * loc.y * tau * bleedFreq) / 10.0;\n\t\tvec4\tcolorBleed = (bleedX < 0.5) ? mix(colorBleedL, colorBleedC, 2.0 * bleedX) : mix(colorBleedR, colorBleedC, 2.0 - 2.0 * bleedX);\n\t\tif (scanFollow)\n\t\t\tc += bleed * max(xScanlineSize,xTime) * colorBleed;\n\t\telse\n\t\t\tc += bleed * colorBleed;\n\t}\n   return c;\n}\n\n","\n\n").concat("\nvec4 filterColor(vec4 color) {\n   vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n   float val = filterSliderValue;\n   vec4 sampled = texture2D(video, uv - vec2(0.1*pow(val, 2.0), 0.1*filterSliderValue));\n   sampled.g = 0.0;\n   sampled.b = 0.0;\n   float ival = 1.0-val;\n   vec4 lp = mix(color, vec4(color.x*ival, color.y*pow(ival, 3.0), color.z*pow(ival+0.1, 0.5), 1.0), smoothstep(0.5, 1.0, val));\n   return mix(mix(color, sampled, pow(val, 0.03)), lp, pow(val, 0.3));\n}\n\n","\n\n\nvoid main() {\n  vec2 uv = gl_FragCoord.xy / vec2(width*2.0, height*2.0);\n  vec4 blurred = blurring > 0.0 ? blur9(video, vec2(blurring*3.0, blurring*1.0)) : vec4(0.0);\n\n/*\n  vec4 blurred = mix(\n    blur(blurring*4.0), \n    \n*/\n  vec4 sampled = texture2D(video, uv);\n  float _gate = (1.0-gateStrength);\n\n  vec4 glitched = spaceSliderValue > 0.0 || isRolling == 1.0 ? glitch() : vec4(0.0);\n  vec3 gammaColor = mix(\n    mix(\n      sampled.xyz, \n      glitched.xyz, \n      isRolling), \n   blurred.xyz, pow(blurring, 0.3));\n        \n  vec3 color = pow(gammaColor, vec3(2.0));\n  // grayscale conversion\n  float gray = dot(color, vec3(0.2126, 0.7152, 0.0722));\n  // regamma\n  float gammaGray = sqrt(gray);\n  vec4 greyImage = vec4(gammaGray, gammaGray, gammaGray, 1.0);\n  vec4 _color = \n    _gate *\n    mix(\n      greyImage, \n      mix(\n        mix(\n          sampled, \n          glitched, \n          isRolling + spaceSliderValue*(0.3+spaceEffectLevels)), \n        blurred, \n        pow(blurring, 0.3)\n      ), \n      pow(playRate, 4.0));\n  _color.w = 1.0;\n  gl_FragColor = filterSliderValue > 0.0 ? filterColor(_color) : _color;\n}\n")),f=r(26),h=function(t){var e=Object(n.useState)(50),r=Object(c.a)(e,2),o=r[0],a=r[1],i=Object(n.useState)(50),s=Object(c.a)(i,2),u=s[0],l=s[1];Object(n.useEffect)(function(){return t.current.addEventListener("loadeddata",f),function(){return t.current.removeEventListener("loadeddata",f)}},[a,l]);var f=Object(n.useCallback)(function(){var e=t.current.offsetHeight;a(e);var r=t.current.offsetWidth;l(r)},[a,l]);return{width:u,height:o}},d=r(22),p=r(39),v=function(t){var e=t.canvasRef,r=t.ref,o=t.resolution,a=void 0===o?2:o,i=t.videoRef,c=t.width,s=t.height,u=t.vertexShader,l=t.fragmentShader,f=t.uniforms,h=Object(n.useRef)(),v=Object(n.useRef)(),m=Object(n.useRef)(),y=Object(n.useRef)();Object(n.useRef)(0);Object(n.useEffect)(function(){g(),b()},[]);var g=function(){h.current=new p.n,h.current.setPixelRatio(2),h.current.setSize(c/a,s/a),e&&(e.current=h.current.domElement),r.current.appendChild(h.current.domElement),v.current=new p.g,m.current=new p.a;var t=new p.f(2,2);y.current=Object(d.a)({video:{value:new p.m(i.current)},width:{value:c/2},height:{value:s/2}},f.current);var n=new p.h({uniforms:y.current,vertexShader:u,fragmentShader:l}),o=new p.d(t,n);v.current.add(o)};function b(){requestAnimationFrame(b),function(){if(!h.current.domElement)return;h.current.render(v.current,m.current)}()}Object(n.useEffect)(function(){y.current.width.value=c,y.current.height.value=s,h.current.setSize(c/a,s/a)},[c,s,a])},m=function(t){var e=t.canvasRef,r=t.videoRef,a=t.uniforms,i=t.started,c=Object(n.useRef)(),s=h(r),u=s.width,d=s.height;v({canvasRef:e,uniforms:a,resolution:1,ref:c,videoRef:r,fragmentShader:l,vertexShader:"\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(\n    position, \n    1.0 );\n}\n",width:u,height:d});var p="video absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full";return f.isMobile&&!i&&(p+=" hide"),o.a.createElement("div",{style:{height:d,width:u},ref:c,className:p})},y=r(46),g=r.n(y),b=(r(702),function(t){var e=Object(n.useCallback)(function(e){e.stopPropagation(),e.target.parentNode.blur(),e.target.blur(),e.currentTarget.blur(),t.resume&&"suspended"===g.a.Master.context._context.state?g.a.Master.context._context.resume().then(function(e){return t.play()}):t.play()},[t.isPlaying]);return o.a.createElement("div",{style:t.style||{},onClick:e,onMouseDown:function(t){return t.stopPropagation()},onTouchStart:function(t){return t.stopPropagation()},className:"play-btn-wrapper"},o.a.createElement("div",{style:{borderColor:t.isPlaying?t.color:"transparent transparent transparent "+t.color},className:t.isPlaying?"play-btn playing":"play-btn "}))}),w=(r(703),function(t){var e=t.color,r=t.playerRef,a=Object(n.useRef)(),i=Object(n.useRef)(),s=Object(n.useState)(),u=Object(c.a)(s,2),l=(u[0],u[1]),f=Object(n.useState)(0),h=Object(c.a)(f,2),d=h[0],p=h[1],v=Object(n.useState)(0),m=Object(c.a)(v,2),y=(m[0],m[1]),g=Object(n.useState)(!1),b=Object(c.a)(g,2),w=b[0],x=b[1],E=Object(n.useState)(!1),O=Object(c.a)(E,2),j=O[0],L=O[1],k=(Object(n.useRef)(0),Object(n.useState)(void 0)),S=Object(c.a)(k,2),N=S[0],I=S[1];Object(n.useEffect)(function(){return window.addEventListener("mouseup",T),window.addEventListener("mousemove",C),window.addEventListener("touchmove",C),function(){window.removeEventListener("mouseup",T),window.removeEventListener("mousemove",C),window.removeEventListener("touchmove",C)}},[j,I,L]);var T=Object(n.useCallback)(function(){L(!1)},[L]);Object(n.useEffect)(function(){return window.addEventListener("message",_,!1),function(t){return window.removeEventListener("message",_,!1)}},[p,y,x,l]);var _=Object(n.useCallback)(function(t){if("waveform-data"===t.data.type&&l(t.data.body),"song-player-progress"===t.data.type){var e=parseFloat(t.data.body);p(e)}if("jacker-playback-status"===t.data.type){var r=parseInt(t.data.body);y(r),r&&x(!0)}},[w,p,y,x,l]),C=(Object(n.useCallback)(function(){r.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")},[]),Object(n.useCallback)(function(t){if(j){t.touches&&(t=t.touches[0]);var e=a.current.getBoundingClientRect(),n=(t.clientX-e.left)/e.width*100;n=Math.max(0,Math.min(100,n)),I(n),r.current.contentWindow.postMessage({type:"jacker-seek",body:n},"*")}},[j,I]));if(!w)return"";var A={borderColor:e};return d=j&&N?N:d,o.a.createElement("div",{onMouseDown:function(t){L(!0),C(t)},onTouchStart:function(t){L(!0),C(t)},ref:a,style:A,className:"relative h-1.5 rounded-lg w-full playbar"},o.a.createElement("div",{style:{width:100-d+"%",left:d+"%"},className:"w-full h-full rounded-lg absolute playbar-remaining"}),o.a.createElement("div",{ref:i,onMouseDown:function(t){t.stopPropagation(),L(!0)},onTouchStart:function(t){t.stopPropagation(),L(!0)},style:{left:d+"%"},className:"rounded-xl absolute z-50 w-3 h-3 -top-0.5 bg-white hover:bg-red-500"}))});function x(t){var e=~~(t/3600),r=~~(t%3600/60),n=~~t%60,o="";return e>0&&(o+=e+":"+(r<10?"0":"")),o+=r+":"+(n<10?"0":""),o+=""+n}var E=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.videoRef,r=t.playerRef,a=t.started,i=h(e),s=i.width,u=i.height,l=Object(n.useState)(0),d=Object(c.a)(l,2),p=d[0],v=d[1];Object(n.useEffect)(function(){return window.addEventListener("message",m),function(){return window.removeEventListener("message",m)}},[v]);var m=Object(n.useCallback)(function(t){if("song-player-progress"===t.data.type){var e=parseFloat(t.data.body);v(e/100*232)}},[v]);return o.a.createElement("div",{className:"z-50 absolute top-1/2  md:h-full md:w-4/6 md:transform md:translate-y-1/3 w-full",style:f.isMobile?{top:u}:{width:s}},o.a.createElement(w,{playerRef:r,color:"white"}),a&&o.a.createElement("div",{className:"absolute md:left-0 left-4 top-3 text-xs"},x(p)),a&&o.a.createElement("div",{className:"absolute md:right-0 right-4 top-3 text-xs"},"-",x(Math.abs(p-232))))}),O={"space-slider-value":"spaceSliderValue","filter-slider-value":"filterSliderValue","juice-slider-value":"juiceSliderValue","space-effect-levels":"spaceEffectLevels","gate-strength":"gateStrength","song-bpm":"songBPM","playback-bpm":"playbackBPM","is-rolling":"isRolling","rolling-rate":"rollRate"},j=function(t){var e=t.ref,r=t.playerRef,o=Object(n.useRef)(),a=Object(n.useRef)(0),i=Object(n.useRef)(!1),s=Object(n.useRef)(0),u=(Object(n.useRef)(0),Object(n.useRef)(0),Object(n.useRef)(),Object(n.useRef)(0),Object(n.useRef)(void 0)),l=Object(n.useRef)(void 0),f=function(){return l.current&&(new Date).getTime()-l.current<=3e3},h=function(t){l.current=(new Date).getTime()},d=Object(n.useRef)(.1),p=Object(n.useRef)({blurring:{value:0},playRate:{value:1},isRolling:{value:0},rollRate:{value:32},filterSliderValue:{value:0},spaceSliderValue:{value:0},spaceEffectLevels:{value:0},ticks:{value:0},gateStrength:{value:0}}),v=Object(n.useState)(!1),m=Object(c.a)(v,2),y=m[0],g=m[1],b=Object(n.useState)(!1),w=Object(c.a)(b,2),x=w[0],E=w[1];Object(n.useEffect)(function(){window.addEventListener("message",S,!1)},[g,E]),Object(n.useEffect)(function(){setInterval(function(){j()},25)},[]);var j=function(){if(p.current.blurring.value>0){var t=p.current.blurring.value;((t=Math.max(0,Math.min(2,t+d.current)))>=2||t<=0)&&(d.current<0?d.current=.1:d.current=-5e-5),p.current.blurring.value=t,d.current>0?d.current*=1.8:(d.current*=1.6,d.current=Math.max(-.15,d.current))}},L=Object(n.useCallback)(function(){var t=e.current.playbackRate,n=Math.min(232,e.current.currentTime+10/t),o=100*n/232;r.current.contentWindow.postMessage({type:"jacker-seek",body:o},"*"),r.current.currentTime=n},[]),k=Object(n.useCallback)(function(){var t=e.current.playbackRate,n=Math.max(0,e.current.currentTime-10/t),o=100*n/232;r.current.contentWindow.postMessage({type:"jacker-seek",body:o},"*"),r.current.currentTime=n},[]),S=Object(n.useCallback)(function(t){if(!function(t,e){var r=O[t.type];return!(!r||!e.current[r])&&(e.current[r].value=parseFloat(t.body),!0)}(t.data,p)){if("jacker-playback-status"===t.data.type){E(!0);var r=parseInt(t.data.body);r?e.current.play():e.current.pause(),g(r)}if("song-player-progress"===t.data.type){p.current.ticks.value++;var n=232*(parseFloat(t.data.body)/100),c=n-e.current.currentTime,l=Math.abs(c)>.2&&!f();n<=a.current||a.current;if(e.current.currentTime-s.current<.1&&(s.current=e.current.currentTime),Math.abs(c)>.5&&(l=!0),l&&h(),l||n<=a.current||n>=a.current+1){e.current.fastSeek&&p.current.isRolling.value&&32===p.current.rollRate.value?e.current.fastSeek(n):e.current.currentTime=n,i.current=!1}a.current=n,void 0!==u.current&&(u.current++,u.current>1&&(u.current=void 0))}if("song-bpm"===t.data.type){var v=t.data.body;o.current=parseFloat(v)}if("playback-bpm"===t.data.type){var m=t.data.body;if(o.current){0==p.current.blurring.value&&(p.current.blurring.value=.1,d.current=.1),d.current*=.92;var y=m/o.current;e.current.currentTime;p.current.playRate.value=y,e.current.playbackRate=y,f()||h()}}}},[g,E]);return{uniforms:p,isPlaying:y,started:x,rewind:k,fastForward:L}},L=r(173),k=function(t){return{type:504,payload:t}},S=function(t){return{type:506,payload:t}},N=function(t){return{type:514,payload:t}},I=function(t){return{type:515,payload:t}},T=function(t){return{type:516,payload:t}},_=(r(704),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){for(var e=t.percentage,r=t.radius,n=t.className,a=void 0===n?"":n,i=2*(r-12)*Math.PI,c=(100-e)/100*i,s={},u=[],l=0;l<16;l++)u.push(e/32/100*i),u.push(e/32/100*i);return u.pop(),u.push(c),o.a.createElement("svg",{className:"circular-progress "+a,width:2*r+"px",height:2*r+"px"},o.a.createElement("defs",null,o.a.createElement("linearGradient",{id:"linear",x1:"0%",y1:"0%",x2:"100%",y2:"0%"},o.a.createElement("stop",{offset:"0%","stop-color":"#afe5ff"}),o.a.createElement("stop",{offset:"50%","stop-color":"#7373f9"}),o.a.createElement("stop",{offset:"100%","stop-color":"#3d62ff"}))),o.a.createElement("circle",{className:"outter-circle",strokeWidth:6,style:s,cx:r+6,cy:r+6,r:r-12}),e>0&&o.a.createElement("circle",{className:"inner-circle",strokeDashoffset:r+1.5,strokeWidth:6,strokeDasharray:u.join(","),stroke:"url(#linear)",style:s,cx:r+6,cy:r+6,r:r-12}))}));function C(t,e){var r=Object(n.useRef)();Object(n.useEffect)(function(){r.current=t},[t]),Object(n.useEffect)(function(){if(null!==e){var t=setInterval(function(){r.current()},e);return function(){return clearInterval(t)}}},[e])}var A=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(n.useState)(0),r=Object(c.a)(e,2),a=r[0],i=r[1];return C(Object(n.useCallback)(function(){i((a+1)%100)},[i,a])),o.a.createElement(_,{className:t.className,percentage:a,radius:t.radius||30})}),P=Object(s.b)(function(t,e){return{songLoading:t.spore.songLoading}},function(t){return{setSongLoading:function(e){return t(T(e))}}})(function(t){var e=t.playerRef,r=t.setSongLoading,a=t.songLoading,i=Object(n.useState)(!1),s=Object(c.a)(i,2),u=s[0],l=s[1],f=Object(n.useState)(!1),h=Object(c.a)(f,2),d=h[0],p=h[1];Object(n.useEffect)(function(){window.addEventListener("message",m)},[l,p]),console.log("simple controls");var v=Object(n.useCallback)(function(){e.current.contentWindow.postMessage({type:"toggle-play",body:!0},"*"),u&&l(!1)},[u,l]),m=Object(n.useCallback)(function(t){if("jacker-status"===t.data.type){var e=parseInt(t.data.body);l(e),p(!0),r(!1)}},[l,p]);return a?o.a.createElement(A,{className:"loading-song",radius:25}):d?o.a.createElement("div",{className:"simple-controls"},o.a.createElement(b,{play:v,isPlaying:u})):void 0});window.RATIO=.3;var G=Object(n.memo)(function(t){var e=t.progress,r=t.waveform,n=t.isWaveformRainbow,a=void 0===n||n,i=t.width,c=void 0===i?330:i;if(!r)return"";for(var s=[],u=0;u<r.length-4;u+=4){var l=Math.pow(r[u],window.RATIO)*(4/window.RATIO),f={height:l,y:25-l/2,r:r[u+1],g:r[u+2],b:r[u+3]};s.push(f)}return e/=100,o.a.createElement("svg",{width:c,height:50,className:a?"song-waveform":"song-waveform  monochrome"},s.map(function(t,r){return o.a.createElement("rect",{className:e>=r/s.length?"elapsed":"",x:r*(c/s.length),y:t.y,width:2,height:t.height,fill:a?"rgb(".concat(t.r,", ").concat(t.g,", ").concat(t.b,")"):"white"})}))}),M=function(t,e){Object(n.useEffect)(function(){return window.addEventListener("message",r,!1),function(){return window.removeEventListener("message",r,!1)}},[t]);var r=Object(n.useCallback)(function(r){r.data.type===t&&e(r.data.body)},[t])},R=r(9),F=r(2),D=r(3),z=r(6),B=r(15),H=r(7),U=r(16),W=r(8),Y=Object(D.a)(function t(e,r){Object(F.a)(this,t),this.event=e,this.topics=r;for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];this.data=o}),J=function(){function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(F.a)(this,t),this.name=e,this.type=r,this.size=64*n}return Object(D.a)(t,[{key:"convertTo",value:function(t){if(void 0!==t&&null!==t)return this.type.convertTo(t)}},{key:"convertFrom",value:function(t){if(void 0!==t&&null!==t)return this.type.convertFrom(t)}}]),t}(),q=new Y("SampleTagged(bytes32,bytes32,uint32)",[new J("ipfsHash",W.j),new J("tag",W.c),new J("guildId",W.h)]),Z=(new Y("SampleStyle(bytes32,bytes32,uint32)",[new J("ipfsHash",W.j),new J("style",W.c),new J("guildId",W.h)]),new Y("SampleYear(bytes32,int16,uint32)",[new J("ipfsHash",W.j),new J("year",W.g),new J("guildId",W.h)]),new Y("SampleCountry(bytes32,bytes32,uint32)",[new J("ipfsHash",W.j),new J("country",W.c),new J("guildId",W.h)]),new Y("SampledYoutube(bytes32,bytes32,uint32)",[new J("ipfsHash",W.j),new J("videoId",W.m),new J("guildId",W.h)]),new Y("SequenceCreated(address,bytes32,string)",[new J("user",W.a),new J("ipfsHash",W.j)],new J("title",W.n)),new Y("SampleCreated(address,bytes32,string,uint32)",[new J("user",W.a),new J("ipfsHash",W.j),new J("guildId",W.h)],new J("title",W.n))),K=(new Y("NewNoteSequence(bytes32,bytes32)",[new J("sampleHash",W.j),new J("noteSequenceHash",W.j)]),new Y("NewDiscogsSample(bytes32,uint256,bytes32,uint32)",[new J("sampleHash",W.j),new J("coverArtHash",W.j),new J("guildId",W.h)],new J("discogsId",W.o)),new Y("NewNotesAggregation(bytes32,bytes32,bytes32,uint32,uint32,bytes32)",[new J("sampleHash",W.j),new J("noteA",W.l),new J("noteB",W.l)],new J("startTime",W.h),new J("endTime",W.h),new J("remainingNotes",W.k)),new Y("SampleFavorited(address,bytes32)",[new J("user",W.a),new J("sampleHash",W.j)]),new Y("SampleUnfavorited(address,bytes32)",[new J("user",W.a),new J("sampleHash",W.j)]),new Y("SequenceEdited(address,bytes32,bytes32,bytes32,string)",[new J("user",W.a),new J("previousSequence",W.j),new J("newSequence",W.j)],new J("diff",W.j),new J("title",W.n)),new Y("SequenceEdited(address,bytes32,bytes32,string,uint32)",[new J("user",W.a),new J("previousSequence",W.j),new J("newSequence",W.j)],new J("title",W.n),new J("bpm",W.h)),new Y("PresetTagged(address,bytes32,bytes32,uint32)",[new J("contentHash",W.j),new J("tag",W.c),new J("guildId",W.h)],new J("user",W.a)),new Y("NewGuild(address,uint32,string)",[new J("user",W.a),new J("guildId",W.h)],new J("name",W.n)),new Y("NewGuildMemberRequest(address,address,uint32)",[new J("requester",W.a),new J("newMember",W.a),new J("guildId",W.h)]),new Y("NewGuildMemberRequestAccepted(address,uint32)",[new J("newMember",W.a),new J("guildId",W.h)]),new Y("NewGuildMemberRequestRejected(address,uint32)",[new J("newMember",W.a),new J("guildId",W.h)]),new Y("GuildKeyEncrypted(address,uint32,bytes32)",[new J("user",W.a),new J("guildId",W.h),new J("ipfsHash",W.j)]),new Y("NewEncryptedContent(address,bytes32,bytes32,int8,bytes32,bytes32[9],bytes32[6])",[new J("user",W.a),new J("newContent",W.j),new J("contentType",W.i)],new J("previousContent",W.j),new J("encryptedName",W.e),new J("encryptedContentKey",Object(W.d)(9),9),new J("publicKey",Object(W.d)(6),6)),new Y("EncryptedContentShared(address,address,bytes32,bytes32[9],bytes32[6])",[new J("sharedWith",W.a),new J("creator",W.a),new J("contentHash",W.j)],new J("encryptedContentKey",Object(W.d)(9),9),new J("publicKey",Object(W.d)(6),6)),new Y("NewPublicKey(address,bytes32[6])",[new J("user",W.a)],new J("publicKey",Object(W.d)(6),6)),new Y("NewPreset(address,bytes32,uint32,bytes32,bytes32[9],bytes32[6])",[new J("user",W.a),new J("contentHash",W.j),new J("guildId",W.h)],new J("encryptedName",W.e),new J("encryptedContentKey",Object(W.d)(9),9),new J("publicKey",Object(W.d)(6),6)),new Y("PresetSample(bytes32,bytes32,uint32)",[new J("contentHash",W.j),new J("sampleHash",W.j),new J("guildId",W.h)]),new Y("PresetInstrumentType(bytes32,bytes32,uint32)",[new J("contentHash",W.j),new J("instrumentType",W.f),new J("guildId",W.h)]),new Y("NewMonthlyIndex(bytes32,uint32,uint64)",[new J("month",W.o),new J("year",W.o)],new J("hash",W.j)),new Y("New2DMapping(bytes32)",[new J("ipfsHash",W.j)]),new Y("PublicMessageSent(address,address,bytes32,bytes32)",[new J("fromUser",W.a),new J("toUser",W.a),new J("referenceHash",W.j)],new J("messageHash",W.j)),new Y("SampleCopyStrike(address,bytes32,bytes32)",[new J("user",W.a),new J("sampleHash",W.j),new J("referenceHash",W.j)]),new Y("SampleTakenDown(bytes32)",[new J("sampleHash",W.j)]),new Y("FoldersUpdated(address,bytes32)",[new J("user",W.a),new J("foldersHash",W.j)]),new Y("NewIndex(uint32,bytes32)",[new J("guildId",W.h)],new J("indexHash",W.j)),new Y("NewGuildSequence(address,bytes32,uint32,bytes32,bytes32,bytes32[9],bytes32[6])",[new J("user",W.a),new J("contentHash",W.j),new J("guildId",W.h)],new J("previousHash",W.j),new J("encryptedName",W.e),new J("encryptedContentKey",Object(W.d)(9),9),new J("publicKey",Object(W.d)(6),6)),new Y("NewGuildClassification(uint32,bytes32)",[new J("guildId",W.h),new J("contentHash",W.j)]),new Y("Transfer(address,address,uint256)",[new J("fromUser",W.a),new J("toUser",W.a)],new J("amount",W.h)),new Y("SequenceTagged(bytes32,bytes32,uint32)",[new J("ipfsHash",W.j),new J("tag",W.c),new J("guildId",W.h)]),new Y("SequenceFavorited(bytes32,address,uint32)",[new J("ipfsHash",W.j),new J("user",W.a),new J("guildId",W.h)]),new Y("SequenceStarred(bytes32,address,uint32)",[new J("ipfsHash",W.j),new J("user",W.a),new J("guildId",W.h)]),new Y("SequenceUnfavorited(bytes32,address,uint32)",[new J("ipfsHash",W.j),new J("user",W.a),new J("guildId",W.h)]),new Y("SequenceUnstarred(bytes32,address,uint32)",[new J("ipfsHash",W.j),new J("user",W.a),new J("guildId",W.h)]),new Y("NewDataType(bytes32,string)",[new J("dataType",W.c)],new J("description",W.n)),new Y("NewLinkType(bytes32,string)",[new J("linkType",W.c)],new J("description",W.n)),new Y("NewAnnotationType(bytes32,string)",[new J("annotationType",W.c)],new J("description",W.n)),new Y("NewAnnotation(bytes32,bytes32,bytes32,address)",[new J("annotationType",W.c),new J("data",W.j),new J("address",W.a)],new J("annotationData",W.c)),new Y("NewLink(bytes32,bytes32,bytes32,address)",[new J("linkType",W.c),new J("fromData",W.j),new J("toData",W.j)],new J("address",W.a)),new Y("NewMix(address,bytes32,bytes32,string,uint32)",[new J("user",W.a),new J("mixHash",W.j),new J("previousHash",W.j)],new J("title",W.n),new J("guildId",W.h)),new Y("NewEffect(address,bytes32,bytes32,string,uint32)",[new J("user",W.a),new J("effectHash",W.j),new J("effectType",W.c)],new J("title",W.n),new J("guildId",W.h)),new Y("ReleaseInfo(bytes32,uint32,string,bytes32,bytes32)",[new J("artistName",W.c),new J("releaseId",W.h)],new J("releaseName",W.n),new J("coverArtHash",W.j),new J("releaseType",W.c)),new Y("SampleByArtist(bytes32,bytes32)",[new J("artistName",W.c),new J("ipfsHash",W.j)]),new Y("ArtistInfo(bytes32,bytes32,string)",[new J("artistName",W.c),new J("linkType",W.c)],new J("link",W.n)),new Y("MidiCCParameter(bytes32,uint32,bytes32,address)",[new J("deviceName",W.c),new J("ccNumber",W.h),new J("parameterName",W.c)],new J("user",W.a)),new Y("SampleInSequence(bytes32,bytes32)",[new J("sequenceHash",W.j),new J("sampleHash",W.j)]),new Y("ListEdited(bytes32,bytes32,address,bytes32,uint32)",[new J("newContent",W.j),new J("previousContent",W.j),new J("user",W.a)],new J("title",W.c),new J("guildId",W.h)),new Y("ListHighlighted(bytes32,address)",[new J("contentHash",W.j)],new J("user",W.a)),new Y("ListUnhighlighted(bytes32,address)",[new J("contentHash",W.j)],new J("user",W.a)),new Y("ListFavorited(bytes32,address)",[new J("contentHash",W.j)],new J("user",W.a)),new Y("ListUnfavorited(bytes32,address)",[new J("contentHash",W.j)],new J("user",W.a)),new Y("ListDeleted(bytes32,address)",[new J("contentHash",W.j),new J("user",W.a)]),new Y("NewWallpaper(address,bytes32,bytes32)",[new J("user",W.a),new J("wallpaperHash",W.j),new J("thumbnailHash",W.j)]),new Y("DefaultWallpaper(address,bytes32)",[new J("user",W.a),new J("wallpaperHash",W.j)]),new Y("NewPack(address,bytes32,bytes32,bytes32)",[new J("user",W.a),new J("packHash",W.j),new J("previousHash",W.j)],new J("title",W.c)),new Y("PackHasContent(bytes32,bytes32)",[new J("packHash",W.j),new J("contentHash",W.j)]),new Y("UserLeftGuild(uint256,address)",[new J("guildId",W.h)],new J("user",W.a)),new Y("NewScript(address,bytes32,bytes32,bytes32)",[new J("user",W.a),new J("scriptHash",W.j),new J("scriptType",W.c)],new J("title",W.c)),new Y("NewCreatorProject(address,uint256,bytes32,uint256,string)",[new J("creator",W.a),new J("projectId",W.o),new J("contentHash",W.j)],new J("maxInvocations",W.o),new J("title",W.n)),new Y("NewTokenSeed(uint256,uint256,bytes32)",[new J("projectId",W.o),new J("tokenId",W.o)],new J("seedHash",W.c)),new Y("ZoraProject(bytes32,uint256)",[new J("projectHash",W.j),new J("zoraId",W.o)]),new Y("AccountAuthorized(address,address,string,uint8,bytes32,bytes32)",[new J("zequencerAddress",W.a),new J("walletAddress",W.a)],new J("message",W.n),new J("v",W.i),new J("r",W.e),new J("s",W.e)),new Y("PluginCreated(uint256,address,string)",[new J("tokenId",W.o),new J("creator",W.a)],new J("name",W.n)),new Y("NewPluginVersion(uint256,uint256,bytes32,string)",[new J("tokenId",W.o),new J("versionNumber",W.o)],new J("pluginContentHash",W.j),new J("pluginMetadataURI",W.n)),new Y("ProjectHasArrangement(bytes32)",[],new J("projectHash",W.j)),new Y("ProjectBPM(bytes32,int16)",[],new J("projectHash",W.j),new J("bpm",W.o)),new Y("ProjectVisuals(bytes32,bytes32)",[],new J("projectHash",W.j),new J("thumbnailhash",W.j)),new Y("ProjectUsesPreset(bytes32,bytes32)",[],new J("projectHash",W.j),new J("presetHash",W.j)),new Y("ProjectPatternsCount(bytes32,int8)",[],new J("projectHash",W.j),new J("patterns",W.o)),new Y("NewSporeCreated(uint256,uint256,address,address,bytes32,bytes32)",[],new J("sporeId",W.o),new J("tokenId",W.o),new J("proxy",W.a),new J("creator",W.a),new J("sporeHash",W.j),new J("dataHash",W.j)),new Y("NewChainCreated(uint256,bytes32,address,address,bytes32)",[],new J("chainId",W.o),new J("name",W.c),new J("proxy",W.a),new J("creator",W.a),new J("chainHash",W.j)),new Y("NewOfficialSporeCreated(uint256,uint256,address,bytes32,bytes32,string)",[],new J("spTokenId",W.o),new J("sporeId",W.o),new J("creator",W.a),new J("sporeHash",W.j),new J("dataHash",W.j),new J("songName",W.n)),new Y("NewUnofficialSporeCreated(uint256,uint256,address,bytes32,bytes32,address,uint256)",[],new J("spTokenId",W.o),new J("sporeId",W.o),new J("creator",W.a),new J("sporeHash",W.j),new J("dataHash",W.j),new J("collectionAddress",W.a),new J("tokenId",W.o))),Q=new Y("NewSporesPlaylist(uint256,address,string)",[],new J("playlistId",W.o),new J("creator",W.a),new J("metadataCID",W.n)),V=(new Y("SporesPlaylistSong(uint256,address,uint256)",[],new J("playlistId",W.o),new J("collecttionAddress",W.a),new J("tokenId",W.o)),new Y("PlaylistBurned(uint256)",[],new J("playlistId",W.o)),new Y("SongGenre(address,uint256,string,address,string)",[],new J("collectionAddress",W.a),new J("tokenId",W.o),new J("genre",W.n),new J("user",W.a),new J("metadataCID",W.n)),new Y("NewSkin(uint256,bytes32)",[],new J("skinId",W.o),new J("imageHash",W.j)),new Y("Transfer(address,address,uint256)",[new J("from",W.a),new J("to",W.a)],new J("tokens",W.o)),new Y("NewSong(uint256,string,string,int16,int16,string)",[],new J("songId",W.o),new J("title",W.n),new J("artist",W.n),new J("bpm",W.g),new J("bpmDecimal",W.g),new J("key",W.n))),X=new Y("NewStem(uint256,uint256,string,uint16,bool)",[],new J("songId",W.o),new J("stemId",W.o),new J("uri",W.n),new J("duration",W.o),new J("isLoop",W.b)),$=new Y("NewDefaultSongConfiguration(uint256,uint256)",[],new J("songId",W.o),new J("configId",W.o)),tt=new Y("SongConfigurationStem(uint256,uint256)",[],new J("configId",W.o),new J("stemId",W.o)),et=new Y("NewStemType(uint256,uint8)",[],new J("stemId",W.o),new J("stemType",W.o)),rt=new Y("NewDropCreated(uint256,address)",[],new J("songId",W.o),new J("dropAddress",W.a)),nt=new Y("MintPriceUpdated(address,address,uint256)",[],new J("sender",W.a),new J("targetZoraDrop",W.a),new J("newMintPrice",W.o)),ot=new Y("SongAttribute(uint256,bytes32,bytes32)",[new J("songId",W.o),new J("attributeType",W.c),new J("attributeValue",W.c)]),at=r(24);function it(){it=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ct="undefined"!==typeof window.web3,st=function(){function t(e){Object(F.a)(this,t),this.address=e,this.distinct=!1,this.selectStatements=[],this.whereClauses=[],this.groupBy=[],this.joinClauses=[],this.limitSize=void 0,this.fromBlockNumber="0x2",this.toBlockNumber=void 0}return Object(D.a)(t,[{key:"from",value:function(t){return this.eventLog=t,this}},{key:"select",value:function(t){return this.selectStatements.push(t),this}},{key:"distinct",value:function(){return this.distinct=!0,this}},{key:"groupBy",value:function(t){return this.groupBy.push(t),this}},{key:"where",value:function(t,e){return this.whereClauses.push(new ut(t,e)),this}},{key:"whereIn",value:function(t,e){return this.whereClauses.push(new ut(t,void 0,e)),this}},{key:"join",value:function(t,e){this.joinClauses.push(new lt(t,e))}},{key:"fromBlock",value:function(t){return this.fromBlockNumber=at.a.utils.toHex(t),this}},{key:"toBlock",value:function(t){return this.toBlockNumber=at.a.utils.toHex(t),this}},{key:"limit",value:function(t){return this.limitSize=t,this}},{key:"getTopics",value:function(){var t=[at.a.utils.sha3(this.eventLog.event)];for(var e in this.eventLog.topics){var r=this.eventLog.topics[parseInt(e)],n=null;for(var o in this.whereClauses){var a=this.whereClauses[parseInt(o)];if(a.name===r.name){var i=void 0!==a.value?a.value:a.valueList[0];n=r.convertTo(i)}}t.push(n)}return t}},{key:"executeQuery",value:function(){var t=this;return new Promise(function(e,r){at.a.eth.getPastLogs({address:t.address,topics:t.getTopics(),toBlock:t.toBlockNumber,fromBlock:t.fromBlockNumber},function(n,o){if(n)r(n);else{var a=[];o.reverse();for(var i=Math.min(o.length,t.limitSize||o.length),c=0;c<i;c++)a.push(t.parseResult(o[c]));e(a)}})})}},{key:"watchQuery",value:function(){var t=Object(R.a)(it().mark(function t(e){var r,n=this;return it().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,at.a.eth.getBlockNumber();case 2:r=t.sent,(ct?at.a:at.b).eth.subscribe("logs",{address:this.address,topics:this.getTopics(),fromBlock:at.a.utils.toHex(r)},function(t,r){t&&(console.log("error watching "),console.log(t));var o=n.parseResult(r);console.log("watch query got "),console.log(o),e(o)});case 5:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"parseResult",value:function(t){if(void 0!==t&&null!==t){var e={};for(var r in this.selectStatements){var n=this.selectStatements[parseInt(r)];for(var o in this.eventLog.topics){var a=t.topics[1+parseInt(o)],i=this.eventLog.topics[parseInt(o)];i.name===n&&(e[n]=i.type.convertFrom(a))}var c=0;for(var s in this.eventLog.data){s=parseInt(s);var u=this.eventLog.data[s];if(void 0!==u&&n==u.name){var l=t.data.slice(2+c,2+c+u.size);l="0x"+l,u.type==W.n&&(l="0x"+t.data.slice(130+64*s)),e[n]=u.convertFrom(l)}c+=u.size}}return e.blockNumber=t.blockNumber,e}}},{key:"getCopy",value:function(){var e=new t(this.address);return e.eventLog=this.eventLog,e.selectStatements=Object(U.a)(this.selectStatements),e.joinClauses=Object(U.a)(this.joinClauses),e.groupBy=Object(U.a)(this.groupBy),e.fromBlockNumber=this.fromBlockNumber,e.toBlockNumber=this.toBlockNumber,e.limitSize=this.limitSize,e}},{key:"getJson",value:function(){return{address:this.address,eventLog:this.eventLog.event,selectStatements:Object(U.a)(this.selectStatements),whereClauses:Object(U.a)(this.whereClauses),joinClauses:Object(U.a)(this.joinClauses),groupBy:Object(U.a)(this.groupBy),fromBlockNumber:at.a.utils.hexToNumber(this.fromBlockNumber),toBlockNumber:void 0===this.toBlockNumber?void 0:at.a.utils.hexToNumber(this.toBlockNumber),limitSize:this.limitSize,distinct:this.distinct}}}]),t}(),ut=Object(D.a)(function t(e,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(F.a)(this,t),this.name=e,this.value=r,this.valueList=n}),lt=Object(D.a)(function t(e,r){Object(F.a)(this,t),this.event=e,this.field=r}),ft=st;function ht(){ht=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function dt(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}();return function(){var r,n=Object(H.a)(t);if(e){var o=Object(H.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(B.a)(this,r)}}var pt=new(function(){function t(){Object(F.a)(this,t),this.runningQueries=new Set}return Object(D.a)(t,[{key:"submit",value:function(t){var e=this;return new Promise(function(){var r=Object(R.a)(ht().mark(function r(n,o){var a;return ht().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(e.runningQueries.size>=4)){r.next=5;break}return r.next=3,e.sleep(20);case 3:r.next=0;break;case 5:e.runningQueries.add(t),a="https://zequencer.io"+(a="/search"),window.LOCAL_BACKEND_FLAG&&"localhost"===window.location.hostname&&(a="/search"),fetch(a,{method:"POST",body:JSON.stringify(t),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(r){e.removeQuery(t),n(r||[])}).catch(function(r){e.removeQuery(t)});case 10:case"end":return r.stop()}},r)}));return function(t,e){return r.apply(this,arguments)}}())}},{key:"removeQuery",value:function(t){this.runningQueries.delete(t)}},{key:"sleep",value:function(t){return new Promise(function(e,r){setTimeout(e,t)})}}]),t}()),vt=function(t){Object(z.a)(r,t);var e=dt(r);function r(t){return Object(F.a)(this,r),e.call(this,t)}return Object(D.a)(r,[{key:"executeQuery",value:function(){var t=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(e,r){if(window.isNFT)return e([]);pt.submit(t.getJson()).then(e)})}}]),r}(ft);function mt(){mt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var yt="0xc77d4e72dF7D0Bf96488eF543253af537fEb8737",gt=function(){var t=Object(R.a)(mt().mark(function t(e){var r,n,o,a,i;return mt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new vt(yt).from(Z).where("ipfsHash",e),t.next=3,r.executeQuery();case 3:return n=t.sent,console.log("unfilteeded=",n),o=n[0],a=new vt(yt).from(q).where("ipfsHash",e),t.next=9,a.executeQuery();case 9:return i=t.sent,console.log("TAG RESULTS=",i),t.abrupt("return",Object(d.a)({},o,i[0]));case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),bt=(r(990),function(t){var e=t.playerRef,r=Object(n.useState)(),a=Object(c.a)(r,2),i=a[0],s=a[1],u=Object(n.useState)(),l=Object(c.a)(u,2),f=l[0],h=l[1],d=Object(n.useState)(),p=Object(c.a)(d,2),v=p[0],m=p[1];M("sample-changed",s),M("sample-waveform",m),Object(n.useEffect)(function(){i&&gt(i[0]).then(h)},[i]);var y=Object(n.useCallback)(function(){e.current.contentWindow.postMessage({type:"previous-shuffle-sample",body:"yo"},"*")},[]),g=Object(n.useCallback)(function(){e.current.contentWindow.postMessage({type:"next-shuffle-sample",body:"yo"},"*")},[]);return o.a.createElement("div",{className:"sample-info"},o.a.createElement("div",{className:"name-and-arrows"},o.a.createElement("div",{className:"sample-name"},f&&f.title),o.a.createElement("div",{className:"arrows"},o.a.createElement("div",{onClick:y,className:"arrow-btn pushable"}),o.a.createElement("div",{onClick:g,className:"arrow-btn flip pushable"}))),v&&o.a.createElement(G,{width:200,waveform:v}))}),wt=r(25),xt="0x48D22d2cADD5FfED166747Ddd26d80fff84417aB";function Et(){Et=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ot=function(){var t=Object(n.useState)([]),e=Object(c.a)(t,2),r=e[0],o=e[1];return Object(n.useEffect)(function(){kt().then(o)},[o]),{tokensOnSale:r,setTokensOnSale:o}},jt=void 0,Lt=!1,kt=function(){return new Promise(function(){var t=Object(R.a)(Et().mark(function t(e){var r,n;return Et().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Lt){t.next=7;break}r=0;case 2:if(jt||!(r++<15)){t.next=7;break}return t.next=5,Object(L.a)(500);case 5:t.next=2;break;case 7:if(!jt){t.next=10;break}return e(jt),t.abrupt("return");case 10:Lt=!0,n="https://zequencer.io",window.LOCAL_BACKEND_FLAG&&window.location.hostname.includes("localhost")&&(n=""),fetch(n+"/nft-info").then(function(t){return t.json()}).then(function(t){jt=t,e(t)});case 15:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},St=r(71),Nt=r(298),It=r.n(Nt),Tt=(r(1e3),r(299)),_t=r(41);r(175),r(650),r(1004),r(651);var Ct=r(652);function At(){At=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Pt=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.account,r=t._askPrice,a=t._thumbnail,i=t.name,s=t.tokensOnSale,u=t.onCompletedBuy,l=t.onCancel,f=t.cart,h=t.onDone,d=t.contractAddress,p=Object(wt.d)({addressOrName:e}),v=Object(wt.k)().data,m=p.data&&parseFloat(p.data.formatted),y=Object(n.useState)(!1),g=Object(c.a)(y,2),b=g[0],w=g[1],x=Object(n.useState)(),E=Object(c.a)(x,2),O=E[0],j=E[1],L=Object(n.useState)(f[0]),k=Object(c.a)(L,2),S=k[0],N=k[1],I=Object(n.useState)(!1),T=Object(c.a)(I,2),_=T[0],C=T[1],A=Object(n.useState)(!1),P=Object(c.a)(A,2),G=P[0],M=P[1],F=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x7269c1a1b8aba1390770193771f92bd722c6a77b",e=Object(wt.k)(),r=e.data,o=(e.isError,e.isLoading,Object(n.useRef)(r));return o.current=r,Object(n.useCallback)(function(){var e=Object(R.a)(At().mark(function e(r,n){var a,i,c;return At().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r=r.toString(),a=Tt.AsksV11__factory.connect(Ct.AsksV1_1,o.current),e.next=5,a.askForNFT(t,r);case 5:return i=e.sent,n=n?_t.ethers.parseEth(n.toString()):i.askPrice.toString(),e.next=10,a.fillAsk(t,r,"0x0000000000000000000000000000000000000000",n,"0x0000000000000000000000000000000000000000",{value:n});case 10:return c=e.sent,e.abrupt("return",c);case 14:return e.prev=14,e.t0=e.catch(0),console.log("error = ",e.t0),e.abrupt("return",!1);case 18:case"end":return e.stop()}},e,null,[[0,14]])}));return function(t,r){return e.apply(this,arguments)}}(),[t,r])}(d),D=a||s.find(function(t){return t.tokenId===S}).thumbnail,z=f.indexOf(S)+1,B=f.length,H=s&&s.find(function(t){return t.tokenId===S}),U=r||H.askPrice,W=Object(n.useCallback)(function(){console.log("complete buy called");var t=S;C(!0),F(t).then(function(e){e?(M(e.hash),e.wait(1).then(function(e){w(!0),M(!1),z===f.length||N(f[z]),u(t)}),C(!1),j(void 0)):j("You rejected the transaction. Please try again or continue browsing."),C(!1)})},[S,N,z,C,f]);return b||G?o.a.createElement("div",{className:"finalize-modal-drop"},o.a.createElement("video",{playsInline:!0,muted:!0,className:G?"confirming shrooms-video":"shrooms-video",autoPlay:!0,loop:!0,src:"/mushrooms-medium.mp4"}),o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"finalize-modal"},o.a.createElement("div",{onClick:h,className:"close-button"},"x"),o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("div",{className:"sp-modal-title"},o.a.createElement("div",{className:"sp-title"},G?"Completing Purchase":i?"You`ve Bought the "+i:"You've Bought the SP-"+S)),G?o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"Your new Spore Player should arrive in your wallet in a few moments."),o.a.createElement("div",{className:"pulse-container"},o.a.createElement(It.a,{sizeUnit:"px",size:10,color:"#ffffff",loading:!0}))):o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"Congrats, you can now dose yourself with some cyber psilocybin."),!i&&o.a.createElement("div",{onClick:function(){return window.open("/sp/"+S,"_newtab")},className:"pushable open-your-player"},"Open your New Player")))):o.a.createElement("div",{onClick:l,className:"finalize-modal-drop"},o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"finalize-modal"},o.a.createElement("div",{onClick:l,className:"close-button"},"x"),o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("div",{className:"sp-modal-title"},o.a.createElement("div",{className:"sp-title"},"Buy ",i||"SP-".concat(S)),f.length>1&&o.a.createElement("div",{className:"purchase-part"},o.a.createElement("span",{className:"part-number"},z)," of ",o.a.createElement("span",{className:"total-parts"},B))),o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"You're about to buy this Spore Player for a fixed price."),o.a.createElement("div",{className:"thumbnail-and-price"},o.a.createElement("img",{src:D}),o.a.createElement("div",{className:"token-price"},o.a.createElement("div",{className:"price-label"},"PRICE"),o.a.createElement("div",{className:"price-eth"},U," ETH"))),O&&o.a.createElement("div",{className:"error-text"},o.a.createElement("img",{src:"/error-icon.svg"})," ",O),_?o.a.createElement("div",{className:"waiting-for-wallet"},o.a.createElement("span",{className:"inner"},o.a.createElement("span",{className:"helper-text"},"Waiting for Wallet"),o.a.createElement(It.a,{sizeUnit:"px",size:10,color:"#ffffff",loading:!0}))):m<parseFloat(U)?o.a.createElement("div",{className:"low-balance complete-buy"},"Insufficient balance for purchase."):v?o.a.createElement("div",{onClick:function(){return W()},className:"complete-buy"},"Complete Purchase"):o.a.createElement("div",{className:"connect-wallet-container"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})," "))))}),Gt=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.name,r=t.setBuying,n=t.thumbnail,a=t.askPrice,i=t.setCompletedBuy,c=t.tokenId,s=Object(wt.c)(),u=s.data;s.isError,s.isLoading;console.log("acc data =",u);var l=Ot(),f=(l.setTokensOnSale,l.tokensOnSale);return f&&0!==f.length?o.a.createElement(Pt,{name:e,_askPrice:a,_thumbnail:n,account:u&&u.address,onCompletedBuy:function(){return i(!0)},onDone:function(){r(!1)},tokensOnSale:f,onCancel:function(){return r(!1)},cart:[c],setCart:function(){return 0}}):""}),Mt=(r(1028),Object(s.b)(function(t,e){return{soldPlayers:t.spore.soldPlayers}},function(t){return{setSoldPlayers:function(e){return t(S(e))}}})(function(t){var e=t.upperGradInverted,r=t.soldPlayers,a=void 0===r?[]:r,i=t.tokenId,s=t.text,u=t.showRemaining,l=t.onCompleteSale,h=Ot(),d=(h.setTokensOnSale,h.tokensOnSale),p=Object(n.useState)(!1),v=Object(c.a)(p,2),m=v[0],y=v[1];if(!d||0===d.length)return"";var g=d.filter(function(t){return t.askPrice});if(0===g.length)return"";if(a.includes(i))return o.a.createElement("div",{className:"buy-unsold"},"Owned By You");var b={};return e&&s&&(b.color=e,b.borderBottomColor=e),o.a.createElement("div",{className:s?"buy-unsold has-text":"buy-unsold"},m&&o.a.createElement(Gt,{setCompletedBuy:function(){S([].concat(Object(U.a)(a),[i])),l&&l()},setBuying:y,tokenId:i}),o.a.createElement("div",{style:b,onClick:function(){return y(!0)},className:"buy-unsold-btn pushable"},s||o.a.createElement("span",null,"Buy SP-",i)),(!f.isMobile&&!s||u)&&o.a.createElement("a",{href:"/sp/"+i,className:"unsold-remaining"},g.length," remaining"))}));function Rt(){Rt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ft=function(){var t=Object(R.a)(Rt().mark(function t(e,r){var n;return Rt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.signMessage(r);case 2:return n=t.sent,t.abrupt("return",{flatSignature:n,splitSignature:_t.ethers.utils.splitSignature(n)});case 4:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),Dt=r(420);function zt(){zt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Bt=function(t,e,r,n,o,a){return new Promise(function(){var i=Object(R.a)(zt().mark(function i(c){var s,u,l,f,h,d,p,v,m;return zt().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("new spore w data hash=%s collectionAddress=%s tokenId=%s",a,r,n),s="A new spore awakens at ipfs://".concat(o),console.log("signer=",t),i.next=5,Ft(t,s);case 5:u=i.sent,l=u.account,u.flatSignature,f=u.splitSignature,console.log("SIGNED MESSAGE=",l),h=f.r,d=f.s,p=f.v,v={r:h,s:d,v:p,message:s,recordingHash:Object(Dt.a)(o),dataHash:Object(Dt.a)(a),tokenId:n,spTokenId:e,collectionAddress:r},m="https://zequencer.io",window.location.hostname.includes("localhost")&&(m=""),fetch(m+"/newUnofficialSpore/",{method:"POST",body:JSON.stringify(v),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(t){return t.json()}).then(function(t){c(t.transactionHash)});case 15:case"end":return i.stop()}},i)}));return function(t){return i.apply(this,arguments)}}())},Ht=r(66),Ut=(r(230),function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g.a.Master.context;Object(F.a)(this,t),this.duration=0,this.source=void 0,this.buffer=void 0,this.playbackRate=1,this.looping=!1,this.playSound.bind(this),this.context=e,this.seek.bind(this),this.stopSound.bind(this),this.gain=new g.a.Gain(1),this.gain.connect(g.a.Master),this.splitter=new g.a.Split,this.leftWaveform=new g.a.Analyser({type:"waveform",size:512}),this.rightWaveform=new g.a.Analyser({type:"waveform",size:512}),this.splitter.left.connect(this.leftWaveform),this.splitter.right.connect(this.rightWaveform),this.gain.connect(this.splitter)}return Object(D.a)(t,[{key:"dispose",value:function(){void 0!==this.source&&this.source.disconnect(),this.buffer=void 0,this.source=void 0}},{key:"getContext",value:function(){return this.context}},{key:"playSound",value:function(t,e,r){void 0==t&&(t=0),void 0!=this.source&&this.source.stop(),this.source=g.a.Master.context.createBufferSource(),this.source.connect(this.gain),this.source.buffer=this.buffer,this.source.loop=r,this.source.start(0,Math.max(0,t),e)}},{key:"seek",value:function(t){this.stopSound(),this.playSound(t)}},{key:"stopSound",value:function(){void 0!=this.source&&this.source.stop()}},{key:"loadRawBuffer",value:function(t){console.log("LOADING BUFFER"),this.buffer=t,this.duration=t.duration}},{key:"setBuffer",value:function(t){console.log("LOADING BUFFER"),this.buffer=t,this.duration=t.duration}}]),t}());function Wt(){Wt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Yt,Jt=0,qt={},Zt=function(){var t=Object(R.a)(Wt().mark(function t(e,r){return Wt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:Yt||((Yt=new Worker(window.isNFT?"mp3Worker.js":"/mp3Worker.js")).onmessage=function(t){qt[t.data.id]=t.data}),Yt.postMessage({mp3Data:e,isNFT:window.isNFT,id:r});case 2:if(qt[r]){t.next=7;break}return t.next=5,Object(L.a)(100);case 5:t.next=2;break;case 7:return t.abrupt("return",qt[r]);case 8:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),Kt=function(){var t=Object(R.a)(Wt().mark(function t(e){var r,n,o,a,i,c,s,u,l,f,h;return Wt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Zt(e,Jt++);case 2:for(r=t.sent,n=r.decoded,o=r.sampleRate,a=r.position,i=g.a.Master.context,2,c=i.createBuffer(2,a/2,o),s=c.getChannelData(0),u=c.getChannelData(1),l=0;l<n.length;l+=2)f=n[l],h=n[l+1],s[l/2]=f>=32768?-(65536-f)/32768:f/32767,u[l/2]=h>=32768?-(65536-h)/32768:h/32767;return t.abrupt("return",c);case 13:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}();function Qt(){Qt=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}r(230);var Vt={},Xt=function(t,e){return new Promise(function(){var r=Object(R.a)(Qt().mark(function r(n,o){var a,i,c;return Qt().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!Vt[e]){r.next=2;break}return r.abrupt("return",n(Vt[e]));case 2:if(void 0!==t){r.next=5;break}return o(),r.abrupt("return");case 5:if(r.prev=5,r.prev=6,a=t.slice(0,4),"RIFF"!==(new TextDecoder).decode(a)){r.next=18;break}return r.next=12,g.a.Master.context.decodeAudioData(t);case 12:i=r.sent,console.log("r =",i),e&&(Vt[e]=i),n(i),r.next=23;break;case 18:return r.next=20,Kt(new Int8Array(t));case 20:c=r.sent,e&&(Vt[e]=c),n(c);case 23:r.next=28;break;case 25:r.prev=25,r.t0=r.catch(6),o(r.t0);case 28:r.next=33;break;case 30:r.prev=30,r.t1=r.catch(5),o(r.t1);case 33:case"end":return r.stop()}},r,null,[[5,30],[6,25]])}));return function(t,e){return r.apply(this,arguments)}}())};function $t(){$t=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var te=r(230),ee=function(){var t=Object(R.a)($t().mark(function t(e){var r;return $t().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.startsWith("http")){t.next=7;break}return t.next=3,fetch(e);case 3:return r=t.sent,t.next=6,r.blob();case 6:return t.abrupt("return",t.sent);case 7:return t.next=9,Ht.a.getSound(e,1e7);case 9:return t.abrupt("return",t.sent);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),re=function(t,e,r){var o=Object(n.useState)(),a=Object(c.a)(o,2),i=a[0],s=a[1],u=Object(n.useRef)(),l=Object(n.useState)(),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(n.useState)(!1),v=Object(c.a)(p,2),m=v[0],y=v[1],b=Object(n.useRef)(),w=Object(n.useState)(!1),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(n.useRef)(),L=Object(n.useCallback)(function(){b.current=(new Date).getTime(),j.current.playSound(0,1e5,r),O(!0)},[O]),k=Object(n.useCallback)(function(){j.current.stopSound(0),O(!1)},[O]),S=Object(n.useCallback)(function(){E?(j.current.stopSound(0),O(!1)):L()},[E,O]),N=Object(n.useCallback)(function(){i&&i.dispose()},[i]);return Object(n.useEffect)(function(){t?(j.current&&(j.current.stopSound(),O(!1)),u.current===t&&j.current?L():(y(!0),d(!1),ee(t).then(function(){var r=Object(R.a)($t().mark(function r(n){var o,a,i;return $t().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!n.arrayBuffer){r.next=6;break}return r.next=3,n.arrayBuffer();case 3:r.t0=r.sent,r.next=7;break;case 6:r.t0=te(n);case 7:return o=r.t0,r.next=10,Xt(o,t);case 10:a=r.sent,i=void 0,j.current?((i=j.current).stopSound(),O(!1)):i=new Ut(g.a.Master.context),i.setBuffer(a),s(i),j.current=i,d(!0),y(!1),window.finishedLoadingAudio&&window.finishedLoadingAudio(),e&&L(),u.current=t;case 21:case"end":return r.stop()}},r)}));return function(t){return r.apply(this,arguments)}}()))):j.current&&(j.current.stopSound(),O(!1))},[t,s,d,y,O,e]),{loaded:h,loading:m,setLoaded:d,audioPlayer:i,dispose:N,togglePlay:S,play:L,startTime:b,isPlaying:E,stop:k}},ne=(r(1371),r(1372),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.width,r=t.spore,a=t.progress,i=t.height,c=void 0===i?110:i,s=Object(n.useRef)(),u=Object(n.useRef)();Object(n.useEffect)(function(){return window.addEventListener("message",l,!1),function(){window.removeEventListener("message",l)}},[r]);var l=Object(n.useCallback)(function(t){"sporeIFrameLoaded"===t.data&&(f(),u.current=!0)},[r]);Object(n.useEffect)(function(){u.current&&(console.log("spore.dataHash =",r.datahash,r),f())},[r]);var f=Object(n.useCallback)(function(){console.log("sending hash",r.dataHash),s.current&&s.current.contentWindow&&r&&s.current.contentWindow.postMessage({type:"heatmapHash",body:r.dataHash},"*")},[r]);return Object(n.useEffect)(function(){s.current&&s.current.contentWindow&&r&&s.current.contentWindow.postMessage({type:"heatmapHash",body:r.dataHash},"*")},[r]),Object(n.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"sporePosition",body:a},"*")},[a]),Object(n.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"heatmapSize",body:[e,90]},"*")},[e]),o.a.createElement("iframe",{ref:s,sandbox:"allow-scripts allow-same-origin",allowtransparency:"true",height:c,width:e,"aria-describedby":"spore",alt:"spore.vision",src:"https://zequencer.mypinata.cloud/ipfs/QmVvhZjnEJCBLs7SK2ED9xjbk7ZzjQQq4DHzfh7PJp9314/",className:"spore-heatmap zora-mediaObject css-hnzuw7 zora-mediaObject--mediaLoaded zora-mediaObject--isFullPage",style:{borderWidth:"0px"}})})),oe=(r(1373),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.recordingHash,r=t.spore,n=t.disabled,a=re(e),i=(a.audioPlayer,a.dispose,"heatmap-player ");return n&&(i+=" disabled"),o.a.createElement("div",{className:i},o.a.createElement(ne,{width:f.isMobile?250:450,height:80,spore:r}))}));function ae(){ae=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ie="0x8427e46826a520b1264b55f31fcb5ddfdc31e349",ce=function(t){return new Promise(function(e){t.startsWith("ipfs://")&&(t="https://zora-prod.mypinata.cloud/ipfs/"+t.slice(7)),t.includes("ipfs.io")&&(t=t.replace("ipfs.io","zora-prod.mypinata.cloud")),console.log("URL TO GET IS NOW=",t),fetch(t).then(function(t){return t.json()}).then(function(t){var r=t.animation_url,n=t.audio_url;console.log("ANIMATION_URL=%s audio_url=%s",r,n);var o=Object(d.a)({},t);if(r&&(r.includes("ipfs")?(o.ipfs=r.slice(7),o.url="https://opensea.mypinata.cloud/ipfs/"+r.slice(7)):o.url=r),n&&n.includes("/ipfs/")){var a=n.indexOf("/ipfs");o.ipfs=n.slice(a+6)}e(o)})})},se=function(){var t=Object(R.a)(ae().mark(function t(e,r){var n,o,a,i,c,s,u,l,f;return ae().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(console.log("chaos called",e),!(e.toLowerCase().includes("chaos")||e.includes("opensea")||e.includes("zora")||e.includes("sound.xyz")||e.includes("catalog.works")||e.includes("mintsongs.com"))){t.next=35;break}return console.log("was chaos"),t.next=5,ue(e);case 5:return n=t.sent,o=n.contract,a=n.tokenId,i=n.release,console.log("parts=",o,a),t.next=12,le(e,i);case 12:if(c=t.sent,console.log("zora api=",c),c){t.next=29;break}return t.next=17,r(o,a);case 17:if(s=t.sent,console.log("token metadata we got for tokenId=%s",a,s),s){t.next=21;break}return t.abrupt("return",void 0);case 21:return t.next=23,ce(s);case 23:return(u=t.sent).collectionAddress||(u.collectionAddress=o),u.tokenId||(u.tokenId=a),t.abrupt("return",u);case 29:return l=c.url,l.indexOf("/ipfs"),(f=Object(d.a)({},c.metadata,{url:l})).collectionAddress||(f.collectionAddress=o),f.tokenId||(f.tokenId=a),t.abrupt("return",f);case 35:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),ue=function(){var t=Object(R.a)(ae().mark(function t(e){var r,n,o,a,i,c,s,u,l,f,h,d,p,v,m,y,g;return ae().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r="/ethereum/",!e.toLowerCase().includes("chaos")){t.next=12;break}if(n=/#[1-9]\d*\b/g,o=e.match(n),console.log("matches =",o),!o[0]){t.next=9;break}return t.abrupt("return",{contract:ie,tokenId:parseInt(o[0].slice(1))});case 9:return t.abrupt("return",{contract:ie,tokenId:1});case 10:t.next=49;break;case 12:if(!e.includes("sound.xyz")){t.next=30;break}return console.log("SOUND XYZ TYPE"),a="localhost"===window.location.hostname?"http://localhost:9090/soundxyz/":"https://zequencer.io/soundxyz/",window.LOCAL_BACKEND_FLAG||(a="https://zequencer.io/soundxyz/"),i=e.indexOf("sound.xyz"),c=e.slice(i+10),t.next=20,fetch(a+c);case 20:return s=t.sent,console.log("SOUND XYZ returned=",s),t.next=24,s.json();case 24:return u=t.sent,e=u.contractAddress+"/1",l=c.split("/")[1],t.abrupt("return",{contract:u.contractAddress,tokenId:"1",release:l});case 30:if(!e.includes("catalog.works")){t.next=48;break}return console.log("CATALOG TYPE"),console.log("url container catalog=",e),f="localhost"===window.location.hostname?"http://localhost:9090/catalog/":"https://zequencer.io/catalog/",window.LOCAL_BACKEND_FLAG||(f="https://zequencer.io/catalog/"),h="catalog.works/",d=e.indexOf(h),p=e.slice(d+h.length),console.log("sound xyz path =",f+p),t.next=41,fetch(f+p);case 41:return v=t.sent,t.next=44,v.json();case 44:return m=t.sent,t.abrupt("return",{contract:m.contractAddress});case 48:e.includes("zora.co")?r="/collections/":e.includes("mintsongs.com")&&(r="/tokens/");case 49:return y=e.indexOf(r),e=e.slice(y+r.length),"zora"===(g=e.split("/"))[0]&&(g[0]="0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7"),t.abrupt("return",{contract:g[0],tokenId:g[1]});case 54:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),le=function(){var t=Object(R.a)(ae().mark(function t(e){var r,n,o,a,i,c,s,u,l,f,h=arguments;return ae().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=h.length>1&&void 0!==h[1]?h[1]:"",!e.includes("zora")){t.next=10;break}n="/collections/",o=e.indexOf(n),e=e.slice(o+n.length),"zora"===(a=e.split("/"))[0]&&(a[0]="0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7"),e=a.join("/"),t.next=26;break;case 10:if(!e.includes("sound.xyz")){t.next=23;break}return"https://zequencer.io/soundxyz/",i=e.indexOf("sound.xyz"),c=e.slice(i+10),t.next=16,fetch("https://zequencer.io/soundxyz/"+c);case 16:return s=t.sent,t.next=19,s.json();case 19:u=t.sent,e=u.contractAddress+"/"+r,t.next=26;break;case 23:"/ethereum/",l=e.indexOf("/ethereum/"),e=e.slice(l+"/ethereum/".length);case 26:return"https://zequencer.io/jacker/",t.prev=27,t.next=30,fetch("https://zequencer.io/jacker/"+e);case 30:return f=t.sent,t.next=33,f.json();case 33:return t.abrupt("return",t.sent);case 36:return t.prev=36,t.t0=t.catch(27),t.abrupt("return",void 0);case 39:case"end":return t.stop()}},t,null,[[27,36]])}));return function(e){return t.apply(this,arguments)}}();var fe=r(417),he=r(657);function de(){de=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var pe=function(){return ve},ve=function(){var t=Object(R.a)(de().mark(function t(e,r){var n,o,a;return de().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new _t.ethers.providers.InfuraProvider("mainnet","2f3dce2af1044e88b4851c3d73c3d00c"),o=he.IERC721Metadata__factory.connect(e,n),t.prev=2,r=_t.ethers.BigNumber.from(r),t.next=6,o.tokenURI(r);case 6:return a=t.sent,t.abrupt("return",a);case 10:return t.prev=10,t.t0=t.catch(2),t.abrupt("return",void 0);case 13:case"end":return t.stop()}},t,null,[[2,10]])}));return function(e,r){return t.apply(this,arguments)}}();function me(){me=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ye=function(){var t=Object(R.a)(me().mark(function t(e,r){var n,o;return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://zora.co/collections/"+e+"/"+r,t.next=3,se(n,ve);case 3:return o=t.sent,t.abrupt("return",o);case 5:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}();function ge(){ge=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var be=Object(s.b)(function(t,e){return{usedCheatCode:t.spore.usedCheatCode,playlistLoaded:t.playlist.playlistLoaded,currentSong:t.playlist.currentSong}},function(t){return{setPendingSpores:function(e){return t({type:508,payload:e})},setCurrentSong:function(e){return t(k(e))}}})(function(t){var e=t.recordedRemix,r=t.spTokenId,a=t.tokenId,i=t.collectionAddress,s=t.setPendingSpores,u=t.complete,l=(t.usedCheatCode,t.playlistLoaded),h=t.loadJack,d=t.currentSong,p=t.setCurrentSong,v=Object(wt.c)(),m=v.data,y=(v.isError,v.isLoading,Object(wt.k)().data),g=Object(n.useState)(!1),b=Object(c.a)(g,2),w=b[0],x=b[1],E=Object(n.useState)(!1),O=Object(c.a)(E,2),j=(O[0],O[1],Object(n.useState)(!1)),L=Object(c.a)(j,2),k=(L[0],L[1],e.recording,e.sliderData,e.modeData,Object(n.useState)(void 0)),S=Object(c.a)(k,2),N=S[0],I=S[1],T=Object(n.useCallback)(Object(R.a)(ge().mark(function t(){var n,o,c,u,l;return ge().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.dataHash,o=e.recordingHash,x(!0),t.next=4,Bt(y,r,i,a,o,n);case 4:c=t.sent,window.localStorage.removeItem("recordedRemix"),I(c),s([u={spTokenId:r,collectionAddress:i,tokenId:a,recordingHash:o,dataHash:n}]),l=null===(l=window.localStorage.getItem("pending-spores"))?[]:JSON.parse(l),l=[].concat(Object(U.a)(l),[u]),window.localStorage.setItem("pending-spores",JSON.stringify(l));case 14:case"end":return t.stop()}},t)})),[y,r,e,a,i,x,m]),_=void 0;if(l){l=l.metadata.playlist;for(var C=0;C<l.length;C++){var A=l[C];if(A.collectionAddress===d.collectionAddress&&A.tokenId===d.tokenId){_=l[C+1];break}}}var P=Object(n.useCallback)(function(){ye(_.collectionAddress,_.tokenId).then(function(t){u(),p(_),h(t,void 0,!f.isMobile)})},[_]),G="";return G=m?N?o.a.createElement("div",{className:"sign-recording-container"},o.a.createElement("p",null,"Your spore is being transmitted on-chain. This will take a few seconds."),o.a.createElement("p",null,o.a.createElement("a",{href:"https://ropsten.etherscan.io/tx/"+N},"Etherscan \u2197")),l?o.a.createElement("div",{onClick:P,className:"continue-remixing-btn pushable"},"Play Next"):o.a.createElement("div",{onClick:u,className:"continue-remixing-btn pushable"},"Continue Mixing")):o.a.createElement("div",{className:"sign-recording-container"},o.a.createElement("div",{onClick:T,className:"pushable sign-btn"},"Sign & Upload"),o.a.createElement("div",{className:"sign-helper"},w?"\nPlease now go to your wallet to sign the message. This costs no-gas, so no-stress.\n":"In order to transmit this remix on-chain, you'll need to sign a message\n                    with your wallet. This costs no-gas, so no-stress.")):o.a.createElement("div",{className:"inner-spore-recorded"},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("div",{className:"sign-helper"},"By connecting your wallet, you can etch your identity onto this Remix, where it will live on-chain.")),o.a.createElement("div",{className:"spore-recorded-dialog"},o.a.createElement("div",{className:"spore-header"},"Spores recorded your remix."),o.a.createElement(oe,{disabled:!1,spore:e}),G)}),we=(r(1374),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.children,r=t.hide;return o.a.createElement("div",{onClick:r,className:"spore-modal-backdrop"},o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"spore-modal-dialog"},o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{onClick:function(){return r()},className:"pushable spores-logo",src:"/spores-logo-black.svg"})),e))})),xe=(r(1375),Object(s.b)(function(t,e){return{}},null)(function(t){t.text;var e=t.className,r=void 0===e?"":e,a=(t.width,t.intervalTime),i=void 0===a?100:a,s=t.intervalPiece,u=void 0===s?10:s,l=Object(n.useState)(24),f=Object(c.a)(l,2),h=(f[0],f[1]);Object(n.useEffect)(function(){var t=setInterval(function(){h(function(t){return(t+u)%100})},i);return function(){return clearInterval(t)}},[]);return o.a.createElement("div",{className:"progress-bar"+r},o.a.createElement("div",{style:{borderRadius:"35px",height:"70px",width:"70px",position:"absolute",margin:"auto",left:"0",right:"0",top:"0",bottom:"0"}},o.a.createElement("img",{style:{width:"100%"},src:"/spores-icon-glow.svg"})))}));function Ee(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Oe(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Oe(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Oe(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function je(){je=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Le=function(){var t=Object(R.a)(je().mark(function t(e,r){var n,o,a,i,c;return je().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=new vt("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(K),t.next=3,n.executeQuery();case 3:return t.sent,e&&n.where("collectionAddress",e.toLowerCase()),void 0!==r&&(r.length>10?(o=_t.ethers.BigNumber.from(r),o=at.a.utils.padLeft(o.toHexString(),64).toLowerCase(),n.where("tokenId",o)):(a=parseInt(r),n.where("tokenId",isNaN(a)?r:a))),t.next=8,n.executeQuery();case 8:return i=t.sent,c=Ne().filter(function(t){return t.collectionAddress===e&&parseInt(t.tokenId)===parseInt(r)}),i=[].concat(Object(U.a)(c),Object(U.a)(i)),t.abrupt("return",i);case 12:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),ke=function(){var t=Object(R.a)(je().mark(function t(e){var r,n;return je().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new vt("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(K).where("sporeId",parseInt(e)),t.next=3,r.executeQuery();case 3:return n=t.sent,t.abrupt("return",n[0]);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Se=function(){var t=Object(R.a)(je().mark(function t(){var e,r,n,o,a,i,c,s,u;return je().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vt("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(K),t.next=3,e.executeQuery();case 3:r=t.sent,n=Ne(),Ie(n,r),r=[].concat(Object(U.a)(r),Object(U.a)(n)),o={},a=Ee(r);try{for(a.s();!(i=a.n()).done;)c=i.value,s=c.collectionAddress,u=c.tokenId,s=s.toLowerCase(),o[s]||(o[s]={}),o[s][u]||(o[s][u]=[]),o[s][u].push(c)}catch(l){a.e(l)}finally{a.f()}return t.abrupt("return",o);case 11:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),Ne=function(){var t,e=window.localStorage.getItem("pending-spores"),r=Ee(e=null===e?[]:JSON.parse(e));try{for(r.s();!(t=r.n()).done;){var n=t.value;n.sporeHash=n.recordingHash}}catch(o){r.e(o)}finally{r.f()}return e},Ie=function(t,e){var r,n=[],o=Ee(t);try{for(o.s();!(r=o.n()).done;){var a,i=r.value,c=!1,s=Ee(e);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(i.recordingHash===u.sporeHash){c=!0;break}}}catch(l){s.e(l)}finally{s.f()}c||n.push(i)}}catch(l){o.e(l)}finally{o.f()}window.localStorage.setItem("pending-spores",JSON.stringify(n))},Te=(r(1376),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.recordedRemix,r=t.uploadingRemix,a=t.spTokenId,i=t.tokenId,s=t.collectionAddress,u=t.onRemixSigningCompleted,l=t.loadJack,f=Object(n.useState)(!0),h=Object(c.a)(f,2),d=h[0],p=h[1];return Object(n.useEffect)(function(){window.localStorage.setItem("recordedRemix",{recordedRemix:e,tokenId:i,spTokenId:a,collectionAddress:s}),p(!0)},[e,p,i,s,a]),e||r?o.a.createElement(we,{hide:function(t){return[]}},e&&d?o.a.createElement(be,{spTokenId:a,tokenId:i,complete:u,collectionAddress:s,recordedRemix:e,loadJack:l}):o.a.createElement("div",{className:"spore-recorded-dialog"},o.a.createElement("div",{className:"spore-header"},"Spores recorded your remix."),o.a.createElement("div",{className:"uploading-text"},"Processing your new sound."),o.a.createElement("div",{className:"progress-container"},o.a.createElement(xe,{width:180})))):""})),_e=(r(1377),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.hideWaveform,r=t.isWaveformRainbow,a=t.buttonTextColor,i=t.playerRef,s=t.innerControls?window.innerWidth:330,u=Object(n.useRef)(),l=Object(n.useRef)(),f=Object(n.useState)(),h=Object(c.a)(f,2),d=h[0],p=h[1],v=Object(n.useState)(0),m=Object(c.a)(v,2),y=m[0],g=m[1],w=Object(n.useState)(0),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(n.useState)(!1),L=Object(c.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)(!1),I=Object(c.a)(N,2),T=I[0],_=I[1],C=(Object(n.useRef)(0),Object(n.useState)(void 0)),A=Object(c.a)(C,2),P=A[0],M=A[1];Object(n.useEffect)(function(){return window.addEventListener("mouseup",R),window.addEventListener("mousemove",z),window.addEventListener("touchmove",z),function(){window.removeEventListener("mouseup",R),window.removeEventListener("mousemove",z),window.removeEventListener("touchmove",z)}},[T,M,_]);var R=Object(n.useCallback)(function(){_(!1)},[_]);Object(n.useEffect)(function(){return window.addEventListener("message",F,!1),function(t){return window.removeEventListener("message",F,!1)}},[g,O,S,p]);var F=Object(n.useCallback)(function(t){if("waveform-data"===t.data.type&&p(t.data.body),"song-player-progress"===t.data.type){var e=parseInt(t.data.body);g(e)}if("jacker-playback-status"===t.data.type){var r=parseInt(t.data.body);O(r),r&&S(!0)}},[k,g,O,S,p]),D=Object(n.useCallback)(function(){i.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")},[]),z=Object(n.useCallback)(function(t){if(T){t.touches&&(t=t.touches[0]);var e=u.current.getBoundingClientRect(),r=(t.clientX-e.left)/s*100;r=Math.max(0,Math.min(100,r)),M(r),i.current.contentWindow.postMessage({type:"jacker-seek",body:r},"*")}},[T,M]);if(!k)return"";var B={borderColor:a};return y=T&&P?P:y,o.a.createElement("div",{onMouseDown:function(t){_(!0),z(t)},onTouchStart:function(t){_(!0),z(t)},className:"shuffle-buttons"},!e&&o.a.createElement(G,{progress:y,waveform:d,isWaveformRainbow:r}),o.a.createElement("div",{className:"play-and-slider"},o.a.createElement(b,{color:a,style:B,isPlaying:E,play:D}),o.a.createElement("div",{ref:u,style:B,className:"slider-container"},o.a.createElement("div",{style:{backgroundColor:a,width:s*(100-y)/100,left:s*y/100},className:"slider-inner"}),o.a.createElement("div",{ref:l,onMouseDown:function(t){t.stopPropagation(),_(!0)},onTouchStart:function(t){t.stopPropagation(),_(!0)},style:{backgroundColor:a,left:s*y/100},className:"slider-scrubber"}))))})),Ce=function(t,e,r){var o=Object(n.useState)(),a=Object(c.a)(o,2),i=a[0],s=a[1],u=Object(n.useState)(window.TEST_REMIX_UPLOAD_FLAG),l=Object(c.a)(u,2),f=l[0],h=l[1],d=Object(n.useState)(),p=Object(c.a)(d,2),v=p[0],m=p[1];Object(n.useEffect)(function(){r&&ke(r).then(function(t){m(t)})},[r]),Object(n.useEffect)(function(){window.TEST_REMIX_UPLOAD_FLAG&&setTimeout(function(){s("@mmmmm")},5e3)},[]);var y=Object(n.useCallback)(function(){t(),s(void 0),h(void 0),e.current},[s,h,t]);Object(n.useEffect)(function(){return window.addEventListener("message",g,!1),function(){return window.removeEventListener("message",g)}},[s,h]);var g=Object(n.useCallback)(function(t){var r=t.data;if("uploadingRecording"===r.type)e.current&&e.current.contentWindow.postMessage({type:"jacker-stop",body:"please"},"*"),h(!0);else if("sporeRecorded"==r.type){var n={sliderChanges:r.body.sliderData,modeChanges:r.body.modeData};Ht.a.addJson(n).then(function(t){s({recordingHash:r.body.recording,dataHash:t})})}},[s,h]);return{recordedRemix:i,uploadingRemix:f,onRemixSigningCompleted:y,remixToPlay:v,setRemixToPlay:m}},Ae=(r(1378),"https://zequencer.mypinata.cloud/ipfs/".concat("QmWV7gqvBeXT9VVYEEL5J9oGEvQFDjYZZ4rgGYz9JDk3h7","/?tokenId=40&gallery=true"),Object(s.b)(function(t,e){return{}},function(t){return{setPlayerRef:function(e){return t({type:512,payload:e})}}})(function(t){t.simpleControls;var e=t.zorbId,r=t.isFullScreen,a=t.songTitle,i=void 0===a?"":a,s=t.collectionAddress,u=t.tokenId,l=t.artist,h=t.hideWaveform,d=t.thumbnail,p=(t.setStems,t.stems),v=t.isWaveformRainbow,m=t.url,y=void 0===m?"https://zequencer.mypinata.cloud/ipfs/QmNejpqTsVw3W3872o85XhWiKVG6gUchVJTvS4uUj2fUrC":m,g=t.innerControls,b=t.hideControls,w=t.children,x=t.playerRef,E=t.setPlayerRef,O=t.tiny,j=t.isSimple,L=t.color,k=void 0===L?"white":L,S=Object(wt.c)(),N=(S.data,S.isError,S.isLoading,x||Object(n.useRef)()),I=Ce(function(){return[]},N),T=(I.totalRemixes,I.recordedRemix),_=I.uploadingRemix,C=I.onRemixSigningCompleted,A=(I.remixToPlay,I.setRemixToPlay,function(t){var e=Object(n.useState)(!1),r=Object(c.a)(e,2),o=r[0],a=r[1];Object(n.useEffect)(function(){return window.addEventListener("message",i,!1),function(){return window.removeEventListener("message",i)}},[a]);var i=Object(n.useCallback)(function(t){"Finished Loading Project"===t.data&&a(!0)},[a]);return{loaded:o}}().loaded);return Object(n.useEffect)(function(){},[e,A]),Object(n.useEffect)(function(){},[p,A]),Object(n.useEffect)(function(){E(N)},[]),o.a.createElement("div",{className:"spore-embed-container"},w,o.a.createElement(Te,{uploadingRemix:_,recordedRemix:T,collectionAddress:s,spTokenId:1,onRemixSigningCompleted:C,tokenId:u,playerRef:N}),d&&o.a.createElement("img",{src:d,className:"cover-image"}),o.a.createElement("div",{className:"spore-embed-helper"},!b&&g&&o.a.createElement(_e,{hideWaveform:h,innerControls:g,isWaveformRainbow:v,buttonTextColor:k,playerRef:N}),o.a.createElement("div",{className:"song-title"},i),o.a.createElement("div",{className:"song-artist"},l),!j&&o.a.createElement("div",{className:"stems-unlocked"},Math.min(11,p)," / 11 STEMS UNLOCKED")),o.a.createElement("div",{className:"flex w-full"},o.a.createElement("iframe",{className:"spore-embed z-20 mx-auto",width:O?400:r?window.innerWidth:340,height:O?500:r?window.innerHeight:400,ref:N,src:y}),!b&&!g&&o.a.createElement(_e,{isWaveformRainbow:v,hideWaveform:h,buttonTextColor:k,playerRef:N}),!f.isMobile&&!h&&o.a.createElement(bt,{playerRef:N})))})),Pe=(r(1379),r(1380),r(392),r(594),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.videoURL,r=void 0===e?"https://zequencer.mypinata.cloud/ipfs/QmU6xYLumQ8TXiJXpNV3g5m5bwmeZDyigpagwdQ3b8wy7T":e,a=t.playerURL,i=void 0===a?"https://zequencer.mypinata.cloud/ipfs/".concat("Qmd2UjeaJkoeF5uE3dmwKQv6VY3NoAzsZFRGFsRcaUoTn3","/?tokenId=24&gallery=true"):a,s=t.lightweight,u=Object(n.useRef)(),l=Object(n.useRef)(),h=Object(n.useRef)(),d=j({ref:u,playerRef:h}),p=d.started,v=d.rewind,y=d.fastForward,g=d.isPlaying,w=d.uniforms,x=Object(n.useState)(!1),O=Object(c.a)(x,2),L=O[0],k=O[1];Object(n.useEffect)(function(){!f.isMobile&&p&&k(!0)},[p,k]),Object(n.useEffect)(function(){!g&&p?k(!0):g&&f.isMobile&&setTimeout(function(){k(!1)},1e3)},[g,k,p]);var S=Object(n.useCallback)(function(){f.isMobile&&k(!L)},[L,k]),N="drop nft-jacker jacked video-jacker";return f.isMobile&&!p&&(N+=" dark-setting"),s&&(N+=" lightweight"),o.a.createElement("div",{className:N},o.a.createElement(Ae,{hideWaveform:!0,isSimple:!0,playerRef:h,videoRef:u,innerControls:f.isMobile,songTitle:"VERIFIED FEAT. CHIIEF DIIN",artist:"HALEEK MAUL",hideControls:!0,url:i}),o.a.createElement("div",{className:"z-50 h-1/3 md:z-10 fixed md:h-full w-full flex items-center justify-center"},!s&&o.a.createElement(m,{canvasRef:l,started:p,videoRef:u,uniforms:w}),o.a.createElement("video",{preload:"auto",preLoad:"auto",onClick:S,className:"absolute md:h-2/3 md:w-auto md:top-1/2 md:left-1/2 md:transform md:-translate-x-1/2 md:-translate-y-1/2 w-full",style:{opacity:s?1:0},crossorigin:"",ref:u,muted:!0,playsInline:!0,src:r}),o.a.createElement(E,{videoRef:u,playerRef:h,started:p})),L&&o.a.createElement("div",{className:"play-controls z-50 absolute left-0 right-0 mx-auto w-4 md:w-28"},o.a.createElement("img",{onClick:v,className:"rew pushable",src:"/rewind-icon.svg"}),o.a.createElement(b,{isPlaying:g,play:function(){return function(t){t.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")}(h)}}),o.a.createElement("img",{onClick:y,className:"fwd pushable",src:"/fast-forward-icon.svg"})))})),Ge=(r(1381),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(){var t=Object(n.useState)(!1),e=Object(c.a)(t,2),r=e[0],a=e[1],i=Object(n.useState)(1),s=Object(c.a)(i,2),u=s[0],l=s[1];return r?o.a.createElement("div",{className:"gen3-info"},o.a.createElement("div",{onClick:function(){return a(!1)},className:"pushable exit-btn"},"x"),o.a.createElement("img",{onClick:function(){return u<3?l(u+1):0},className:"pitch-deck-image",src:"/spores-pitch-".concat(u,".jpg")}),o.a.createElement("div",{className:"page-navigator"},o.a.createElement("div",{className:u>1?"prev-btn":"prev-btn hide",onClick:function(){return l(u-1)}}),o.a.createElement("div",{className:"page-info"},u," / 3"),o.a.createElement("div",{className:u<3?"next-btn":"hide next-btn",onClick:function(){return l(u+1)}}))):o.a.createElement("div",{onClick:function(){return a(!0)},className:"gen3-btn pushable"},o.a.createElement("div",{className:"gen3-text"},"Gen3 Vision \ud80c\udf4a"))})),Me=(r(1382),function(t){var e=t.address,r=t.className,n=Object(wt.h)({address:e}),a=n.data;n.isError;return n.isLoading?"":o.a.createElement("span",{className:"ens-name "+r},null===a?qe(e):a)}),Re={};function Fe(t){var e=t.r,r=t.g,n=t.b;e/=255,r/=255,n/=255;var o=Math.min(e,r,n),a=Math.max(e,r,n),i=a-o,c=0,s=0;return c=0==i?0:a==e?(r-n)/i%6:a==r?(n-e)/i+2:(e-r)/i+4,(c=Math.round(60*c))<0&&(c+=360),s=(a+o)/2,{h:c,s:+(100*(0==i?0:i/(1-Math.abs(2*s-1)))).toFixed(1),l:s=+(100*s).toFixed(1)}}function De(t){return"hsl("+t.h+","+t.s+"%,"+t.l+"%)"}function ze(t){var e=(t=t.substring(4)).split(","),r=Object(c.a)(e,3),n=r[0],o=r[1],a=r[2],i=o.indexOf("%");return o=o.substring(0,i),i=a.indexOf("%"),a=a.substring(0,i),{h:parseFloat(n),s:parseFloat(o),l:parseFloat(a)}}function Be(t,e,r){r/=100;var n=e*Math.min(r,1-r)/100,o=function(e){var o=(e+t/30)%12,a=r-n*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return"#".concat(o(0)).concat(o(8)).concat(o(4))}var He=function(){function t(){Object(F.a)(this,t)}return Object(D.a)(t,[{key:"transparent",value:function(t,e){return t.slice(0,t.length-1)+", "+e+")"}},{key:"intToRGB",value:function(t){var e=(16777215&t).toString(16).toUpperCase();return"#"+"00000".substring(0,6-e.length)+e}},{key:"hueShift",value:function(t,e){var r=ze(t);return De({h:r.h+e,s:r.s,l:r.l})}},{key:"warm",value:function(t){return De({h:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:141)-t,s:arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l:50})}},{key:"compliment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=ze(t),n=r.h;return 0===n&&n++,De({h:n+=10*e%255,s:r.s,l:r.l})}},{key:"saturate",value:function(t,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,n=arguments.length>3?arguments[3]:void 0;if(t){if(t.startsWith("hsl")){var o=ze(t),a=o.h,i=o.s,c=o.l;return c*=r,n&&(c=n),t=De({h:a,s:i=Math.min(i*e,100),l:c})}var s=Fe(this.getRGB(t)),u=s.h,l=s.s,f=s.l;return f*=r,n&&(f=n),t=De({h:u,s:l=Math.min(l*e,100),l:f})}}},{key:"brighten",value:function(t,e){if(t.startsWith("hsl")){var r=ze(t);return De(r=function(t,e){var r=t.h,n=t.s,o=t.l;return{h:r,s:n,l:o*e}}(r,e))}var n=Re[t+"."+e];if(n)return n;var o=Math.min(255,Math.floor(parseInt(t.slice(1,3),16)*e)),a=Math.min(255,Math.floor(parseInt(t.slice(3,5),16)*e)),i=Math.min(255,Math.floor(parseInt(t.slice(5),16)*e));o=o.toString(16),a=a.toString(16),i=i.toString(16),1===o.length&&(o="0"+o),1===a.length&&(a="0"+a),1===i.length&&(i="0"+i);var c="#"+o+a+i;return Re[t+"."+e]=c,c}},{key:"getBrightness",value:function(t){var e=this.getRGB(t);return.299*e.r+.587*e.g+.114*e.b}},{key:"rawHSLToHex",value:function(t){return Be(t.h,t.s,t.l)}},{key:"hslToHex",value:function(t){var e=ze(t);return Be(e.h,e.s,e.l)}},{key:"getRGB",value:function(t){return{r:Math.floor(parseInt(t.slice(1,3),16)),g:Math.floor(parseInt(t.slice(3,5),16)),b:Math.floor(parseInt(t.slice(5),16))}}},{key:"rgbToHex",value:function(t){var e=Fe({r:t.r,g:t.g,b:t.b});return this.rawHSLToHex(e)}}]),t}();function Ue(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return We(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return We(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function We(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ye=new He;window.heatRoot=1.1,window.bucketSize=1,window.saturation=80;var Je=function(t,e){var r,n=t.sliderChanges,o=t.modeChanges,a=n.map(function(t){return Math.round((isNaN(t[0])?0:t[0])/e)}),i={},c=Ue(a);try{for(c.s();!(r=c.n()).done;){var s=r.value;i[s]||(i[s]=0),i[s]+=1}}catch(m){c.e(m)}finally{c.f()}a=o.map(function(t){return Math.round((isNaN(t[0])?0:t[0])/e)});var u,l=Math.max.apply(Math,Object(U.a)(Object.values(a))),f=Ue(a);try{for(f.s();!(u=f.n()).done;){var h=u.value;i[h]||(i[h]=0),i[h]+=16;for(var d=0,p=function(t){if(a.some(function(e){return e===t}))return"break";i[t]||(i[t]=0),i[t]+=50+d,d+=8},v=h+1;v<l;v++){if("break"===p(v))break}}}catch(m){f.e(m)}finally{f.f()}return i},qe=(Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.heat,r=t.width,n=void 0===r?54:r,a=t.height,i=void 0===a?10:a,c=t.center,s=void 0!==c&&c,u=t.saturation,l=void 0===u?200:u;t.duration;if(!e)return"";var f=54===n?2*window.bucketSize:window.bucketSize,h=Je(e,f),d=.75*Math.max.apply(Math,Object(U.a)(Object.values(h))),p=Math.max.apply(Math,Object(U.a)(Object.keys(h)));return o.a.createElement("svg",{className:"heatmap",width:n,height:10},Object.keys(h).map(function(t){return o.a.createElement("rect",{width:n>80?4:1,height:s?i*Math.min(1,Math.pow(h[t],window.heatRoot)/d):i,opacity:Math.min(1,Math.pow(h[t],window.heatRoot)/d),fill:Ye.warm(190*Math.min(1,Math.pow(h[t],window.heatRoot)/d),190,Math.min(1,Math.pow(h[t],window.heatRoot)/d)*l),x:n*t/p,y:s?i/2-i*Math.min(1,Math.pow(h[t],window.heatRoot)/d)/2:0})}))}),function(t){return t.slice(0,4)+".."+t.slice(-2)}),Ze=function(t){t||(t=0);var e=Math.floor(t/60),r=Math.floor(t-60*e);return r<10&&(r="0"+r),"".concat(e,":").concat(r)},Ke=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.songName,r=void 0===e?"":e,a=t.artist,i=void 0===a?"":a,s=(t.heat,t.externalURL),u=t.creator,l=t.audioUnit,h=t.store,d=t.spore,p=t.preset,v=t.setPreset,m=t.sporeMetadata,y=f.isMobile?230:500,w=Object(n.useRef)(),x=Object(n.useState)(!1),E=Object(c.a)(x,2),O=E[0],j=E[1],L=Object(n.useState)(void 0),k=Object(c.a)(L,2),S=k[0],N=k[1],I=Object(n.useRef)(0),T=Object(n.useState)(0),_=Object(c.a)(T,2),A=_[0],P=_[1],G=Object(n.useState)(),M=Object(c.a)(G,2),R=(M[0],M[1]);Object(n.useEffect)(function(){j(!1),P(0)},[d]),Object(n.useEffect)(function(){j(!1),P(0),N(void 0),I.current=0},[d,j,P,N]),C(Object(n.useCallback)(function(){var t=g.a.Master.context.currentTime-S;O&&P((t+I.current)/l.duration)},[O,P,S]),40);var F=Object(n.useCallback)(function(){O?(I.current=I.current+g.a.Master.context.currentTime-S,l.stopSound()):l.playSound(I.current),j(!O),N(g.a.Master.context.currentTime)},[O,P,j,l,S]),D=Object(n.useCallback)(function(t){t.stopPropagation(),R(void 0),O||j(!0);var e=t.clientX-w.current.getBoundingClientRect().left,r=e/y*l.duration;l.playSound(r),I.current=r,N(g.a.Master.context.currentTime),R(e),setTimeout(function(){R(void 0)},300)},[O,j,N,R,l]);return Object(n.useEffect)(function(){return function(){l&&l.stopSound()}},[l]),A=Math.min(100,A),o.a.createElement("div",{className:l?"audio-player":"audio-player disabled"},l&&o.a.createElement(b,{isPlaying:O,play:F}),o.a.createElement("div",{ref:w,onClick:D,className:"play-time-and-slider"},!l&&o.a.createElement("div",{className:"progress-container"},o.a.createElement(xe,null)),m&&o.a.createElement(ne,{setPreset:v,width:y,preset:p,progress:A,store:h,spore:m}),o.a.createElement("div",{className:"play-time"},l&&o.a.createElement("div",{className:"time"},Ze(A*l.duration)," / ",Ze(l.duration)),u&&o.a.createElement("div",{className:"creator"},"Remixed by ",o.a.createElement("span",{className:"wallet-address"},o.a.createElement("a",{target:"_blank",href:"https://etherscan.io/address/"+u},o.a.createElement(Me,{address:u}))))),o.a.createElement("div",{className:"song-title-and-author"},o.a.createElement("div",{className:"song-title"},r),o.a.createElement("div",{className:"song-creator"},"Original by ",o.a.createElement("span",{className:"creator-name"},o.a.createElement("a",{target:"_blank",href:s},i))))))}),Qe=(r(1383),r(1624)),Ve=r(1625),Xe=r(1626),$e=r(1627),tr=r(1628),er=r(1629),rr=r(1630),nr=r(1631),or=r(1632),ar=r(1633),ir=r(1634),cr=r(1635),sr=r(658),ur=r(659),lr=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.url,r=t.setShowModal,a=t.showShareModal,i=t.type,s=t.lowerGradInverted,u=t.buttonBgColor,l=Object(n.useState)(!1),h=Object(c.a)(l,2),d=h[0],p=h[1],v=e,m="Check out this song on Spores!";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"share-button pushable",onClick:function(t){t.stopPropagation(),r(!0)}},o.a.createElement(sr.a,{style:{fill:f.isMobile?s:u}})),a&&o.a.createElement("div",{className:"share-button-modal"},o.a.createElement("div",{className:"share-upper-container"},o.a.createElement("div",null,o.a.createElement("p",null,"remix"===i?"Share Remix":"Share Song")),o.a.createElement("div",{onClick:function(){return r(!1)},className:"share-close-button"},"x")),o.a.createElement("div",{className:"share-url-field"},o.a.createElement("p",null,e),o.a.createElement(ur.a,{className:"pushable",style:{color:d?"#84ff98":"white",cursor:"pointer"},onClick:function(){navigator.clipboard.writeText(e),p(!0)}})),o.a.createElement("div",{className:"share-icon-container"},o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Qe.a,{url:v,title:m},o.a.createElement(Ve.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Xe.a,{url:v,quote:m},o.a.createElement($e.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(tr.a,{url:v,title:m},o.a.createElement(er.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(rr.a,{url:v,title:m},o.a.createElement(nr.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(or.a,{url:v,title:m,separator:":: "},o.a.createElement(ar.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(ir.a,{url:v,subject:m},o.a.createElement(cr.a,{size:32,round:!0}))))))}),fr=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.remix,r=t.setRemix,n=t.songName,a=t.artist,i=t.externalURL,c=t.shareLink,s=re(e.sporeHash),u=s.audioPlayer;s.dispose;return o.a.createElement("div",{className:"remix-player"},o.a.createElement("div",{className:"pushable close-button",onClick:function(){return r(void 0)}},"x"),o.a.createElement(lr,{url:c||"spores.vision/play/"+e.collectionAddress+"/"+e.tokenId+"/"+e.sporeId,type:"remix"}),o.a.createElement(Ke,{externalURL:i,artist:a,songName:n,creator:e.creator,audioUnit:u,spore:e,sporeMetadata:e}))}),hr=r(295),dr=r.n(hr),pr=r(412),vr=r.n(pr),mr=(r(1384),r(660)),yr=r.n(mr),gr=(r(1386),function(t){var e=t.clear,r=t.isPlaying,n=t.data,a=t.setRemixToPlay,i=t.spTokenId,c=yr()(function(t,e){var r=e.size,n=vr()(t),o=dr()({h:n%360,s:.95,l:.5}),a=o.toHexString(),i=o.triad()[1].toHexString();return'<?xml version="1.0" encoding="UTF-8"?>\n    <svg width="'.concat(r,'px" height="').concat(r,'px" viewBox="0 0 61 61" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <defs>\n      <circle cx="30.658" cy="30.9537" r="30" fill="url(#paint0_radial_151_38)" fill-opacity="0.58"/>\n      <radialGradient id="paint0_radial_151_38" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(30.658 30.9537) rotate(90) scale(30)">\n            <stop stop-color="').concat(a,'"/>\n            <stop offset="1" stop-color="').concat(i,'" stop-opacity="0"/>\n        </radialGradient>\n      </defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <rect id="Rectangle" fill="url(#paint0_radial_151_38)" x="0" y="0" width="80" height="80"></rect>\n      </g>\n    </svg>')}(n.sporeHash,{size:60})),s="remix-list-item-container pushable";return r&&(s+=" playing"),o.a.createElement("div",{onClick:function(){a(n),f.isMobile&&e()},className:s},o.a.createElement("div",{className:"remix-icon",style:{backgroundImage:'url("'+c+'")'}}),o.a.createElement("div",{className:"remix-info-container"},n.sporeId?o.a.createElement("div",{className:"remix-number"},"Remix #",n.sporeId):o.a.createElement("div",{className:"remix-number"},"Remix (Pending)"),o.a.createElement("div",{className:"remix-created-on"},"Mixed on ",i||"SP-"+n.spTokenId),o.a.createElement("div",{className:"remix-address"},"By ",n.sporeId?o.a.createElement(Me,{address:n.creator}):"You")))}),br=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.creatorsToIgnore,r=void 0===e?[]:e,a=t.spTokenId,i=t.setRemixToPlay,s=t.remixToPlay,u=t.collectionAddress,l=t.tokenId,h=t.clear,d=Object(n.useState)([]),p=Object(c.a)(d,2),v=p[0],m=p[1],y=Object(n.useState)(),g=Object(c.a)(y,2),b=g[0],w=g[1];return Object(n.useEffect)(function(){u&&l&&Le(u,l).then(function(t){t=t.filter(function(t){return!r.includes(t.creator)}),m(t),w(0===t.length)})},[m,u,l]),o.a.createElement("div",{className:"remix-list-container"},f.isMobile&&o.a.createElement("div",{className:"remix-close-button-container"},o.a.createElement("div",{className:"pushable close-button",onClick:function(){return h()}},"x")),b&&o.a.createElement("div",{className:"no-remix-div"},"No remixes have been made for this song yet. You could be the first..."),v.map(function(t){return o.a.createElement(gr,{spTokenId:a,isPlaying:t===s,setRemixToPlay:i,clear:h,data:t})}))}),wr=(r(1387),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){return o.a.createElement("div",{className:"glossary-items"},o.a.createElement("div",{className:"helper-item item-1"},o.a.createElement("p",{className:"glossary-number"},"1"),o.a.createElement("p",{className:"glossary-term"},"CHANGE MODE"),o.a.createElement("p",{className:"glossary-definition"},"PRESS TO SWITCH TO LOOP MODE, ALLOWING YOU TO LOOP THE TRACK AND ACCESS SECONDARY SLIDERS*.")),o.a.createElement("div",{className:"helper-item item-2"},o.a.createElement("p",{className:"glossary-number"},"2"),o.a.createElement("p",{className:"glossary-term"},"JUICE / LOOP*"),o.a.createElement("p",{className:"glossary-definition"},'ADJUST THE AMOUNT OF "JUICE", THAT THE EXTERNAL LOOP CONTRIBUTES, OR LOOP A SECTION OF THE TRACK.')),o.a.createElement("div",{className:"helper-item item-3"},o.a.createElement("p",{className:"glossary-number"},"3"),o.a.createElement("p",{className:"glossary-term"},"PITCH UP / PITCH DOWN*"),o.a.createElement("p",{className:"glossary-definition"},"SLIDE TO RAISE THE PITCH AND SPEED UP, OR LOWER THE PITCH AND SLOW DOWN THE TRACK.")),o.a.createElement("div",{className:"helper-item item-4"},o.a.createElement("p",{className:"glossary-number"},"4"),o.a.createElement("p",{className:"glossary-term"},"STUTTER / SPACE*"),o.a.createElement("p",{className:"glossary-definition"},"CONTROL STUTTERING WHICH REPEATS THE TRACK OR ADD VASTNESS TO IT WITH SPACE.")),o.a.createElement("div",{className:"helper-item item-5"},o.a.createElement("p",{className:"glossary-number"},"5"),o.a.createElement("p",{className:"glossary-term"},"ACOUSTIFY / GATE*"),o.a.createElement("p",{className:"glossary-definition"},"RAISE THE GUITAR LEVELS OR CONTROL THE GATE EFFECT AT DIFFERENT RATES.")),o.a.createElement("div",{className:"helper-item item-6"},o.a.createElement("p",{className:"glossary-number"},"6"),o.a.createElement("p",{className:"glossary-term"},"CHANGE LOOP"),o.a.createElement("p",{className:"glossary-definition"},"SWITCH TO THE NEXT LOOP TO INTERWEAVE INTO THE TRACK.")))})),xr=["0xdc94060e37dcb8816188508536595019c8f0c98a","0x0fb5e3b3f254cbdccd69d31bcb0e92b83d381a0a"],Er=function(t){var e=t.tiny,r=t.simpleControls,a=t.zorbId,i=t.url,s=t.className,u=t.color,l=t.hideWaveform,f=t.collectionAddress,h=t.isSimple,d=t.thumbnail,p=t.tokenId,v=(t.askPrice,t.songTitle),m=t.artist,y=t.isFullScreen,g=t.children,b=Object(n.useState)(!1),w=Object(c.a)(b,2),x=(w[0],w[1],Object(n.useState)(3)),E=Object(c.a)(x,2),O=E[0],j=(E[1],Object(n.useState)()),L=Object(c.a)(j,2),k=L[0],S=L[1];return o.a.createElement("div",{className:s?"drop nft-jacker jacked "+s:"drop nft-jacker jacked"},o.a.createElement("div",{className:"connect-button-wrapper drop-top"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement(Ae,{tiny:e,zorbId:a,simpleControls:r,collectionAddress:f,color:u,isFullScreen:y,isSimple:h,tokenId:p,stems:O,isWaveformRainbow:!1,songTitle:v,hideWaveform:l,thumbnail:d,artist:m,url:i}),o.a.createElement("div",{className:"drop-description"},g,o.a.createElement(br,{spTokenId:"SP - IN MY SOUL",remixToPlay:k,setRemixToPlay:S,creatorsToIgnore:xr,collectionAddress:f,tokenId:p,clear:function(){return[]}}),!h&&o.a.createElement("div",{className:"drop-features"},"LISTEN. PLAY. JUICE. PITCH UP. GATE. WOBBLE. STUTTER. LOOP. SPACE. PITCH DOWN. REMIX."),!h&&o.a.createElement("div",{className:"spore-overview"},o.a.createElement("div",{className:"overview-header"},"SPORE OVERVIEW"),o.a.createElement("img",{src:"/spore.svg",className:"spore-overview-image"})),!h&&o.a.createElement(wr,null)))},Or=(r(393),r(595),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(n.useState)(!1),r=Object(c.a)(e,2),a=r[0],i=r[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1];return Object(n.useEffect)(function(){a&&setTimeout(function(){f(!0)},1e3)},[a,f]),o.a.createElement("div",{className:"next-gen"},!l&&o.a.createElement("div",{className:a?"enter-overlay hide":"enter-overlay"},o.a.createElement("div",{onClick:function(){return i(!0)},className:"inner-overlay"},o.a.createElement("img",{className:"",src:"/spore-logo-future2.jpeg"}),o.a.createElement("div",{className:"click-text"},"Click to Enter"))),l&&o.a.createElement(Ge,null),o.a.createElement(Er,{hideWaveform:!0,color:"black",url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmbtfXrV8ZUxM5PweH5EZKnpawpBDQsPHvn4Fk9rXzM3Vg","/?tokenId=32&gallery=true"),collectionAddress:"0x0000000000000000000000000000000000000001",isFullScreen:!0,tokenId:1,className:"thugger",artist:"Young Thug",isSimple:!0,songTitle:"Hop Out Ft. Wiz Kalifa"}))})),jr=(r(1388),r(1636)),Lr=r(1637),kr=r(1638),Sr=r(310);function Nr(){Nr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ir=Object(Sr.a)("https://tlgvdtldahlwcmdtdftl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRsZ3ZkdGxkYWhsd2NtZHRkZnRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzcwMTg5OTMsImV4cCI6MTk5MjU5NDk5M30.Yq1dNGz3lPIZmL2jN2GKMoKCoo9Al_RQkMRXjKDjEkc"),Tr=r(111);function _r(){_r=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Cr={endPoint:"https://api.zora.co/graphql",networks:[{network:Tr.ZDKNetwork.Ethereum,chain:Tr.ZDKChain.Mainnet}],apiKey:"ROLsxj1Z_MDY40UDQszIIw"},Ar=new Tr.ZDK(Cr),Pr=function(){var t=Object(R.a)(_r().mark(function t(e){var r;return _r().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!Gr(e)){t.next=2;break}return t.abrupt("return",!0);case 2:return t.next=4,Ar.tokens({where:{collectionAddresses:["0x4e30bd0c525466e1bbb0b9028a596260c12b1561"],ownerAddresses:[e]}});case 4:if(r=t.sent,0!==r.tokens.nodes.map(function(t){return t.token}).length){t.next=8;break}return t.abrupt("return",!1);case 8:return t.abrupt("return",!0);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Gr=function(t){return!1},Mr=function(t,e){var r="localhost"===window.location.hostname?"http://localhost:9090/":"https://zequencer.io/";console.log("hostname=",window.location.hostname,r),window.LOCAL_BACKEND_FLAG||(r="https://zequencer.io/"),console.log("triggering refresh=",e,t,r),fetch(r+"refreshContract/",{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({contractAddress:e,transactionHash:t})})},Rr=r(307),Fr=r(110),Dr=r.n(Fr),zr={goerli:"0xe0Da76A68731162f678E9acDFc91F2266bcDBA3C"},Br="0xBEEF8B1A18B376A82D87d1797359A7aDF09f3dCc";function Hr(){Hr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Ur(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Wr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wr(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Wr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}"0xdAA94fBd00C9a23B4e3b4f684d1103Ff1dDfF972".toLowerCase();var Yr=function(){var t=Object(R.a)(Hr().mark(function t(e,r,n,o,a){var i,s,u,l,f,h,d,p,v,m,y,g,b,w,x,E,O,j,L,k,S,N,I,T=arguments;return Hr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return i=T.length>5&&void 0!==T[5]?T[5]:1,s=T.length>6?T[6]:void 0,u=T.length>7?T[7]:void 0,l=T.length>8?T[8]:void 0,f=new vt(Br).from(rt).select("dropAddress").select("songId").where("songId",parseInt(n)),t.next=8,f.executeQuery();case 8:if((h=t.sent)[0]){t.next=11;break}return t.abrupt("return");case 11:d=h[0].dropAddress,p=a.stemIds,v=a.percentages,m=a.remixPercentages,y=[],g=Ur(p);try{for(g.s();!(b=g.n()).done;)b.value,y.push(Br)}catch(e){g.e(e)}finally{g.f()}for(w in m)x=w.split(","),E=Object(c.a)(x,2),O=E[0],j=E[1],y.push(O),p.push(parseInt(j)),v.push(Math.max(0,m[w]));return t.next=19,Object(Rr.a)({movements:a.movements,synths:a.synths,drums:a.drums});case 19:return L=t.sent,k={contentURI:"https://zequencer.mypinata.cloud/ipfs/"+o,coverArtURI:"https://zequencer.mypinata.cloud/ipfs/"+L,zorbId:i,stemPercentages:v.map(function(t){return Math.max(0,Math.round(t))}),bpm:s.toString(),detune:u.toString(),contractAddresses:y,ids:p},S=[d,r,k],console.log("mint price=",l),N={args:S,value:1e18*l},console.log("BODY TO MINT=",N),t.next=28,fetch("https://zequencer.io/gasless-spore",{method:"POST",body:JSON.stringify(N),headers:{Accept:"application/json","Content-Type":"application/json"}});case 28:return I=t.sent,t.next=31,I.json();case 31:return t.sent,t.abrupt("return","FUCK");case 33:case"end":return t.stop()}},t)}));return function(e,r,n,o,a){return t.apply(this,arguments)}}(),Jr=function(){function t(){Object(F.a)(this,t),this.abi=[{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"songId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"configId",type:"uint256"}],name:"NewDefaultSongConfiguration",type:"event"},{inputs:[{internalType:"string",name:"title",type:"string"},{internalType:"string",name:"artist",type:"string"},{internalType:"string[]",name:"stemURIs",type:"string[]"},{internalType:"enum Songs.StemType[][]",name:"stemTypes",type:"uint8[][]"},{internalType:"bool[]",name:"isLoops",type:"bool[]"},{internalType:"uint16[]",name:"durations",type:"uint16[]"},{internalType:"int16",name:"bpm",type:"int16"},{internalType:"int16",name:"bpmDecimal",type:"int16"},{internalType:"string",name:"key",type:"string"}],name:"newSong",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"songId",type:"uint256"},{indexed:!1,internalType:"string",name:"name",type:"string"},{indexed:!1,internalType:"string",name:"artist",type:"string"},{indexed:!1,internalType:"int16",name:"bpm",type:"int16"},{indexed:!1,internalType:"int16",name:"bpmDecimal",type:"int16"},{indexed:!1,internalType:"string",name:"key",type:"string"}],name:"NewSong",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"songId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stemId",type:"uint256"},{indexed:!1,internalType:"string",name:"uri",type:"string"},{indexed:!1,internalType:"uint16",name:"duration",type:"uint16"},{indexed:!1,internalType:"bool",name:"isLoop",type:"bool"}],name:"NewStem",type:"event"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"},{internalType:"string[]",name:"stemURIs",type:"string[]"},{internalType:"enum Songs.StemType[][]",name:"stemTypes",type:"uint8[][]"},{internalType:"uint16[]",name:"durations",type:"uint16[]"},{internalType:"bool[]",name:"isLoops",type:"bool[]"}],name:"newStems",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"stemId",type:"uint256"},{indexed:!1,internalType:"enum Songs.StemType",name:"stemType",type:"uint8"}],name:"NewStemType",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"configId",type:"uint256"},{indexed:!1,internalType:"uint256",name:"stemId",type:"uint256"}],name:"SongConfigurationStem",type:"event"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"},{internalType:"uint256[]",name:"stemIds",type:"uint256[]"}],name:"updateSongConfiguration",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"}],name:"getDefaultSongConfiguration",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"songId",type:"uint256"}],name:"getSong",outputs:[{components:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"artist",type:"string"},{internalType:"int16",name:"bpm",type:"int16"},{internalType:"int16",name:"bpmDecimal",type:"int16"},{internalType:"string",name:"key",type:"string"}],internalType:"struct Songs.Song",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"configId",type:"uint256"}],name:"getSongConfiguration",outputs:[{internalType:"uint256[]",name:"",type:"uint256[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stemId",type:"uint256"}],name:"getStem",outputs:[{components:[{internalType:"string",name:"uri",type:"string"},{internalType:"uint16",name:"duration",type:"uint16"},{internalType:"bool",name:"isLoop",type:"bool"}],internalType:"struct Songs.Stem",name:"",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"stemId",type:"uint256"}],name:"getStemTypes",outputs:[{internalType:"enum Songs.StemType[]",name:"",type:"uint8[]"}],stateMutability:"view",type:"function"}],this.contractAddress="0xBEEF8B1A18B376A82D87d1797359A7aDF09f3dCc"}return Object(D.a)(t,[{key:"getContract",value:function(t){return new t.eth.Contract(this.abi,this.contractAddress)}}]),t}();function qr(){qr=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Zr(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Kr(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Kr(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Kr(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Qr=(new Jr).contractAddress,Vr={},Xr=function(t){var e=void 0===t?-1:t;if(Vr[e])return Vr[e];var r=new Promise(function(){var t=Object(R.a)(qr().mark(function t(e){var r,n,o,a,i,c,s,u;return qr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new vt(Qr).from(ot),t.next=3,r.executeQuery();case 3:return n=t.sent,console.log("HIDDEN RESULTS=",n),o=new vt(Qr).from(V),t.next=8,o.executeQuery();case 8:a=t.sent,i=[],c=Zr(a),t.prev=11,u=function(){var t=s.value;if(i.some(function(e){return e.songId===t.songId}))return"continue";i.push(t)},c.s();case 14:if((s=c.n()).done){t.next=20;break}if("continue"!==u()){t.next=18;break}return t.abrupt("continue",18);case 18:t.next=14;break;case 20:t.next=25;break;case 22:t.prev=22,t.t0=t.catch(11),c.e(t.t0);case 25:return t.prev=25,c.f(),t.finish(25);case 28:e(i);case 29:case"end":return t.stop()}},t,null,[[11,22,25,28]])}));return function(e){return t.apply(this,arguments)}}());return Vr[e]=r,r};function $r(){$r=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var tn={},en=function(t){if(tn[t])return tn[t];var e=new Promise(function(){var e=Object(R.a)($r().mark(function e(r){var n,o,a;return $r().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xr();case 2:return n=e.sent,o=new vt(Br).from(rt).select("dropAddress").select("songId"),void 0!==t&&(o=o.where("songId",parseInt(t))),e.next=7,o.executeQuery();case 7:a=e.sent,void 0!==t?r(a[0].dropAddress):(a.forEach(function(t){return t.song=n.find(function(e){return e.songId===t.songId})}),r(a));case 9:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());return tn[t]=e,e};function rn(){rn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var nn={endPoint:"https://api.zora.co/graphql",networks:[{network:Tr.ZDKNetwork.Ethereum,chain:Tr.ZDKChain.Goerli}],apiKey:"ROLsxj1Z_MDY40UDQszIIw"},on=new Tr.ZDK(nn),an=function(){var t=Object(R.a)(rn().mark(function t(e,r){var n,o;return rn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r){t.next=9;break}return t.next=3,en(e);case 3:if((r=t.sent)&&r.dropAddress&&(r=r.dropAddress),!Array.isArray(r)){t.next=9;break}if(0!==r.length){t.next=8;break}return t.abrupt("return",[]);case 8:r=r[0].dropAddress;case 9:return t.prev=9,t.next=12,on.tokens({where:{collectionAddresses:[r]},includeFullDetails:!0});case 12:return n=t.sent,o=n.tokens.nodes.map(function(t){return t.token}),t.abrupt("return",o.map(function(t){return t.metadata||(t.metadata=sn(t.tokenUrl)),t.songId=e,t}).filter(function(t){return t.metadata}));case 17:return t.prev=17,t.t0=t.catch(9),t.abrupt("return",[]);case 20:case"end":return t.stop()}},t,null,[[9,17]])}));return function(e,r){return t.apply(this,arguments)}}(),cn=function(){var t=Object(R.a)(rn().mark(function t(e){var r,n,o,a;return rn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,en();case 2:return r=t.sent.map(function(t){return t.dropAddress}),t.next=5,on.tokens({where:{ownerAddresses:[e],collectionAddresses:r},includeFullDetails:!0});case 5:return n=t.sent,o=n.tokens.nodes.map(function(t){return t.token}),(a=o.map(function(t){return t.metadata||(t.metadata=sn(t.tokenUrl)),t}).filter(function(t){return t.metadata})).sort(function(t,e){return new Date(t.mintInfo.mintContext.blockTimestamp).getTime()-new Date(e.mintInfo.mintContext.blockTimestamp).getTime()}),t.abrupt("return",a);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),sn=function(t){if(t.indexOf("base64,")>=0){var e=atob(t.slice(t.indexOf("base64,")+"base64,".length));return JSON.parse(e)}return""},un=function(t){t.songId;var e=t.remixId,r=t.setRemixId,o=t.show,a=t.headless,i=t.remixes,s=t.playerRef,u=t.playStatus,l=Object(n.useState)(),f=Object(c.a)(l,2),h=f[0],d=f[1],p=Object(n.useState)(),v=Object(c.a)(p,2),m=v[0],y=v[1],g=Object(n.useState)(!0),b=Object(c.a)(g,2),w=b[0],x=b[1],E=re(m,w,!0),O=E.audioPlayer,j=E.stop,L=E.loading,k=E.togglePlay,S=E.startTime,N=E.isPlaying,I=E.play,T=Object(n.useRef)(!1);return Object(n.useEffect)(function(){h&&r(h.tokenId)},[h,r]),Object(n.useEffect)(function(){!o&&h&&(j(),d(void 0))},[d,h,o,j]),Object(n.useEffect)(function(){void 0===e&&(T.current=!0)},[]),Object(n.useEffect)(function(){if(void 0!==e&&!T.current){a||x(!1);var t=i.find(function(t){return t.tokenId===e});t&&(d(t),T.current=!0)}},[a,x,e,d,i]),Object(n.useEffect)(function(){if(h){var t=h.metadata.animation_url;y(t)}else y(void 0)},[h,O,i,y]),Object(n.useEffect)(function(){var t;o&&1===u&&(t=s.current,console.log("toggling playback"),t.contentWindow.postMessage({type:"toggle-play",body:!0},"*"))},[o,u,s]),{audioPlayer:O,playing:h,play:I,isPlaying:N,setAutoPlay:x,setPlaying:d,togglePlay:k,loading:L,startTime:S}},ln=Object(Sr.a)("https://tlgvdtldahlwcmdtdftl.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InRsZ3ZkdGxkYWhsd2NtZHRkZnRsIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzcwMTg5OTMsImV4cCI6MTk5MjU5NDk5M30.Yq1dNGz3lPIZmL2jN2GKMoKCoo9Al_RQkMRXjKDjEkc");function fn(){fn=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var hn=function(){var t=Object(R.a)(fn().mark(function t(e){var r,n;return fn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.includes("https://")&&("/ipfs/",r=e.indexOf("/ipfs/"),e=e.slice(r+"/ipfs/".length)),t.next=3,ln.from("unstable_leaks").insert([{content_uri:e}]);case 3:n=t.sent,n.data,n.error;case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),dn=function(){var t=Object(R.a)(fn().mark(function t(){return fn().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise(function(t){var e=ln.from("unstable_leaks").select("content_uri").then(function(e){var r=e.data;e.count,e.error;t(r.map(function(t){return t.content_uri}))});e.data,e.count,e.error}));case 1:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),pn={def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"},vn={def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"};function mn(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return yn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yn(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function yn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var gn=function(t,e){var r=t.find(function(t){return t.trait_type===e||t.traitType===e}),n=r&&r.value,o=parseFloat(n);return isNaN(o)?n:o},bn=function(t){if(!t)return{};var e,r={},n=mn(t.map(function(t){return t.trait_type||t.traitType}));try{for(n.s();!(e=n.n()).done;){var o=e.value;r[o]=gn(t,o)}}catch(a){n.e(a)}finally{n.f()}return r},wn=function(t){return"number"===typeof t?xn(t):t.code},xn=function(t){Math.floor(t);return t-Math.floor(t)==0?t.toString()+".0":t.toString()},En={code:"",functions:[],variables:[]},On=function(){for(var t=[],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var o=0,a=r;o<a.length;o++){var i=a[o];if("number"!==typeof i){var c=i.functions;c&&c.forEach(function(e){return t.push(e)})}}return t},jn=function(){return{variables:function(){for(var t=[],e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(var o=0,a=r;o<a.length;o++){var i=a[o];"number"!==typeof i&&(t=[].concat(Object(U.a)(t),Object(U.a)(i.variables)))}return t}.apply(void 0,arguments),functions:On.apply(void 0,arguments),code:""}},Ln=function(t,e){return"undefined"!==typeof e?{variables:e,functions:[],code:t}:Object(d.a)({},En,{code:t})},kn=function(){return{functions:[],variables:[{name:"uv",type:"vec2",value:Ln("(1.0*gl_FragCoord.xy-vec2(width, height))/height")}],code:"uv"}},Sn=function(){return In(kn())},Nn=function(t,e){return Object(d.a)({},t,{code:"(".concat(t.code,").").concat(e)})},In=function(t){return{x:Nn(t,"x"),y:Nn(t,"y"),z:Nn(t,"z"),w:Nn(t,"w")}},Tn=function(t,e){return Object(d.a)({},jn(t,e),{code:"vec2(".concat(wn(t),", ").concat(wn(e),")")})},_n=function(t,e,r){return Object(d.a)({},jn(t,e,r),{code:"vec3(".concat(wn(t),", ").concat(wn(e),", ").concat(wn(r),")")})},Cn=function(t,e,r,n){return Object(d.a)({},jn(t,e,r,n),{code:"vec4(".concat(wn(t),", ").concat(wn(e),", ").concat(wn(r),", ").concat(wn(n),")")})},An=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Object(d.a)({},jn.apply(void 0,r),{code:r.map(function(t){return"number"===typeof t?wn(t):t.code}).join(t)})},Pn=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return Object(d.a)({},jn.apply(void 0,r),{code:"".concat(t,"(").concat(r.map(function(t){return"number"===typeof t?wn(t):t.code}).join(","),")")})},Gn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return An.apply(void 0,["+"].concat(e))},Mn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return An.apply(void 0,["-"].concat(e))},Rn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return An.apply(void 0,["*"].concat(e))},Fn=function(t){return Pn("normalize",t)},Dn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Pn.apply(void 0,["pow"].concat(e))},zn=function t(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return 2===r.length?Pn.apply(void 0,["min"].concat(r)):Pn("min",r[0],t.apply(void 0,Object(U.a)(r.slice(1))))},Bn=function(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return 2===e.length?Pn.apply(void 0,["max"].concat(e)):Pn("max",e[0],zn.apply(void 0,Object(U.a)(e.slice(1))))},Hn=function(t,e,r){return Pn("mix",t,e,r)},Un=function(t,e){return Pn("dot",t,e)},Wn=function(t,e,r){return Pn("smoothstep",t,e,r)},Yn=function(t){return"\n ".concat(t.function.returnType," ").concat(t.name,"(").concat(t.function.args.map(function(t){var e=t.name,r=t.type;return"".concat(r," ").concat(e)}).join(","),") {\n     ").concat(Qn(t.function.body.variables),"\n     ").concat(t.function.body.code,"\n }\n ")};function Jn(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return qn(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qn(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function qn(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Zn=function(t){return"\nprecision mediump float;\nuniform float width;\nuniform float height;\n\n".concat(Kn(t.functions),"\nvoid main() {\n    ").concat(Qn(t.variables),"\n    gl_FragColor = ").concat(t.code,"; \n}\n    ")},Kn=function(t){var e,r="",n=[],o=Jn(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;n.includes(a.name)||(r+=Yn(a),n.push(a.name))}}catch(i){o.e(i)}finally{o.f()}return r},Qn=function(t){var e,r="",n=[],o=Jn(t);try{for(o.s();!(e=o.n()).done;){var a=e.value;n.includes(a.name)||(r+="".concat(a.type," ").concat(a.name," = ").concat(a.value.code,";"),n.push(a.name))}}catch(i){o.e(i)}finally{o.f()}return r},Vn=function(t){var e=t.ref,r=t.resolution,o=void 0===r?1:r,a=t.width,i=t.height,c=t.vertexShader,s=t.fragmentShader,u=t.className,l=Object(n.useRef)(),f=(Object(n.useRef)((new Date).getTime()),Object(n.useRef)()),h=Object(n.useRef)(),v=Object(n.useRef)(),m=Object(n.useRef)(),y=Object(n.useRef)();Object(n.useEffect)(function(){g(),b()},[]);var g=function(){if(!f.current){f.current=new p.n,f.current.setPixelRatio(2),f.current.setSize(a/o,i/o),f.current.setClearColor(0,0),l&&(l.current=f.current.domElement),f.current.domElement.classList.add(u),e.current.appendChild(f.current.domElement),h.current=new p.g,v.current=new p.a;var t=new p.f(2,2);m.current=Object(d.a)({},m.current,{width:new p.i(a/1),height:new p.i(i/1)});var r=new p.h({uniforms:m.current,vertexShader:c,fragmentShader:s});y.current=r;var n=new p.d(t,r);h.current.add(n)}};function b(){f.current.domElement&&f.current.render(h.current,v.current)}return Object(n.useEffect)(function(){y.current&&(y.current.fragmentShader=s,y.current.needsUpdate=!0,b())},[s]),Object(n.useEffect)(function(){},[a,i,o]),{}},Xn=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=0;return function(r){var n=t+"rectSDF"+e++,o={name:n,function:function(t){var e=t.x,r=t.y,n=t.radius,o=t.width,a=t.height;return{args:[{name:"p",type:"vec2"}],body:{variables:[],functions:[],code:"\n    p -= ".concat(Tn(e,r).code,";\n    vec4 r = ").concat(Cn(n,n,n,n).code,";\n    vec2 b = ").concat(Tn(o,a).code,";\n    r.xy = (p.x>0.0)?r.xy : r.zw;\n    r.x  = (p.y>0.0)?r.x  : r.y;\n    vec2 q = abs(p)-b+r.x;\n    return min(max(q.x,q.y),0.0) + length(max(q,0.0)) - r.x;\n")},returnType:"float"}}(r)};return Object(d.a)({},kn(),{functions:[o],code:"".concat(n,"(uv)")})}};function $n(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return to(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return to(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function to(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var eo=function(t,e,r,n){var o={name:r,function:n||ro(t,e)};return{variables:kn().variables,functions:[].concat(Object(U.a)(o.function.body.functions),[o]),code:"".concat(o.name,"(uv)")}},ro=function(t,e){var r=t.shapes.map(function(t){return e(t)});return{args:[{name:"uv",type:"vec2"}],body:{variables:[],functions:On.apply(void 0,Object(U.a)(r)),code:no(r,t.operation)},returnType:"float"}},no=function(t,e){var r="\n        float scene = 1000.0;\n        float a = 0.0;\n        float b = 0.0;\n        float k = 0.0;\n        float m = 0.0;\n        float h = 0.0;\n        float s = 0.0;\n    ";"SMOOTH_UNION"===e.type&&("number"===typeof e.factor?r+="k = ".concat(wn(e.factor),";"):r+="k = ".concat(e.factor.code,";"));for(var n=0;n<t.length;n++){var o=t[n];"SMOOTH_UNION"===e.type?r+=ao(o,e.factor):r+=oo(o)}return r+="\n    return scene;\n    "},oo=function(t){return"\n    a = ".concat(t.code,";\n    if (a < scene) {\n        scene = a;\n    }\n    ")},ao=function(t,e){return"\n    a = ".concat(t.code,";\n    b = scene;\n    \n    h = max( k-abs(a-b), 0.0 )/k;\n    m = pow(h, 1.55)*0.5;\n    s = m*k/1.55; \n\n    if (a < scene) {\n        scene = a - s;\n    } else {\n        scene = b - s;\n    }\n    ")},io=function(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return{variables:t.function.body.variables,functions:t.function.body.functions,code:"".concat(t.name,"(").concat(r.map(function(t){return"number"===typeof t?wn(t):t.code}).join(","),")")}},co=function(t){return Fn(_n(Mn(io(t,Tn(Gn(Sn().x,1e-4),Sn().y)),io(t,Tn(Mn(Sn().x,1e-4),Sn().y))),Mn(io(t,Tn(Sn().x,Gn(Sn().y,1e-4))),io(t,Tn(Sn().x,Mn(Sn().y,1e-4)))),2e-4))};function so(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return uo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uo(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function uo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lo=function(t,e){return 2==t?[{idx:e,width:2}]:3==t?[{idx:e,width:2}]:9===t?[{idx:e,width:2},{idx:e+1,width:2}]:6===t?[{idx:e,width:1},{idx:e+1,width:2}]:7===t?[{idx:e,width:2},{idx:e+1,width:1}]:[]},fo=function(t,e,r){switch(t){case 0:return[];case 1:return[0];case 2:return[0,e];case 3:return[0,1];case 4:return[0,1+e];case 5:return[0,e,2*e];case 6:return[0,1,2];case 7:return[0,1,1+e];case 8:return[0,1,e];case 9:return[0,1+e,e];case 10:return[0,1,e,1+e];case 11:return[0,1,2,3];case 12:return[0,1,2,e,1+e];case 13:return[0,1,2,1+e,2+e];case 14:return[0,1,e,1+e,2+e];default:return[]}},ho=function(t,e,r,o,a,i){var s=Object(n.useState)(Zn(Cn(1,1,1,1))),u=Object(c.a)(s,2),l=u[0],f=u[1];Object(n.useEffect)(function(){var r,n=function(t,e){for(var r=t.xCount,n=t.yCount,o=t.spacing,a=t.alternate,i=e.x,c=e.y,s=e.width,u=e.height,l=e.radius,f=[],h=i-r/2*(s+o.x*s)+1*s-.5*a.x*s,d=c-n/2*(u+o.y*u)+1*u-.5*a.y*u,p=0;p<r;p++)for(var v=0;v<n;v++){var m=v%2===1?a.x:0,y=p%2===1?a.y:0;f.push({type:"rectangle",x:h+p*(s+o.x*s)+m*s,y:d+v*(u+o.y*u)+y*u,width:s,height:u,radius:l})}return f}({xCount:4,yCount:4,spacing:{y:1.02,x:1.04},alternate:{y:0,x:1}},{type:"rectangle",x:(r={x:0,y:0,width:.18,height:.18,radius:.18}).x,y:r.y,width:r.width||0,height:r.height||0,radius:r.radius||0}),o=function(t,e){var r,n=e,o=Ln("10000000.0"),a=0,i=$n(t);try{for(i.s();!(r=i.n()).done;){var c=r.value;if(n=Hn(c.color,n,Wn(0,c.blur,c.sdf)),a>0&&c.intersect){var s=Bn(o,Gn(c.sdf,.05));n=Hn(c.intersectionColor,n,Wn(0,c.blur,Gn(s,.001)))}o=zn(o,c.sdf),a++}}catch(u){i.e(u)}finally{i.f()}return n}(function(t,e,r){var n,o=[],a=0,i=r.reverse(),c=Xn("yo"),s=so(t);try{for(s.s();!(n=s.n()).done;){var u=n.value,l="scene"+a,f={shapes:u,operation:e},h=ro(f,c),d={name:l+"smoothed",function:{returnType:"float",args:[{name:"uv",type:"vec2"}],body:{functions:[],variables:[],code:"return 1.8*pow(smoothstep(-0.10, .1981753576592919866, ".concat(l,"(uv)), 4.);")}}},p=co(d),v=_n(-.11,.2138,.151130192),m=Rn(.293913139,Un(v,p)),y=_n(.5238,-.83,1.3915195),g=Rn(.59951515132689,Un(y,p)),b=_n(-.41891595195,-.515939391,1.174419191918),w=Fn(Gn(v,b)),x=Fn(Gn(y,b)),E=Dn(Rn(1,Un(p,w)),24),O=Dn(Rn(1,Un(p,x)),12),j=Gn(E,O),L=eo(f,c,l,h);L.functions.push(d);var k={sdf:L,blur:.009,size:0,color:Rn(Gn(Rn(1.81513593,j),m,g),r[a%r.length]),intersect:a%3>0,intersectionColor:Rn(Gn(Rn(.81513593,j),m,g),i[a%r.length])};o.push(k),a++}}catch(S){s.e(S)}finally{s.f()}return o}(function(t,e,r,n){var o,a=[],i=0,c=so(t);try{for(c.s();!(o=c.n()).done;){var s=o.value,u=fo(s,e,r),l=[],f=lo(s,i);if(f.length>0){var h,p=so(f);try{for(p.s();!(h=p.n()).done;){var v=h.value,m=v.idx,y=v.width,g=n[m%n.length].width*y;l.push(Object(d.a)({},n[m%n.length],{x:n[m%n.length].x+(1==y?0:g/2),width:g}))}}catch(E){p.e(E)}finally{p.f()}}else{var b,w=so(u);try{for(w.s();!(b=w.n()).done;){var x=b.value;l.push(n[(i+x)%n.length])}}catch(E){w.e(E)}finally{w.f()}}a.push(l),i++}}catch(E){c.e(E)}finally{c.f()}return a}(t,4,4,n),{type:"SMOOTH_UNION",factor:.155},e),Cn(0,0,0,1)),a=Zn(o);f(a)},[e,f,t]),Vn({fragmentShader:l,resolution:1,width:o,height:a,ref:r,vertexShader:"\nvoid main() {\n    gl_Position = projectionMatrix * modelViewMatrix * vec4(\n      position, \n      1.0 );\n  }\n",className:i})},po=r(57),vo=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"approved",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"operator",type:"address"},{indexed:!1,internalType:"bool",name:"approved",type:"bool"}],name:"ApprovalForAll",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!0,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"approve",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"getApproved",outputs:[{internalType:"address",name:"operator",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"operator",type:"address"}],name:"isApprovedForAll",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"ownerOf",outputs:[{internalType:"address",name:"owner",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"safeTransferFrom",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"operator",type:"address"},{internalType:"bool",name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"tokenURI",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"from",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"transferFrom",outputs:[],stateMutability:"nonpayable",type:"function"}],mo={},yo=function(t){return new Promise(function(e){if(mo[t])e(mo[t]);else new(new Dr.a(new Dr.a.providers.HttpProvider("https://mainnet.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")).eth.Contract)(vo,"0xCa21d4228cDCc68D4e23807E5e370C07577Dd152").methods.tokenURI(t).call().then(function(r){var n="data:application/json;base64,";if(r.startsWith(n)){var o=atob(r.slice(n.length)),a=JSON.parse(o);mo[t]=a.image,e(a.image)}})})},go=function(t){var e=t.zorbId,r=Object(po.a)(t,["zorbId"]),a=Object(n.useState)(void 0),i=Object(c.a)(a,2),s=i[0],u=i[1];return Object(n.useEffect)(function(){void 0!==e&&yo(e).then(u)},[u,e]),s?o.a.createElement("img",Object.assign({},r,{src:s})):""},bo=function(t){for(var e,r=new Uint8Array(4*t),n=0;n<4*t;n++)r[n]=255;return function(n,o){for(var a=new Uint8Array(4*t),i=0;i<t;i++){var c=4*i;a[c]=o?(n[i]+1)/2*255:n[i],a[c+1]=0,a[c+2]=0,a[c+3]=0}return r.set(a,0),e||(e=new p.b(r,t,1)),e.needsUpdate=!0,e}},wo=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.coord,r=t.audioPlayer,a=t.headless,i=Object(n.useRef)(),s=Object(n.useRef)(),u=Object(n.useRef)(bo(512)),l=Object(n.useRef)(),f=Object(n.useRef)(bo(512)),h=Object(n.useState)({x:e.x,y:e.y,leftChannel:u.current(new Array(512).fill(255),!0),rightChannel:f.current(new Array(512).fill(255),!0)}),v=Object(c.a)(h,2),m=v[0],y=v[1];Object(n.useEffect)(function(){},[e,y]);var g=function(t){var e=t.canvasRef,r=t.ref,o=t.resolution,a=void 0===o?1:o,i=t.width,c=t.height,s=t.vertexShader,u=void 0===s?"\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(\n    position, \n    1.0 );\n}\n":s,l=t.fragmentShader,f=t.uniforms,h=Object(n.useRef)((new Date).getTime()),v=Object(n.useRef)(),m=Object(n.useRef)(),y=Object(n.useRef)(),g=Object(n.useRef)({}),b=Object(n.useRef)();Object(n.useEffect)(function(){w()},[]);var w=function(){v.current=new p.n,v.current.setPixelRatio(2),v.current.setSize(i/a,c/a),v.current.setClearColor(0,0),e&&(e.current=v.current.domElement),r.current.appendChild(v.current.domElement),m.current=new p.g,y.current=new p.a;var t=new p.f(2,2);g.current=Object(d.a)({},g.current,{x:{value:20},y:{value:40},width:{value:i/2},height:{value:c/2}}),x(g.current,f);var n=new p.h({uniforms:g.current,vertexShader:u,fragmentShader:l});b.current=n;var o=new p.d(t,n);m.current.add(o)};Object(n.useEffect)(function(){g.current.width.value=i,g.current.height.value=c,v.current.setSize(i/a,c/a)},[i,c,a]);var x=function(t,e){for(var r in e)r in t?t[r].value=e[r]:(t[r]={value:e[r]},isNaN(e[r])&&(t[r].type="t")),isNaN(e[r])&&(t[r].type="t",t[r].value.needsUpdate=!0)};function E(){if(v.current.domElement){b.current.uniforms.time={value:((new Date).getTime()-h.current)/1e3},b.current.needsUniformUpdate=!0,b.current.needsUpdate=!0;var t="leftChannel";"t"===b.current.uniforms[t].type&&(b.current.uniforms[t].value.needsUpdate=!0,b.current.uniforms[t].value),v.current.render(m.current,y.current)}}return Object(n.useEffect)(function(){for(var t in f)t in b.current.uniforms?b.current.uniforms[t].value=f[t]:(b.current.uniforms[t]={value:f[t]},isNaN(f[t])&&(b.current.uniforms[t].type="t")),isNaN(f[t])&&(b.current.uniforms[t].type="t",b.current.uniforms[t].value.needsUpdate=!0);b.current&&(b.current.needsUpdate=!0),E()},[f]),{updateUniforms:Object(n.useCallback)(function(t){x(g.current,t),E()},[])}}({ref:i,canvasRef:s,width:130,height:130,uniforms:m,fragmentShader:"\n\nuniform float x;\nuniform float y;\nuniform float width;\nuniform float height;\nuniform float time;\nuniform sampler2D leftChannel;\nuniform sampler2D rightChannel;\nuniform sampler2D imageTexture;\n\nfloat piecewise(sampler2D iChannel0, float x, float res) {\n    float xTimesRes = x * res;\n\n    // Left sample point:\n    float x1 = floor(xTimesRes) / res;\n    float y1 = texture(iChannel0, vec2(x1, 0.0)).x;\n\n    // Right sample point:\n    float x2 = ceil(xTimesRes) / res;\n    float y2 = texture(iChannel0, vec2(x2, 0.0)).x;\n\n    // Prevent small breaks in the line:\n    x2 += 0.001;    \n\n    // Fit half of a sine wave between sample points:\n    float sine = sin(((x - x1) / (x2 - x1) * 2.0 - 1.0) * 1.5707963267);\n    return y1 + (0.5 + 0.5 * sine) * (y2 - y1);\n}\n\nvec2 getOscPoint(float x) {\n\n   float alignment = 0.9375;\n   float returnTuning = .224399476;\n\n   float left = x * alignment;\n   float right = fract(x - returnTuning / alignment) * alignment;\n    \n   float pointX = piecewise(leftChannel,left, 40.0);\n   float pointY = piecewise(rightChannel,right, 40.0);\n\n   return vec2(pointX, pointY);\n}\n\nfloat getStereo(vec2 uv) {\n    int samples = 500;\n    float oneOverN = 1.0 / float(samples);\n    \n    float posOffset = 0.0;\n    float timeOffset = 0.0;\n    float xOffset = fract(posOffset + timeOffset) * oneOverN;\n    float lineWidth = 0.001;\n    \n    float acc = 0.0;\n    for (int i = 0; i < samples; i++) {\n        float x = float(i) * oneOverN + xOffset;\n        vec2 point = getOscPoint(x);\n\n        vec2 pa = point - uv;\n        float d = dot(pa, pa);\n        \n        acc += 1.0 / (d + lineWidth*lineWidth); // Inverse square law\n    }\n\t\n    return acc * oneOverN * 3.01 * lineWidth;\n}\n\n\nvoid main() {\n  vec2 uv = (1.0*gl_FragCoord.xy-vec2(width, height))/height + vec2(1.0, 1.0);\n\n  float o = getStereo(uv*.5);\n  gl_FragColor = vec4(o, o,o ,o);\n  //gl_FragColor = vec4(texture2D(rightChannel, vec2(gl_FragCoord.x/width, gl_FragCoord.y/height)).xy, 0.0, 1.0);\n}\n"}).updateUniforms;return C(Object(n.useCallback)(function(){if(r){var t=[r.leftWaveform.getValue(),r.rightWaveform.getValue()],e=t[0],n=t[1],o=u.current(e,!0),a=f.current(n,!0);o.needsUpdate=!0,a.needsUpdate=!0;var i=Object(d.a)({},m,{leftChannel:o,rightChannel:a});g(i),l.current=o}},[r,y,m]),a?4:35),o.a.createElement("div",{ref:i,className:"shader-square absolute"})});r(1397);function xo(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Eo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Eo(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Eo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Oo=function(t){var e=t.x,r=t.y;return{x:65+130*(e*=.45),y:130-(65+130*(r*=.45))}},jo=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.headless,r=t.remix,a=t.audioPlayer,i=t.animationData,s=t.isPlaying,u=t.duration,l=Object(n.useRef)(),f=Object(n.useState)({x:65,y:65}),h=Object(c.a)(f,2),d=h[0],p=h[1],v=Object(n.useState)(),m=Object(c.a)(v,2),y=m[0],g=m[1],b=Object(n.useState)(),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(n.useState)([]),j=Object(c.a)(O,2),L=j[0],k=j[1],S=Object(n.useState)([]),N=Object(c.a)(S,2),I=N[0],T=N[1];Object(n.useEffect)(function(){if(i)if(i.synths){for(var t=Array.from(new Set(i.synths.map(function(t){return t.stemId}).filter(function(t){return t}))),e=t.length;e<3;e++)t.push(-1);T(t);for(var r=(t=Array.from(new Set(i.drums.map(function(t){return t.stemId}).filter(function(t){return t})))).length;r<3;r++)t.push(-1);k(t)}else k([-1,-1,-1]),T([-1,-1,-1]);else p(Oo(0))},[i,k,T,p]),Object(n.useEffect)(function(){s&&(l.current=(new Date).getTime())},[s]),C(Object(n.useCallback)(function(){if(s&&i){var t=(new Date).getTime()-l.current;t/=1e3,t%=u;var e,r=i,n=[],o=[];i.movements&&(r=i.movements,o=i.drums,n=i.synths);var a,c=xo(r);try{for(c.s();!(a=c.n()).done;){var f=a.value,h=f.time,d=f.movement;if(t<=h){p(Oo(e||d));break}e=d}}catch(N){c.e(N)}finally{c.f()}var v,m=void 0,y=xo(o);try{for(y.s();!(v=y.n()).done;){var b=v.value,w=b.time,x=b.stemId;if(t<=w){g(void 0===m?x:m);break}m=void 0===x?null:x}}catch(N){y.e(N)}finally{y.f()}m=void 0;var O,j=xo(n);try{for(j.s();!(O=j.n()).done;){var L=O.value,k=L.time,S=L.stemId;if(t<=k){E(void 0===m?S:m);break}m=void 0===S?null:S}}catch(N){j.e(N)}finally{j.f()}}},[p,s,i,u,E,g]),50);var _=r&&r.metadata.attributes.find(function(t){return"zorb"===t.trait_type}).value;return o.a.createElement("div",{className:"player-animation"},o.a.createElement("div",{className:"relative"},o.a.createElement(wo,{headless:e,audioPlayer:a,coord:d}),o.a.createElement(go,{style:{left:d.x,top:d.y},className:"player-zorb absolute z-30 w-8 h-8",zorbId:_}),o.a.createElement("svg",{className:"animation-background absolute z-1 top-0 left-0"},o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"2",dy:"1",stdDeviation:"2","flood-opacity":"0.25"}),"),"),o.a.createElement("linearGradient",{id:"linear-gradient",x1:d.x+"%",y1:d.y+"%",x2:"75%",y2:"0%"},o.a.createElement("stop",{offset:"-20%","stop-color":"#6f6d6d"}),o.a.createElement("stop",{offset:"50%","stop-color":"#c9c4c4"}),o.a.createElement("stop",{offset:"100%","stop-color":"#6f6d6d"}))),o.a.createElement("path",{filter:"url(#shadow)",d:"M70 20C70 8.95431 61.0457 0 50 0C38.9543 0 30 8.9543 30 20C30 20 31.0457 30 20 30C8.95431 30 0 38.9543 0 50C0 61.0457 8.9543 70 20 70C31.0457 70 30 80 30 80C30 91.0457 38.9543 100 50 100C61.0457 100 70 91.0457 70 80C70 80 68.9543 70 80 70C91.0457 70 100 61.0457 100 50C100 38.9543 91.0457 30 80 30C68.9543 30 70 20 70 20Z",fill:"white"}),o.a.createElement("path",{filter:"url(#shadow)",d:"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z",stroke:"black","stroke-opacity":"0.6"}),o.a.createElement("path",{filter:"url(#shadow)",d:"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z",stroke:"black","stroke-opacity":"0.6"}),o.a.createElement("path",{filter:"url(#shadow)",d:"M69.4992 80.0145L69.5 80.0231C69.4875 90.782 60.7618 99.5 50 99.5C39.2381 99.5 30.5125 90.782 30.5 80.0231L30.5008 80.0145C30.5027 79.9926 30.5052 79.9614 30.5079 79.9215C30.5133 79.8418 30.5195 79.7273 30.5232 79.5831C30.5306 79.295 30.5281 78.8866 30.4892 78.3979C30.4117 77.4232 30.1884 76.1132 29.5985 74.7957C29.0067 73.474 28.0441 72.1413 26.4932 71.1422C24.9425 70.1432 22.8384 69.5 20 69.5C9.23045 69.5 0.5 60.7696 0.5 50C0.5 39.2304 9.23045 30.5 20 30.5C22.8384 30.5 24.9425 29.8568 26.4932 28.8578C28.0441 27.8587 29.0067 26.526 29.5985 25.2043C30.1884 23.8868 30.4117 22.5768 30.4892 21.6021C30.5281 21.1134 30.5306 20.705 30.5232 20.4169C30.5195 20.2727 30.5133 20.1582 30.5079 20.0785C30.5052 20.0386 30.5027 20.0074 30.5008 19.9855L30.5 19.9769C30.5125 9.21797 39.2381 0.5 50 0.5C60.7618 0.5 69.4875 9.21797 69.5 19.9769L69.4992 19.9855C69.4973 20.0074 69.4948 20.0386 69.4921 20.0785C69.4867 20.1582 69.4805 20.2727 69.4768 20.4169C69.4694 20.705 69.4719 21.1134 69.5108 21.6021C69.5883 22.5768 69.8116 23.8868 70.4015 25.2043C70.9933 26.526 71.9559 27.8587 73.5068 28.8578C75.0575 29.8568 77.1616 30.5 80 30.5C90.7695 30.5 99.5 39.2304 99.5 50C99.5 60.7696 90.7695 69.5 80 69.5C77.1616 69.5 75.0575 70.1432 73.5068 71.1422C71.9559 72.1413 70.9933 73.474 70.4015 74.7957C69.8116 76.1132 69.5883 77.4232 69.5108 78.3979C69.4719 78.8866 69.4694 79.295 69.4768 79.5831C69.4805 79.7273 69.4867 79.8418 69.4921 79.9215C69.4932 79.9375 69.4942 79.9521 69.4952 79.9653C69.4967 79.985 69.4981 80.0014 69.4992 80.0145Z",stroke:"black","stroke-opacity":"0.6"}),I.map(function(t,e){return o.a.createElement("circle",{className:"synth-option",cx:39+11*e,cy:1===e?12:20,r:"2",fill:x===t?To("0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc "+t):"#54545494"})}),L.map(function(t,e){return o.a.createElement("circle",{cx:39+11*e,cy:1===e?88:80,r:"2",fill:y===t?To("0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc "+t):"#54545494"})}),o.a.createElement("rect",{x:"30",y:"30",width:"40",height:"40",rx:"15",fill:"#16161682"}))))});r(1398);function Lo(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return ko(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ko(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ko(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var So=r(602),No=(new Jr).contractAddress,Io=new He,To=function(t,e){var r=So(t),n=Io.getRGB(r),o=n.r,a=n.g,i=n.b;Math.abs(o/a-1)<.1&&(a/=14,o*=4.5,r=Io.rgbToHex({r:o,g:a,b:i}));return Io.hslToHex(Io.saturate(r,4.2,1,50))},_o=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.headless,r=t.audioPlayer,a=t.drops,i=t.stats,s=t.remix,u=t.remixDNA,l=t.attributes,f=t.animationData,h=t.duration,d=t.isPlaying,p=Object(n.useRef)(),v=Object(n.useState)({}),m=Object(c.a)(v,2),y=m[0],g=m[1],b=Object(n.useState)([0,14,0,0,2,1,4,0,13,0,0,0,0,1,4,1]),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(n.useState)([Cn(1,1,1,1)]),j=Object(c.a)(O,2),L=j[0],k=j[1];ho(x,L,p,245,235,"puzzle-shader"),Object(n.useEffect)(function(){if(s){var t=function(t){var e,r=Object.keys(t).filter(function(t){return t.includes("Stem")}),n=[],o={},a=Lo(r);try{for(a.s();!(e=a.n()).done;){var i=e.value,s=i.split(" "),u=Object(c.a)(s,3),l=(u[0],u[1]),f=u[2];f=f.slice&&parseInt(f.slice(1)),"0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc"===l&&(n.push(f),o[l+" "+f]=parseFloat(t[i]))}}catch(h){a.e(h)}finally{a.f()}return Object.keys(o).sort(function(t,e){return o[e]-o[t]}).slice(0,2).map(function(t){return To(t,50)})}(l);2!==t.length&&(t=["#ff0000","#0000ff"]);var e=Io.getRGB(t[0]),r=Io.getRGB(t[1]);e=Cn(e.r/255,e.g/255,e.b/255,1),r=Cn(r.r/255,r.g/255,r.b/255,1);var n=[Hn(e,r,Rn(Rn(.4,Sn().x),Sn().y)),Hn(r,e,Gn(Sn().x,Sn().y)),Hn(Cn(-.2,-.2,-.2,1),Cn(.01,.01,.01,1),Rn(Sn().x,Sn().y)),Hn(e,r,Rn(Rn(4,Sn().x),Sn().y))];E(function(t,e){var r=Object.keys(t).filter(function(t){return t.includes("Stem")}),n=[];if(r.length<3){for(var o=0;o<r.length;o++)n.push(0);n.push(5)}var a,i=Lo(r);try{for(i.s();!(a=i.n()).done;){var s=a.value,u=s.split(" "),l=Object(c.a)(u,3),f=(l[0],l[1],l[2]);f=f.slice&&parseInt(f.slice(1));var h=parseFloat(t[s]);n.push(1+Math.min(13,Math.floor(16*h/100))),n.push(1),n.push(0)}}catch(d){i.e(d)}finally{i.f()}return n}(l)),k(n)}},[s,k,l]),Object(n.useEffect)(function(){if(l){var t,e={},r=Object.keys(l).filter(function(t){return t.includes("Stem")}),n=[],o={},a=Lo(r);try{for(a.s();!(t=a.n()).done;){var i=t.value,s=i.split(" "),u=Object(c.a)(s,3),f=(u[0],u[1]),h=u[2];h=h.slice&&parseInt(h.slice(1)),"0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc"===f&&(n.push(h),o[h]=l[i])}}catch(d){a.e(d)}finally{a.f()}new vt(No).from(X).whereIn("stemId",n).executeQuery().then(function(t){var r=t.map(function(t){return t.songId});new vt(No).from(V).whereIn("songId",r).executeQuery().then(function(r){var n,a=Lo(t);try{var i=function(){var t=n.value,a=r.find(function(e){return e.songId===t.songId});if(!a)return"continue";var i=a.title;e[i]||(e[i]=[]),t.percentage=o[t.stemId],e[i].push(t)};for(a.s();!(n=a.n()).done;)i()}catch(d){a.e(d)}finally{a.f()}g(e)})})}},[l,u,g]);var S=l&&Object.keys(l).filter(function(t){return t.includes("Stem")});i=i&&i.zorbDNA;var N={};if(S){var I,T=Lo(S);try{var _=function(){var t=I.value,e=t.split(" "),r=Object(c.a)(e,3),n=(r[0],r[1]),o=r[2];o=o.slice&&parseInt(o.slice(1));var a=i&&i[n]&&i[n],s=a&&a.find(function(t){return parseInt(t.tokenId)===o}),u=s&&s.zorbId;N[n]||(N[n]=[]);var f=l[t];N[n].push({zorbId:u,contractAddress:n,tokenId:o,percentage:f})};for(T.s();!(I=T.n()).done;)_()}catch(C){T.e(C)}finally{T.f()}}return Object(n.useEffect)(function(){},[s]),o.a.createElement("div",{ref:p,className:"remix-dna-details relative"},Object.keys(N).map(function(t){return"0xbeef8b1a18b376a82d87d1797359a7adf09f3dcc"===t?Object.keys(y).map(function(e){return o.a.createElement("div",{className:"contract-container relative"},o.a.createElement("div",{className:"flex flex-wrap"},y[e].map(function(e){return o.a.createElement("div",{style:{width:8*e.percentage/100,height:8*e.percentage/100,borderRadius:8*e.percentage/100,backgroundColor:To(t+" "+e.stemId)},className:"remix-atom"})})),o.a.createElement("div",{className:"drop-name"},e))}):o.a.createElement("div",{className:"contract-container relative"},o.a.createElement("div",{className:"flex flex-wrap"},N[t].map(function(e){return e.zorbId?o.a.createElement(go,{zorbId:e.zorbId,style:{width:8*e.percentage/100,height:8*e.percentage/100}}):o.a.createElement("div",{style:{width:8*e.percentage/100,height:8*e.percentage/100,borderRadius:8*e.percentage/100,backgroundColor:To(t+" "+e.tokenId)},className:"remix-atom"})})),o.a.createElement("div",{className:"drop-name text-center"},a[t]?a[t].title+" \ud80c\udf4a":"stems"))}),o.a.createElement(jo,{headless:e,audioPlayer:r,remix:s,animationData:f,isPlaying:d,duration:h}),o.a.createElement("div",{className:"remix-bpm text-xs rounded-full px-3 flex absolute bottom-2 right-2"},o.a.createElement("span",{className:"text-zinc-100"},l&&Math.round(l.bpm)),o.a.createElement("span",{className:"ml-2 "},"BPM")))}),Co="N",Ao="S",Po="W",Go="E",Mo=function(t,e){switch(t){case Co:return" c 0 -5 0 -5 0 -".concat(e);case Ao:return" c 0 5 0 5 0 ".concat(e);case Go:return" c 5 0 5 0 ".concat(e," 0");case Po:return" c -5 0 -5 0 -".concat(e," 0")}},Ro=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:50;switch(t){case"SW":return" c 0, ".concat(e,", ").concat(e,", ").concat(e," ").concat(e,", ").concat(e," ");case"SE":return" c ".concat(e,", 0 ").concat(e,", -").concat(e," ").concat(e,", -").concat(e," ");case"NE":return" c 0, -".concat(e," -").concat(e,", -").concat(e," -").concat(e,", -").concat(e," ");case"NW":return" c -".concat(e,", 0 -").concat(e,", ").concat(e," -").concat(e,", ").concat(e," ")}},Fo=function t(e,r,n,o){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{sideLength:e,nextLength:r},c=function(t){return t>e?"":(e-=t,Mo(o,t))};return{go:c,smooth:function(t,n,a){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;if(a>e)return c(a-e);switch(e-=Math.abs(a),r-=n,o){case Ao:return" c 0,".concat(t," ").concat(n,",").concat(i," ").concat(n,",").concat(a," ");case Go:return" c ".concat(t,",0 ").concat(i,",").concat(-n," ").concat(a,",").concat(-n," ");case Co:return" c 0,".concat(-t," ").concat(-n,",").concat(-i," ").concat(-n,",").concat(-a," ");case Po:return" c ".concat(-t,",0 ").concat(-i,",").concat(n," ").concat(-a,",").concat(n," ")}},complete:function(){var t=Ro(o===Ao?"SW":o===Co?"NE":o===Go?"SE":"NW",n);return Mo(o,e)+" "+t},next:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;return t(r,i.sideLength,e,o===Ao?Go:o===Go?Co:o===Po?Ao:Po,a+1,{sideLength:i.nextLength,nextLength:i.sideLength})}}};function Do(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return zo(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return zo(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function zo(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Bo=function(t,e,r,n){var o=e%2===0?n:r,a=e%2===0?r:n;return Array.isArray(t)?[o*t[0]/100,a*t[1]/100,o*t[2]/100]:o*t/100},Ho=function(t,e,r){var n,o=e,a=r,i=Do(t.filter(function(t){return"attribute"===t.type}));try{for(i.s();!(n=i.n()).done;){var c=n.value;"radius"===c.value.type&&(o=c.value.value),"relative"===c.type&&(a=c.value)}}catch(s){i.e(s)}finally{i.f()}return{radius:o,relative:a}},Uo=function(t){var e,r=[],n=Do(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;o.operations?r=[].concat(Object(U.a)(r),Object(U.a)(o.operations)):r.push(o)}}catch(a){n.e(a)}finally{n.f()}return r},Wo=function(t,e){return{type:"attribute",value:{type:t,value:e}}},Yo=function(t){return{type:"walk",value:t}},Jo=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:15,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:20;return{depth:function(r){return t(e,r,n,o)},tension:function(o){return t(e,r,n,o)},start:function(e){return t(e,r,n,o)},end:function(n){return t(e,r,n,o)},mirror:function(){return t(e,-r,n,o)},type:"smooth",value:[e,r,n,o]}},qo=function t(e,r,n){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,a=arguments.length>4?arguments[4]:void 0,i=Jo(e,r,n),c=Jo(e,-o*r,n);return{factor:function(o){return t(e,r,n,o,a)},walk:function(a){return t(e,r,n,o,a)},operations:a?[i,Yo(a),c]:[i,c]}},Zo=function(t){return Wo("radius",t)},Ko=(r(1406),function(t){var e=t.top,r=void 0===e?0:e,a=t.children,i=t.svgFilter,s=t.fill,u=void 0===s?"#0000008c":s,l=t.stroke,f=void 0===l?"white":l,h=t.className,d=void 0===h?"":h,p=t.algo,v=void 0===p?[]:p,m=t.relative,y=void 0===m||m,g=t.radius,b=void 0===g?60:g,w=Object(n.useRef)(),x=Object(n.useState)({width:0,height:0}),E=Object(c.a)(x,2),O=E[0],j=E[1],L=Object(n.useCallback)(function(){if(w.current){var t={width:w.current.offsetWidth,height:w.current.offsetHeight};j(t)}},[j]);Object(n.useEffect)(function(){new ResizeObserver(L).observe(w.current)},[]);var k=Math.max(20,O.width-2*b),S=Math.max(20,O.height-2*b),N=((new Date).getTime(),function(t){var e,r=t.radius,n=t.algo,o=t.relative,a=t.width,i=t.height,c=t.top,s="M 0, ".concat(r+(void 0===c?0:c)," "),u=void 0,l=0,f=0,h=0,d=r,p=Do(n);try{for(p.s();!(e=p.n()).done;){var v=e.value,m=Ho(v,d,o),y=(m._radius,m._relative);void 0===y&&(y=o),v=v.filter(function(t){return"attribute"!==t.type});var g=Uo(v),b=0;u||(u=Fo(i,a,r,Ao));var w,x=Do(g);try{for(x.s();!(w=x.n()).done;){var E,O=w.value,j=y?Bo(O.value,l,a,i):O.value;"walk"===O.type?s+=u.go(j):(b+=j[1],s+=(E=u).smooth.apply(E,Object(U.a)(j)))}}catch(L){x.e(L)}finally{x.f()}s+=u.complete(),u=u.next(),b<0&&(l%2===0?f+=-b:h+=-b),l++}}catch(L){p.e(L)}finally{p.f()}return{xIncrease:f,yIncrease:h,d:s}}({width:k,height:S,algo:v,radius:b,relative:y,top:r})),I=N.d,T=N.xIncrease,_=N.yIncrease;(new Date).getTime();return o.a.createElement("div",{style:{blockSize:"fit-content"},ref:w,className:"relative flex flex-col "+d},o.a.createElement("svg",{width:T+O.width+100+"px",height:_+O.height+100+"px",className:"absolute top-0 left-0 z-0"},i&&i.def,o.a.createElement("path",{filter:i&&i.name,stroke:f,fill:u,d:I})),a)}),Qo=function(t){var e=t.fill,r=t.relative,n=t.params,a=t.className,i=t.children,c=t.svgFilter;return o.a.createElement(Ko,{svgFilter:c||pn,fill:e||"#ffffff29",stroke:"#ffffff26",relative:r||!1,algo:Vo(n),radius:n.radius,className:a},i)},Vo=function(t){return[[Yo(t.walk1),Jo().start(t.a).end(t.b).tension(t.c).depth(t.depth1a),Yo(t.walk2),Jo().start(t.a).end(t.b).tension(t.c).depth(-t.depth1b)],[],[Yo(t.walk3),Jo().start(t.a).end(t.b).tension(t.c).depth(t.depth2a),Yo(t.walk4),Jo().start(t.a).end(t.b).tension(t.c).depth(-t.depth2b)],[]]};r(603);function Xo(){Xo=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function $o(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return ta(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ta(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ta(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var ea=function(t){return t.slice(0,t.indexOf("("))},ra=function(t){for(t=t.toString();t.length<4;)t="0"+t;return t},na=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.audioPlayer,r=t.remix,a=t.isPlaying,i=t.stats,s=t.duration,u=t.headless,l=Object(n.useState)({}),f=Object(c.a)(l,2),h=f[0],d=f[1];Object(n.useEffect)(function(){en().then(function(t){var e,r={},n=$o(t);try{for(n.s();!(e=n.n()).done;){var o=e.value;r[o.dropAddress]=o.song}}catch(a){n.e(a)}finally{n.f()}d(r)})},[]);var p=Object(n.useState)({a:10,b:17,c:12,walk1:28,walk2:38,walk3:65,walk4:0,depth1a:8,depth1b:8,depth2a:12,depth2b:12,radius:52}),v=Object(c.a)(p,2),m=v[0],y=(v[1],Object(n.useState)(void 0)),g=Object(c.a)(y,2),b=g[0],w=g[1];return Object(n.useEffect)(function(){r&&fetch(r.metadata.image_url).then(function(){var t=Object(R.a)(Xo().mark(function t(e){var r;return Xo().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.json();case 3:r=t.sent,w(r),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),w(void 0);case 10:case"end":return t.stop()}},t,null,[[0,7]])}));return function(e){return t.apply(this,arguments)}}())},[r,w]),o.a.createElement(Qo,{svgFilter:vn,fill:"#f3f4ff33",relative:!0,params:m,className:(u?"headless ":"")+"remix-details"},o.a.createElement("div",{className:"inner-details px-5 py-5 flex-1 flex flex-col z-30"},r&&o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"name-text mb-3 text-lg"},ea(r.metadata.name)),o.a.createElement("div",{className:"token-text mb-3 text-lg"},ra(r.tokenId)),o.a.createElement("img",{className:"logo-small",src:"/Subtract.svg"})),o.a.createElement("div",{className:"remix-dna-container"},o.a.createElement(_o,{headless:u,drops:h,audioPlayer:e,duration:s,stats:i,isPlaying:a,animationData:b,remix:r,attributes:r&&bn(r.metadata.attributes),remixDNA:r&&r.metadata.remix_dna}))))}),oa=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.audioPlayer,r=t.startTime,a=t.isPlaying,i=Object(n.useState)(0),s=Object(c.a)(i,2),u=s[0],l=s[1],f=Object(n.useRef)(),h=Object(n.useRef)();Object(n.useEffect)(function(){return window.addEventListener("mouseup",p),window.addEventListener("mousemove",d),window.addEventListener("touchend",p),function(){window.removeEventListener("mouseup",p),window.removeEventListener("mousemove",d),window.removeEventListener("touchend",p)}},[]);var d=Object(n.useCallback)(function(t){if(h.current){var n=f.current.getBoundingClientRect(),o=(t.clientX-n.left)/f.current.offsetWidth,a=o*e.buffer.duration;r.current=(new Date).getTime()-1e3*a,console.log("percentage=%s seekTime=%s s",o,a),e.seek(a)}},[]),p=Object(n.useCallback)(function(){h.current=!1},[]);return C(Object(n.useCallback)(function(){a&&e&&l(((new Date).getTime()-r.current)/1e3/e.buffer.duration*100%100)},[a,e]),20),o.a.createElement("div",{ref:f,onMouseDown:function(){h.current=!0},onTouchStart:function(){h.current=!0},className:"scrub-bar bg-black h-4 w-full"},o.a.createElement("div",{style:{left:.99*u+"%"},className:"playhead w-8 h-8 bg-white"}))}),aa=(r(1534),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.headless,r=t.songId,a=t.remixId,i=t.duration,s=t.startTime,u=(t.stats,t.audioPlayer),l=t.loading,f=t.togglePlay,h=t.isPlaying,d=(t.seek,t.playing),p=t.remixStats,v=Object(n.useState)(!1),m=Object(c.a)(v,2),y=m[0],g=m[1],w=Object(n.useState)(!1),x=Object(c.a)(w,2),E=x[0],O=x[1];Object(n.useEffect)(function(){d&&!l&&g(!0)},[d,l]);Object(n.useCallback)(function(t){t.stopPropagation();var e=d.metadata.animation_url;hn(e)},[d]);var j=d&&d.metadata.attributes.find(function(t){return"zorb"===t.trait_type}).value,L=d&&d.metadata.image;return[o.a.createElement("div",{className:(y&&d?"":"invisible ")+"fullscreen-backdrop",onClick:function(){return g(!1)}},d&&!e&&o.a.createElement(lr,{setShowModal:O,type:"remix",showShareModal:E,url:"spores.vision/zp/"+r+"/"+a,lowerGradInverted:"black",buttonBgColor:"white"}),!E&&o.a.createElement(na,{playing:d,headless:e,audioPlayer:u,duration:i,isPlaying:h,stats:d&&p[d.tokenId],remix:d})),d&&!e&&o.a.createElement("div",{className:"currently-playing"},l&&o.a.createElement(A,null),!l&&o.a.createElement(b,{resume:!0,play:function(t){f(t)},isPlaying:h}),!l&&o.a.createElement(oa,{audioPlayer:u,startTime:s,isPlaying:h}),!l&&o.a.createElement("img",{onClick:function(){return g(!0)},src:L,className:"gen-img pushable"}),!l&&d&&!l&&o.a.createElement(go,{className:"zorb",zorbId:j}),!l&&o.a.createElement(Me,{address:d.owner}))]})),ia=(Yo(40),Jo().start(18).end(25).tension(10).depth(20),Yo(10),Jo().start(28).end(45).tension(10).depth(-20),function(t){var e=t.onClick,r=t.style,n=t.className;return o.a.createElement("svg",{onClick:e,style:r,className:n,width:"41",height:"41",viewBox:"0 0 41 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M41 20.5C41 31.8218 31.8218 41 20.5 41C9.17816 41 0 31.8218 0 20.5C0 9.17816 9.17816 0 20.5 0C31.8218 0 41 9.17816 41 20.5ZM37.094 20.6053C37.094 27.9587 33.1119 33.9198 28.1998 33.9198C23.2877 33.9198 19.3056 27.9587 19.3056 20.6053C19.3056 13.252 23.2877 7.29089 28.1998 7.29089C33.1119 7.29089 37.094 13.252 37.094 20.6053ZM11.3341 17.5415C12.9216 17.5415 14.2085 15.176 14.2085 12.258C14.2085 9.34002 12.9216 6.97451 11.3341 6.97451C9.74669 6.97451 8.45981 9.34002 8.45981 12.258C8.45981 15.176 9.74669 17.5415 11.3341 17.5415Z",fill:"#0000FF"}))});function ca(){ca=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var sa=function(t){return"https://www.entropyplus.xyz/api/login"+t},ua=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.setEntropyToken,r=Object(n.useState)(""),a=Object(c.a)(r,2),i=a[0],s=a[1],u=Object(n.useState)(""),l=Object(c.a)(u,2),f=l[0],h=l[1],d=Object(n.useState)(),p=Object(c.a)(d,2),v=p[0],m=p[1];Object(n.useEffect)(function(){var t=window.localStorage.getItem("entropy_token");if(t){var r=JSON.parse(t);console.log(r);var n=1e3*r.access_expires;new Date(n).getTime()<Date.now()||e(r.access)}},[]);var y=Object(n.useCallback)(Object(R.a)(ca().mark(function t(){var r,n,o;return ca().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=sa("/token/"),t.next=3,fetch(r,{method:"POST",body:JSON.stringify({username:i,password:f}),headers:{"Content-Type":"application/json"},credentials:"include"});case 3:if(!(n=t.sent).ok){t.next=13;break}return t.next=7,n.json();case 7:o=t.sent,console.log("succesfully logged in",o),window.localStorage.setItem("entropy_token",JSON.stringify(o)),e(o.access),t.next=15;break;case 13:e(void 0),m(!0);case 15:case"end":return t.stop()}},t)})),[i,f,m]);return o.a.createElement("div",{className:"flex w-full h-100 z-30 absolute text-black"},o.a.createElement("div",{className:"m-auto w-64 h-64 p-3 bg-white rounded-lg flex flex-col items-start"},v&&o.a.createElement("div",{className:"bg-red-600 text-white"},"Login failed"),o.a.createElement("span",{className:"underline"},"Username"),o.a.createElement("input",{className:"bg-zinc-100",onChange:function(t){return s(t.target.value)},value:i}),o.a.createElement("span",{className:"underline"},"Password"),o.a.createElement("input",{className:"bg-zinc-100",onChange:function(t){return h(t.target.value)},value:f}),o.a.createElement("div",{onClick:function(){return y()},className:"items-start pushable mt-3 text-white bg-black px-5 py-1 rounded-full"},"Login"),o.a.createElement(ia,{className:"mx-auto mt-5"})))}),la=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e,r=t.title,n=t.secondaryTitle,a=t.entropyToken,i=t.setShowEntropyLogin,c=Object(wt.c)(),s=c.data,u=(c.isError,c.isLoading,[[],[Yo(40),Jo().start(18).end(25).tension(10).depth(20),Yo(10),Jo().start(28).end(45).tension(10).depth(-20)],[],[]]),l=(e=s&&s.address,["0x0fb5e3b3f254cbdccd69d31bcb0e92b83d381a0a","0x45FC43177EB8D9105d28d13Ce95133845a7D163F"].includes(e));return o.a.createElement(Ko,{relative:!1,svgFilter:pn,className:"ancestral-source",fill:"black",stroke:"transparent",algo:u,radius:28},o.a.createElement("div",{className:"pt-3 z-30 flex w-full"},o.a.createElement("img",{className:"logo-small",src:"/LOGO-SMALL.svg"}),o.a.createElement("div",{className:"song-name"},r),o.a.createElement("div",{className:"artist-name"},n),l&&o.a.createElement(ia,{style:{marginTop:"-8px"},onClick:function(){return i(!0)},className:"pushable ml-3"}),l&&a&&o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))))}),fa=(r(1535),function(t){var e=t/1e3/60;if(e<60)return Math.ceil(e)+" min. ";var r=e/60;if(r<48)return Math.ceil(r)+" hrs. ";var n=r/24;return Math.round(n)+" days "}),ha=(r(1536),r(602)),da=new He,pa=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.traits;return o.a.createElement("div",{className:"stem-traits"},e.filter(function(t){return t.trait_type.includes("Stem")}).map(function(t){var e,r=t.trait_type;return t.value,o.a.createElement("div",{style:{backgroundColor:(e=r,da.saturate(ha(e),4,1,50))},className:"stem-trait"})}))});function va(){va=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ma=function(t){var e=t.showSongName,r=t.params,a=(t.stats,t.refs),i=t.setRefs,s=t.remix,u=t.playing,l=(t.audioPlayer,t.setPlaying),f=(t.isPlaying,t.togglePlay),h=(t.play,Object(n.useRef)()),d=Object(n.useState)(!1),p=Object(c.a)(d,2),v=p[0],m=p[1],y=Object(n.useState)(),b=Object(c.a)(y,2),w=b[0],x=b[1],E=Object(n.useState)(),O=Object(c.a)(E,2),j=O[0],L=O[1];if(Object(n.useEffect)(function(){var t=s.metadata;L(t);var e=t.attributes.find(function(t){return"zorb"===t.trait_type}).value;yo(e).then(x)},[s]),Object(n.useEffect)(function(){w&&!a.includes(h)&&i([].concat(Object(U.a)(a),[h]))},[w,a,i]),!j)return"";var k=j.attributes;Yo(r.walk1),Jo().start(r.a).end(r.b).tension(r.c).depth(r.depth1a),Yo(r.walk2),Jo().start(r.a).end(r.b).tension(r.c).depth(-r.depth1b),Yo(r.walk3),Jo().start(r.a).end(r.b).tension(r.c).depth(r.depth2a),Yo(r.walk4),Jo().start(r.a).end(r.b).tension(r.c).depth(-r.depth2b);return o.a.createElement(Qo,{params:r,className:u===s?"zorb-remix-option playing":"zorb-remix-option"},o.a.createElement("div",{className:"z-30 flex flex-col w-full cursor-pointer inner-card"+(e?" larger":""),onClick:Object(R.a)(va().mark(function t(){return va().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.a.Master.context._context.resume();case 2:l(s);case 3:case"end":return t.stop()}},t)})),ref:h},o.a.createElement("div",{className:"inner"},o.a.createElement(pa,{traits:k}),w&&o.a.createElement("img",{onMouseOver:function(){return m(!0)},onMouseLeave:function(){return m(!1)},className:"zorb-image",src:w}),o.a.createElement("div",{className:"token-id"},s.tokenId)),o.a.createElement("div",{className:v?"hover-name show":"hover-name"},o.a.createElement(Me,{address:s.owner})),o.a.createElement("div",{className:"pt-1 leak-time flex text-xs text-center mx-auto color-zinc-200"},o.a.createElement("span",{className:"mx-auto"},function(t){var e=new Date(t.mintInfo.mintContext.blockTimestamp),r=e&&(new Date).getTime()-e.getTime();return fa(r)}(s))),e&&o.a.createElement("div",{className:"pt-0 leak-time flex text-xs text-center mx-auto text-stone-700"},o.a.createElement("span",{className:"mx-auto pb-2"},s.tokenContract.name)),u&&o.a.createElement("div",{onClick:function(t){t.stopPropagation(),f(),l(void 0)},className:"pause-button"})))};function ya(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return ga(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ga(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ga(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ba(){ba=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var wa=function(){var t=Object(R.a)(ba().mark(function t(e){var r,n,o,a,i,c,s=arguments;return ba().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=!(s.length>1&&void 0!==s[1])||s[1],n=new vt(Br).from(V).select("title").select("artist"),void 0!==e&&(n=n.where("songId",parseInt(e))),t.next=5,n.executeQuery(!0,!0);case 5:if(o=t.sent,r){t.next=8;break}return t.abrupt("return",o[0]);case 8:if(void 0===e){t.next=17;break}return a=[{songId:parseInt(e)}],t.next=12,La(a);case 12:return i=t.sent,o[0].attributes=i[e],t.abrupt("return",o[0]);case 17:return t.next=19,La();case 19:return c=t.sent,o.forEach(function(t){return t.attributes=c[t.songId]}),t.abrupt("return",o);case 22:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),xa=function(){var t=Object(R.a)(ba().mark(function t(e){return ba().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,wa(e,!1);case 2:if(t.t0=t.sent,t.t0){t.next=5;break}t.t0={title:"unreleased",artist:"yo"};case 5:return t.abrupt("return",t.t0);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Ea="https://spores-stems.s3.us-east-2.amazonaws.com/",Oa=function(){var t=Object(R.a)(ba().mark(function t(e){var r,n,o,a,i,c,s;return ba().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=Array.from(new Set([].concat(Object(U.a)(e.synths.map(function(t){return"ipfs://"+t[1].slice(Ea.length)})),Object(U.a)(e.drums.map(function(t){return"ipfs://"+t[1].slice(Ea.length)}))))),n=new vt(Br).from(X).select("stemId").whereIn("uri",r),t.next=4,n.executeQuery();case 4:o=t.sent,a={},i=ya(o);try{for(i.s();!(c=i.n()).done;)s=c.value,a[Ea+s.uri.slice("ipfs://".length)]=s.stemId}catch(u){i.e(u)}finally{i.f()}return t.abrupt("return",a);case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),ja=function(t,e,r,n,o){var a=r;if(0===e.length)return{};for(var i=Math.max(e[0][2],n),s={},u=e[0][1],l=0,f=[].concat(Object(U.a)(e.slice(1)),[[0,0,o]]);l<f.length;l++){var h=f[l],d=Object(c.a)(h,3),p=(d[0],d[1]),v=d[2],m=t?t[u||p]:u||p;u=p;var y=v-(i||0);i=v,s[m]||(s[m]=0),s[m]+=y}var g={};for(var b in s)void 0!==b&&"none"!==b&&"0"!==b&&(g[b]=100*s[b]/a);return g},La=function(){var t=Object(R.a)(ba().mark(function t(e){var r,n,o,a,i,c,s,u,l,f;return ba().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new vt(Br).from(ot),e&&(n=e.map(function(t){return t.songId}),r=r.whereIn("songId",n)),t.next=4,r.executeQuery(!0,!0);case 4:o=t.sent,a={},i=ya(o),t.prev=7,i.s();case 9:if((c=i.n()).done){t.next=19;break}if(s=c.value,u=s.songId,l=s.attributeType,"\x01"===(f=s.attributeValue)?f=!0:"\0"===f?f=!1:null===f&&(f=!1),a[u]||(a[u]={}),!a[u][l]){t.next=16;break}return t.abrupt("continue",17);case 16:a[u][l]=f;case 17:t.next=9;break;case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(7),i.e(t.t0);case 24:return t.prev=24,i.f(),t.finish(24);case 27:return t.abrupt("return",a);case 28:case"end":return t.stop()}},t,null,[[7,21,24,27]])}));return function(e){return t.apply(this,arguments)}}(),ka=function(){var t=Object(R.a)(ba().mark(function t(e){var r,n,o,a,i,c,s,u,l,f,h,d,p,v;return ba().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return"https://spores-stems.s3.us-east-2.amazonaws.com/",e="ipfs://"+e.slice("https://spores-stems.s3.us-east-2.amazonaws.com/".length),r=new vt(Br).from(X).where("uri",e),t.next=5,r.executeQuery();case 5:return n=t.sent,o=n[0],a=o.songId,i=o.stemId,c=new vt(Br).from(et).where("stemId",i),t.next=10,c.executeQuery();case 10:return s=t.sent,u=s.map(function(t){return t.stemType}),l=new vt(Br).from(V).where("songId",a),t.next=15,l.executeQuery();case 15:return f=t.sent,h=f[0],d=h.artist,p=h.title,v={stemId:i,artist:d,title:p,types:u},t.abrupt("return",v);case 19:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Sa=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.togglePlay,r=t.isPlaying,a=t.play,i=t.headless,s=(t.radius,t.remixStats),u=t.songId,l=t.remixes,f=t.hide,h=t.audioPlayer,p=t.setPlaying,v=t.playing,m=t.entropyToken,y=t.setEntropyToken,g=Object(po.a)(t,["togglePlay","isPlaying","play","headless","radius","remixStats","songId","remixes","hide","audioPlayer","setPlaying","playing","entropyToken","setEntropyToken"]),b=Object(n.useState)(!1),w=Object(c.a)(b,2),x=w[0],E=w[1];Object(n.useEffect)(function(){m&&E(!1)},[m]);var O=Object(n.useState)([]),j=Object(c.a)(O,2),L=j[0],k=j[1],S=(Object(n.useRef)(),Object(n.useState)(Object(d.a)({a:10,b:17,c:12,walk1:28,walk2:13,walk3:39,walk4:0,depth1a:10,depth1b:10,depth2a:10,depth2b:12,radius:14},g.params))),N=Object(c.a)(S,2),I=N[0],T=(N[1],Object(n.useState)("")),_=Object(c.a)(T,2),C=_[0],A=_[1],P=Object(n.useState)(""),G=Object(c.a)(P,2),M=G[0],R=G[1];return Object(n.useEffect)(function(){void 0!==u&&xa(u).then(function(t){var e=t.artist,r=t.title;A(e),R(r)})},[u,A,R]),o.a.createElement("div",{className:"zorb-remix-view "+g.className},o.a.createElement("div",{onClick:f,className:"back-btn"},o.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-arrow-left",viewBox:"0 0 16 16"}," ",o.a.createElement("path",{"fill-rule":"evenodd",d:"M15 8a.5.5 0 0 0-.5-.5H2.707l3.147-3.146a.5.5 0 1 0-.708-.708l-4 4a.5.5 0 0 0 0 .708l4 4a.5.5 0 0 0 .708-.708L2.707 8.5H14.5A.5.5 0 0 0 15 8z"})," ")),!i&&o.a.createElement(la,{title:g.title||M,secondaryTitle:g.secondaryTitle||C,setShowEntropyLogin:E}),x&&o.a.createElement(ua,{setEntropyToken:y}),o.a.createElement("div",{className:"zorb-children"},Object(U.a)(l).reverse().map(function(t){return o.a.createElement(ma,{showSongName:g.secondaryTitle,params:I,togglePlay:e,isPlaying:r,play:a,stats:s[t.tokenId],audioPlayer:h,refs:L,setPlaying:p,playing:v,setRefs:k,remix:t})})))});r(1537);function Na(){Na=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ia=Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef,playStatus:t.playback.playStatus}},function(t){return{}})(function(t){var e=t.className,r=t.params,a=t.remixes,i=t.remixId,s=t.songId,u=t.show,l=t.setRemixId,f=t.setShow,h=t.playerRef,d=t.playStatus,p=t.title,v=t.secondaryTitle,m=t.headless,y=Object(n.useState)(void 0),g=Object(c.a)(y,2),b=g[0],w=g[1],x=Object(n.useState)({}),E=Object(c.a)(x,2),O=E[0],j=E[1],L=un({songId:s,remixId:i,setRemixId:l,show:u,headless:m,remixes:a,playerRef:h,playStatus:d}),k=L.audioPlayer,S=L.playing,N=L.play,I=L.isPlaying,T=L.setAutoPlay,_=L.setPlaying,C=L.togglePlay,A=L.loading,P=L.startTime;return Object(n.useEffect)(function(){s&&en(s).then(function(){var t=Object(R.a)(Na().mark(function t(e){var r,n,o;return Na().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r="https://zequencer.io/searchRemixes/"+e,t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.json();case 6:o=t.sent,j(o);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[s]),Object(n.useEffect)(function(){return h&&h.current&&h.current.contentWindow&&h.current.contentWindow.postMessage({type:"sleep-ui",body:u?1:0},"*"),function(){h&&h.current&&h.current.contentWindow&&h.current.contentWindow.postMessage({type:"sleep-ui",body:0},"*")}},[u,h]),u?[o.a.createElement(Sa,{headless:m,remixStats:O,songId:s,audioPlayer:k,setAutoPlay:T,isPlaying:I,entropyToken:b,setEntropyToken:w,className:e,togglePlay:C,title:p,secondaryTitle:v,play:N,playing:S,setPlaying:function(t){T(!0),_(t)},params:r,hide:function(){k&&k.stopSound(),f(!1),l(void 0)},remixes:a}),o.a.createElement(aa,{songId:s,entropyToken:b,headless:m,remixId:i,duration:k&&k.duration,remixStats:O,stats:S&&O[S.tokenId],startTime:P,loading:A,isPlaying:I,togglePlay:C,playing:S,audioPlayer:k})]:""}),Ta=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.setShowProfile,r=t.address,a=Object(n.useState)([]),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(wt.h)({address:r}).data;return Object(n.useEffect)(function(){r&&cn(r).then(u)},[u,r]),o.a.createElement(Ia,{params:{radius:18,walk1:50,walk2:20,walk3:70,depth1a:15,depth1b:15,depth2a:15,depth2b:15},className:"profile-page",title:l||(r.startsWith("0x")?qe(r):r),secondaryTitle:"remixes",setRemixId:function(){return 0},show:!0,setShow:function(){return e(!1)},remixes:s})}),_a={0:function(t){return"quadrants"===t.type&&t.body[2]>.8},1:function(t){return"quadrants"===t.type&&t.body[1]>.8},2:function(t){return"quadrants"===t.type&&t.body[0]>.8},3:function(t){return"quadrants"===t.type&&t.body[3]>.8},4:function(t){return"playback-rate"===t.type&&Math.abs(1-t.body)>.2},5:function(t){return"finished-rotating"===t.type},6:function(t){return"zorbs-expanded"===t.type&&1===t.body},7:function(t){return"selected-drum-loop"===t.type},8:function(t){return"selected-synth-loop"===t.type},9:function(t){return"zorb-moved"===t.type},10:function(t){return"zorb-pressed"===t.type},11:function(t){return!("is-looping"!==t.type||!t.body)},12:function(t){return"loop-length"===t.type},13:function(t){return"is-looping"===t.type}},Ca={0:{text:["Move the joystick to the bottom-left to hear Acoustify\ud80c\udf4a",o.a.createElement("span",{className:"italic"},"Activates the acoustic version.")],position:[-.16,-.15],arrow:{transform:"rotate(224deg)",top:"-16px",right:"-16px"}},1:{text:["The bottom-right filters the sound.",o.a.createElement("span",{className:"italic"},"Sounds like it's being played underwater.")],position:[.16,-.15],arrow:{transform:"rotate(135deg)",top:"-16px",left:"-16px"}},2:{text:["The top-right adds reverb & echo.",o.a.createElement("span",{className:"italic"},"Sounds like you're in an ice cave.")],position:[.16,.25],arrow:{transform:"rotate(45deg)",bottom:"-16px",left:"-16px"}},3:{text:["The top-left adds a rhythmic gate.",o.a.createElement("span",{className:"italic"},"Creates rhythmic stutters.")],position:[-.16,.25],arrow:{transform:"rotate(315deg)",bottom:"-16px",right:"-16px"}},4:{text:["Move this control up and down to speed up and slow down the song."],position:[.18,.14],arrow:{bottom:"-20px",right:"30px"}},5:{text:["Drag and turn the corners of the spore to move to different parts of the song"],position:[0,.25],arrow:{bottom:"-20px",left:"70px"}},6:{text:["Click this button to show additional stem controls"],position:[0,-.22],arrow:{bottom:"-20px",right:"70px"}},7:{text:["Click these buttons to hear different drum loops"],position:[0,-.22],arrow:{bottom:"-20px",right:"70px"}},8:{text:["Enable/disable crazy instrument stems with these buttons"],position:[.14,.2],arrow:{transform:"rotate(180deg)",top:"-20px",right:"72px"}},9:{text:[o.a.createElement("span",null,"Now, move the joystick to ",o.a.createElement("i",null,"play")," the stem like an instrument"),o.a.createElement("span",{className:"italic"},"Only plays while the joystick is down.")],position:[.14,.2],arrow:{transform:"rotate(180deg)",top:"-20px",right:"72px"}},10:{text:["The surrounding circle shows where you are in the loop"],position:[.14,.2],arrow:{transform:"rotate(180deg)",top:"-20px",right:"72px"}},11:{text:["Press and hold these buttons to loop the entire beat"],position:[0,-.22],arrow:{bottom:"-20px",right:"72px"}},12:{text:["These 3 buttons now control the length of the loop",o.a.createElement("span",{className:"italic"},"1/4th, 1/2th, & 1 bar.")],position:[-.14,-.12],arrow:{bottom:"-20px",right:"72px"}},13:{text:["Click the background to stop looping"],position:[-.2,.2],arrow:{bottom:"-20px",right:"72px"}},15:{text:["Sick remix! Click here to save it"],style:{left:"25px",bottom:"100px",color:f.isMobile?"black":"white"},arrow:{bottom:"-20px",left:f.isMobile?"10px":"15px"}}},Aa=function(t,e){var r=window.innerWidth,n=window.innerHeight;return{left:t*n+r/2-76,top:window.innerHeight-(e*n+n/2)}},Pa=Object(s.b)(function(t,e){return{playStatus:t.playback.playStatus}},function(t){return{}})(function(t){var e=t.setHide,r=t.hide,a=t.playerRef,i=t.setFinished,s=t.playStatus,u=function(t,e){var r=Object(n.useState)(0),o=Object(c.a)(r,2),a=o[0],i=o[1],s=Object(n.useRef)({});Object(n.useEffect)(function(){return t.current.contentWindow.postMessage({type:"tutorial-mode",body:1},"*"),function(){t.current&&t.current.contentWindow.postMessage({type:"tutorial-mode",body:0},"*")}},[]),Object(n.useEffect)(function(){return window.addEventListener("message",u),function(){return window.removeEventListener("message",u)}},[i,a,e]);var u=Object(n.useCallback)(function(t){if("https://main.djdhx85izle40.amplifyapp.com"===t.origin){var r=function(t){if("zorbs-expanded"===t.type)return 7}(t.data);if(void 0!==r)return console.log("received hide state=",r),i(r),void e(!1);_a[a]&&_a[a](t.data)&&i(a+1)}},[a,i,e]);return{step:a,setStep:i,shown:s}}(a,e),l=u.step,f=u.setStep,h=u.shown,d=Object(n.useRef)(),p=Ca[l];if(Object(n.useEffect)(function(){h.current[l]=!r},[l,r]),Object(n.useEffect)(function(){s&&(clearTimeout(d.current),d.current=setTimeout(function(){e(!1),f(15)},5e4))},[s,e,f]),Object(n.useEffect)(function(){6!=l?14==l&&e(!0):e(!0)},[e,i,l]),!p||r)return"";var v=p.text,m=p.position,y=p.arrow,g=p.style,b=g||Aa(m[0],m[1]),w=b.left,x=b.top;return h.current[l]?(console.log("shown already step=%s",l),""):o.a.createElement("div",{style:g||{left:w+"px",top:x+"px"},className:"tutorial-tooltip text-xs"},v.map(function(t){return o.a.createElement("p",null,t)}),y&&o.a.createElement("div",{style:y,className:"arrow"}))}),Ga=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.setShowTutorial,r=t.zorbId,n=t.finished;return void 0===r?"":o.a.createElement("div",{onClick:function(){return e(!1)},className:"tooltip-closer pushable flex w-52 text-center tutorial-closer fixed bottom-0 mx-auto left-0 right-0 px-4 pt-2 pb-1 z-30"},o.a.createElement("span",{className:"mx-auto"}," ",n?"let's go":"skip tutorial"),o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"})))}),Ma=(r(1538),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.zorbId,r=t.showTutorial,a=t.setShowTutorial,i=t.playerRef,s=Object(n.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1],h=Object(n.useState)(!1),d=Object(c.a)(h,2),p=d[0],v=d[1],m=Object(n.useState)(!1),y=Object(c.a)(m,2),g=y[0],b=y[1];return Object(n.useEffect)(function(){a(!g)},[g]),l?"":[i.current&&o.a.createElement(Pa,{setFinished:v,playerRef:i,setHide:b,hide:g}),r&&!g&&o.a.createElement(Ga,{finished:p,zorbId:e,setShowTutorial:function(t){f(!t),a(t)}})]})),Ra=(r(1539),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){return o.a.createElement("div",{className:"no-access absolute top-0 left-0 w-full h-full flex"},o.a.createElement("span",{className:"m-auto"},"You must be a member of SporeDAO to access right now."))})),Fa={0:"Vocals",1:"Instruments",2:"Drums",3:"Bass",4:"Guitars"};function Da(){Da=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function za(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Ba(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ba(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ba(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Ha=(new Jr).contractAddress,Ua=void 0,Wa=function(){var t=Object(R.a)(Da().mark(function t(e){var r,n,o,a,i,c,s,u,l,f,h,d,p,v,m,y,g,b,w,x,E;return Da().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0!==e||!Ua){t.next=2;break}return t.abrupt("return",Ua);case 2:return r=new vt(Ha).from(V),e&&r.whereIn("songId",e),t.next=6,r.executeQuery();case 6:return n=t.sent,t.next=9,Ya(n.map(function(t){return t.songId}));case 9:o=t.sent,a=[],i=za(n),t.prev=12,i.s();case 14:if((c=i.n()).done){t.next=71;break}return s=c.value,u=s.songId,l=new vt(Ha).from(X).where("songId",u),t.next=20,l.executeQuery(!0,!0);case 20:f=t.sent,h=!1,d=za(a),t.prev=23,d.s();case 25:if((p=d.n()).done){t.next=32;break}if(p.value.songId!==u){t.next=30;break}return h=!0,t.abrupt("break",32);case 30:t.next=25;break;case 32:t.next=37;break;case 34:t.prev=34,t.t0=t.catch(23),d.e(t.t0);case 37:return t.prev=37,d.f(),t.finish(37);case 40:if(!h){t.next=42;break}return t.abrupt("continue",69);case 42:return v=f.map(function(t){return t.stemId}),m=new vt(Ha).from(et).whereIn("stemId",v),y=o[u],t.next=47,m.executeQuery(!0,!0);case 47:g=t.sent,b=[],w=za(f),t.prev=50,E=function(){var t=x.value;if(b.some(function(e){return e.stemId===t.stemId}))return"continue";t.isDefaultStem=!!y&&y.includes(t.stemId);var e=g.filter(function(e){return e.stemId===t.stemId});t.stemTypes=e.map(function(t){return t.stemType}),t.prettyStemTypes=e.map(function(t){return Fa[t.stemType]}),b.push(t)},w.s();case 53:if((x=w.n()).done){t.next=59;break}if("continue"!==E()){t.next=57;break}return t.abrupt("continue",57);case 57:t.next=53;break;case 59:t.next=64;break;case 61:t.prev=61,t.t1=t.catch(50),w.e(t.t1);case 64:return t.prev=64,w.f(),t.finish(64);case 67:s.stems=b,a.push(s);case 69:t.next=14;break;case 71:t.next=76;break;case 73:t.prev=73,t.t2=t.catch(12),i.e(t.t2);case 76:return t.prev=76,i.f(),t.finish(76);case 79:return Ua=a,t.abrupt("return",a);case 81:case"end":return t.stop()}},t,null,[[12,73,76,79],[23,34,37,40],[50,61,64,67]])}));return function(e){return t.apply(this,arguments)}}(),Ya=function(){var t=Object(R.a)(Da().mark(function t(){var e,r,n,o,a,i,c,s,u,l,f,h,d,p,v;return Da().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vt(Ha).from($),t.next=3,e.executeQuery(!0,!0);case 3:r=t.sent,n=new Set,o={},a=za(r);try{for(a.s();!(i=a.n()).done;)c=i.value,n.has(c.songId)||(o[c.configId]=c.songId),n.add(c.songId)}catch(m){a.e(m)}finally{a.f()}return s=(s=Object.keys(o)).map(function(t){return parseInt(t)}),u=new vt(Ha).from(tt).whereIn("configId",s),t.next=13,u.executeQuery(!0,!0);case 13:l=t.sent,f={},h=za(l);try{for(h.s();!(d=h.n()).done;)p=d.value,v=o[p.configId],f[v]||(f[v]=[]),f[v].push(p.stemId)}catch(m){h.e(m)}finally{h.f()}return t.abrupt("return",f);case 18:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),Ja=Wa,qa=(r(1540),{}),Za=(Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.tooltip,r=t.setTooltip,a=Object(n.useRef)();Object(n.useEffect)(function(){return window.addEventListener("message",i),function(){return window.removeEventListener("message",i)}},[r]);var i=Object(n.useCallback)(function(t){if("https://main.djdhx85izle40.amplifyapp.com"===t.origin&&"sample-engaged"===t.data.type){var e=t.data.body;r(void 0),clearTimeout(a.current),qa[e]?r(qa[e]):ka(e).then(function(t){qa[e]=t,r(t)}),a.current=setTimeout(function(){r(void 0)},4e3)}},[r]);if(!e)return"";var c=Fa[e.types[0]];return o.a.createElement("div",{className:"px-4 py-2 text-sm w-96 bg-zinc-100\t text-black zorb-sample-tooltip z-30 fixed bottom-0 left-0 right-0 mx-auto"},e&&o.a.createElement("div",{className:"flex"},o.a.createElement("span",{className:"mr-2"},"Instruments"===c?"Synths":c,":"),o.a.createElement("span",{className:"mr-1 text-white"},e.artist)," -",o.a.createElement("span",{className:"ml-2 text-zinc-100"},e.title),o.a.createElement("span",{className:"rounded-full bg-zinc-100 px-2 text-xs py-1 ml-auto"},"#",e.stemId)))}),[{__typename:"Token",tokenId:"17055",tokenContract:{name:"Zorbs",network:"ETHEREUM",description:null,collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",symbol:"ZORB",chain:1},mintInfo:{price:{__typename:"PriceAtTime",blockNumber:13919463,chainTokenPrice:{decimal:0,raw:"0"},nativePrice:{decimal:0,raw:"0",currency:{address:"0x0000000000000000000000000000000000000000",decimals:18,name:"ETH"}},usdcPrice:{decimal:0,raw:"0"}},originatorAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",toAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",mintContext:{__typename:"TransactionInfo",blockNumber:13919463,blockTimestamp:"2022-01-01T12:08:21+00:00",transactionHash:"0x01a4eb3a113f9969dd38e920381ab03ddedbe0b7ac479fc68937322b0495504e",logIndex:183}},collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",lastRefreshTime:"2022-04-26T12:54:14.178000+00:00",owner:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",name:"Zorb #17055",description:"Zorbs were distributed for free by ZORA on New Year\u2019s 2022. Each NFT imbues the properties of its wallet holder, and when sent to someone else, will transform.\n\nView this NFT at [zorb.dev/nft/17055](https://zorb.dev/nft/17055)",image:{size:"855",url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgyMiwgNzMlLCA4NiUpIiAvPjxzdG9wIG9mZnNldD0iMzkuNTglIiBzdG9wLWNvbG9yPSJoc2woMjIsIDgxJSwgNzglKSIgLz48c3RvcCBvZmZzZXQ9IjcyLjkyJSIgc3RvcC1jb2xvcj0iaHNsKDY3LCA5MSUsIDYzJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCg3MSwgOTYlLCA1MSUpIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iaHNsKDcxLCA5NiUsIDUwJSkiIC8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw1KSI+PHBhdGggZD0iTTEwMCA1MEMxMDAgMjIuMzg1OCA3Ny42MTQyIDAgNTAgMEMyMi4zODU4IDAgMCAyMi4zODU4IDAgNTBDMCA3Ny42MTQyIDIyLjM4NTggMTAwIDUwIDEwMEM3Ny42MTQyIDEwMCAxMDAgNzcuNjE0MiAxMDAgNTBaIiBmaWxsPSJ1cmwoI2d6cikiIC8+PHBhdGggc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDc1KSIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTUwLDAuNWMyNy4zLDAsNDkuNSwyMi4yLDQ5LjUsNDkuNVM3Ny4zLDk5LjUsNTAsOTkuNVMwLjUsNzcuMywwLjUsNTBTMjIuNywwLjUsNTAsMC41eiIgLz48L2c+PC9zdmc+",mimeType:"image/svg+xml",mediaEncoding:{__typename:"ImageEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/original",large:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/large",poster:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/poster",thumbnail:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/image/thumbnail"}},content:{size:null,url:null,mimeType:null,mediaEncoding:{__typename:"UnsupportedEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/17055/content/original"}}},{__typename:"Token",tokenId:"22640",tokenContract:{name:"Zorbs",network:"ETHEREUM",description:null,collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",symbol:"ZORB",chain:1},mintInfo:{price:{__typename:"PriceAtTime",blockNumber:13920555,chainTokenPrice:{decimal:0,raw:"0"},nativePrice:{decimal:0,raw:"0",currency:{address:"0x0000000000000000000000000000000000000000",decimals:18,name:"ETH"}},usdcPrice:{decimal:0,raw:"0"}},originatorAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",toAddress:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",mintContext:{__typename:"TransactionInfo",blockNumber:13920555,blockTimestamp:"2022-01-01T16:14:17+00:00",transactionHash:"0x1a368286d5bdb34a123cef5f7990fbcfa0a8c8e15fa635139f45bb57bbab951e",logIndex:134}},collectionAddress:"0xca21d4228cdcc68d4e23807e5e370c07577dd152",lastRefreshTime:"2022-05-05T04:13:48.488000+00:00",owner:"0x45fc43177eb8d9105d28d13ce95133845a7d163f",name:"Zorb #22640",description:"Zorbs were distributed for free by ZORA on New Year\u2019s 2022. Each NFT imbues the properties of its wallet holder, and when sent to someone else, will transform.\n\nView this NFT at [zorb.dev/nft/22640](https://zorb.dev/nft/22640)",image:{size:"855",url:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAxMTAgMTEwIj48ZGVmcz48cmFkaWFsR3JhZGllbnQgaWQ9Imd6ciIgZ3JhZGllbnRUcmFuc2Zvcm09InRyYW5zbGF0ZSg2Ni40NTc4IDI0LjM1NzUpIHNjYWxlKDc1LjI5MDgpIiBncmFkaWVudFVuaXRzPSJ1c2VyU3BhY2VPblVzZSIgcj0iMSIgY3g9IjAiIGN5PSIwJSI+PHN0b3Agb2Zmc2V0PSIxNS42MiUiIHN0b3AtY29sb3I9ImhzbCgyMiwgNzMlLCA4NiUpIiAvPjxzdG9wIG9mZnNldD0iMzkuNTglIiBzdG9wLWNvbG9yPSJoc2woMjIsIDgxJSwgNzglKSIgLz48c3RvcCBvZmZzZXQ9IjcyLjkyJSIgc3RvcC1jb2xvcj0iaHNsKDY3LCA5MSUsIDYzJSkiIC8+PHN0b3Agb2Zmc2V0PSI5MC42MyUiIHN0b3AtY29sb3I9ImhzbCg3MSwgOTYlLCA1MSUpIiAvPjxzdG9wIG9mZnNldD0iMTAwJSIgc3RvcC1jb2xvcj0iaHNsKDcxLCA5NiUsIDUwJSkiIC8+PC9yYWRpYWxHcmFkaWVudD48L2RlZnM+PGcgdHJhbnNmb3JtPSJ0cmFuc2xhdGUoNSw1KSI+PHBhdGggZD0iTTEwMCA1MEMxMDAgMjIuMzg1OCA3Ny42MTQyIDAgNTAgMEMyMi4zODU4IDAgMCAyMi4zODU4IDAgNTBDMCA3Ny42MTQyIDIyLjM4NTggMTAwIDUwIDEwMEM3Ny42MTQyIDEwMCAxMDAgNzcuNjE0MiAxMDAgNTBaIiBmaWxsPSJ1cmwoI2d6cikiIC8+PHBhdGggc3Ryb2tlPSJyZ2JhKDAsMCwwLDAuMDc1KSIgZmlsbD0idHJhbnNwYXJlbnQiIHN0cm9rZS13aWR0aD0iMSIgZD0iTTUwLDAuNWMyNy4zLDAsNDkuNSwyMi4yLDQ5LjUsNDkuNVM3Ny4zLDk5LjUsNTAsOTkuNVMwLjUsNzcuMywwLjUsNTBTMjIuNywwLjUsNTAsMC41eiIgLz48L2c+PC9zdmc+",mimeType:"image/svg+xml",mediaEncoding:{__typename:"ImageEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/original",large:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/large",poster:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/poster",thumbnail:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/image/thumbnail"}},content:{size:null,url:null,mimeType:null,mediaEncoding:{__typename:"UnsupportedEncodingTypes",original:"https://api.zora.co/media/ETHEREUM-MAINNET/0xca21d4228cdcc68d4e23807e5e370c07577dd152/22640/content/original"}}}]),Ka={endPoint:"https://api.zora.co/graphql",networks:[{network:Tr.ZDKNetwork.Ethereum,chain:Tr.ZDKChain.Mainnet}],apiKey:"ROLsxj1Z_MDY40UDQszIIw"},Qa=new Tr.ZDK(Ka),Va={},Xa=function(t){var e=t.account,r=Object(n.useState)(!0),o=Object(c.a)(r,2),a=o[0],i=o[1],s=Object(n.useState)([]),u=Object(c.a)(s,2),l=u[0],f=u[1];return Object(n.useEffect)(function(){if(e&&e.address){var t=e;if(i(!0),Va[t.address])return void f(Va[t.address]);Qa.tokens({where:{collectionAddresses:["0xCa21d4228cDCc68D4e23807E5e370C07577Dd152"],ownerAddresses:[t.address]}}).then(function(e){var r=e.tokens.nodes.map(function(t){return t.token});0===r.length&&(r=Za),Va[t.address]=r,f(r)})}},[e,i,f]),{zorbs:l,isLoading:a}},$a=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.leak,r=Object(n.useRef)(0),a=Object(n.useRef)(0),i=Object(n.useState)(),s=Object(c.a)(i,2),u=s[0],l=s[1],f=Object(n.useCallback)(function(){var t=(new Date).getTime()-a.current;l(100*Math.min(1,t/5e3))},[l]);return Object(n.useEffect)(function(){a.current=(new Date).getTime(),r.current++},[e]),C(f,50),o.a.createElement("div",{style:{width:150},className:"ml-4 h-2 bg-zinc-500 p-0.5 rounded-full "+(100===u?"  opacity-0":"")},o.a.createElement("div",{style:{width:146*u/100},className:"h-1 bg-white overflow-hidden"+(r.current%2===0?" ml-auto":"")}))}),ti=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.onClick,r=t.className;return o.a.createElement("svg",{onClick:e,className:r+" close-btn z-30 ml-2 w-4 h-5 ",viewPort:"0 0 12 12",version:"1.1",xmlns:"http://www.w3.org/2000/svg"},o.a.createElement("line",{x1:"1",y1:"11",x2:"11",y2:"1",stroke:"white","stroke-width":"2"}),o.a.createElement("line",{x1:"1",y1:"1",x2:"11",y2:"11",stroke:"white","stroke-width":"2"}))}),ei=(r(1541),Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.zorbId,r=t.hideLeaks,a=t.leak,i=t.playerRef,s=Object(n.useState)([]),u=Object(c.a)(s,2),l=(u[0],u[1]);Object(n.useEffect)(function(){var t=a.attributes.zorb;yo(t).then(function(t){return yo(e).then(function(e){return l([t,e])})})},[a,l]);var f=[[],[Zo(3)],[Zo(5)],[Zo(5),Yo(50),qo(10,15,30)]],h=Object(n.useCallback)(function(){i.current.contentWindow.postMessage({type:"revert-stem",body:""},"*"),r()},[i]),d=a.mintInfo.toAddress;return o.a.createElement(Ko,{relative:!1,svgFilter:{def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"},algo:f,radius:24,fill:"#ffffff33",stroke:"transparent",className:"leak-controller fixed z-30"},o.a.createElement("div",{className:"text-xs z-30 pt-3 pb-1 pl-4 pr-1"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",null,a.song.title," "),o.a.createElement("div",{className:"px-2 py-1 bg-white text-black ml-2 text-xs rounded-full leak-label"},"leak #",a.tokenId)),o.a.createElement("div",{className:"flex text-zinc-100"},o.a.createElement("div",{className:"mr-1 text-xs artist-name"},a.song.artist),o.a.createElement("div",{className:"cross mr-1"},"x"),o.a.createElement(Me,{className:"text-xs mr-2 ",address:d}))),o.a.createElement($a,{leak:a}),o.a.createElement(ti,{onClick:h,className:"close-icon"}))})),ri=(r(1542),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.setShowProfile,r=t.zorbId,a=Object(n.useState)(),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(wt.c)(),f=l.data;l.isError,l.isLoading;return Object(n.useEffect)(function(){void 0!==r&&yo(r).then(u)},[r,u]),o.a.createElement("div",{onClick:function(t){t.stopPropagation(),e(f.address)},className:"profile-button pushable ml-auto h-6 px-1 flex"},s?o.a.createElement("img",{className:"w-4 h-4 m-auto",src:s}):f&&o.a.createElement(Me,{className:"px-2 text-sm mx-0",address:f.address}))})),ni=(r(1543),Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.playerRef,r=t.setIsScrubbing,a=t.isScrubbing,i=Object(n.useRef)(!1),s=Object(n.useRef)(),u=Object(n.useState)(0),l=Object(c.a)(u,2),f=l[0],h=l[1],p=Object(n.useState)({duration:0,progress:0}),v=Object(c.a)(p,2),m=v[0],y=v[1];Object(n.useEffect)(function(){return window.addEventListener("message",g),function(){return window.removeEventListener("message",g)}},[y,m]);var g=Object(n.useCallback)(function(t){"song-position"===t.data.type&&y(Object(d.a)({},m,{progress:t.data.body})),"song-duration"===t.data.type&&y(Object(d.a)({},m,{duration:t.data.body}))},[y,m]),b=Object(n.useCallback)(function(){i.current=!0,r(!0)},[r]);Object(n.useEffect)(function(){a||(i.current=!1)},[a]);var w=Object(n.useCallback)(function(){i.current=!1,r(!1)},[r]);Object(n.useEffect)(function(){return window.addEventListener("mouseup",w),window.addEventListener("touchend",w),function(){window.removeEventListener("mouseup",w),window.removeEventListener("touchend",w)}},[r]),Object(n.useEffect)(function(){return window.addEventListener("mousemove",x),window.addEventListener("touchmove",x),function(){window.removeEventListener("mousemove",x),window.removeEventListener("touchmove",x)}},[e,h]);var x=Object(n.useCallback)(function(t){if(e&&e.current&&i.current){t.touches&&(t=t.touches[0]);var r=100*(t.clientX-s.current.getBoundingClientRect().left)/s.current.offsetWidth;h(Math.max(0,Math.min(100,r))),e.current.contentWindow.postMessage({type:"seek-to-percentage",body:Math.max(0,Math.min(100,r))},"*")}},[e,h]),E=i.current?f:m.progress,O="hsl(".concat((180+E/100*360)%360,"deg 83% 55%)");return o.a.createElement("div",{ref:s,onMouseDown:b,onTouchStart:b,className:"scrub-bar h-3 w-5/6 bg-black"},o.a.createElement("div",{style:{width:E+"%"},className:"absolute w-8 h-4 inner-playbar"}),o.a.createElement("div",{onMouseDown:b,onTouchStart:b,style:{left:E+"%"},className:"absolute playhead-wrapper"},o.a.createElement("div",{style:{backgroundColor:O},className:"w-8 h-6 playhead rounded-full"})))})),oi=[8,9,13];function ai(){ai=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function ii(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return ci(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ci(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ci(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var si=function(){var t=Object(R.a)(ai().mark(function t(e){var r,n,o,a,i,c,s,u,l,f,h,d,p;return ai().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=parseInt(e),t.next=3,Ja([e]);case 3:r=t.sent,n=r[0],console.log("build"),console.log(n),o=0,a=[],i=[],c=ii(n.stems);try{for(c.s();!(s=c.n()).done;)1===(u=s.value).prettyStemTypes.length&&"Instruments"===u.prettyStemTypes[0]&&a.push(o),1===u.prettyStemTypes.length&&"Drums"===u.prettyStemTypes[0]&&i.push(o),o++}catch(v){c.e(v)}finally{c.f()}if(!(a.length>=3)){t.next=29;break}case 13:if(l){t.next=25;break}return t.next=16,li(e);case 16:return h=t.sent,console.log("other songId = ",h),t.next=20,Ja([h]);case 20:f=t.sent[0],console.log("other song=",f),l=ui(f.stems,"Instrument"),t.next=13;break;case 25:l.song=f,d=Math.floor(3*Math.random()),console.log("chose synth index=",a[d],l),n.stems[a[d]]=l;case 29:return t.next=31,La([{songId:e}]);case 31:return p=t.sent,console.log("attributes",p,e),n.attributes=p[e],console.log("built song=",n),t.abrupt("return",n);case 36:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),ui=function(t,e){return console.log("getStemForType",t,e),t.find(function(t){return 1===t.prettyStemTypes.length&&"Instruments"===t.prettyStemTypes[0]})},li=function(){var t=Object(R.a)(ai().mark(function t(e){var r,n,o;return ai().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Xr();case 2:return r=t.sent,n=r.map(function(t){return t.songId}).filter(function(t){return![].concat(Object(U.a)(oi),[e,7,4]).includes(t)}),o=Math.floor(Math.random()*n.length),t.abrupt("return",n[o]);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),fi=(r(1544),Object(s.b)(function(t,e){return{songLoaded:t.spore.songLoaded,playerRef:t.spore.playerRef}},function(t){return{setSongLoaded:function(e){return t(I(e))},setLeakLoaded:function(e){return t(N(e))}}})(function(t){var e=Object(n.useState)([]),r=Object(c.a)(e,2),a=r[0],i=r[1],s=Object(n.useState)(),u=Object(c.a)(s,2),l=u[0],f=u[1];Object(n.useEffect)(function(){Xr().then(function(t){return i(t.filter(function(t){return!oi.includes(t.songId)}).sort(function(t,e){return e.songId-t.songId}))})},[]);var h=Object(n.useCallback)(function(e){f(e.songId),si(e.songId).then(function(e){t.playerRef.current.contentWindow.postMessage({type:"switch-songs",body:Object(d.a)({},e,{autoPlay:!0})},"*")}),t.setSongLoaded(e.songId),t.setLeakLoaded(void 0)},[t.playerRef,f]);Object(n.useEffect)(function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}},[]);var p=Object(n.useCallback)(function(e){"song-switch-completed"===e.data.type&&t.hide()},[f]);return o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"pt-4 pb-5 song-selector"},o.a.createElement("div",{className:"header-columns"},o.a.createElement("div",{className:"p-2 flex text-xs"},o.a.createElement("div",{className:"w-48 text-center"},"title"),o.a.createElement("div",{className:"w-48 text-center"},"artist"),o.a.createElement("div",{className:"w-16 text-center"},"tempo"))),a.map(function(e){return o.a.createElement("div",{onClick:function(){return h(e)},className:l===e.songId===e.songId||(parseInt(t.songLoaded)===e.songId?"bg-zinc-500 ":"")+"pl-2 py-1 flex cursor-pointer text-xs rounded-lg song-option"},o.a.createElement("div",{className:"w-48"},e.title),o.a.createElement("div",{className:"w-48 text-zinc-300"},e.artist),o.a.createElement("div",{className:"w-16 text-zinc-300"},e.bpm),l==e.songId&&o.a.createElement(A,{radius:16}))}))})),hi=function(t){var e=t/1e3/60;if(e<60)return Math.ceil(e)+" min. ";var r=e/60;if(r<48)return Math.ceil(r)+" hours ";var n=r/24;return Math.round(n)+" days "},di=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.timeElapsed,r=Object(n.useRef)(0),a=Object(n.useState)("wants to play"),i=Object(c.a)(a,2),s=i[0],u=i[1];return C(Object(n.useCallback)(function(){u(void 0),r.current++,r.current%2===1?u("wants to play"):u("leaked "+hi(e)+" ago")},[s,e]),4e3),s?o.a.createElement("span",{className:"time-and-text italic ml-1 "+(r.current%2===0?" odd ":" even")},s):""}),pi=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.zorb1,r=t.zorb2;return o.a.createElement("div",{className:"zorb-multiplayer"},o.a.createElement("img",{src:"/multiplayer-part.svg",className:"image-part-1"}),o.a.createElement("img",{className:"zorb-img part-1",x:"50",y:"50",width:"35",height:"35",src:r}),o.a.createElement("img",{className:"zorb-img part-2",x:"91",y:"71",width:"35",height:"35",src:e}),o.a.createElement("img",{src:"/multiplayer-part.svg",className:"image-part-2"}))});var vi=function(t){var e=~~(t/3600),r=~~(t%3600/60),n=~~t%60,o="";return e>0&&(o+=e+":"+(r<10?"0":"")),o+=r+":"+(n<10?"0":""),o+=""+n},mi=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(n.useState)({duration:0,progress:0}),r=Object(c.a)(e,2),a=r[0],i=r[1];Object(n.useEffect)(function(){return window.addEventListener("message",s),function(){return window.removeEventListener("message",s)}},[i,a]);var s=Object(n.useCallback)(function(t){"https://main.djdhx85izle40.amplifyapp.com"===t.origin&&("song-position"===t.data.type&&i(Object(d.a)({},a,{progress:t.data.body})),"song-duration"===t.data.type&&i(Object(d.a)({},a,{duration:t.data.body})))},[i,a]);return o.a.createElement("div",{className:(t.className||"text-sm")+" clock"},vi(a.progress/100*a.duration)," / ",vi(a.duration))}),yi=(r(1545),Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef,a:window.A||6,b:window.B||60,c:window.C||20}},function(t){return{}})(function(t){var e=t.showTutorial,r=t.hideLeaks,a=t.nextLeak,i=t.chooseLeak,s=t.artist,u=t.songId,l=t.title,h=t.playerRef,d=t.playCount,p=t.setShowRemixes,v=t.setRemixes,m=t.zorbId,y=t.setShowProfile,g=(t.remixes,t.tooltip,t.userZorbs),b=(Object(po.a)(t,["showTutorial","hideLeaks","nextLeak","chooseLeak","artist","songId","title","playerRef","playCount","setShowRemixes","setRemixes","zorbId","setShowProfile","remixes","tooltip","userZorbs"]),Object(n.useState)(!1)),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(n.useState)(!1),j=Object(c.a)(O,2),L=j[0],k=j[1];Object(n.useEffect)(function(){void 0!==u&&an(u).then(function(t){v(t)})},[u,v]);var S,N=Xa({account:{address:a&&a.mintInfo.toAddress}}).zorbs,I=[[],[Yo(140),Jo().start(10).end(30).tension(10).depth(40),Yo(30),Jo().start(10).end(50).tension(30).depth(-20)],[],[]],T=[[],[],[],[(S=!0,Wo("relative",S)),Yo(f.isMobile?38:32),Jo().start(window.A).end(window.B).tension(window.C).depth(70),Yo(f.isMobile?40:50),Jo().start(10).end(12).tension(30).depth(-70)]],_=a&&a.mintInfo.toAddress,C=N&&N[0]&&N[0].image.url,A=g&&g[0]&&g[0].image.url,G=a&&new Date(a.mintInfo.mintContext.blockTimestamp),M=G&&(new Date).getTime()-G.getTime();return[x&&o.a.createElement("div",{onTouchEnd:function(){return E(!1)},className:"scrub-backdrop"}),e?"":o.a.createElement(Ko,{radius:24,className:"zpore-control-header next-leak-controller "+(a?" showing":" invisible"),algo:T,fill:"#ffffff33",stroke:"transparent"},o.a.createElement("div",{className:"flex z-30 flex-col  overflow-hidden inner-control"},o.a.createElement("div",{className:"flex items-start"},o.a.createElement("div",{className:"flex-col flex"},o.a.createElement("div",{className:"w-full pl-1 pt-4 pb-0 flex text-xs top-header"},o.a.createElement(ti,{className:"close-btn z-30 w-4 h-5 pointer-events-auto",viewPort:"0 0 12 12",version:"1.1",onClick:function(){return r(15e3)}})," ",o.a.createElement(Me,{className:"mx-2",address:_})," ",o.a.createElement(di,{timeElapsed:M}))),o.a.createElement("div",{onClick:function(){return i()},className:"cursor-pointer flex items-start text-s ml-auto mr-2 my-auto px-3 py-1 load-into-spore bg-black text-black"},o.a.createElement("div",{className:"w-20 mr-1"},"play multiplayer")," ",o.a.createElement(pi,{zorb1:C,zorb2:A}))))),o.a.createElement("div",{svgFilter:{def:o.a.createElement("defs",null,o.a.createElement("filter",{id:"shadow","color-interpolation-filters":"sRGB"},o.a.createElement("feDropShadow",{dx:"5",dy:"3",stdDeviation:"3","flood-opacity":"0.5"}),"),")),name:"url(#shadow)"},relative:!1,radius:12,className:(L?"showing-songs ":"")+"zpore-control-header "+(a?" ":""),algo:I,fill:L?"#0000004a":"#ffffff33",stroke:"transparent"},o.a.createElement("div",{className:"flex z-20 flex-col  overflow-hidden inner-control"},o.a.createElement("div",{onClick:function(){return k(!L)},className:"w-full px-3 py-2 flex flex-col text-sm top-header"},o.a.createElement("div",{className:"flex"},o.a.createElement("div",{className:"text-white"},l),o.a.createElement(ri,{zorbId:m,setShowProfile:y})),o.a.createElement("div",{className:"text-zinc-300 cursor-pointer"},s)),L&&o.a.createElement(fi,{hide:function(){return k(!1)}}),o.a.createElement("div",{className:(L?"invisible ":"")+"w-full pt-3 px-3 pb-1 flex"},o.a.createElement("div",{className:"flex"},h&&o.a.createElement(P,{playerRef:h}),o.a.createElement(mi,{className:"text-white text-xs"})),o.a.createElement("div",{onClick:function(){return p(!0)},className:"ml-auto remixes-btn text-xs  text-white"},d," plays \u2197")),o.a.createElement(ni,{setIsScrubbing:E})))]})),gi=["C","C#","D","D#","E","F","F#","G","G#","A","A#","B"],bi={C:0,"C#":1,D:2,"D#":3,E:4,F:5,"F#":6,G:7,"G#":8,A:9,"A#":10,B:11},wi={"C#":!0,"D#":!0,"F#":!0,"G#":!0,"A#":!0},xi={},Ei=function(){function t(e,r){Object(F.a)(this,t),void 0===e&&(e="C"),this.note=e.toUpperCase(),this.octave=r}return Object(D.a)(t,[{key:"isBlackNote",value:function(){return wi[this.note]}},{key:"transpose",value:function(e){this.note;var r=Math.floor(ji(e,12)),n=Math.floor(e/12);return new t(gi[r],this.octave+n)}},{key:"addTranspose",value:function(e){var r=bi[this.note],n=Math.floor(ji(e+r,12)),o=Math.floor((e+r)/12);return new t(gi[n],this.octave+o)}},{key:"toString",value:function(){return this.note+this.octave}},{key:"getTranspose",value:function(){this.noteIndex();return 12*(this.octave-Oi.octave)+(this.noteIndex()-Oi.noteIndex())}},{key:"noteIndex",value:function(){return bi[this.note]}},{key:"getCopy",value:function(){return new t(this.note,this.octave)}},{key:"equal",value:function(t){return this.note===t.note&&this.octave===t.octave}}]),t}(),Oi=new Ei("C",3);function ji(t,e){return(t%e+e)%e}function Li(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(e&&xi[t])return xi[t];var r=void 0;return r="#"===t.substring(1,2)?new Ei(t.substring(0,2),parseInt(t.substring(2))):new Ei(t.substring(0,1),parseInt(t.substring(1))),e&&(xi[t]=r),r}for(var ki=gi.map(function(t){return new Ei(t,3)}),Si=0;Si<16;Si++)for(var Ni in gi){Li(gi[Ni]+Si)}var Ii={Note:Ei,middleC:Oi,fromString:Li,fromTranspose:function(t){return Oi.getCopy().transpose(t)},NOTES:ki,baseNotes:gi},Ti=function(t,e){var r=t.key.split(" "),n=Object(c.a)(r,2),o=n[0],a=(n[1],e.key.split(" ")),i=Object(c.a)(a,2),s=i[0],u=(i[1],Ii.fromString(o+"3"),Ii.fromString(o+"3").getTranspose()),l=Ii.fromString(s+"3").getTranspose();return u>6&&(u-=12),l>6&&(l-=12),u-l};function _i(){_i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ci={};window.execute=function(){Ai(Ci.songId,Ci.leak)};var Ai=function(){var t=Object(R.a)(_i().mark(function t(e,r){var n,o,a,i,c,s,u,l,f,h,d,p,v,m,y,g,b,w,x,E,O;return _i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return Ci={songId:e,leak:r},t.next=3,wa(window.songId,!0);case 3:return n=t.sent,o=r.song,a=r,i=o.dropAddress,c=parseInt(r.tokenId),s=parseInt(n.attributes["start-time"])/1e3,u=parseInt(o.attributes["start-time"]||33)/1e3,l=r.attributes,f=l.detune,h=l.bpm,d=l.zorb,p=h,(v=[h,2*h,h/2]).sort(function(t,e){return Math.abs(n.bpm-t)-Math.abs(n.bpm-e)}),h=v[0],m=0,h<r.attributes.bpm&&Math.abs(r.attributes.bpm-n.bpm)<35&&(h=v[1],m=-12),n.bpm>80&&n.bpm<110&&r.attributes.bpm>90&&(h=r.attributes.bpm,r.attributes.bpm>=110&&(m=-12)),y=o.bpm/h,g=y*u,u-s,b=f/100,(w=Ti(n,o)-b)>=12?w%=12:w>=6?w-=12:w<-6&&(w+=12),o.bpm,w+=m,x=a.metadata.animation_url,t.next=29,a.downloadedAudio;case 29:E=t.sent,O={sound:E,id:x,transpose:w,onset:g,volume:1.5,bpm:h,contractAddress:i,tokenId:c,leakBPM:p,stemTypes:[1,3,2]},window.playerRef.current.contentWindow.postMessage({type:"load-stem",body:O},"*"),yo(d).then(function(t){if(t.indexOf("base64,")>=0){var e=atob(t.slice(t.indexOf("base64,")+"base64,".length));window.playerRef.current.contentWindow.postMessage({type:"incoming-zorb",body:e},"*")}});case 33:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}();window.multiplayer=Ai;var Pi=Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.setFinished,r=t.playerRef,a=t.radius,i=Object(n.useState)(0),s=Object(c.a)(i,2),u=s[0],l=s[1],f=(Object(n.useRef)([]),Object(n.useRef)(0)),h=Object(n.useRef)(0),d=Object(n.useRef)(1);Object(n.useEffect)(function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}},[l,u,e,r]),C(Object(n.useCallback)(function(){h.current>94&&(d.current*=.99);var t=h.current+.1*d.current;l(t),h.current=t},[l]),20);var p=Object(n.useCallback)(function(t){"https://main.djdhx85izle40.amplifyapp.com"===t.origin&&("loading-progress"===t.data.type&&(d.current=Math.min(7,Math.max(4.5,(t.data.body-f.current)/10)),f.current=t.data.body,h.current>f.current&&(d.current*=.5)),"Finished Loading Project"===t.data&&(r&&(console.log("acknowledging"),r.current.contentWindow.postMessage({type:"finished-acknowledged",body:!0},"*")),e(!0)))},[l,e,u,r]);return o.a.createElement(_,{percentage:u,radius:a||155})}),Gi=(r(1546),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.zorbStartPosition,r=e.image,a=e.x,i=e.y,s=Object(n.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1],h=function(t,e){t="--"+t,document.documentElement.style.setProperty(t,e)};return Object(n.useEffect)(function(){var t=window.innerWidth,e=window.innerHeight;h("zorb-start-x",a+-25+"px"),h("zorb-start-y",i+-25+"px"),h("zorb-mid-x",t/2-25+"px"),h("zorb-mid-y",t/2-25+"px"),h("zorb-end-x",t/2-25+"px"),h("zorb-end-y",e/2-25+"px"),f(!0),setTimeout(function(){f(!1)},1e3)},[e,a,i,f]),l?o.a.createElement("img",{style:{left:a,top:i},className:"zorb-animation animate-it",src:r}):""})),Mi=function(){window.PLAYLIST_FLAG=!0,window.CHARTS_FLAG=!0,window.TOKEN_LOCK_FLAG=!0,window.LOCAL_BACKEND_FLAG=!0,window.CHILLRX_FLAG=!1,window.ABOUT_TO_END_FLAG=!1,window.TEST_REMIX_UPLOAD_FLAG=!1,window.OWN_FAKE_SPORE_FLAG="localhost"===window.location.hostname},Ri=r(21),Fi=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.hide,r=t.download,n=(t.transaction,t.downloading),a=t.isWaitingForSignature;return n?o.a.createElement("div",{className:"download-test downloading"},o.a.createElement(xe,null)):a?o.a.createElement("div",{className:"waiting download-test"},"We are transmitting your remix on-chain.",o.a.createElement("div",{className:"test-net"},"This is on a test-network, as we develop this."),o.a.createElement(xe,null)):o.a.createElement("div",{className:"download-test"},o.a.createElement("span",null,"Your remix is now beaming into other spores. Download your remix ",o.a.createElement("a",{target:"_blank",href:"https://zequencer.mypinata.cloud/ipfs/"+r},"here"),". "),o.a.createElement("br",null),o.a.createElement("div",{onClick:e,className:"px-3 py-1 text-md ok-button pushable"},"OK ",o.a.createElement("svg",{height:"13",width:"16"},o.a.createElement("path",{d:"M14.293.293l1.414 1.414L5 12.414.293 7.707l1.414-1.414L5 9.586z"}))))}),Di=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.start,r=t.player,a=t.setIsPlaying,i=t.width,s=t.startRef,u=t.lengthRef,l=t.isPlaying,f=Object(n.useState)(0),h=Object(c.a)(f,2),d=h[0],p=h[1],v=Object(n.useCallback)(function(){if(l){var t=3/r.duration;d+t>s.current+u.current?(a(!1),p(s.current)):p(d+t)}},[l,p,d,r]);return Object(n.useEffect)(function(){p(e)},[l,e]),C(v,30),o.a.createElement("div",{style:{left:30+d/100*i*2+"px"},className:"playhead"})}),zi=Object(s.b)(function(t,e){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},function(t){return{}})(function(t){var e=t.width,r=t.buffer,a=t.start,i=t.length,s=function(t){var e=t.buffer,r=t.start,o=t.length,a=Object(n.useRef)(!1),i=Object(n.useRef)(r),s=Object(n.useRef)(o),u=Object(n.useState)(!1),l=Object(c.a)(u,2),f=l[0],h=l[1],d=Object(n.useState)(new Ut(g.a.Master.context)),p=Object(c.a)(d,2),v=p[0];p[1],Object(n.useEffect)(function(){i.current=r,s.current=o,h(!1),v.stopSound()},[r,o,h]),Object(n.useEffect)(function(){},[e]);var m=Object(n.useCallback)(function(){if(!a.current){var t=new AudioBuffer({length:e[0].length,sampleRate:44100,numberOfChannels:e.length});t.copyToChannel(e[0],0),e[1]&&t.copyToChannel(e[1],1),v.setBuffer(t),a.current=!0}v.playSound(i.current/100*v.duration,s.current/100*v.duration)},[]),y=Object(n.useCallback)(function(){f?v.stopSound():m(),h(!f)},[f,h,r,o]);return{player:v,setIsPlaying:h,startRef:i,lengthRef:s,play:y,isPlaying:f,stop:function(){return v.stopSound()}}}({buffer:r,start:a,length:i}),u=s.startRef,l=s.lengthRef,f=(s.playhead,s.stop),h=s.play,d=s.isPlaying,p=s.setIsPlaying,v=s.player;return Object(n.useEffect)(function(){return function(){return f()}},[]),[o.a.createElement("div",{className:"control-btn-container"},o.a.createElement(b,{isPlaying:d,play:h})),o.a.createElement(Di,{start:a,length:i,width:e,startRef:u,lengthRef:l,isPlaying:d,setIsPlaying:p,player:v})]}),Bi=function(t){return 1/(8*t/60)},Hi=function(t,e){return t=Math.round(10*t)/10,e&&t<10?"0"+t:t},Ui=Object(s.b)(function(t){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},void 0)(function(t){var e=t.endTime,r=t.length,a=t.isStableBPM,i=t.beatGuide,s=t.setIsStableBPM,u=t.start,l=t.buffer,f=t.bpm,h=t.detune,d=t.setBPM,p=t.setDetune;return Object(n.useEffect)(function(){var t=u;u=u/100*l[0].length/44100;for(var n=(t+r)/100*l[0].length/44100,o=0,a=0,f=0,h=new Set,v=0;v<i.length;v++){var m=Object(c.a)(i[v],4),y=(m[0],m[1]),g=m[2],b=m[3],w=l[0].length/44100-(e-y);w>=u&&w<n&&(o+=g,a+=b,f++,h.add(g))}s(1===h.size),d(o/f),p(a/f)},[u,r,l,i,s,e,d,p]),o.a.createElement("div",{className:"start-info"},o.a.createElement("div",{className:"flex-col w-8 flex"},o.a.createElement("span",{className:"slice-len text-center"},Math.round(f)),o.a.createElement("span",{className:"text-zinc-500 text-xs text-center"},"bpm")),o.a.createElement("div",{className:"flex-col w-8 flex"},o.a.createElement("span",{className:"slice-len text-center"},h>0?"+":"",Hi(h/100)),o.a.createElement("span",{className:"mx-1 text-zinc-500 text-xs text-center"},"tuning")),o.a.createElement("div",{className:"mt-0.5 ml-auto w-16 flex flex-col"},o.a.createElement("div",{className:"text-xs flex w-full h-4"},o.a.createElement("div",{className:"label mt-0.5"},"00:",Hi(u,!0)),o.a.createElement("div",{className:"text-xs ml-auto text-zinc-500"},"s")),o.a.createElement("span",{className:"mt-0.5 mx-1 text-zinc-500 text-xs text-center"},"start")),!a&&o.a.createElement("div",{className:"not-stable-bpm"},o.a.createElement("div",{className:"text-xs italic"},"unstable bpm")))}),Wi=Object(s.b)(function(t,e){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},function(t){return{}})(function(t){var e=t.bpm,r=t.setBPM,n=t.isStableBPM,a=t.setIsStableBPM,i=t.length,c=t.detune,s=t.setDetune,u=t.beatGuide,l=t.endTime,f=t.start,h=t.buffer,d=t.width,p=t.dragStartControl,v=t.dragEndControl;return o.a.createElement("div",{style:{left:30+f/100*(2*d)+"px",width:i/100*(2*d)+"px"},className:"slicer"},o.a.createElement("div",{onMouseDown:p,onTouchStart:p,className:"start-control"},o.a.createElement(Ui,{bpm:e,setBPM:r,length:i,detune:c,setDetune:s,beatGuide:u,endTime:l,isStableBPM:n,setIsStableBPM:a,start:f,buffer:h}),o.a.createElement("div",{className:"arrow-left"})),o.a.createElement("div",{onTouchStart:v,onMouseDown:v,className:"end-control"},o.a.createElement("div",{className:"arrow-right"})))});function Yi(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Ji(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ji(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ji(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var qi=function(t){var e=t.endTime,r=t.loopsData,o=t.zorbMovements,a=t.stemsData,i=t.remixesHistory,s=(t.startStep,t.silence),u=t.start,l=t.length,f=t.buffer,h=t.draggingStart,p=t.draggingEnd,v=Object(n.useState)({}),m=Object(c.a)(v,2),y=m[0],g=m[1];return Object(n.useEffect)(function(){var t=Zi(r.synths,u,l,f,e),n=Zi(r.drums,u,l,f,e),s=Zi(i,u,l,f,e,!0),h=Zi(o,u,l,f,e,!0).filter(function(t){return"none"!==t[1]}).map(function(t){var r=Object(c.a)(t,3),n=(r[0],r[1]),o=r[2];return Ki(n,o,f,e,u)}).filter(function(t){return t.time>=0}),p=t.map(function(t){var r=Object(c.a)(t,3),n=(r[0],r[1]),o=r[2];return Qi(n,o,f,e,u)}).filter(function(t){return t.time>=0}),v=n.map(function(t){var r=Object(c.a)(t,3),n=(r[0],r[1]),o=r[2];return Qi(n,o,f,e,u)}).filter(function(t){return t.time>=0}),m=f[0].length/44100,y=e-m+m*u/100,b=y+m*l/100,w=function(t,e,r,n,o){var a=ja(e,t.synths,r,n,o),i=ja(e,t.drums,r,n,o),c=ja(void 0,t.remixes,r,n,o),s=Object(d.a)({},a,i);return delete s[void 0],{stemIds:Object.keys(s).map(function(t){return parseInt(t)}),percentages:Object.values(s).map(Math.round),remixPercentages:c,movements:t.movements,synths:t.synthMovements.map(function(t){return Object(d.a)({},t,{stemId:e[t.stemId]})}),drums:t.drumMovements.map(function(t){return Object(d.a)({},t,{stemId:e[t.stemId]})})}}({synths:t,drums:n,remixes:s,movements:h,synthMovements:p,drumMovements:v},a,b-y,y,b);g(w)},[s,a,u,l,g,e,i,o,p,h]),{croppedStemsData:y}},Zi=function(t,e,r,n,o,a){t=t.map(function(t){return[isNaN(t[0])?0:t[0],t[1],t[2]]});var i=n[0].length/44100,s=o-i+i*e/100,u=s+i*r/100;if(0===t.length)return[];var l,f=void 0,h=t[0][2],d=Yi(t);try{for(d.s();!(l=d.n()).done;){var p=l.value,v=Object(c.a)(p,3),m=(v[0],v[1],v[2]);if(m>=s){f=h||m;break}h=m}}catch(j){d.e(j)}finally{d.f()}void 0===f&&(f=t[t.length-1][2]);var y=void 0;h=void 0;var g,b=Yi(t);try{for(b.s();!(g=b.n()).done;){var w=g.value,x=Object(c.a)(w,3),E=(x[0],x[1],x[2]);if(E>=u){y=h||E;break}h=E}}catch(j){b.e(j)}finally{b.f()}void 0===y&&(y=t[t.length-1][2]);var O=t.filter(function(t){return t[2]>=f&&t[2]<=y});return O[0]&&O[0][2]>s&&((O=[[0,"none",0]].concat(Object(U.a)(O)))[0][2]=s),O},Ki=function(t,e,r,n,o){var a=r[0].length/44100;return{time:e-=n-a+a*o/100,movement:{x:t[0],y:t[1]}}},Qi=function(t,e,r,n,o){var a=r[0].length/44100;return{time:e-=n-a+a*o/100,stemId:t}};var Vi=r(664),Xi=r.n(Vi);function $i(){$i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var tc=function(){var t=Object(R.a)($i().mark(function t(e,r,n){var o,a,i,c,s,u,l;return $i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=e[0].length,a=Math.ceil(r/100*e[0].length),i=Math.ceil(n/100*o),c=new Float32Array(i),s=new Float32Array(i),c.set(e[0].subarray(a,a+i)),s.set(e[1].subarray(a,a+i)),u=ec([c,s]),t.next=10,rc(u,!0);case 10:return l=t.sent,t.abrupt("return",l);case 12:case"end":return t.stop()}},t)}));return function(e,r,n){return t.apply(this,arguments)}}(),ec=function(t){for(var e=[],r=new Xi.a.Mp3Encoder(t.length,44100,128),n=t[0],o=t[1],a=0;a<n.length;a+=1152){for(var i=n.subarray(a,a+1152),c=o?o.subarray(a,a+1152):void 0,s=0;s<i.length;s++)i[s]*=32767.5,c&&(c[s]*=32767.5);(u=c?r.encodeBuffer(i,c):r.encodeBuffer(i)).length>0&&e.push(u)}var u;return(u=r.flush()).length>0&&e.push(u),new Blob(e,{type:"audio/mp3"})},rc=function(t,e){return new Promise(function(r){var n=new FormData;e?n.append("file",t):n.append("file",new Blob([t]));fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{pinata_api_key:"66a8464d59553776562c",pinata_secret_api_key:"96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109"},body:n}).then(function(){var t=Object(R.a)($i().mark(function t(e){var n;return $i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,r(n.IpfsHash);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})};function nc(){nc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var oc=Object(s.b)(function(t,e){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},function(t){return{}})(function(t){var e=t.isCaptioning,r=t.onCancel,a=t.isStableBPM,i=t.account,c=t.setDownloading,s=t.setSaving,u=t.saving,l=t.setIsCaptioning,f=t.bpm,h=t.detune,d=t.mintPrice,p=t.screenshot,v=t.songId,m=t.caption,y=t.buffer,g=t.signer,b=t.setIsWaitingForSignature,w=t.setDownload,x=t.stemsData,E=t.loopsData,O=t.startStep,j=t.silence,L=t.endTime,k=t.remixesHistory,S=t.zorbMovements,N=t.setTransaction,I=t.zorbId,T=t.start,_=t.length,C=t.draggingStart,A=t.draggingEnd,P=function(t){var e=t.songId,r=t.mintPrice,o=t.isStableBPM,a=t.bpm,i=t.detune,c=t.stemsData,s=t.screenshot,u=t.caption,l=t.buffer,f=t.signer,h=t.start,d=t.setIsWaitingForSignature,p=t.setDownloading,v=t.length,m=t.setDownload,y=t.stop,g=t.setTransaction,b=t.zorbId,w=Object(wt.c)(),x=w.data;return w.isError,w.isLoading,Object(n.useCallback)(Object(R.a)(nc().mark(function t(){var n;return nc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return y(),t.next=4,tc(l,h,v);case 4:return n=t.sent,console.log("songId for remix=",e),m(n),p(!1),d(!0),o||hn(n),t.next=13,Yr(f,x.address,e,n,c,b,a,i,r);case 13:t.sent,g("fuck"),d(!1);case 17:case"end":return t.stop()}},t)})),[x,o,c,x,s,u,f,h,r,d,a,i,e,m,p,v,m])}({bpm:f,detune:h,isStableBPM:a,mintPrice:d,stemsData:qi({draggingStart:C,draggingEnd:A,stemsData:x,loopsData:E,start:T,length:_,startStep:O,silence:j,buffer:y,endTime:L,remixesHistory:k,zorbMovements:S}).croppedStemsData,screenshot:p,songId:v,caption:m,buffer:y,signer:g,start:T,setIsWaitingForSignature:b,setDownloading:c,length:_,setDownload:w,stop:function(){return[]},setTransaction:N,zorbId:I});return o.a.createElement("div",{className:e?"slice-toolbar captioning":"slice-toolbar"},o.a.createElement("div",{onClick:e?function(){return l(!1)}:r,className:"cancel-btn pushable"},e?"Edit":"Cancel"),i&&i.address?o.a.createElement("div",{onClick:function(){c(!0),setTimeout(function(){s(!0),P()},40)},className:(u?"opacity-20 ":"")+"done-btn pushable"},"Save"):o.a.createElement("div",{className:"final-connect"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})," "))});function ac(){ac=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ic=zr,cc=function(){var t=Object(R.a)(ac().mark(function t(e){var r,n,o,a;return ac().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new vt(ic.goerli).from(nt).where("targetZoraDrop",e),t.next=4,r.executeQuery();case 4:return n=t.sent,o=n[0],console.log("result.newMintPrice=",o.newMintPrice),a=o.startsWith&&o.startsWith("0x")?uc(o.newMintPrice.slice(3)):o.newMintPrice/1e18,console.log("MINT PRICE WE GOT=",a),t.abrupt("return",a);case 10:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),sc=function(){var t=Object(R.a)(ac().mark(function t(e){var r,n,o;return ac().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=new vt(Br).from(rt).select("dropAddress").select("songId").where("songId",parseInt(e)),t.next=3,r.executeQuery();case 3:if((n=t.sent)[0]){t.next=6;break}return t.abrupt("return");case 6:return o=n[0].dropAddress,t.abrupt("return",o);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),uc=function(t){return parseInt(t,16)/1e18};function lc(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return fc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fc(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function fc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var hc=function(t,e,r,n){arguments.length>4&&void 0!==arguments[4]&&arguments[4];var o,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:16,i=e[0].length/44100,s=[],u=lc(t=Object(U.a)(t).reverse());try{for(u.s();!(o=u.n()).done;){var l=o.value,f=Object(c.a)(l,2),h=f[0],d=f[1];if(h%a===0){var p=(n-d)/i*r;s.push([r-p,h%32===0])}}}catch(v){u.e(v)}finally{u.f()}return s};function dc(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return pc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return pc(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function pc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var vc=Object(s.b)(function(t){return{start:t.spore.slicePoints.start,length:t.spore.slicePoints.length}},void 0)(function(t){var e=t.width,r=(t.silence,t.buffer),a=(t.bpm,t.waveform),i=void 0===a?[]:a,s=t.endTime,u=t.start,l=t.length,f=t.height,h=void 0===f?100:f,d=(t.startStep,t.beatGuide),p=(t.startRef,t.lengthRef,Object(n.useState)([])),v=Object(c.a)(p,2),m=v[0],y=v[1];Object(n.useEffect)(function(){for(var t=[],e=0;e<i.length;e+=4)t.push(i[e]*h);y(t)},[i,y]);var g=u/100*m.length,b=hc(d,r,2*e,s),w=function(t){return 2*e*u/r.duration>=t&&t<=2*e*(u+l)/r.duration};return o.a.createElement("svg",{width:2*e,height:h},m.map(function(t,r){return o.a.createElement("rect",{className:(r>=g&&r<=g+l/100*m.length?"sliced-region":"")+(r%2===0?" even ":" odd"),x:2*r/m.length*e,y:h/2-t/2,height:t,width:2})}),b.map(function(t,e){var r=Object(c.a)(t,2),n=r[0],a=r[1];return o.a.createElement("rect",{x:n,y:a?h-(w(n)?30:15):h-(w(n)?10:5),height:(a?30:6)*(w(n)?1:.5),width:2,className:w(n)?"inside beat-ruler":"beat-ruler",fill:"red"})}))}),mc=(Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.caption,r=t.setCaption;return o.a.createElement("div",{className:"captioner"},o.a.createElement("input",{placeholder:"Describe your sound...",value:e,onChange:function(t){return r(t.target.value)}}))}),r(1566),Object(s.b)(function(t,e){return{}},function(t){return{setSlicePoints:function(e,r){return t({type:517,payload:{start:e,length:r}})},setSliceLength:function(e){return t({type:518,payload:e})}}})(function(t){var e=t.store,r=t.silence,a=t.songId,i=t.endTime,s=t.screenshot,u=t.zorbId,l=t.beatGuide,h=t.waveform,d=t.setSlicePoints,p=t.setSliceLength,v=t.buffer,m=t.onCancel,y=t.zorbMovements,g=t.remixesHistory,b=t.startStep,w=t.stemsData,x=t.loopsData,E=Object(wt.c)(),O=E.data,j=(E.isError,E.isLoading,Object(n.useRef)()),L=Object(wt.k)().data,k=Object(n.useState)(),S=Object(c.a)(k,2),N=S[0],I=S[1],T=Object(n.useState)(""),_=Object(c.a)(T,2),C=_[0],A=(_[1],Object(n.useState)()),P=Object(c.a)(A,2),G=P[0],M=P[1],R=Object(n.useState)(!1),F=Object(c.a)(R,2),D=F[0],z=F[1],B=Object(n.useState)(!1),H=Object(c.a)(B,2),U=H[0],W=H[1],Y=Object(n.useState)(),J=Object(c.a)(Y,2),q=J[0],Z=J[1],K=Object(n.useState)(),Q=Object(c.a)(K,2),V=Q[0],X=Q[1],$=Object(n.useState)(),tt=Object(c.a)($,2),et=tt[0],rt=tt[1],nt=Object(n.useState)(120),ot=Object(c.a)(nt,2),at=ot[0],it=ot[1],ct=Object(n.useState)(!0),st=Object(c.a)(ct,2),ut=st[0],lt=st[1],ft=Object(n.useState)(0),ht=Object(c.a)(ft,2),dt=ht[0],pt=ht[1];Object(n.useEffect)(function(){return function(){return d(0,100)}},[]),Object(n.useEffect)(function(){var t=f.isMobile?300:j.current.offsetWidth;Z((t-60)/2)},[Z]);var vt=function(t){var e=t.store,r=t.ref,o=t.bpm,a=void 0===o?90:o,i=t.width,s=t.buffer,u=t.startStep,l=t.silence,f=(t.waveform,t.endTime),h=t.beatGuide,d=t.setSlicePoints,p=t.setLength,v=Object(n.useState)(),m=Object(c.a)(v,2),y=m[0],g=m[1],b=Object(n.useState)(),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(n.useCallback)(function(t){var e=s[0].length/44100,r=t/100*e,n=Bi(a),o=r/n,i=16-o%16;return i>8&&(i=-o%16),t+n*i*100/e},[s]),j=Object(n.useCallback)(function(t){var e,r=1e5,n=-1,o=dc(hc(h,s,2*i,f,l,64).filter(function(t){var e=Object(c.a)(t,2);return e[0],e[1]}).map(function(t){return t[0]}).map(function(t){return t/(2*i)*100}));try{for(o.s();!(e=o.n()).done;){var a=e.value,u=Math.abs(a-t);u<r&&(n=a,r=u)}}catch(d){o.e(d)}finally{o.f()}return n},[u,s,l,a,f,l,i,h]),L=Object(n.useCallback)(function(t){if(void 0!==y||void 0!==x){t.touches&&(t=t.touches[0]);var n=r.current.getBoundingClientRect(),o=t.pageX-n.left;if(void 0!==y){var a=100*(o-y.x)/(2*i),c=y.start+a;c=Math.max(0,Math.min(100,c)),d(c,Math.min(100-c,y.length-a))}else{var s=100*(o-x.x)/(2*i),u=x.length+s;p(Math.min(100-e.getState().spore.slicePoints.start,Math.max(0,u)))}}},[y,i,x,p,u,s,l,a,e]),k=Object(n.useCallback)(function(t){t.touches&&(t=t.touches[0]);var n=r.current.getBoundingClientRect(),o=t.clientX-n.left;g({x:o,start:e.getState().spore.slicePoints.start,length:e.getState().spore.slicePoints.length})},[g,e]),S=Object(n.useCallback)(function(t){t.touches&&(t=t.touches[0]);var n=r.current.getBoundingClientRect(),o=t.clientX-n.left,a=e.getState().spore.slicePoints.length;E({x:o,length:a})},[E,e]),N=Object(n.useCallback)(function(){if(y||x){var t=j(e.getState().spore.slicePoints.start),r=e.getState().spore.slicePoints.length,n=O(r);d(t,Math.min(100-t,n))}g(void 0),E(void 0)},[y,x,p,E,g,s,e]);return Object(n.useEffect)(function(){if(!y){var t=j(0),r=e.getState().spore.slicePoints.length,n=O(r);d(t,Math.min(100-t,n))}},[h,h,s,s,i,f,l,e]),Object(n.useEffect)(function(){return window.addEventListener("mousemove",L),window.addEventListener("touchmove",L),window.addEventListener("mouseup",N),window.addEventListener("touchend",N),function(){window.removeEventListener("mousemove",L),window.removeEventListener("touchmove",L),window.removeEventListener("touchend",N),window.removeEventListener("mouseup",N)}},[y,i,x,p,g,E,y,s,a,u,l,e]),{dragEndControl:S,dragStartControl:k,draggingStart:y,draggingEnd:x}}(Object(Ri.a)({store:e,setLength:p,setSlicePoints:d,ref:j,width:q,buffer:v,startStep:b,silence:r,waveform:h,endTime:i,beatGuide:l},"endTime",i)),mt=vt.dragEndControl,yt=vt.dragStartControl,gt=vt.draggingStart,bt=vt.draggingEnd,xt=function(t){var e=Object(n.useState)(),r=Object(c.a)(e,2),o=r[0],a=r[1],i=Object(n.useState)(),s=Object(c.a)(i,2),u=s[0],l=s[1];return Object(n.useEffect)(function(){sc(t).then(function(t){a(t),cc(t).then(l)})},[t]),{mintPrice:u,dropAddress:o}}(a),Et=(xt.dropAddress,xt.mintPrice);return et||D||G?o.a.createElement("div",{className:"slicer-backdrop"},o.a.createElement(Fi,{hide:function(t){return m(!0)},download:V,transaction:et,downloading:D,isWaitingForSignature:G})):o.a.createElement("div",{className:"slicer-backdrop"},o.a.createElement("div",{className:"slice-waveform"},o.a.createElement(zi,{buffer:v,width:q}),o.a.createElement("div",{ref:j,className:"waveform-container"},q&&o.a.createElement(vc,{endTime:i,beatGuide:l,silence:r,height:f.isMobile?90:100,buffer:v,startStep:b,waveform:h,width:q}),!U&&o.a.createElement(Wi,{bpm:at,setBPM:it,setIsStableBPM:lt,isStableBPM:ut,detune:dt,setDetune:pt,beatGuide:l,endTime:i,buffer:v,width:q,dragStartControl:yt,dragEndControl:mt})),o.a.createElement("div",{className:"slice-guide-info"},"slice your remix to beam into other spores")),D?"":V?o.a.createElement("div",{className:"slice-toolbar"},o.a.createElement("div",{onClick:m,className:"done-btn pushable continue"},"Continue")):o.a.createElement(oc,{draggingStart:gt,draggingEnd:bt,isCaptioning:U,onCancel:m,isStableBPM:ut,account:O,setDownloading:z,setSaving:I,saving:N,setIsCaptioning:W,bpm:at,detune:dt,mintPrice:Et,screenshot:s,songId:a,caption:C,buffer:v,signer:L,setIsWaitingForSignature:M,setDownload:X,stemsData:w,setTransaction:rt,zorbId:u,loopsData:x,startStep:b,silence:r,endTime:i,remixesHistory:g,zorbMovements:y}))}));function yc(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return gc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return gc(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function gc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var bc=function(t){for(var e=t[0],r=Math.ceil(e.length/500),n=[],o=0;o<e.length;o+=r){for(var a=0,i=o;i<o+r;i++)a+=Math.pow(e[i],2);var c=Math.sqrt(a/r);n.push(c)}return n},wc=function(t){var e,r=0,n=yc(t);try{for(n.s();!(e=n.n()).done;){r+=e.value.recLength}}catch(p){n.e(p)}finally{n.f()}for(var o=[],a=0;a<2;a++){var i,c=new Float32Array(r),s=0,u=yc(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;if(!l.buffers[a])return;var f,h=yc(l.buffers[a]);try{for(h.s();!(f=h.n()).done;){var d=f.value;c.set(d,s),s+=d.length}}catch(p){h.e(p)}finally{h.f()}}}catch(p){u.e(p)}finally{u.f()}o.push(c)}return o};r(1567);function xc(){xc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ec=Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{setSongLoaded:function(e){return t(I(e))},setSongLoading:function(e){return t(T(e))},setLeakLoaded:function(e){return t(N(e))}}})(function(t){var e=t.store,r=t.playerRef,a=t.zorbId,i=t.setIsSlicing,s=t.songId,u=t.setSongLoaded,l=t.setSongLoading,f=t.setLeakLoaded,h=function(){var t=Object(n.useState)(),e=Object(c.a)(t,2),r=e[0],o=e[1],a=Object(n.useState)(),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(n.useState)(),f=Object(c.a)(l,2),h=f[0],p=f[1],v=Object(n.useState)(),m=Object(c.a)(v,2),y=m[0],g=m[1],b=Object(n.useState)(),w=Object(c.a)(b,2),x=w[0],E=w[1],O=Object(n.useRef)({}),j=Object(n.useState)(),L=Object(c.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)(),I=Object(c.a)(N,2),T=I[0],_=I[1],C=Object(n.useState)(),A=Object(c.a)(C,2),P=A[0],G=A[1],M=Object(n.useState)(),R=Object(c.a)(M,2),F=R[0],D=R[1],z=Object(n.useState)(),B=Object(c.a)(z,2),H=B[0],U=B[1],W=Object(n.useState)([]),Y=Object(c.a)(W,2),J=Y[0],q=Y[1],Z=Object(n.useState)([]),K=Object(c.a)(Z,2),Q=K[0],V=K[1];Object(n.useEffect)(function(){k&&k.drums&&k.synths&&Oa(k).then(function(t){_(t)})},[k]),Object(n.useEffect)(function(){return window.addEventListener("message",X),function(){return window.removeEventListener("message",X)}},[k,p,D,u,o,S,G,U,V]);var X=Object(n.useCallback)(function(t){if("drum-loops-data"===t.data.type){var e=Object(d.a)({},O.current,{drums:t.data.body});O.current=e,S(e)}else if("synth-loops-data"===t.data.type){var r=Object(d.a)({},O.current,{synths:t.data.body});O.current=r,S(r)}"zpore-screenshot"===t.data.type&&o(t.data.body),"zorb-movements"===t.data.type&&V(t.data.body),"slice-audio-buffer"===t.data.type&&"bang"!==t.data.body&&u(wc(t.data.body)),"slice-silence"===t.data.type&&g(t.data.body),"slice-start-step"===t.data.type&&E(t.data.body),t.data.type,"beat-guide"===t.data.type&&(console.log("received beat guide"),U(t.data.body)),"end-time"===t.data.type&&D(t.data.body),"remixes-history"===t.data.type&&q(t.data.body)},[k,D,V,p,o,u,E,S,U,q]);Object(n.useEffect)(function(){s&&p(bc(s))},[s,p]);var $=Object(n.useCallback)(function(){u(void 0),p(void 0)},[u,p]);return{zorbMovements:Q,remixesHistory:J,buffer:s,screenshot:r,silence:y,startStep:x,stemsData:T,onCancel:$,beatGuide:H,startTime:P,waveform:h,loopsData:k,endTime:F}}(),p=h.buffer,v=h.screenshot,m=h.silence,y=h.beatGuide,g=(h.startTime,h.startStep),b=h.endTime,w=h.stemsData,x=h.loopsData,E=h.onCancel,O=h.remixesHistory,j=h.zorbMovements,L=h.waveform,k=Object(n.useState)(!1),S=Object(c.a)(k,2),N=S[0],I=S[1];Object(n.useEffect)(function(){p&&i(!0)},[p,i]);var T=Object(n.useCallback)(function(){var t=Object(R.a)(xc().mark(function t(e){var n,o;return xc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return l(!0),t.next=3,Xr();case 3:return n=(n=t.sent).filter(function(t){return!oi.includes(t.songId)}),!0===e?(n.sort(function(t,e){return t.songId-e.songId}),(o=n.find(function(t){return t.songId>parseInt(s)}))||(o=n.find(function(t){return t.songId!==parseInt(s)}))):o=n.find(function(t){return t.songId===parseInt(s)}),console.log("song id to fetch=",o.songId),t.next=9,Ja([parseInt(o.songId)]);case 9:o=(o=t.sent)[0],console.log("returned=",o),console.log("switching songs=",o),r.current.contentWindow.postMessage({type:"switch-songs",body:Object(d.a)({},o,{autoPlay:!0})},"*"),u(o.songId),f(void 0);case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),[s,r]),_=Object(n.useCallback)(function(){I(!0),r.current.contentWindow.postMessage({type:"slice-audio",body:""},"*")},[r]);return Object(n.useEffect)(function(){p&&y&&x&&void 0!==b&&I(!1)},[I,p,y,x,b]),[o.a.createElement("div",{className:"slice-recorder"},o.a.createElement("img",{src:"/HIFI-SAVE.svg",onClick:_,className:(N?"pointer-events-none opacity-25 ":"")+"pushable slice-recorder"}),o.a.createElement("div",{className:"rec-dot"})),p&&y&&x&&void 0!==b?o.a.createElement(mc,{zorbId:a,screenshot:v,remixesHistory:O,songId:s,silence:m,startStep:g,beatGuide:y,loopsData:x,store:e,endTime:b,zorbMovements:j,stemsData:w,onCancel:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];E(),i(!1),T(t)},buffer:p,waveform:L}):""]});Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.containerRef,r=t.setZorbId,a=t.zorbId,i=t.zorb,c=t.setZorbStartPosition,s=Object(n.useRef)(),u=a===parseInt(i.tokenId);return Object(n.useEffect)(function(){},[]),Object(n.useEffect)(function(){if(u){var t=s.current.getBoundingClientRect();c({x:t.left,y:t.top,image:i.image.url})}},[u,c]),o.a.createElement("div",{ref:s,onMouseDown:function(t){e.current.style.pointerEvents="none",r(parseInt(i.tokenId))},className:"pushable zorb-option "+(u?"selected":" unselected")},o.a.createElement("img",{src:i.image.url,className:u?"selected":" unselected"}))}),r(1568);function Oc(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return jc(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jc(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function jc(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Lc=Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef}},function(t){return{}})(function(t){var e=t.zorbs,r=t.account,a=t.setZorbId,i=t.zorbId,s=(t.setZorbStartPosition,t.playerRef),u=Object(n.useRef)(),l=Object(n.useState)(!0),f=Object(c.a)(l,2),h=f[0],d=f[1];Object(n.useEffect)(function(){window.addEventListener("message",p)},[d,a]),Object(n.useEffect)(function(){if(i&&h&&s){var t=e.find(function(t){return parseInt(t.tokenId)==i}).image.url;s.current.contentWindow.postMessage({type:"zorb-id",body:t},"*")}},[i,h,e,s]);var p=Object(n.useCallback)(function(t){"lootbox-item-selected"===t.data.type&&a(parseInt(t.data.body))},[d,a]);Object(n.useEffect)(function(){if(h&&e&&s&&s.current){var t,r={},n=Oc(e);try{for(n.s();!(t=n.n()).done;){var o=t.value;r[o.tokenId]=o.image.url}}catch(a){n.e(a)}finally{n.f()}console.log("sending lootbox=",r),s.current.contentWindow.postMessage({type:"lootbox",body:r},"*")}},[e,s,h]),Object(n.useEffect)(function(){e[0]},[e]);var v=Object(n.useState)(!1),m=Object(c.a)(v,2),y=m[0],g=m[1];return Object(n.useEffect)(function(){void 0!==i&&setTimeout(function(){g(!0)},1e3)},[i]),y?"":o.a.createElement("div",{ref:u,onClick:function(){return console.log("zs clicked")},className:"zs-container"},o.a.createElement("div",{onClick:function(){return console.log("zorb selector clicked")},className:"zorb-selector"},!i&&o.a.createElement("p",null,"insert a zorb to power the spore and remix sound in its own way"),0===e.length&&r?o.a.createElement("div",{className:"no-zorbs"},"No zorbs detected. "):0===e.length&&o.a.createElement("div",{className:"connect-button-wrapper zorb-connect"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"}))))});r(1569);function kc(t){for(var e,r,n=t.length;0!==n;)r=Math.floor(Math.random()*n),e=t[n-=1],t[n]=t[r],t[r]=e;return t}function Sc(){Sc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function Nc(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return Ic(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ic(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Ic(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var Tc={0:3,1:3,2:0,3:5,4:11},_c=0,Cc=function(){var t=Object(R.a)(Sc().mark(function t(e){var r,n,o,a,i,c,s,u,l,f;return Sc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return _c++,t.next=3,dn();case 3:return r=t.sent,n=_c,t.next=7,en();case 7:return o=t.sent,t.next=10,wa(void 0,!0);case 10:a=t.sent,i=a.filter(function(t){return t.songId===parseInt(e)}),c=[],s=Nc(o),t.prev=14,l=Sc().mark(function t(){var e,n,o,i,s,l;return Sc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=u.value,n=e.songId,o=e.dropAddress,i=a.find(function(t){return t.songId===n}),s=Tc[n]||0,t.next=7,an(n,o);case 7:(l=(l=t.sent).filter(function(t){return parseInt(t.tokenId)>=s})).filter(function(t){return!r.includes(t.metadata.animation_url)}).forEach(function(t){t.song=i,t.song.dropAddress=o,t.attributes=bn(t.metadata.attributes)}),c=[].concat(Object(U.a)(c),Object(U.a)(l));case 11:case"end":return t.stop()}},t)}),s.s();case 17:if((u=s.n()).done){t.next=21;break}return t.delegateYield(l(),"t0",19);case 19:t.next=17;break;case 21:t.next=26;break;case 23:t.prev=23,t.t1=t.catch(14),s.e(t.t1);case 26:return t.prev=26,s.f(),t.finish(26);case 29:if(f=Ac(c,e,i),_c===n){t.next=32;break}return t.abrupt("return",void 0);case 32:return t.abrupt("return",f.filter(function(t){return t}));case 33:case"end":return t.stop()}},t,null,[[14,23,26,29]])}));return function(e){return t.apply(this,arguments)}}(),Ac=function(t,e,r){var n=(t=Object(U.a)(t)).map(function(t){return new Date(t.mintInfo.mintContext.blockTimestamp).getTime()});n.sort(),n=n.reverse();Math.min.apply(Math,Object(U.a)(n));return t.forEach(function(t){t.dateOrdering=n.indexOf(new Date(t.mintInfo.mintContext.blockTimestamp).getTime())}),t.sort(function(t,e){return t.dateOrdering-e.dateOrdering}),e=parseInt(e),Pc(t,{songId:e,range:15,songProbability:100},{songId:e,range:30,songProbability:5},{songId:e,songProbability:6,range:130},{songId:e,songProbability:5,range:140},{songId:e,songProbability:0,range:152},{songId:e,songProbability:35,range:154},{songId:e,songProbability:1,range:256},{songId:e,songProbability:1,range:358},{songId:e,songProbability:1,range:458},{songId:e,songProbability:25,range:558},{songId:e,songProbability:5,range:658},{songId:e,songProbability:5,range:758},{songId:e,songProbability:60,range:858},{songId:e,songProbability:5,range:958},{songId:e,songProbability:5,range:1058},{songId:e,songProbability:5,range:1058},{songId:e,songProbability:5,range:1058},{songId:e,songProbability:5,range:58})},Pc=function(t){for(var e=[],r=t,n=arguments.length,o=new Array(n>1?n-1:0),a=1;a<n;a++)o[a-1]=arguments[a];for(var i=function(){var t=s[c],n=t.songId,o=t.songProbability,a=t.range;if(0===r.length)return"break";var i=r.filter(function(t){return t.song.songId===n}),u=r.filter(function(t){return t.song.songId!==n}),l=void 0;l=100*Math.random()<=o&&i.length>0?i[Math.ceil(a*Math.random())%i.length]:u[Math.ceil(a*Math.random())%u.length],e.push(l),r=r.filter(function(t){return t!==l}),0},c=0,s=o;c<s.length;c++){if("break"===i())break}return[].concat(e,Object(U.a)(kc(r)))},Gc="https://main.djdhx85izle40.amplifyapp.com/?gallery=true",Mc=Object(s.b)(function(t,e){return{playerRef:t.spore.playerRef,playStatus:t.playback.playStatus,songId:t.spore.songLoaded}},function(t){return{setPlayStatus:function(e){return t({type:513,payload:e})},setSongLoaded:function(e){return t(I(e))}}})(function(t){var e=t.store;Mi(),function(t){var e=t.setPlayStatus;Object(n.useEffect)(function(){return window.addEventListener("message",r),function(){return window.removeEventListener("message",r)}},[]);var r=Object(n.useCallback)(function(t){"jacker-status"===t.data.type&&e(t.data.body)},[])}(t);var r=Object(n.useState)(t.remixId),a=Object(c.a)(r,2),i=a[0],s=a[1],u=Object(n.useState)([]),l=Object(c.a)(u,2),f=l[0],h=l[1],d=Object(n.useState)(t.artist),p=Object(c.a)(d,2),v=p[0],m=p[1],y=Object(n.useState)(),g=Object(c.a)(y,2),b=g[0],w=(g[1],Object(n.useState)(t.songTitle)),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(n.useState)(t.showRemixes),L=Object(c.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)(!1),I=Object(c.a)(N,2),T=I[0],_=I[1],C=Object(n.useState)(!1),A=Object(c.a)(C,2),P=A[0],G=A[1],M=Object(n.useState)(!1),F=Object(c.a)(M,2),D=F[0],z=F[1],B=Object(n.useState)(t.profile||t.showRemixes),H=Object(c.a)(B,2),U=H[0],W=H[1],Y=Object(n.useState)(void 0),J=Object(c.a)(Y,2),q=J[0],Z=J[1],K=Object(n.useState)(),Q=Object(c.a)(K,2),V=Q[0],X=Q[1],$=Object(n.useState)(void 0),tt=Object(c.a)($,2),et=tt[0],rt=tt[1],nt=Object(wt.c)(),ot=nt.data,at=(nt.isError,nt.isLoading,Object(n.useState)(!1)),it=Object(c.a)(at,2),ct=it[0],st=it[1],ut=Xa({account:ot}).zorbs,lt=Object(n.useState)(!0),ft=Object(c.a)(lt,2),ht=ft[0],dt=ft[1],pt=Object(n.useState)(t.profile),vt=Object(c.a)(pt,2),mt=vt[0],yt=vt[1],gt=Object(n.useState)(!t.beta||void 0),bt=Object(c.a)(gt,2),xt=bt[0],Et=bt[1],Ot=function(t){var e=t.account,r=(t.playerRef,t.songId),o=Object(n.useState)(0),a=Object(c.a)(o,2),i=a[0],s=a[1],u=Object(n.useState)(),l=Object(c.a)(u,2),f=l[0],h=l[1],d=Object(n.useRef)(0);Object(n.useEffect)(function(){return window.addEventListener("message",p),function(){return window.removeEventListener("message",p)}},[r,e&&e.address,i,s]);var p=Object(n.useCallback)(function(t){if("song-position"===t.data.type&&t.data.body<2){if(!e||void 0===r)return;var n=e.address;v(n,r),s(i+1)}},[r,e&&e.address,i,s]),v=function(){var t=Object(R.a)(Nr().mark(function t(e,r){var n;return Nr().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((new Date).getTime()-d.current<15e3)){t.next=2;break}return t.abrupt("return");case 2:return d.current=(new Date).getTime(),t.next=5,Ir.from("plays").insert([{song_id:parseInt(r),wallet:e}]);case 5:(n=t.sent).data,n.error;case 8:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),m=Object(n.useRef)(0);return Object(n.useEffect)(function(){m.current=0},[r]),Object(n.useEffect)(function(){if(void 0!==r){var t=Date.now();t-m.current<5e3||(m.current=t,Ir.from("plays").select("*",{count:"exact",head:!0}).eq("song_id",parseInt(r)).then(function(t){t.data;var e=t.count;t.error,h(e)}))}},[r,h,i]),{playCount:f}}({account:ot,songId:t.songId}).playCount,jt=function(t){var e=t.playStatus,r=t.songId,o=Object(n.useState)(5e3),a=Object(c.a)(o,2),i=a[0],s=a[1],u=Object(n.useState)([]),l=Object(c.a)(u,2),f=l[0],h=l[1],d=Object(n.useState)(),p=Object(c.a)(d,2),v=p[0],m=p[1],y=Object(n.useState)(),g=Object(c.a)(y,2),b=g[0],w=g[1],x=Object(n.useRef)(0),E=Object(n.useRef)(),O=Object(n.useRef)(!0);Object(n.useEffect)(function(){void 0!==r&&Cc(r).then(function(t){t&&(m(void 0),O.current=!0,h(t),x.current=0,s(5e3))})},[r,h,m]),Object(n.useEffect)(function(){return clearInterval(E.current),e&&(E.current=setInterval(Object(R.a)(Sc().mark(function t(){var e,r;return Sc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!O.current){t.next=11;break}if((e=f[x.current%f.length])&&e.metadata){t.next=6;break}return O.current=!0,x.current=x.current+1,t.abrupt("return");case 6:r=e.metadata.animation_url,e.downloadedAudio=new Promise(function(){var t=Object(R.a)(Sc().mark(function t(e){var n,o,a;return Sc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(r,{method:"GET"});case 2:return n=t.sent,t.next=5,n.arrayBuffer();case 5:o=t.sent,a=new Uint8Array(o),e(a);case 8:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()),m(e),O.current=!1,x.current=x.current+1;case 11:case"end":return t.stop()}},t)})),i)),function(){return clearInterval(E.current)}},[e,f,m,i]);var j=Object(n.useCallback)(function(){var t=v;O.current=!0,w(t),m(void 0),Ai(r,t)},[m,w,r,v]),L=Object(n.useCallback)(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5e3;m(void 0),s(t),w(void 0),O.current=!0,x.current=x.current+1},[s,m,w]);return{leaks:f,chooseLeak:j,nextLeak:v,loadedLeak:b,hideLeaks:L}}({playStatus:t.playStatus,songId:t.songId}),Lt=jt.chooseLeak,kt=jt.nextLeak,Nt=jt.loadedLeak,It=jt.hideLeaks;Object(n.useEffect)(function(){t.beta&&ot&&Pr(ot.address).then(Et)},[ot,Et]),Object(n.useEffect)(function(){void 0!==t._songId&&t.setSongLoaded(t._songId)},[]),Object(n.useEffect)(function(){void 0!==t.songId&&xa(t.songId).then(function(t){var e=t.title,r=t.artist;O(e),m(r)})},[t.songId,O,m]);var Tt=Object(n.useRef)(0);Object(n.useEffect)(function(){var e=t.beta?"beta":t.tiny?"tesla":"zp";mt||(void 0===i?(ct||W(!1),console.log("BASE=%s",e),window.history.pushState("page2","Title","/".concat(e,"/").concat(t.songId))):window.history.pushState("page2","Title","/".concat(e,"/").concat(t.songId,"/").concat(i)))},[i,mt,W,t.songId,ct,t.beta]),Object(n.useEffect)(function(){var e=t.beta?"beta":"zp";mt?window.history.pushState("page2","Title","/profile/".concat(mt)):(ct||W(!1),console.log("BASE=%s",e,t.beta),window.history.pushState("page2","Title","/".concat(e,"/").concat(t.songId||0)))},[mt,W,ct,t.beta]),Object(n.useEffect)(function(){window.addEventListener("click",function(){return Tt.current++})},[]),Object(n.useEffect)(function(){ot&&T&&Tt.current>0&&z(!0)},[ot,z,T]),Object(n.useEffect)(function(){t.playStatus&&st(!0)},[t.playStatus,st]),Object(n.useEffect)(function(){void 0!==q&&setTimeout(function(){X(q)},1e3)},[q,X]),Object(n.useEffect)(function(){D&&setTimeout(function(){W(!0)},1e3)},[D,W]);var _t="next-gen zpore";return ot&&(_t+=" connected"),P&&(_t+=" is-slicing"),k&&(_t+=" showing-remixes"),t.isDebug&&(_t+=" debug-mode"),D&&(_t+=" zpore-entered"),Object(n.useEffect)(function(){window.playerRef=t.playerRef,window.songId=t.songId},[t.playerRef,t.songId]),o.a.createElement("div",{className:_t},o.a.createElement(Ia,{setRemixId:s,headless:t.headless,remixId:i,songId:t.songId,remixes:f,show:k,setShow:S}),ct&&o.a.createElement(Ec,{store:e,songId:t.songId,setIsSlicing:G,zorbId:q}),D&&o.a.createElement(Lc,{zorbs:ut,account:ot,setZorbId:Z,zorbId:q,setZorbStartPosition:rt}),!1===xt&&o.a.createElement(Ra,null),D&&et&&o.a.createElement(Gi,{setZorbStartPosition:rt,zorbStartPosition:et}),!U&&o.a.createElement("div",{className:D?"enter-overlay hide":T?"enter-overlay loaded":"enter-overlay"},o.a.createElement("div",{className:"inner-overlay"},o.a.createElement("img",{className:"",src:"/LOGO-SMALL.svg"}),!T&&(xt||void 0===xt)&&o.a.createElement(Pi,{setFinished:_}),T?o.a.createElement("div",{className:"click-text"},ot?o.a.createElement("button",{className:"enter-btn",onClick:function(){return z(!0)}},o.a.createElement("div",null,"let's go, ",o.a.createElement(Me,{address:ot.address}))):o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect to Enter"})):o.a.createElement("div",{className:"click-text no-btn"},o.a.createElement("div",null,"zorb + spore = zpores"),o.a.createElement("div",null,"remix songs using color")))),o.a.createElement(yi,{playCount:Ot,userZorbs:ut,zorbId:q,tooltip:b,showTutorial:ht,setShowProfile:yt,hideLeaks:It,chooseLeak:Lt,nextLeak:kt,remixes:f,setRemixes:h,setShowRemixes:S,showRemixes:k,songId:t.songId,artist:v,title:E}),mt&&o.a.createElement(Ta,{address:mt,setShowProfile:yt}),Nt&&o.a.createElement(ei,{zorbId:q,hideLeaks:It,leak:Nt}),void 0!==q&&t.playerRef&&o.a.createElement(Ma,{playerRef:t.playerRef,zorbId:q,showTutorial:ht,setShowTutorial:dt}),(!0===xt||void 0===xt)&&(D||!mt&&void 0===i)&&o.a.createElement(Er,{tiny:t.tiny,zorbId:V,hideWaveform:!0,color:"black",url:void 0!==t._songId?Gc+"&songId="+t._songId:Gc,collectionAddress:void 0,isFullScreen:!0,simpleControls:!0,tokenId:1,className:"thugger",isSimple:!0}))}),Rc=(r(1570),Object(s.b)(function(t,e){return{secondsRemaining:t.spore.secondsRemaining}},function(t){return{}})(function(t){var e=t.secondsRemaining,r=t.color;if((e=Math.floor(e))>20||isNaN(e))return"";e<10&&(e="0"+e);var n=e%2===1?"time-remaining fade":"time-remaining";return o.a.createElement("div",{className:n,style:{color:r}},"0:",e)}),r(414)),Fc=r(200),Dc=r.n(Fc),zc=["Chill Song 1","Chill Song 2","Chill Song 3","Chill Song 4","Chill Song 5","Chill Song 6","Chill Song 7","Chill Song 8","Chill Song 9","Chill Song 10"],Bc={1:[1,2,3],2:[4,5,6],3:[7,8,9],4:[10,11,12],5:[13,14,15],6:[16,17,18],7:[19,20,21],8:[22,23,24],9:[25,26,27],10:[28,29,30]},Hc=function(){for(var t=[],e=1;e<=zc.length;e++)t.push({songName:zc[e-1],name:zc[e-1],collectionAddress:xt,coverArt:"/crx-"+e+".png",tokenId:1e3,songId:e,tokenIds:Bc[e]});return t},Uc={mintsongs:"mintsongs",zora:"zora-prod","sound.xyz":"soundxyz",zequencer:"zequencer",catalog:"catalog"},Wc=function(t){if(t.startsWith("ipfs://"))return t.slice("ipfs://".length);var e=t.indexOf("/ipfs/");return t.slice("/ipfs/".length+e)},Yc=function(t,e){if(!t)return console.log("NO EXTERNAL LINK FOUND FOR THIS LINK!"),"https://zora-prod.mypinata.cloud/ipfs/"+e;for(var r in Uc)if(t.includes(r))return"https://"+Uc[r]+".mypinata.cloud/ipfs/"+e;return"https://zora-prod.mypinata.cloud/ipfs/"+e};function Jc(){Jc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var qc=function(){var t=Object(R.a)(Jc().mark(function t(e){var r,n;return Jc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("saving json=",e),t.next=3,Ht.a.addJson(e);case 3:r=t.sent,n="localhost"===window.location.hostname?"http://localhost:9090/saveJack/":"https://zequencer.io/saveJack/",window.LOCAL_BACKEND_FLAG||(n="https://zequencer.io/saveJack/"),fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:r,title:e.name,jack:e})});case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),Zc={},Kc=function(t){var e=t.link,r=t.textColor,n="";return e.includes("zora")?n="zora":e.includes("catalog.works")?n="catalog.works":e.includes("mintsongs")?n="mintsongs":e.includes("sound.xyz")?n="sound.xyz":e.includes("opensea")&&(n="OpenSea"),o.a.createElement("div",{style:{color:r},className:"source"},n)},Qc=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.item,r=Object(n.useState)(),a=Object(c.a)(r,2),i=a[0],s=a[1];return Object(n.useEffect)(function(){Zc[e.data]&&s(Zc[e.data]),Ht.a.getJson(e.data).then(function(t){Zc[e.data]=t,s(t)})},[e]),i?o.a.createElement("div",{className:"history-item-source"},!e.title.includes(i.artist)&&i.artist,i.link&&o.a.createElement(Kc,{link:i.link})):""});r(1571);function Vc(){Vc=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Xc=void 0,$c=function(){var t=Object(R.a)(Vc().mark(function t(){var e,r,n,o,a,i;return Vc().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=Xc,t.t0){t.next=5;break}return t.next=4,kt();case 4:t.t0=t.sent;case 5:return e=t.t0,Xc=e,kc(r=e.filter(function(t){return t.askPrice})),n=Object(c.a)(r,3),o=n[0],a=n[1],i=n[2],o=o?o.tokenId:12,a=a?a.tokenId:14,i=i?i.tokenId:18,t.abrupt("return",[{bpm:90,title:"Keyon Christ - Psilocybin",isSporeTrack:!0,metadata:{tokenId:o,artist:"Keyon Christ",name:"Psilocybin",url:"https://zequencer.mypinata.cloud/ipfs/QmeuwQQnjdqd51Uo1xkXLawYwYfXSq7T8h2mEWuJx7wHdx",link:"/sp/"+o,image:"/sp-thumbnail-"+o+".png"}},{bpm:106,title:"Keyon Christ - Twisting Faith",isSporeTrack:!0,metadata:{tokenId:a,link:"/sp/"+a,artist:"Keyon Christ",name:"Twisting Faith",url:"https://zequencer.mypinata.cloud/ipfs/QmU6rmmjWWXCZd3NHjeu6pUVjBDZiMXuRx6EVtEocqz9dJ",image:"/sp-thumbnail-"+a+".png"}},{bpm:85,title:"Keyon Christ - Ying Yang Twins",isSporeTrack:!0,metadata:{tokenId:i,link:"/sp/"+i,image:"/sp-thumbnail-"+i+".png",artist:"Keyon Christ",name:"Ying Yang Twins",url:"https://zequencer.mypinata.cloud/ipfs/QmcD2Ece62eiv5FWegEyNquWN8WZzC3ZT81Wxhw6GRk4YY"}}]);case 14:case"end":return t.stop()}},t)}));return function(){return t.apply(this,arguments)}}(),ts=function(t){var e=f.isMobile?24:35;return t.length<e?t:t.slice(0,e)+"..."};Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.currentSong,r=t.setCurrentSong,a=t.latestJacks,i=t.loadHistory,s=t.link,u=Object(n.useState)(void 0),l=Object(c.a)(u,2),h=l[0],d=l[1];Object(n.useEffect)(function(){$c().then(function(t){return d(t)})},[]);var p=Object(n.useCallback)(function(t){r(t),t.metadata?i(t.metadata):Ht.a.getJson(t.data).then(function(t){return i(t)})},[i,r]);if(!h)return"";var v=[].concat(Object(U.a)(h),Object(U.a)(a));return""!==s&&(v=v.filter(function(t){return t.title&&t.title.toLowerCase().includes(s.toLowerCase())})),o.a.createElement("div",{className:"jack-history"},o.a.createElement("img",{className:"globe",src:"/globe.svg"}),o.a.createElement("div",{className:"items"},v.filter(function(t){return t.title&&""!==t.title.trim()}).map(function(t){return o.a.createElement("div",{onClick:function(){return p(t)},className:(t.isSporeTrack?"history-item spore-track":"history-item")+(e===t?" current":"")},t.isSporeTrack?t.title:ts(t.title),t.isSporeTrack&&o.a.createElement("div",{className:"source"},f.isMobile?"by Spores":"Released by Spores"),t.isSporeTrack?f.isMobile?"":o.a.createElement("img",{src:"/spores-icon-glow2.svg"}):o.a.createElement(Qc,{item:t}))})))});function es(){es=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var rs=function(t){var e=t.playlistLoaded,r=t.remixToPlay,o=t.setLatestJacks,a=t.setShowHistory,i=t.setLink,s=t.setShowLinkInput,u=t.link,l=t.latestJacks,f=t.chillTokenId,h=t.defaultSearch,p=t.directCollectionAddress,v=t.directTokenId,m=t.updateURL,y=void 0===m||m,g=Object(n.useState)(),b=Object(c.a)(g,2),w=b[0],x=b[1],E=Object(n.useState)(),O=Object(c.a)(E,2),j=O[0],L=O[1],k=Object(n.useState)(!0),S=Object(c.a)(k,2),N=(S[0],S[1]),I=Object(n.useState)(),T=Object(c.a)(I,2),_=T[0],C=T[1],A=Object(n.useState)(),P=Object(c.a)(A,2),G=P[0],M=P[1],F=Object(n.useState)(),D=Object(c.a)(F,2),z=D[0],B=D[1],H=Object(n.useState)(),U=Object(c.a)(H,2),W=U[0],Y=U[1],J=Object(n.useState)(),q=Object(c.a)(J,2),Z=q[0],K=q[1],Q=Object(n.useState)(),V=Object(c.a)(Q,2),X=V[0],$=V[1],tt=Object(n.useState)(),et=Object(c.a)(tt,2),rt=et[0],nt=et[1],ot=pe(),at=Object(n.useState)(),it=Object(c.a)(at,2),ct=it[0],st=it[1],ut=Object(n.useState)(),lt=Object(c.a)(ut,2),ft=lt[0],ht=lt[1],dt=Object(n.useState)(),pt=Object(c.a)(dt,2),vt=pt[0],mt=pt[1],yt=Object(n.useState)(),gt=Object(c.a)(yt,2),bt=gt[0],wt=gt[1],Et=Object(n.useState)(h),Ot=Object(c.a)(Et,2),jt=Ot[0],Lt=Ot[1];Object(n.useEffect)(function(){y&&(r?window.history.pushState("page2","Title","/play/"+_+"/"+W+"/"+r.sporeId):_?window.history.pushState("page2","Title","/play/"+_+"/"+W):window.history.pushState("page2","Title","/"))},[r,_,W,y]),Object(n.useEffect)(function(){p&&se("https://zora.co/collections/"+p+"/"+v,ot).then(function(t){It(t)})},[]),Object(n.useEffect)(function(){if(void 0!==f){var t=function(t){console.log(Hc);var e=Hc().find(function(e){return e.tokenIds.includes(parseInt(t))});return console.log("song we found"),e=Object(d.a)({},e,{tokenId:t})}(f);It(t)}},[]),Object(n.useEffect)(function(){$c()},[]);var kt=Object(n.useCallback)(function(){i(""),C(void 0),st(!1),K(void 0),ht(void 0),Y(void 0),$(void 0),nt(void 0),M(void 0),s(!0),L(void 0)},[L,s,st,Z,i,Y,ht,$,C,nt,M]),St=Object(n.useCallback)(function(){var t=Object(R.a)(es().mark(function t(e){var r;return es().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(""!==u){t.next=2;break}return t.abrupt("return");case 2:if(u.startsWith("http")){t.next=5;break}return Lt(u),t.abrupt("return");case 5:return st(!0),e&&s(!1),N(!1),t.next=10,se(u,ot);case 10:if(r=t.sent){t.next=15;break}return kt(),mt("The token you've linked has a strange format. Echo rejects it, respectfully..."),t.abrupt("return");case 15:r.link=u,It(r,!0);case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),[u,Lt,l,$,a,C,e,M,ht,Y,st,mt,s,L,x]),Nt=Object(n.useCallback)(function(t){ht("Chill RX"),Y(t.tokenId),L(t.songId),C(t.collectionAddress),$(t.name),K(t.coverArt),nt(t.description),M("BLANK")},[L,K,ht,ht,K,C]),It=Object(n.useCallback)(function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;if(a(!1),st(!0),r||s(!1),N(!1),t.collectionAddress!==xt){var n=t,o=n.url,i=n.ipfs;if(console.log("LOAD JACK CALLED ret=",t),t.external_url||(t.external_url=t.link),!t.link&&t.external_url&&(t.link=t.external_url),!o)return kt(),void mt("The token you've linked might not contain a music NFT.");mt(void 0);var c={};if(o.startsWith("ipfs://")&&(i=o.slice(7)),i&&!o){var u=Yc(t.external_url,i);M(i),c.ipfs=i,c.url=u,console.log("URL we extracted=",u)}else{var l=Wc(o);console.log("EXTRACTED IPFS=",l),o=Yc(t.external_url,l),console.log("setting jacked audio=",o),M(o),c.url=o}console.log("URL WE EXTRACTED = ",o),t.body&&(t=Object(d.a)({},t,t.body,{name:t.body.title})).body.artwork&&t.body.artwork.info&&(t=Object(d.a)({},t,{image:t.body.artwork.info.uri}));var f,h=(f=t).artist_name||f.artist||f.attributes&&f.attributes.artist||f.created_by||void 0;c.artist=h,ht(h),console.log("TOKEN ID =",t.tokenId),Y(t.tokenId),L(t.songId),C(t.collectionAddress),$(t.name),c.song=t.name,nt(t.description);t.image;if(t.image){var p=Yc(t.link,Wc(t.image));K(p)}else K("/zora-placeholder.png");c=Object(d.a)({},t,c),t.link?x(t.link):x(void 0),e&&"Keyon Christ"!==h&&qc(c)}else Nt(t)},[x,u,o,Y,l,$,M,ht,st,mt,s,a,L]);return{clear:kt,onJack:St,loadJack:It,artist:ft,description:rt,showPlayer:ct,setShowPlayer:st,tokenId:W,buyThisSkin:z,coverArt:Z,songName:X,error:vt,currentSong:bt,jackedAudio:G,setBuyThisSkin:B,currentLink:w,setCurrentSong:wt,collectionAddress:_,songId:j,searchTerm:jt,setSearchTerm:Lt,setArtist:ht}};function ns(){ns=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}r(1572);var os=function(t){var e=t.showLinkInput,r=t.setSearchTerm,n=t.setShowHistory,a=t.onJack,i=(t.loadJack,t.link),c=t.setShowInfo,s=t.setLink,u=(t.showHistory,t.currentSong,t.setCurrentSong,t.loadHistory,t.latestJacks,t.cheatCodeActivating),l=e?"nft-link":"nft-link hide";return u&&(l+="  activating"),o.a.createElement("div",{className:l},o.a.createElement("input",{onKeyDown:function(t){return"Enter"===t.key?a():[]},onClick:function(t){return t.stopPropagation()},onFocus:function(){n(!0),c(!1)},placeholder:f.isMobile?"Search or drop a music NFT Link":"Search an artist or drop a music NFT link",value:i,onChange:function(t){n(!1),c(!1),s(t.target.value)}}),o.a.createElement("div",{onClick:function(){s(""),r("")},className:"clear-btn"},"x"),o.a.createElement("div",{onClick:function(t){t.stopPropagation(),a()},className:"pushable jack-btn"},"Remix"),u&&o.a.createElement("div",{className:"activation-text"},"Code activated. You may freely create bangers, for the culture."))},as=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.buyThisSkin,r=t.upperGradInverted,n=t.lowerGradInverted;return e>20?"":o.a.createElement(Mt,{upperGradInverted:f.isMobile?n:r,text:f.isMobile?"Buy":"Buy this spore",tokenId:e})}),is=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.showBuyThisSkin,r=t.buyThisSkin,n=t.artist,a=t.upperGradInverted,i=t.lowerGradInverted,c=t.coverArt,s=t.songName,u=t.tokenId,l=t.currentLink,f=t.children;return o.a.createElement("div",{className:"artist-name",style:{color:a}},f,n,o.a.createElement("div",{className:"song-name",style:{color:a}},s),c&&o.a.createElement("img",{className:"Keyon Christ"===n?"cover-art smaller":"cover-art",src:c}),o.a.createElement("div",null),o.a.createElement("div",{className:"Keyon Christ"===n?"link-and-buy keyon":"link-and-buy"},"Keyon Christ"===n&&o.a.createElement(Mt,{tokenId:u}),l&&o.a.createElement("a",{className:"Keyon Christ"!==n?"current-link align-right":"current-link",style:{color:a},href:l,target:"_blank",rel:"noreferrer"},"Keyon Christ"!==n&&o.a.createElement(Kc,{link:l,textColor:a}),"\u2197")),e&&"Keyon Christ"!==n&&o.a.createElement(as,{upperGradInverted:a,lowerGradInverted:i,buyThisSkin:r}))}),cs=["spores dao summer","the spore button"],ss=function(t){return cs.some(function(e){return t.toLowerCase().trim()===e})},us=(r(1573),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.clearPlayer,r=Object(wt.c)(),a=r.data,i=(r.isError,r.isLoading,Object(n.useState)(!1)),s=Object(c.a)(i,2),u=s[0],l=s[1],f=Object(n.useRef)(),h=Object(n.useState)(),d=Object(c.a)(h,2),p=d[0],v=d[1];Object(n.useEffect)(function(){window.addEventListener("message",m)},[v]);var m=Object(n.useCallback)(function(t){"loaded-lock-shader"===t.data&&v(!0)},[v]);return o.a.createElement("div",{ref:f,className:"locked-notification-background"},o.a.createElement("iframe",{className:p?"loaded-shader":"",src:"https://zequencer.mypinata.cloud/ipfs/QmUZqg4Ee2sDWqNxhAT5xrUUDY53as3VWrdWYWK5HomBgf/"}),u&&!a?o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"locked-notification"},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"}))):o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"locked-notification"},o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{onClick:function(){return e()},className:"pushable spores-logo",src:"/spores-logo-black.svg"})),u&&a?"It seems you dont't own a Spore yet. Get the full dose by purchasing a Genesis Spore.":"Enjoying this microdose of Spores? Get the full dose by purchasing a Genesis Spore.",o.a.createElement("div",{onClick:function(){return window.location.href="/buy?sold=false"},className:"go-to-buy pushable"},"Buy Now"),!a&&o.a.createElement("div",{className:"pushable already-own-one",onClick:function(){return l(!0)}},"Already own one?")))}),function(){function t(){Object(F.a)(this,t),this.abi=[{inputs:[{internalType:"uint256",name:"playlistId",type:"uint256"}],name:"burnPlaylist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"contractAddresses",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"string",name:"metadataCID",type:"string"},{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"newSporesPlaylist",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"},{indexed:!1,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"string",name:"metadataCID",type:"string"}],name:"NewSporesPlaylist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"}],name:"PlaylistBurned",type:"event"},{inputs:[{internalType:"address[]",name:"contractAddresses",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"string[]",name:"genres",type:"string[]"},{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"setGenres",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"genre",type:"string"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"metadataCID",type:"string"}],name:"SongGenre",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"},{indexed:!1,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"SporesPlaylistSong",type:"event"},{inputs:[{internalType:"string",name:"a",type:"string"},{internalType:"string",name:"b",type:"string"}],name:"compareStrings",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"verifyString",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"pure",type:"function"}],this.contractAddress="0xe2031bF65D3f8a96dE0a7eD1211810F49627c261"}return Object(D.a)(t,[{key:"getContract",value:function(t){return new t.eth.Contract(this.abi,this.contractAddress)}}]),t}());function ls(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return fs(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return fs(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function fs(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function hs(){hs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ds=(new us).contractAddress,ps=function(){var t=Object(R.a)(hs().mark(function t(){var e,r,n,o,a,i;return hs().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e=new vt(ds).from(Q),t.next=3,e.executeQuery();case 3:r=t.sent,n=ls(r),t.prev=5,n.s();case 7:if((o=n.n()).done){t.next=15;break}return a=o.value,i=a.metadataCID,t.next=12,Ht.a.getJson(i);case 12:a.metadata=t.sent;case 13:t.next=7;break;case 15:t.next=20;break;case 17:t.prev=17,t.t0=t.catch(5),n.e(t.t0);case 20:return t.prev=20,n.f(),t.finish(20);case 23:return t.abrupt("return",r.slice(0,r.length-3));case 24:case"end":return t.stop()}},t,null,[[5,17,20,23]])}));return function(){return t.apply(this,arguments)}}(),vs=r(415),ms=r.n(vs),ys=(r(1574),Object(s.b)(function(t,e){return{isLoaded:t.playlist.playlistLoaded&&t.playlist.playlistLoaded.playlistId===e.playlist.playlistId,currentSong:t.playlist.currentSong}},function(t){return{setPlaylistLoaded:function(e){return t({type:511,payload:e})},setCurrentPlaylistSong:function(e){return t(k(e))}}})(function(t){var e=t.setCurrentPlaylistSong,r=t.setPlaylistLoaded,a=t.playlist,i=t.loadJack,c=t.currentSong,s=t.isLoaded,u="https://zequencer.io/ipfs/"+a.metadata.thumbnail,l=(pe(),Object(n.useCallback)(function(t){e(t),r(a),ye(t.collectionAddress,t.tokenId).then(function(t){return i(t,void 0,!f.isMobile)})},[a]));return o.a.createElement(o.a.Fragment,null,o.a.createElement(ms.a,{transitionTime:200,easing:"ease-in-out",open:s,trigger:o.a.createElement("div",{className:"playlist-trigger"},o.a.createElement("img",{src:u,className:"playlist-trigger-img"}),o.a.createElement("div",{className:"playlist-name"},a.metadata.name))},o.a.createElement("p",{className:"playlist-description"},a.metadata.description),o.a.createElement("div",{className:"playlist-list-container"},a.metadata.playlist.map(function(t,e){return o.a.createElement("div",{onClick:function(){return l(t)},className:c&&c.collectionAddress===t.collectionAddress&&c.tokenId===t.tokenId?"playlist-item current":"playlist-item"},o.a.createElement("div",{className:"song-number"},e+1),o.a.createElement("img",{src:t.coverArt,className:"playlist-item-img"}),o.a.createElement("p",null,t.songName),o.a.createElement("p",null,t.artist))}))))})),gs=function(t){var e=t.loadJack,r=function(){var t=Object(n.useState)([]),e=Object(c.a)(t,2),r=e[0],o=e[1];return Object(n.useEffect)(function(){ps().then(o)},[]),r}();return o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"playlist-container"},o.a.createElement("div",{className:"playlist-item"},r.map(function(t){return o.a.createElement(ys,{loadJack:e,playlist:t})})))};r(1575);function bs(){bs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var ws={mintsongs:"mintsongs",zora:"zora-prod",soundxyz:"soundxyz",zequencer:"zequencer",catalog:"catalog"};window.CHARTS_FLAG=!0;var xs=function(t){var e=t.data,r=t.loadJack,a=t.tokenId,i=t.thumbnail,s=t.selectedTab,u=(t.askPrice,t.remixes),l=t.section,f=Object(n.useState)(),h=Object(c.a)(f,2),p=h[0],v=h[1],m="",y="",g="",b="",w="",x=void 0;if("playlists"==s)"chill-rx-2022"==l?(m="ChillRX",y=e.songName,g=e.coverArt,b="/",w="ChillRX Remix Contest"):(m="Psilocybin EP",y="SP-"+a,g=i,b="/buy",w="Spore Season 1: Genesis");else if("new"==s){if("Zora"!=e.token.collectionName)m=e.token.metadata.artist,y=e.token.metadata.title||e.token.metadata.name,g=""+e.token.metadata.image,b="Chaos"==e.token.collectionName?"https://opensea.io/assets/ethereum/"+e.token.collectionAddress+"/"+e.token.tokenId:e.token.metadata.external_url;else if(y=e.token.name,b="https://zora.co/collections/zora/"+e.token.tokenId,e.token.metadata.body){var E=e.token.metadata.body;if(E.artwork&&E.artwork.info&&E.artwork.info.uri&&(g=E.artwork.info.uri).includes("ipfs.io")){var O=g.indexOf("ipfs.io/");g="https://zora-prod.mypinata.cloud/"+g.slice(O+"ipfs.io/".length),x="https://d2iccaf7eutw5f.cloudfront.net/0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7/".concat(e.token.tokenId,"/thumbnail")}}else g=e.token.metadata.image||"/zora-placeholder.png";w=e.token.collectionName}else m=e.token.metadata.artist,y=e.token.metadata.title||e.token.metadata.name,g=""+e.token.metadata.image,b=e.token.metadata.external_url||e.token.metadata.link,w="View source",void 0==e.token.metadata.image&&(g="/zora-placeholder.png"),"Chaos"==e.token.metadata.artist&&(b="https://opensea.io/collection/chaos-songs");if(!g.includes("zora"))if(g.includes("ipfs.io"));else if(g.startsWith("ipfs://")){var j;for(var L in ws)b&&b.includes(L)&&(j="https://".concat(ws[L],".mypinata.cloud/ipfs/").concat(g.slice(7)));g=j||"https://zora-prod.mypinata.cloud/ipfs/"+g.slice(7)}var k=Object(n.useCallback)(function(){var t={};if("playlists"==s);else{if(e.jack)return void r(e.jack);(t=Object(d.a)({},e.token.metadata)).url=e.token.content.url,t.link=b,t.tokenId=e.token.tokenId,t.collectionAddress=e.token.collectionAddress,r(t)}},[e,r,b,a]),S=0;if("new"==s&&e&&e.token&&e.token.collectionAddress){var N,I=e.token.tokenId;b&&b.includes("catalog")?N="0x0bC2A24ce568DAd89691116d5B34DEB6C203F342":b&&b.includes("mintsongs")&&(N="0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584"),N&&(g="https://d2iccaf7eutw5f.cloudfront.net/".concat(N,"/").concat(I,"/thumbnail")),N=e.token.collectionAddress.toLowerCase();var T=I;if(I.length>10){var _=_t.ethers.BigNumber.from(I);T=_=at.a.utils.padLeft(_.toHexString(),64).toLowerCase()}u[N]&&u[N][T]&&(S=u[N][T].length)}else if("history"==s&&e&&e.jack&&e.jack.collectionAddress){var C,A=e.jack.tokenId;b&&b.includes("catalog")?C="0x0bC2A24ce568DAd89691116d5B34DEB6C203F342":b&&b.includes("mintsongs")&&(C="0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584"),C=e.jack.collectionAddress.toLowerCase();var P=A;if(A.length>10){var G=_t.ethers.BigNumber.from(A);P=G=at.a.utils.padLeft(G.toHexString(),64).toLowerCase()}u[C]&&u[C][P]&&(S=u[C][P].length)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"song-info-container"},o.a.createElement("img",{onError:function(){return v(g)},className:"cover-image pushable",loading:"lazy",src:p||x||g,onClick:k}),o.a.createElement("div",{className:"song-info"},o.a.createElement("div",{className:"song-col"},o.a.createElement("div",{className:"song"},y),o.a.createElement("div",{className:"artist"},m),o.a.createElement("div",{className:"from-text"},o.a.createElement("a",{href:b},w,"\u2197"))),S>0&&o.a.createElement("div",{className:"num-remixes"},o.a.createElement("div",{className:"remixes-orb"}),S))))},Es=Object(s.b)(function(t,e){return{playlistLoaded:t.playlist.playlistLoaded}},function(t){return{}})(function(t){var e=t.searchTerm,r=t.jacked,a=t.loadJack,i=t.history,s=void 0===i?[]:i,u=t.showChart,l=t.playlistLoaded,f=Object(n.useState)(!1),h=Object(c.a)(f,2),p=h[0],v=h[1],m=Object(n.useState)([]),y=Object(c.a)(m,2),g=y[0],b=y[1],w=Object(n.useState)({}),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(n.useState)({}),L=Object(c.a)(j,2),k=(L[0],L[1]),S=(Object(n.useRef)(0),Object(n.useRef)("")),N=Object(n.useRef)(),I=Object(n.useRef)(),T=Object(n.useState)([]),_=Object(c.a)(T,2),C=(_[0],_[1],Object(n.useState)(l?"playlists":"new")),A=Object(c.a)(C,2),P=A[0],G=A[1],M=Object(n.useRef)(),F=Ot(),D=(F.setTokensOnSale,F.tokensOnSale,Object(n.useRef)(0));console.log("SEARCH TERm=",e),Object(n.useEffect)(function(){Se().then(O),k(Hc())},[]),Object(n.useEffect)(function(){S.current=e},[e]);var z=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:150,a=Object(n.useState)(e),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(n.useRef)(0);Object(n.useEffect)(function(){t.current&&t.current.scrollTo(0,0),u(e)},[r,u,e]),Object(n.useEffect)(function(){if(t.current)return t.current.addEventListener("scroll",f),function(){return t.current&&t.current.removeEventListener("scroll",f)}},[u,s,t.current,t.initialSize]);var f=Object(n.useCallback)(function(r){var n=t.current;if(n){l.current=n.scrollTop;var a=n.scrollTop+n.offsetHeight,i=n.scrollHeight;a+o>=i&&u(s+e)}},[u,s,t,e]);return{size:s,scrollPosition:l}}(M,Math.ceil(window.innerWidth/200*(window.innerHeight/200)),e).size;return Object(n.useEffect)(function(){I.current=void 0,N.current=void 0},[u]),Object(n.useEffect)(function(){if("new"===P&&z>=g.length){if(I.current===N.current)return;var t="localhost"===window.location.hostname?"http://localhost:9090/charts":"https://zequencer.io/charts";window.LOCAL_BACKEND_FLAG||(t="https://zequencer.io/charts");var e=t;N.current&&""!==N.current&&(e+="?cursor="+N.current),I.current=N.current,++D.current,fetch(e).then(function(){var t=Object(R.a)(bs().mark(function t(e){var r;return bs().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:if(r=t.sent,!S.current||""===S.current){t.next=5;break}return t.abrupt("return");case 5:r&&(v(!1),b([].concat(Object(U.a)(g),Object(U.a)(r.results))),N.current=r.cursor);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},[b,P,g,z]),Object(n.useEffect)(function(){""!==e&&G("new")},[e,G]),Object(n.useEffect)(function(){l&&G("playlists")},[l]),Object(n.useEffect)(function(){if(console.log("SEARCH TERM CHANGED"),window.CHARTS_FLAG)if("history"==P)b(s);else if("new"==P){var t="localhost"===window.location.hostname?"http://localhost:9090/charts":"https://zequencer.io/charts";if(window.LOCAL_BACKEND_FLAG||(t="https://zequencer.io/charts"),e&&""!==e){var r=++D.current;setTimeout(function(){if(r===D.current){v(!0);var n=e;n.toLowerCase().includes("chaos")&&(n=n.replace("#",""));var o=t+"/"+n;N.current=void 0,fetch(o).then(function(){var t=Object(R.a)(bs().mark(function t(e){var n;return bs().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r===D.current){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,e.json();case 4:n=t.sent,v(!1),n&&(b(n.results),N.current=void 0);case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}},1e3)}else{v(!0);var n=t;console.log("BASE URL SEARCh=",n),fetch(n).then(function(){var t=Object(R.a)(bs().mark(function t(e){var r;return bs().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:(r=t.sent)&&(v(!1),b(r.results),N.current=r.cursor);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}}},[s,b,e,r,P,N]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"tab-container",style:{display:u?"flex":"none"}},window.PLAYLIST_FLAG&&o.a.createElement("div",{className:"playlists"==P?"tab pushable selected":"tab pushable not-selected",onClick:function(){return G("playlists")}},o.a.createElement("p",null,"Playlists")),o.a.createElement("div",{className:"history"==P?"tab pushable selected":"tab pushable not-selected",onClick:function(){return G("history")}},o.a.createElement("p",null,"Recently Played")),o.a.createElement("div",{className:"new"==P?"tab pushable selected":"tab pushable not-selected",onClick:function(){return G("new")}},o.a.createElement("p",null,"New Songs"))),"playlists"==P&&o.a.createElement(gs,{loadJack:a,playlistLoaded:l}),"playlists"!=P&&o.a.createElement("div",{ref:M,onClick:function(t){return t.stopPropagation()},className:"music-chart",style:{display:u?"flex":"none"}},p?o.a.createElement(xe,{width:140,text:"Searching the metaverse"}):g.slice(0,z).map(function(t){return o.a.createElement("div",{className:"chart-item"},o.a.createElement(xs,{remixes:E,selectedTab:P,loadJack:a,data:t.jack?Object(d.a)({},t,{token:Object(d.a)({},t,{metadata:t.jack})}):t}))})))}),Os=function(t,e){var r=t.getBoundingClientRect(),n=0,o=0,a=r.top-n,i=r.left-o,c=t.offsetHeight;return{x:i,y:a,width:t.offsetWidth,height:c}},js=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.helperBox,r=t.helperRefs,a=t.selected,i=Object(n.useState)(),s=Object(c.a)(i,2),u=s[0],l=s[1];if(Object(n.useEffect)(function(){if(r){var t=r[a].current,n=e.current,o=Os(t),i=Os(n);l([i,o])}},[a,l,r]),!u)return"";var h=[f.isMobile?u[0].x:u[0].x+u[0].width,f.isMobile?u[0].y+u[0].height:u[0].y,f.isMobile?u[1].x+u[1].width/2:u[1].x,u[1].y+u[1].height/2-1,f.isMobile?u[1].x+u[1].width/2:u[1].x,u[1].y+u[1].height/2+1,u[0].x+u[0].width,u[0].y+u[0].height];return o.a.createElement("svg",{className:"visual-links-spore"},o.a.createElement("linearGradient",{id:"AnnotationGradient"},o.a.createElement("stop",{offset:"5%",stopColor:"#a4c3e55c"}),o.a.createElement("stop",{offset:"95%",stopColor:"#80aaff36"})),o.a.createElement("polygon",{className:"visual-link",points:h}))}),Ls={centerButton:["Pressing the center button changes the current juice sample (controlled by top left slider). ","Click on any empty space goes back to previous sample."],ledButton:['Press to enter "Loop Mode". When in this mode, the sliders control different looping parameters.',"Slider 1: Loop Length","Slider 2: Chop n Screw","Slider 3: Space Reverb/Delay)","Slider 4: Gate Effect"],spButton1:['Press to enter "Space Mode". When in this mode, the sliders control different space parameters. ',"Slider 1: Vocal Reverb","Slider 2: Crystalized Ambience","Slider 3: Bass Reverb","Slider 4: Drum Reverb"],spButton2:['Press to enter "Timing Mode". When in this mode, the sliders control different timing parameters. ',"Slider 1: Gate Rate","Slider 2: 8th note Delay","Slider 3: Gate Depth","Slider 4: 16th note Delay"],slider2:["Wobble","This slider controls the rate of the wobble filter."],slider4:["Chipmunk","This slider speeds up the track, raising the pitch as well."],slider3:["Stutter","This slider controls stuttering, which repeats the beat at a slider-controlled rate.","You must hold slider down to hear this effect."],slider1:["Mutated Stem","Each Spore Player contains a rare, mutated stem.","This slider reveals this mutation."]},ks=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.helperRefs,r=t.selected,a=t.sliderHovered,i=Object(n.useRef)(),c=Ls[r];return[o.a.createElement("div",{ref:i,key:1,className:"helper-box"},Array.isArray(c)?c.map(function(t,e){return o.a.createElement("p",{className:!r.includes("spButton")&&"ledButton"!==r||e!==a?"":"selected"},t)}):c),o.a.createElement(js,{helperBox:i,helperRefs:e,selected:r})]}),Ss=(r(1576),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.clear,r=Object(n.useState)(void 0),a=Object(c.a)(r,2),i=a[0],s=a[1],u=Object(n.useState)("centerButton"),l=Object(c.a)(u,2),h=l[0],d=l[1],p=Object(n.useRef)(),v=Object(n.useRef)(),m=Object(n.useRef)(),y=Object(n.useRef)(),g=Object(n.useRef)(),b=Object(n.useRef)();return o.a.createElement("div",{onTouchStart:function(t){t.stopPropagation()},onClick:function(t){t.stopPropagation(),e()},className:"player-helper"},o.a.createElement(ks,{sliderHovered:i,selected:h,helperRefs:{slider1:m,slider2:y,slider3:g,slider4:b,ledButton:v,centerButton:p}}),o.a.createElement("div",{onClick:e,className:"pushable x-button"},f.isMobile?"Ready?":"x"),o.a.createElement("div",{onTouchEnd:function(t){console.log("stopping touch end"),t.stopPropagation()},onTouchStart:function(t){console.log("stopping on touch start"),t.stopPropagation()},onMouseDown:function(t){t.stopPropagation(),console.log("stopping mouse down")},onClick:function(t){t.stopPropagation(),console.log("stopping click")},className:"mock-player"},o.a.createElement("div",{ref:p,className:"centerButton"===h?"center-button selected":"center-button",onClick:function(t){t.stopPropagation(),d("centerButton")},onTouchStart:function(){return d("centerButton")}}),o.a.createElement("div",{ref:v,className:"ledButton"===h?"sp-button button1 led-button selected":"sp-button button1 led-button",onTouchStart:function(){return d("ledButton")},onClick:function(t){t.stopPropagation(),d("ledButton")}}),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(1)},ref:m,className:"slider1"===h?"sp-slider slider1 selected":"sp-slider slider1",onClick:function(t){t.stopPropagation(),d("slider1")},onTouchStart:function(){return d("slider1")}},o.a.createElement("span",null,"1")),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(4)},ref:y,className:"slider2"===h?"sp-slider slider2 selected":"sp-slider slider2",onClick:function(t){t.stopPropagation(),d("slider2")},onTouchStart:function(){return d("slider2")}},o.a.createElement("span",null,"4")),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(3)},ref:g,className:"slider3"===h?"sp-slider slider3 selected":"sp-slider slider3",onClick:function(t){t.stopPropagation(),d("slider3")},onTouchStart:function(){return d("slider3")}},o.a.createElement("span",null,"3")),o.a.createElement("div",{onMouseLeave:function(){return s(void 0)},onMouseOver:function(){return s(2)},ref:b,className:"slider4"===h?"sp-slider slider4 selected":"sp-slider slider4",onClick:function(t){t.stopPropagation(),d("slider4")},onTouchStart:function(){return d("slider4")}},o.a.createElement("span",null,"2"))))})),Ns=(r(1577),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.clear,r=function(){var t=(new Date).getFullYear(),e=+new Date("".concat(t,"-06-20"))-+new Date,r={};return e>0&&(r={D:Math.floor(e/864e5),H:Math.floor(e/36e5%24),M:Math.floor(e/1e3/60%60),S:Math.floor(e/1e3%60)}),r},a=Object(n.useState)(r()),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(n.useState)((new Date).getFullYear());Object(c.a)(l,1)[0];Object(n.useEffect)(function(){setTimeout(function(){u(r())},1e3)});var f=[];return Object.keys(s).forEach(function(t){s[t]&&f.push(o.a.createElement("div",{className:"interval"},s[t],t))}),console.log("FUCKKKK"),o.a.createElement("div",{className:"infoContainer",onClick:function(){e()}},o.a.createElement("div",{onClick:function(t){return t.stopPropagation()},className:"infoBox"},o.a.createElement("a",{className:"go-to-landing",href:"/"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("p",null,o.a.createElement("i",null,"Spores")," is a new way to remix music NFTs."),o.a.createElement("p",null,o.a.createElement("a",{href:"/learn",className:"learnLink"},"Learn more")),o.a.createElement("br",null),o.a.createElement("p",null,"Own a ",o.a.createElement("i",null,"Spore"),". Unlock any music NFT. Grow remixes."),o.a.createElement("br",null),o.a.createElement("p",null,"Buy a ",o.a.createElement("a",{href:"/buy",className:"buyLink"},"Genesis ",o.a.createElement("i",null,"Spore"))," and get unlimited access to any music NFT."),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("i",null,"Spores")," Season One mint is coming soon, 1000 ",o.a.createElement("i",null,"Spores")," will be available. Change music forever."),o.a.createElement("div",{onClick:function(){return window.location.href="/buy"},className:"pushable mintButton"},o.a.createElement("span",null,"Buy Now"))))}));function Is(){Is=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Ts=function(){var t=Object(R.a)(Is().mark(function t(e){var r;return Is().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,$c();case 2:if(r=t.sent.find(function(t){return t.metadata.url===e})){t.next=5;break}return t.abrupt("return",0);case 5:return t.abrupt("return",r.bpm);case 6:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),_s="https://zequencer.mypinata.cloud/ipfs/".concat("QmUgvUx2oF2ntnEgRiRG8CqxmcyDHd8JhxLgopAqmcj5ao","/?tokenId=40&gallery=true"),Cs="https://zequencer.mypinata.cloud/ipfs/QmcoMqE6ywYUidMryy2BqJF8TrbH1vkXoV9S8WxKGHRZ5s/?gallery=true",As=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.playerRef,r=t.songId,a=t.locked,i=t.jackedAudio,s=t.tokenId,u=t.setBuyThisSkin,l=t.remixToPlay,f=t.collectionAddress,h=t.showLoops,d=Object(n.useRef)(),p=e,v=Ot().tokensOnSale,m=Object(n.useState)(),y=Object(c.a)(m,2),g=y[0],b=y[1],w=Object(n.useState)(),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(n.useRef)(0),L=Object(n.useRef)(0),k=Object(n.useState)(_s),S=Object(c.a)(k,2),N=S[0],I=S[1];Object(n.useEffect)(function(){f===xt?(console.log("changing url =",Cs),b(!1),O(!1),I(Cs)):I(_s)},[f,I,b]),Object(n.useEffect)(function(){if(s&&g&&p.current&&(++j.current,(new Date).getTime()-L.current>500&&(console.log("2. SENDING TOKENID via msg=",s),p.current.contentWindow.postMessage({type:"tokenId",body:r||parseInt(s)},"*"))),!s&&v){var t=v.filter(function(t){return t.askPrice});if(t[Math.floor(Math.random()*t.length)]){var e=[12,13,14,15,16,17,18,21,22,23,24,25,26,27,28,29,30],n=e[Math.floor(Math.random()*e.length)];if(!p.current)return;return p.current.contentWindow.postMessage({type:"tokenId",body:parseInt(n)},"*"),h&&(console.log("sending loop unlocked"),p.current.contentWindow.postMessage({type:"loop-unlocked",body:2},"*")),void u(n)}u(void 0)}},[s,g,i,v,u,r]),Object(n.useEffect)(function(){return window.addEventListener("message",T,!1),function(){return window.removeEventListener("message",T)}},[b,s,O,r]),Object(n.useEffect)(function(){l&&(b(!1),O(!1))},[l,b,O]);var T=Object(n.useCallback)(function(t){"https://zequencer.mypinata.cloud"===t.origin&&("ready for stems"===t.data&&O(!0),"Finished Loading Project"===t.data&&(console.log("Finished Loading Project"),b(!0),s))&&(++j.current,L.current=(new Date).getTime(),console.log("SENDING TOKEN _ =%s to proj",r||s),console.log("SONG ID=",r,typeof r),p.current.contentWindow.postMessage({type:"tokenId",body:r||parseInt(s)},"*"))},[b,s,r,O]);Object(n.useEffect)(function(){f!==xt&&i&&g&&Ts(i).then(function(){var t=Object(R.a)(Is().mark(function t(e){return Is().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(p.current){t.next=2;break}return t.abrupt("return");case 2:if(d.current!==i){t.next=4;break}return t.abrupt("return");case 4:d.current=i,p.current.contentWindow.postMessage({type:"clear-recording",body:"clear-recording"},"*"),p.current.contentWindow.postMessage({type:"nft-jacker",body:{bpm:e,samples:{drums:i,vocals:i,bass:i,other:i}}},"*");case 7:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[i,g,l,f]);var _=i&&E?"loaded player":"player";return 40!==s&&(_+=" keyon-player"),a||l||!N?"":o.a.createElement("div",null,o.a.createElement("iframe",{className:_,width:340,height:400,ref:p,src:N}))});r(1578);var Ps=r(308),Gs=r(665),Ms=(r(1579),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){t.clear;var e=t.jacked,r=t.setShowInfo,a=Object(n.useState)(!1),i=Object(c.a)(a,2),s=i[0],u=i[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"menuAction pushable",onClick:function(){u(!s)}},o.a.createElement("img",{src:void 0!=e?"/spores-logo-black.svg":"/spores-logo-white.svg"})),o.a.createElement("div",{className:"navFullContainer",style:{display:s?"inherit":"none"},onClick:function(){u(!1)}},o.a.createElement("div",{className:"dropMenu",style:{display:s?"inherit":"none"}},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("a",{href:"/",className:"navDropItem largeItem play"},"Play"),o.a.createElement("a",{href:"/buy",className:"navDropItem largeItem buy"},"Buy"),o.a.createElement("a",{href:"/learn",className:"navDropItem largeItem learn"},"Learn"),o.a.createElement("div",{className:"iconContainer"},void 0!=e&&o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px",color:"black"},onClick:function(){return r(!0)}},o.a.createElement(Gs.a,null)),o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px"}},o.a.createElement("a",{href:"https://twitter.com/SporesDAO"},o.a.createElement(Ps.a,null))),o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px"}},o.a.createElement("a",{href:"/lore"},o.a.createElement("img",{style:{height:"20px"},src:"./mushroom-icon.svg"})))))))})),Rs=(r(1580),r(666)),Fs=(r(1581),Object(s.b)(function(t,e){return{playlistLoaded:t.playlist.playlistLoaded}},function(t){return{setUsedCheatCode:function(e){return t({type:509,payload:e})},setSecondsRemaining:function(e){return t({type:510,payload:e})}}})(function(t){Mi();var e=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useState)(t.defaultSearch||""),i=Object(c.a)(a,2),s=i[0],u=i[1],l=Object(n.useState)(!1),h=Object(c.a)(l,2),p=h[0],v=h[1],m=Object(n.useState)(!1),y=Object(c.a)(m,2),g=y[0],b=y[1],w=function(){var t=Object(n.useState)(),e=Object(c.a)(t,2),r=e[0],o=e[1];return Object(n.useEffect)(function(){var t="localhost"===window.location.hostname?"http://localhost:9090/latestJacks/":"https://zequencer.io/latestJacks/";window.LOCAL_BACKEND_FLAG||(t="https://zequencer.io/latestJacks/"),fetch(t).then(function(){var t=Object(R.a)(ns().mark(function t(e){var r;return ns().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:r=t.sent,o(r.filter(function(t){return t.title&&!t.title.includes("Spore Players")}));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[]),{latestJacks:r,setLatestJacks:o}}(),x=w.latestJacks,E=w.setLatestJacks,O=Object(n.useState)(!1),j=Object(c.a)(O,2),L=j[0],k=j[1],S=Object(n.useState)(!0),N=Object(c.a)(S,2),I=N[0],T=N[1],_=Object(n.useState)(!f.isMobile),A=Object(c.a)(_,2),P=A[0],G=A[1],M=Object(n.useState)(!1),F=Object(c.a)(M,2),D=F[0],z=F[1],B=Object(n.useState)(!1),H=Object(c.a)(B,2),U=H[0],W=H[1],Y=Object(n.useState)(""),J=Object(c.a)(Y,2),q=J[0],Z=J[1];Object(n.useEffect)(function(){return window.addEventListener("click",K),function(){return window.removeEventListener("click",K)}},[T,at]);var K=Object(n.useCallback)(function(){at&&T(!1)},[at,T]),Q=function(t,e,r,o){var a=Object(wt.c)(),i=a.data,s=(a.isError,a.isLoading,Ot().tokensOnSale),u=Object(n.useState)(),l=Object(c.a)(u,2),f=l[0],h=l[1],p=Object(n.useState)(!1),v=Object(c.a)(p,2),m=v[0],y=v[1],g=Object(n.useState)(),b=Object(c.a)(g,2),w=b[0],x=b[1],E=Object(n.useRef)(0),O=Object(n.useRef)(!1),j=Object(n.useState)(!1),L=Object(c.a)(j,2),k=L[0],S=L[1];Object(n.useEffect)(function(){ss(t)&&(S(!0),y(!1),window.localStorage.setItem("cheatcode",t),r(!0),h(!0),setTimeout(function(){e("")},1e3),setTimeout(function(){h(!1)},1e4))},[t,S,y,h]),Object(n.useEffect)(function(){var t=window.localStorage.getItem("cheatcode");t&&ss(t)&&(S(!0),r(!0),y(!1))},[]),Object(n.useEffect)(function(){if(window.OWN_FAKE_SPORE_FLAG)return x(!0),void y(!1);if(s&&i&&i.address){var t=window.OWN_FAKE_SPORE_FLAG?s.map(function(t){return Object(d.a)({},t,{owner:i.address})}):s,e=i.address.toLowerCase();t.some(function(t){return t&&t.owner&&t.owner.toLowerCase()===e})&&(x(!0),y(!1))}},[s,i,x,y]),Object(n.useEffect)(function(){window.addEventListener("message",N,!1);var t=window.localStorage.getItem("time-elapsed")||0;window.ABOUT_TO_END_FLAG?E.current=28e4:E.current=parseInt(t)},[]);var N=Object(n.useCallback)(function(t){t.data&&Array.isArray(t.data.type)&&"sequencer.start"===t.data.type[0]?O.current=!0:t.data&&Array.isArray(t.data.type)&&"sequencer.stop"===t.data.type[0]&&(O.current=!1)},[]);return C(Object(n.useCallback)(function(){if(window.TOKEN_LOCK_FLAG&&!k&&(E.current>=3e5&&!m&&(w||y(!0)),O.current&&!w)){E.current+=1e3;var t=300-E.current/1e3;o(t),window.localStorage.setItem("time-elapsed",E.current)}},[m,y,w,k]),1e3),{locked:m,cheatCodeActivating:f}}(s,u,t.setUsedCheatCode,t.setSecondsRemaining),V=Q.locked,X=Q.cheatCodeActivating,$=rs({remixToPlay:Lt,setLatestJacks:E,setShowHistory:b,setLink:u,setShowLinkInput:T,link:s,latestJacks:x,chillTokenId:t.isChillRX&&t.match.params.tokenId,defaultSearch:t.defaultSearch,directTokenId:t.match.params.tokenId,directCollectionAddress:t.match.params.collectionAddress,playlistLoaded:t.playlistLoaded}),tt=$.clear,et=$.onJack,rt=$.loadJack,nt=$.collectionAddress,ot=$.artist,at=($.description,$.showPlayer),it=$.setShowPlayer,ct=$.tokenId,st=$.searchTerm,ut=$.songId,lt=$.buyThisSkin,ft=$.coverArt,ht=$.songName,dt=$.error,pt=$.currentSong,vt=$.setBuyThisSkin,mt=$.jackedAudio,yt=$.setCurrentSong,gt=$.currentLink,Et=($.metadata,$.setSearchTerm),jt=Ce(tt,r,t.match.params.remixId),Lt=jt.remixToPlay,kt=jt.setRemixToPlay,St=jt.recordedRemix,Nt=jt.uploadingRemix,It=jt.onRemixSigningCompleted;Object(n.useEffect)(function(){Lt&&window.scrollTo(0,0)},[Lt,it,G]);var Tt=function(t){var e=t.coverArt,r=Object(n.useState)(),o=Object(c.a)(r,2),a=o[0],i=o[1],s=Object(n.useState)(),u=Object(c.a)(s,2),l=u[0],f=u[1],h=Object(n.useState)(),d=Object(c.a)(h,2),p=d[0],v=d[1],m=Object(n.useState)(),y=Object(c.a)(m,2),g=y[0],b=y[1],w=Object(n.useState)(),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(n.useState)(),L=Object(c.a)(j,2),k=L[0],S=L[1];return Object(n.useEffect)(function(){null!=e&&Object(Rc.a)(e,{amount:3,group:50,format:"hex"}).then(function(t){i("linear-gradient(45deg, "+t[0]+" 0%, "+t[1]+" 50%, "+t[2]+" 100%)");var e=Dc()(t[0],!0),r=Dc()(t[1],!0),n=Dc()(t[2],!0);S("#000000"===t[0]?t[1]:t[0]),f(Dc()(r,!0)),v(r),b(n),O(e)})},[e,S,f,v,i,b,O]),{mainColor:k,clearColors:Object(n.useCallback)(function(){O(),b(),i(),v(),f()},[O,b,i,v,f]),coverGrad:a,buttonTextColor:l,buttonBgColor:p,upperGradInverted:g,lowerGradInverted:E}}({coverArt:ft}),_t=Tt.clearColors,Ct=Tt.coverGrad,At=Tt.buttonTextColor,Pt=Tt.buttonBgColor,Gt=Tt.upperGradInverted,Mt=Tt.lowerGradInverted,Rt=at?"nft-jacker jacked":"nft-jacker";I&&(Rt+=" showing-link-input");var Ft=Object(n.useCallback)(function(t){"spores-next-gen"===q?z(!0):W(!0)},[q,W,z]);return D?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:e,onClick:function(){return b(!1)},className:Rt,style:{background:Ct}},!1,at&&V&&"Keyon Christ"!==ot&&!St&&!Nt&&!1,mt&&o.a.createElement(Te,{recordedRemix:St,uploadingRemix:Nt,collectionAddress:nt,onRemixSigningCompleted:It,tokenId:ct,spTokenId:lt,loadJack:rt}),at&&!f.isMobile&&o.a.createElement("div",{onClick:function(){r.current&&(r.current.contentWindow.postMessage({type:"jacker-stop",body:"jacker-stop"},"*"),r.current.contentWindow.postMessage({type:"clear-recording",body:"clear-recording"},"*")),It(),kt(void 0),it(!1),tt(),_t()},className:"back-to-charts-btn"},o.a.createElement(Ps.b,{style:{fill:Pt}})),p&&o.a.createElement(Ss,{clear:function(){return v(!1)}}),at&&o.a.createElement("div",{onClick:function(){return v(!0)},style:{color:Mt},className:"helper-icon"},"?"),o.a.createElement(Ms,{jacked:mt,setShowInfo:k}),at&&o.a.createElement("div",{onClick:function(){return v(!0)},style:{color:Mt},className:"helper-icon"},"?"),"Keyon Christ"===ot&&o.a.createElement("video",{playsInline:!0,className:"rain-video",autoPlay:!0,loop:!0,muted:!0,src:"/mushrooms-medium.mp4"}),dt&&o.a.createElement("div",{className:"error-message"},dt),I&&o.a.createElement(Es,{loadJack:rt,searchTerm:st,jacked:mt,history:x,showChart:I}),o.a.createElement("div",{className:mt?"player-container show":"player-container hide",onClick:function(){return T(!1)}},Lt&&o.a.createElement(fr,{externalURL:gt,artist:ot,songName:ht,setRemix:kt,remix:Lt}),o.a.createElement(As,{showLoops:t.showLoops,playerRef:r,collectionAddress:nt,songId:ut,remixToPlay:Lt,locked:V&&!1,setBuyThisSkin:vt,tokenId:"Keyon Christ"===ot||nt===xt?ct:void 0,jackedAudio:mt})),!Lt&&o.a.createElement(_e,{buttonTextColor:Pt,playerRef:r}),!f.isMobile&&!Lt&&mt&&o.a.createElement(bt,{playerRef:r}),o.a.createElement(os,{cheatCodeActivating:X,showLinkInput:I,setShowHistory:b,setShowInfo:k,setLink:u,setSearchTerm:Et,showHistory:g,currentSong:pt,setCurrentSong:yt,loadHistory:rt,latestJacks:x,onJack:et,loadJack:rt,link:s}),ht&&o.a.createElement(is,{buyThisSkin:lt,showBuyThisSkin:nt!==xt,artist:ot,upperGradInverted:Gt,lowerGradInverted:Mt,coverArt:ft,songName:ht,tokenId:ct,currentLink:gt}),L&&o.a.createElement(Ns,{clear:function(){return k(!1)}}),at&&o.a.createElement("div",{onClick:function(){return T(!I)},className:"back-btn",style:f.isMobile?{backgroundImage:"#ffffff"==Gt?"url('/search-icon.svg')":"url('/search-icon-black.svg')"}:{backgroundImage:"#ffffff"==Pt?"url('/search-icon.svg')":"url('/search-icon-black.svg')"}}),at&&o.a.createElement("div",{className:"stockLeft",onClick:function(){return f.isMobile&&G(!0)},style:{color:f.isMobile&&at?At:Pt,backgroundColor:f.isMobile?Pt:"transparent"}},o.a.createElement("i",null,"Remixes ")," ",!f.isMobile&&o.a.createElement(Rs.a,null)),at&&o.a.createElement(lr,{url:"spores.vision/play/"+nt+"/"+ct,type:"song",lowerGradInverted:Mt,buttonBgColor:Pt}),at&&P&&o.a.createElement(br,{remixToPlay:Lt,setRemixToPlay:kt,collectionAddress:nt,tokenId:ct,clear:function(){return G(!1)}}))):o.a.createElement("div",{className:"password-protected"},o.a.createElement("div",{className:"spore-future"},o.a.createElement("img",{className:"spore-future-logo",src:"/spore-logo-future2.jpeg"}),o.a.createElement("div",{className:"password-box"},o.a.createElement("div",{className:"password-label"},"Password"),o.a.createElement("input",{type:"password",placeholder:"Enter password here",text:q,onChange:function(t){return Z(t.target.value)}}),U&&o.a.createElement("div",{className:"password-failed"},"The password you entered is incorrect."),o.a.createElement("div",{onClick:Ft,className:"password-enter"},"Enter"))))}),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){return o.a.createElement(Er,{isFullScreen:!1,url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmXqQ4sKuScMs9K6wuZvGUpxcEWuNuWuRqj2GcKGxnCGdn","/?tokenId=32&gallery=true"),collectionAddress:"0x0000000000000000000000000000000000000001",tokenId:1,className:"thugger",artist:"Young Thug",isSimple:!0,songTitle:"Hop Out Ft. Wiz Kalifa"},o.a.createElement("p",{className:"tagline-p"},"Spores grows strains of songs and media."),o.a.createElement("p",{className:"tagline-p"},"Season 1"))})),Ds=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){return o.a.createElement(Er,{url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmVDXbQWjea3C5ARkJkFnGdBJAajbF3c4GHJKCkzQDpRHP","/?tokenId=22&gallery=true"),collectionAddress:"0x935637ef6915b8344a943290e1d9a9caf3d6b3c3",thumbnail:"/inmysoul-cover.jpeg",tokenId:1,askPrice:"2",artist:"Keyon Christ",songTitle:"IN MY SOUL"},o.a.createElement("div",{className:"buy-button"},o.a.createElement("div",{className:"action"},o.a.createElement("a",{target:"_blank",href:"https://zora.co/collections/0x935637ef6915b8344a943290e1d9a9caf3d6b3c3/1"},"BID ON ZORA \u2197")),o.a.createElement("div",{className:"asking-price"},o.a.createElement("div",{className:"price-label"},"RESERVE"),o.a.createElement("div",{className:"price"},"2 ETH"))),o.a.createElement("p",{className:"tagline-p"},"SPORES ",o.a.createElement("span",{className:"orange-gradient"},"GENERATES VARIATIONS")," OF SONGS FOR YOU WHILE YOU STREAM."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),"THIS NFT IS THE FIRST 1/1 SONG RELEASE FROM SPORES. IT'S A 1/1 SPORE CONTAINING ",o.a.createElement("span",{className:"purple-gradient"},"\u201cIN MY SOUL\u201d")," BY ",o.a.createElement("a",{href:"https://www.dazeddigital.com/music/article/55043/1/lost-track-kanye-west-the-life-of-pablo-reemerges-can-u-be-forever-mitus-nft",className:"isUnderlined"},"KEYON CHRIST")," - OUR LAST DROP WAS ",o.a.createElement("a",{href:"https://www.yingyangtwins.xyz",className:"isUnderlined"},"YINGYANGTWINS.XYZ")," BY VIC MENSA."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"new"},"NEW"),o.a.createElement("br",null),o.a.createElement("span",{className:"green-gradient"},"ACOUSTIFY"),o.a.createElement("br",null),"SWITCH BETWEEN THE OG AND ACOUSTIC VERSIONS OF THIS SONG WITHOUT INTERUPTING PLAYBACK."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("img",{src:"/acoustify-small.gif",className:"mx-auto isRounded"}),o.a.createElement("br",null),o.a.createElement("br",null),"PRESS THE CENTER SPORE BUTTON. UNLOCK A NEW ERA FOR STREAMING."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"green-gradient"},"10%")," OF THE SALE WILL BE AWARDED TO THE ",o.a.createElement("span",{className:"orange-gradient"},"BEST REMIX"),o.a.createElement("br",null),o.a.createElement("br",null),"SPEARHEAD THE NEXT GENERATION OF THE MUSIC INDUSTRY."))}),zs=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.name,r=t.value,n=t.onChange,a=t.isEditable,i=void 0===a||a;return o.a.createElement("div",{onMouseDown:function(t){return t.stopPropagation()},onClick:function(t){return t.stopPropagation()},className:"toggle-switch"},o.a.createElement("div",{className:"label"},e),o.a.createElement("div",{onClick:function(t){t.stopPropagation(),i&&n(!r)},className:r?"switch on":"switch"},o.a.createElement("div",{className:"dot"})))}),Bs=r(311);function Hs(){Hs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Us=r(230),Ws={},Ys=function(t,e){return new Promise(function(){var r=Object(R.a)(Hs().mark(function r(n,o){var a,i;return Hs().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!Ws[e]){r.next=2;break}return r.abrupt("return",n(Ws[e]));case 2:if(void 0!==t){r.next=5;break}return o(),r.abrupt("return");case 5:if(r.prev=5,r.prev=6,"RIFF"!==(new TextDecoder).decode(t.slice(0,4))){r.next=16;break}return r.next=11,g.a.Master.context.decodeAudioData(Us(t));case 11:a=r.sent,e&&(Ws[e]=a),n(a),r.next=21;break;case 16:return r.next=18,Object(Bs.a)(t);case 18:i=r.sent,e&&(Ws[e]=i),n(i);case 21:r.next=26;break;case 23:r.prev=23,r.t0=r.catch(6),o(r.t0);case 26:r.next=31;break;case 28:r.prev=28,r.t1=r.catch(5),o(r.t1);case 31:case"end":return r.stop()}},r,null,[[5,28],[6,23]])}));return function(t,e){return r.apply(this,arguments)}}())},Js=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.sample,r=t.isEditable,a=void 0===r||r,i=Object(n.useState)(e.isLoop),s=Object(c.a)(i,2),u=s[0],l=s[1],f=Object(n.useCallback)(function(t){l(t),e.isLoop=t},[u,l,e]);return o.a.createElement(zs,{name:"Loop",value:u,onChange:f,isEditable:a})});function qs(){qs=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var Zs=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.song,r=t.stems,a=t.setAddingMoreStems,i=t.isAdding,s=t.hasEdits,u=t.setHasEdits,l=(t.setStems,Object(n.useRef)(new Ut)),f=Object(n.useRef)(),h=Object(n.useState)(void 0),d=Object(c.a)(h,2),p=d[0],v=d[1],m=Object(n.useCallback)(function(t,n){t.isDefaultStem=n,e.stems=Object(U.a)(r),u(s+1)},[r,e,s]),y=Object(n.useCallback)(function(){var t=Object(R.a)(qs().mark(function t(e){var r,n,o;return qs().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(f.current!==e){t.next=4;break}return l.current.stopSound(0),v(void 0),t.abrupt("return");case 4:return v(e),console.log("IPFS=",e.uri),r=e.uri.slice("/ipfs/".length),t.next=9,Ht.a.getSound(r);case 9:return n=t.sent,t.next=12,Ys(n);case 12:o=t.sent,l.current.setBuffer(o),l.current.playSound(0),f.current=e;case 16:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),[v]);return o.a.createElement("div",{className:"song-stems"},o.a.createElement("div",{onClick:function(){return window.open("https://spores.vision/zp/"+e.songId,"_blank")},className:"pushable open-in-spores"},"Open in Spores"),r.map(function(t){return o.a.createElement("div",{onClick:function(){return y(t)},className:t.isLoop?"song-stem":"song-stem is-not-loop"},o.a.createElement("div",{className:"stem-id"},"Stem #",t.stemId),o.a.createElement("div",{className:"stem-types"},t.prettyStemTypes.map(function(t){return o.a.createElement("div",{className:"selected stem-type"},t)})),o.a.createElement(Js,{sample:t,isEditable:!1}),o.a.createElement(zs,{name:"Is Default",value:t.isDefaultStem,onChange:function(e){return m(t,e)},isEditable:!0}),p===t&&o.a.createElement("img",{src:"/speaker-playing.svg"}))}),!i&&o.a.createElement("div",{onClick:function(){return a(!0)},className:"add-stems pushable"},"add more stems to this song"))}),Ks=(r(1603),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.set,r=t.get,a=t.name,i=t.isTextArea,s=Object(n.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1],h="zora-field ";return(l||""!==r)&&(h+=" focused"),i&&(h+=" text-area"),o.a.createElement("div",{className:h},o.a.createElement("div",{className:"field-name"},a),i?o.a.createElement("textarea",{onFocus:function(t){return f(!0)},onBlur:function(t){return f(!1)},value:r,onChange:function(t){return e(t.target.value)},type:"text"}):o.a.createElement("input",{onFocus:function(t){return f(!0)},onBlur:function(t){return f(!1)},value:r,onChange:function(t){return e(t.target.value)},type:"text"}))})),Qs=r(667),Vs=r.n(Qs),Xs=["C Minor","C# Minor","D Minor","D# Minor","E Minor","F Minor","F# Minor","G Minor","G# Minor","A Minor","A# Minor","B Minor"].map(function(t){return{label:t,value:t}}),$s=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.set,r=t.get,a=Object(n.useCallback)(function(t){e(t.value)},[e]),i=Xs.find(function(t){return r===t.value});return o.a.createElement("div",{className:"song-key zora-field focused"},o.a.createElement("div",{className:"field-name"},"Song Key"),o.a.createElement(Vs.a,{options:Xs,onChange:a,value:i,placeholder:"Key"}))});function tu(){tu=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(k){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=w(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(k){return{type:"throw",arg:k}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,m=v&&v(v(j([])));m&&m!==e&&r.call(m,o)&&(p=m);var y=d.prototype=f.prototype=Object.create(p);function g(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function b(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function w(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,w(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function x(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function E(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function O(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(x,this),this.reset(!0)}function j(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(y),t},t.awrap=function(t){return{__await:t}},g(b.prototype),c(b.prototype,a,function(){return this}),t.AsyncIterator=b,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new b(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=j,O.prototype={constructor:O,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),E(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;E(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:j(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}function eu(t,e){var r="undefined"!==typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(!r){if(Array.isArray(t)||(r=function(t,e){if(!t)return;if("string"===typeof t)return ru(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);"Object"===r&&t.constructor&&(r=t.constructor.name);if("Map"===r||"Set"===r)return Array.from(t);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ru(t,e)}(t))||e&&t&&"number"===typeof t.length){r&&(t=r);var n=0,o=function(){};return{s:o,n:function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(t)},n:function(){var t=r.next();return i=t.done,t},e:function(t){c=!0,a=t},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function ru(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nu=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.setCompleted,r=t.completed,a=t.hasEdits,i=t.stems,s=t.song,u=t.hideFields,l=t.openedSong,f=Object(wt.k)().data,h=Object(n.useState)(!1),d=Object(c.a)(h,2),p=d[0],v=d[1],m=Object(n.useState)(""),y=Object(c.a)(m,2),g=y[0],b=y[1],w=Object(n.useState)(""),x=Object(c.a)(w,2),E=x[0],O=x[1],j=Object(n.useState)(90),L=Object(c.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)("B Minor"),I=Object(c.a)(N,2),T=I[0],_=I[1],C=i.some(function(t){return 0===t.stemTypes.length})||""===g||0===i.length||""===E;u&&(C=0===i.length),Object(n.useEffect)(function(){r&&(b(""),O(""))},[r]);var A=Object(n.useCallback)(Object(R.a)(tu().mark(function t(){var r,n,o,a,c,u,l,h,d,p,m,y,b,w,x;return tu().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!C){t.next=2;break}return t.abrupt("return");case 2:r=[],n=[],o=[],a=[],c=eu(i);try{for(c.s();!(u=c.n()).done;)l=u.value,n.push(l.stemTypes),r.push("https://zequencer.mypinata.cloud/ipfs/"+l.ipfsHash),o.push(parseInt(l.audioBuffer.duration)),a.push(l.isLoop)}catch(O){c.e(O)}finally{c.f()}if(console.log("bpm=%s key=%s uris stemTypes",k,T,r,n,o,a),h=new Jr,d=new _t.ethers.Contract(h.contractAddress,h.abi,f),!s){t.next=25;break}return p=[_t.ethers.BigNumber.from(s.songId),r,n,o,a],t.next=16,d.newStems.apply(d,p.concat([{value:0}]));case 16:return m=t.sent,y=m.hash,v(!0),Mr(y,"0x74Bf6d7caAB56b3E47c235f42401F27736Df9dFC"),t.next=22,m.wait(5);case 22:return v(!1),e(!0),t.abrupt("return");case 25:return b=[g,E,r,n,a,o,parseInt(k),0,T],console.log("args to send=",b),t.next=29,d.newSong.apply(d,b.concat([{value:0}]));case 29:return w=t.sent,v(!0),x=w.hash,Mr(x,"0x74Bf6d7caAB56b3E47c235f42401F27736Df9dFC"),t.next=35,w.wait(3);case 35:v(!1),e(!0);case 37:case"end":return t.stop()}},t)})),[i,g,E,k,T,C,s,f,e,v]),P=Object(n.useCallback)(function(t){var e=l.stems.filter(function(t){return t.isDefaultStem}).map(function(t){return t.stemId}),r=_t.ethers.BigNumber.from(l.songId);console.log("songId=",r),e.map(_t.ethers.BigNumber.from),v(!0)},[l]);return p?o.a.createElement(xe,null):a?o.a.createElement("div",{className:"save-flow"},o.a.createElement("div",{onClick:P,className:"save-configuration save-button pushable"},"Save New Default Configuration for Song")):o.a.createElement("div",{className:"save-flow"},!u&&o.a.createElement(Ks,{get:g,set:b,name:"Title"}),!u&&o.a.createElement(Ks,{get:E,set:O,name:"Artist"}),!u&&o.a.createElement(Ks,{get:k,set:S,name:"BPM"}),!u&&o.a.createElement($s,{get:T,set:_,name:"Song Key"}),o.a.createElement("div",{onClick:A,className:C?"save-button disabled":"save-button pushable"},"Save"))}),ou=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.sample,r=Object(n.useState)(e.stemTypes),a=Object(c.a)(r,2),i=a[0],s=a[1],u=Object(n.useCallback)(function(t){t=parseInt(t);var r=Object(U.a)(i);i.includes(t)?r=i.filter(function(e){return e!==t}):r.push(t),e.stemTypes=r,s(r)},[i,s]);return o.a.createElement("div",{className:"stem-types"},Object.keys(Fa).map(function(t){return o.a.createElement("div",{onClick:function(){return u(t)},className:i.includes(parseInt(t))?"stem-type selected":"stem-type"},Fa[t])}))}),au=Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=t.sample,r=t.deleteSample;return o.a.createElement("div",{className:"sample"},o.a.createElement("div",{className:"name"},e.name),o.a.createElement(ou,{sample:e}),o.a.createElement(Js,{sample:e}),o.a.createElement("div",{onClick:function(){return r(e)},className:"delete"},"x"))}),iu=r(668),cu=(r(1604),Object(s.b)(function(t,e){return{}},function(t){return{}})(function(t){var e=Object(n.useState)(void 0),r=Object(c.a)(e,2),a=r[0],i=r[1],s=Object(n.useState)(!1),u=Object(c.a)(s,2),l=u[0],f=u[1],h=Object(n.useState)([]),d=Object(c.a)(h,2),p=d[0],v=d[1],m=Object(n.useState)([]),y=Object(c.a)(m,2),g=y[0],b=y[1],w=Object(iu.a)(),x=w.isUploading,E=w.samples,O=w.onDrop,j=Object(n.useState)(void 0),L=Object(c.a)(j,2),k=L[0],S=L[1],N=Object(n.useState)(0),I=Object(c.a)(N,2),T=I[0],_=I[1];Mi(),Object(n.useEffect)(function(){Wa().then(v)},[]),Object(n.useEffect)(function(){Wa().then(v),b([])},[l]),Object(n.useEffect)(function(){b(E)},[E,b]),Object(n.useEffect)(function(){window.addEventListener("dragenter",function(t){t.preventDefault(),t.dataTransfer.effectAllowed="none",t.dataTransfer.dropEffect="none"},!1),window.addEventListener("dragover",function(t){return t.preventDefault(),t.dataTransfer.effectAllowed="none",!1}),window.addEventListener("drop",O)},[]);var C=Object(n.useCallback)(function(t){b(g.filter(function(e){return e!==t}))},[g,b]);return o.a.createElement("div",{onDrop:O,onDragOver:function(t){return t.preventDefault()},className:"stems-portal"},o.a.createElement("div",{className:"layout"},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(St.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("div",{className:"header"},"STEMS SPORES"),o.a.createElement("div",{className:"f-row"},o.a.createElement("div",{className:"drop-files-here"},o.a.createElement("span",null,a?"Drop stems for "+a.title:"Drop Files Here")),o.a.createElement("div",{className:"songs"},p.map(function(t){return o.a.createElement("div",{onClick:function(){return S(t===k?void 0:t)},className:k&&k.songId===t.songId?"song selected":"song"},o.a.createElement("div",{className:"song-title"},"Song #",t.songId),o.a.createElement("div",{className:"song-title"},t.title),o.a.createElement("div",{className:"song-artist"},t.artist),o.a.createElement("div",{className:"song-bpm"},t.bpm),o.a.createElement("div",{className:"song-key"},t.key))})),k&&o.a.createElement("div",{className:"song-info"},o.a.createElement(Zs,{song:k,setHasEdits:_,hasEdits:T,isAdding:a,setAddingMoreStems:function(){return i(k)},stems:k.stems}))),o.a.createElement("div",{className:"samples"},g.map(function(t){return o.a.createElement(au,{sample:t,deleteSample:C})}),x&&o.a.createElement(xe,null)),o.a.createElement(nu,{completed:l,setCompleted:f,hasEdits:T,openedSong:k,song:a,hideFields:a,stems:g}),l&&o.a.createElement("div",{className:"completed-info"},"Succesfully added to the Spores Library",o.a.createElement("div",{onClick:function(){return f(!1)},className:"close-btn"},"x"))))})),su=(r(1605),r(88)),uu=r(642),lu=r(27),fu=r(75),hu=r(671),du=Object(lu.b)([fu.b.mainnet],[Object(fe.a)({infuraId:"2f3dce2af1044e88b4851c3d73c3d00c"}),Object(hu.a)()]),pu=du.chains,vu=du.provider,mu=Object(su.a)({appName:"Spore Players",chains:pu}).connectors,yu=Object(wt.b)({autoConnect:!0,connectors:mu,provider:vu}),gu=function(t){var e=t.store;return window.spores=!0,console.log("APP STORE=",t.store),o.a.createElement(n.Suspense,{fallback:function(){return o.a.createElement("div",null,"Loading...")}},o.a.createElement(wt.a,{client:yu},o.a.createElement(St.d,{chains:pu,theme:Object(uu.a)({accentColor:"black",accentColorForeground:"white",borderRadius:"small"})},o.a.createElement(jr.a,null,o.a.createElement(Lr.a,null,o.a.createElement(kr.a,{path:"/inmysoul/",render:function(t){return o.a.createElement(Ds,Object.assign({},t,{store:t.store}))}}),o.a.createElement(kr.a,{path:"/thugger/",render:function(t){return o.a.createElement(Fs,Object.assign({},t,{store:t.store}))}}),o.a.createElement(kr.a,{path:"/qntm1/",render:function(t){return o.a.createElement(Mc,Object.assign({},t,{store:t.store}))}}),o.a.createElement(kr.a,{path:"/qntm-remixes/",render:function(t){return o.a.createElement(Mc,Object.assign({},t,{showRemixes:!0,store:t.store}))}}),o.a.createElement(kr.a,{path:"/demoneyes/",render:function(t){return o.a.createElement(Mc,Object.assign({},t,{songTitle:"Demon Eyes",_songId:1,store:t.store}))}}),o.a.createElement(kr.a,{path:"/headless/:songId/:remixId",render:function(t){return o.a.createElement(Mc,Object.assign({},t,{headless:!0,showRemixes:!0,remixId:t.match.params.remixId,songTitle:"unreleased",_songId:t.match.params.songId,store:t.store}))}}),o.a.createElement(kr.a,{path:"/zp/:songId/:remixId",render:function(t){return o.a.createElement(Mc,Object.assign({},t,{showRemixes:!0,remixId:t.match.params.remixId,songTitle:"unreleased",_songId:t.match.params.songId,store:t.store}))}}),o.a.createElement(kr.a,{path:"/profile/:address",render:function(t){return o.a.createElement(Mc,Object.assign({},t,{profile:t.match.params.address,songTitle:"unreleased",_songId:0,store:t.store}))}}),o.a.createElement(kr.a,{path:"/tesla/:songId",render:function(t){return o.a.createElement(Mc,Object.assign({},t,{tiny:!0,songTitle:"unreleased",_songId:t.match.params.songId,store:t.store}))}}),o.a.createElement(kr.a,{path:"/debug/:songId",render:function(t){return o.a.createElement(Mc,Object.assign({isDebug:!0,store:e},t,{songTitle:"unreleased",_songId:t.match.params.songId}))}}),o.a.createElement(kr.a,{path:"/beta/:songId",render:function(t){return o.a.createElement(Mc,Object.assign({beta:!0,store:e},t,{songTitle:"unreleased",_songId:t.match.params.songId}))}}),o.a.createElement(kr.a,{path:"/zp/:songId",render:function(t){return o.a.createElement(Mc,Object.assign({beta:!1,store:e},t,{songTitle:"unreleased",_songId:t.match.params.songId}))}}),o.a.createElement(kr.a,{path:"/next-gen/",render:function(t){return o.a.createElement(Or,Object.assign({},t,{store:t.store}))}}),o.a.createElement(kr.a,{path:"/video/",render:function(t){return o.a.createElement(Pe,null)}}),o.a.createElement(kr.a,{path:"/stems/",render:function(t){return o.a.createElement(cu,Object.assign({},t,{store:t.store}))}}),o.a.createElement(kr.a,{path:"/",render:function(t){return o.a.createElement(u,Object.assign({},t,{store:t.store}))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var bu=r(197),wu=Object(bu.b)({playback:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{playStatus:0},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case 513:return Object(d.a)({},t,{playStatus:e.payload});default:return t}},playlist:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentSong:"Twisting Faith"},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case 503:return Object(d.a)({},t,{showPlaylistMenu:e.payload});case 504:return console.log("SETTING CURRENT PLAYLIST SONG=",e.payload),Object(d.a)({},t,{currentSong:e.payload});case 511:return console.log("SETTING PLAYLIST LOADED=",e.payload),Object(d.a)({},t,{playlistLoaded:e.payload});default:return t}},spore:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{slicePoints:{start:0,length:100}},e=arguments.length>1?arguments[1]:void 0;switch(e.type){case 515:return Object(d.a)({},t,{songLoaded:e.payload});case 518:return Object(d.a)({},t,{slicePoints:{start:t.slicePoints.start,length:e.payload}});case 517:return Object(d.a)({},t,{slicePoints:e.payload});case 516:return Object(d.a)({},t,{songLoading:e.payload});case 514:return Object(d.a)({},t,{leakLoaded:e.payload});case 512:return Object(d.a)({},t,{playerRef:e.payload});case 510:return Object(d.a)({},t,{secondsRemaining:e.payload});case 509:return Object(d.a)({},t,{usedCheatCode:e.payload});case 505:return Object(d.a)({},t,{tokenId:e.payload});case 508:return Object(d.a)({},t,{pendingSpores:e.payload});case 506:return Object(d.a)({},t,{soldPlayers:e.payload});default:return t}}}),xu=Object(bu.c)(wu);i.a.render(o.a.createElement(s.a,{store:xu},o.a.createElement(gu,{store:xu})),document.getElementById("root")),"serviceWorker"in navigator&&(console.log("UNREGISTERING"),navigator.serviceWorker.ready.then(function(t){console.log("regstieration UNREGISTERING",t),t.unregister()}))},173:function(t,e,r){"use strict";r.d(e,"a",function(){return n});var n=function(t){return new Promise(function(e,r){setTimeout(e,t)})}},238:function(t,e,r){"use strict";r.d(e,"a",function(){return u});r(110);var n=r(24),o={A:"a","A#":"A",B:"b",C:"c","C#":"C",D:"d","D#":"D",E:"e",F:"f","F#":"F",G:"g","G#":"G"},a={A:n.a.utils.asciiToHex("a"),"A#":n.a.utils.asciiToHex("A"),B:n.a.utils.asciiToHex("b"),C:n.a.utils.asciiToHex("c"),"C#":n.a.utils.asciiToHex("C"),D:n.a.utils.asciiToHex("d"),"D#":n.a.utils.asciiToHex("D"),E:n.a.utils.asciiToHex("e"),F:n.a.utils.asciiToHex("f"),"F#":n.a.utils.asciiToHex("F"),G:n.a.utils.asciiToHex("g"),"G#":n.a.utils.asciiToHex("G")},i={};for(var c in a)i[a[c]]=c;for(var s in i={},o)i[o[s]]=s;var u=i},24:function(t,e,r){"use strict";r.d(e,"a",function(){return a}),r.d(e,"b",function(){return i});var n=r(110),o=r.n(n),a=new o.a(new o.a.providers.HttpProvider("https://goerli.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")),i=new o.a(new o.a.providers.WebsocketProvider("wss://goerli.infura.io/ws/v3/2f3dce2af1044e88b4851c3d73c3d00c"))},307:function(t,e,r){"use strict";r.d(e,"b",function(){return a}),r.d(e,"a",function(){return i});var n=r(9);function o(){o=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},a=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(S){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};s(v,a,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,a)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=l(t[o],t,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[a];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,o=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return o.next=o}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,s(g,"constructor",p),s(p,"constructor",d),d.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,i,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(g),s(g,c,"Generator"),s(g,a,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var a=function(t,e){return new Promise(function(r){var a=new FormData;e?a.append("file",t):a.append("file",new Blob([t]));fetch("https://api.pinata.cloud/pinning/pinFileToIPFS",{method:"POST",headers:{pinata_api_key:"66a8464d59553776562c",pinata_secret_api_key:"96b4e32f40381e7e062569b89530f28051e00b488ec88bf3aa21c920be109109"},body:a}).then(function(){var t=Object(n.a)(o().mark(function t(e){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:n=t.sent,r(n.IpfsHash);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})},i=function(t,e){return new Promise(function(e){console.log("add json to pinata json=",t);var r=JSON.stringify(t);fetch("https://api.pinata.cloud/pinning/pinJSONToIPFS",{method:"POST",headers:{pinata_api_key:"2afa704153a1f9a98eb4",pinata_secret_api_key:"f5fed89080affd585837040a8af8a11a473d65eae1f2393ba178d94bfaf9c00a","Content-Type":"application/json"},body:r}).then(function(){var t=Object(n.a)(o().mark(function t(r){var n;return o().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,r.json();case 2:n=t.sent,console.log("json = ",n),e(n.IpfsHash);case 5:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())})}},311:function(t,e,r){"use strict";var n=r(9),o=r(2),a=r(3);function i(){i=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",c=n.toStringTag||"@@toStringTag";function s(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(S){s=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};s(v,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach(function(e){s(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=l(t[o],t,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,s(g,"constructor",p),s(p,"constructor",d),d.displayName=s(p,c,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,s(t,c,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),s(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(g),s(g,c,"Generator"),s(g,o,function(){return this}),s(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var c=function(){function t(e,r){Object(o.a)(this,t),this.wasm=e,this.wasm.decoder_init(),this.wasm.decoder_set_mp3_data_size(r.byteLength),new Uint8Array(this.wasm.memory.buffer,this.wasm.decoder_mp3_data_offset(),this.wasm.decoder_mp3_data_size()).set(r),this.duration=this.seek(-1),this.seek(0)}return Object(a.a)(t,[{key:"setData",value:function(t){this.wasm.decoder_set_mp3_data_size(t.byteLength),new Uint8Array(this.wasm.memory.buffer,this.wasm.decoder_mp3_data_offset(),this.wasm.decoder_mp3_data_size()).set(t),this.duration=this.seek(-1),this.seek(0)}},{key:"seek",value:function(t){return this.wasm.decoder_seek(t),this.currentTime()}},{key:"decode",value:function(t){var e=this.currentTime();this.wasm.decoder_decode(t);var r=new Int16Array(this.wasm.memory.buffer,this.wasm.decoder_pcm_data_offset(),this.wasm.decoder_pcm_data_size()/2),n=this.wasm.decode_results_sampling_rate(),o=this.wasm.decode_results_num_channels(),a=this.wasm.decode_results_num_samples();return{pcm:r,startTime:e,duration:a/o/n,samplingRate:n,numChannels:o,numSamples:a}}},{key:"currentTime",value:function(){return this.wasm.decoder_current_time()}}]),t}();function s(t,e){return u.apply(this,arguments)}function u(){return(u=Object(n.a)(i().mark(function t(e,r){var n,o,a;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=r||"decoder.opt.wasm",t.next=3,fetch(r);case 3:return n=t.sent,t.next=6,n.arrayBuffer();case 6:return o=t.sent,t.next=9,WebAssembly.instantiate(o,{});case 9:return a=t.sent,t.abrupt("return",new c(a.instance.exports,e));case 11:case"end":return t.stop()}},t)}))).apply(this,arguments)}var l=null,f=function(){var t=Object(n.a)(i().mark(function t(e){var r,n,o,a,c;return i().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(r=window.isNFT?"decoder.opt.wasm":"/decoder.opt.wasm",l){t.next=7;break}return t.next=4,s(e,r);case 4:l=t.sent,t.next=8;break;case 7:l.setData(e);case 8:return n=new Uint16Array(6*e.length),o=0,l.seek(0),0,c=l.decode(300),a=c.samplingRate,n.set(c.pcm,o),o+=c.pcm.length,t.abrupt("return",{decoded:n,sampleRate:a,position:o});case 17:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),h=function(t){return new Promise(function(e){var r=t.id,n=t.mp3Data,o=t.isNFT;f(n,o).then(function(t){var n=t.decoded,o=t.sampleRate,a=t.position;e({decoded:n,sampleRate:o,position:a,id:r})})})},d=r(173),p=(r(416),r(46)),v=r.n(p);function m(){m=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof f?e:f,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(L([])));y&&y!==e&&r.call(y,o)&&(p=y);var g=d.prototype=f.prototype=Object.create(p);function b(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return h.prototype=d,c(g,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,d):(t.__proto__=d,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}r.d(e,"a",function(){return x});var y,g=0,b={},w=function(){var t=Object(n.a)(m().mark(function t(e,r){var n;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("decode called=",e),t.next=4,h({mp3Data:e,isNFT:window.isNFT,id:r});case 4:return n=t.sent,t.abrupt("return",n);case 6:y||((y=new Worker(window.isNFT?"mp3Worker.js":"/mp3Worker.js")).onmessage=function(t){b[t.data.id]=t.data}),y.postMessage({mp3Data:e,isNFT:window.isNFT,id:r});case 8:if(b[r]){t.next=13;break}return t.next=11,Object(d.a)(100);case 11:t.next=8;break;case 13:return t.abrupt("return",b[r]);case 14:case"end":return t.stop()}},t)}));return function(e,r){return t.apply(this,arguments)}}(),x=function(){var t=Object(n.a)(m().mark(function t(e){var r,n,o,a,i,c,s,u,l,f,h;return m().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,w(e,g++);case 2:for(r=t.sent,n=r.decoded,o=r.sampleRate,a=r.position,i=v.a.Master.context,2,c=i.createBuffer(2,a/2,o),s=c.getChannelData(0),u=c.getChannelData(1),l=0;l<n.length;l+=2)f=n[l],h=n[l+1],s[l/2]=f>=32768?-(65536-f)/32768:f/32767,u[l/2]=h>=32768?-(65536-h)/32768:h/32767;return t.abrupt("return",c);case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()},356:function(t,e){},392:function(t,e,r){},393:function(t,e,r){},416:function(t,e,r){"use strict";var n=r(2),o=r(3),a=function(){function t(e){Object(n.a)(this,t),this.ipfsHash=e,this.stemTypes=[]}return Object(o.a)(t,[{key:"getId",value:function(){return this.ipfsHash}}]),t}();e.a=a},420:function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return o});r(24);var n=r(136);function o(t){var e=n.decode(t).toString("hex").replace(/^1220/,"");return 64!=e.length?null:"0x"+e}}).call(this,r(13).Buffer)},594:function(t,e,r){},595:function(t,e,r){},66:function(t,e,r){"use strict";(function(t){var n=r(9),o=r(2),a=r(3),i=r(118),c=r.n(i);function s(){s=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,r){return t[e]=r}}function u(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function l(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=u;var f={};function h(){}function d(){}function p(){}var v={};c(v,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=l(t[o],t,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){u.value=t,i(u)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return f;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,f;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,f):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,f)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,c(g,"constructor",p),c(p,"constructor",d),d.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(u(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),f},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},t}var u=r(230),l=new XMLHttpRequest,f="/ip4/3.17.26.249/tcp/4001/ipfs/QmeQRpfSrYcAaqkhNoArDyTUwyYiru2gJp4WY1WegQGjtR",h=[85,110,105,118,101,114,115,97,108,32,83,101,113,101,117,110,99,101,115];window.httpV="http://www.zequencer.io:5001",window.httpsV="https://www.zequencer.io:5002";var d=new(function(){function e(){var t=this;if(Object(o.a)(this,e),this.controllers=new Set,!window.isNFT){"http:"===window.location.protocol?(this.backupIpfs=new c.a("ipfs.infura.io","5001",{protocol:"https"}),window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"})):(this.centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"}),this._centralIpfs=this.centralIpfs)):window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"})):(this.centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"}),this._centralIpfs=this.centralIpfs),this.ipfs=this.centralIpfs;var r=this;this.connectedLocally=!1,this.finishedTestingLocalConnection=!1,l.onreadystatechange=function(){4==l.readyState&&200==l.status&&(r.ipfs=c()("localhost","5001",{protocol:"http"}),r.connectToCentral(),r.connectedLocally=!0,r.finishedTestingLocalConnection=!0,t.keepSwarmConnectionAlive())},window.isNFT||(l.open("POST","http://localhost:5001/api/v0/swarm/peers",!0),l.timeout=4e3,l.ontimeout=function(){console.log("timed out connecting to local ipfs daemon")}),setTimeout(function(){t.finishedTestingLocalConnection=!0},4e3),l.send("")}}return Object(a.a)(e,[{key:"restart",value:function(){}},{key:"getIPFSPrefix",value:function(){return this.connectedLocally?"http://localhost:5001":"http:"===window.location.protocol?window.httpV:"https:"===window.location.protocol?window.httpsV:void 0}},{key:"getHashUrl",value:function(t){return"https://zequencer.io/ipfs/"+t}},{key:"getPinnedHashes",value:function(){var t=Object(n.a)(s().mark(function t(){var e;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ipfs.refs.local();case 2:return e=t.sent,t.abrupt("return",e.map(function(t){return t.ref}));case 4:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"findProvs",value:function(t){var e=this;return new Promise(function(r,n){e.ipfs.dht.findprovs(t,{maxNumProviders:1},function(t,e){r(e)})})}},{key:"connectToCentral",value:function(){try{this.ipfs.swarm.connect(f,function(t,e){}).catch(function(t){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}}},{key:"keepSwarmConnectionAlive",value:function(){var t=this;try{this.ipfs.swarm.connect(f,function(t,e){}).catch(function(t){return console.log("error")})}catch(e){console.log("error connecting to ipfs")}setInterval(function(){if(window.sequencerEngine&&window.sequencerEngine.getSequenceId){var r=window.sequencerEngine.getSequenceId();if(window.sequencerEngine.store.getState().sequencer.isPlaying[r])return}try{t.ipfs.swarm.connect(f,function(t,e){}).catch(function(t){return console.log("error")})}catch(e){console.log("error connecting to ipfs")}},6e4)}},{key:"isConnectedLocally",value:function(){return this.connectedLocally}},{key:"addArrayBuffer",value:function(t,e){return this.addHelper(t,e)}},{key:"addArrayBufferAndSaveToDB",value:function(t,e){return this.addBlobAndSaveToDB(new Blob([new Uint8Array(t)]),e)}},{key:"addHelper",value:function(e){var r=this,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);void 0===n&&(n="hello");return new Promise(function(o,a){var i=r._centralIpfs||r.ipfs;i||(i="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),i.add({name:n,path:"hello",content:new t(e)},function(t,e){console.log("IPFS HASH = ",e);var r=e[0].hash;t?a(t):o(r)})})}},{key:"addBuffer",value:function(t){var e=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];return new Promise(function(r,n){var o=e.centralIpfs;o.add(t,function(t,e){if(t)n(t);else{var a=e[0].hash;o.pin.add(a),r(a)}})})}},{key:"addJson",value:function(e){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LOCAL",o=arguments.length>2?arguments[2]:void 0;return new Promise(function(a,i){console.log("adding json noUTF=",o,e);var s=r._centralIpfs||r.ipfs;s||(s="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),s.add(t.from(JSON.stringify(e)),function(t,e){if(t)i(t);else{var r=e[0].hash;s.pin.add(r),a(r)}}),"LOCAL"===n&&(s!==r.centralIpfs&&r.addJson(e,"UNIVERSAL",o).then(function(t){return a(t)}),r.addJson(e,"INFURA",o).then(function(t){return a(t)}))})}},{key:"getJson",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.restart(),new Promise(function(i,c){if(a)e.ipfs.cat(t,function(t,e){i(JSON.parse(e.toString("utf8")))});else{var u="/api/v0/cat?arg="+t,l=(r?e.centralIpfs:e.ipfs,new AbortController);e.controllers.add(l);var f=l.signal;setTimeout(function(){l.abort(),e.controllers.delete(l),c()},o);var h="POST",d=e.getIPFSPrefix()+u;if(window.isNFT)return h="GET",d=t,void fetch(d,{signal:f,method:h}).then(function(){var t=Object(n.a)(s().mark(function t(e){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.json();case 2:r=t.sent,i(r);case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());if(window.isNFT)return i({});var p=(new Date).getTime();fetch(d,{signal:f,method:h}).then(function(){var t=Object(n.a)(s().mark(function t(r){var n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:n=(new Date).getTime(),console.log("raw request took %s ms",n-p),e.readAllChunks(r.body).then(function(t){console.log("read all chunks took %s ms",(new Date).getTime()-n);var r=e.mergeArrays(t,0,!1),o=(new TextDecoder).decode(r);i(JSON.parse(o))});case 3:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())}})}},{key:"addBytesArray",value:function(){var t=Object(n.a)(s().mark(function t(e){var r,n;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return(r=new Uint8Array(e.length+h.length)).set(e,0),r.set(h,e.length),t.next=5,this.addHelper(r.buffer);case 5:return n=t.sent,this.ipfs.pin.add(n),t.abrupt("return",n);case 8:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"pin",value:function(){var t=Object(n.a)(s().mark(function t(e){return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.ipfs.pin.add(e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}()},{key:"addBlob",value:function(t,e){var r=this;return this.restart(),new Promise(function(n,o){var a,i=new FileReader,c=r;i.onload=function(){var t=this;a=this.result,c.addHelper(a,void 0,e).then(function(e){t.connectedLocally&&c.ipfs.pin.add(e),c.centralIpfs.pin.add(e),n(e)}).catch(function(t){return o(t)})},i.readAsArrayBuffer(t)})}},{key:"addBlobAndSaveToDB",value:function(t,e){}},{key:"converttoarraybuffer",value:function(t){return new Promise(function(e,r){var n=new n;n.onload=function(){e(this.result)},n.readasarraybuffer(t)})}},{key:"readAllChunks",value:function(t){var e=t.getReader(),r=[];return function t(){return e.read().then(function(e){var n=e.value;return e.done?r:(r.push(n),t())})}()}},{key:"getSound",value:function(t){var e=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return new Promise(function(o,a){var i=new AbortController;e.controllers.add(i);var c=i.signal;setTimeout(function(){i.abort(),e.controllers.delete(i),a()},r);var u="GET",l="https://zequencer.io/ipfs/"+t;if(window.spores&&(l="https://zequencer.mypinata.cloud/ipfs/"+t),window.isNFT)return u="GET",l=t,fetch(l,{signal:c,method:u}).then(function(){var t=Object(n.a)(s().mark(function t(e){var r;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.arrayBuffer();case 2:r=t.sent,o(new Uint8Array(r));case 4:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}());if(window.isNFT)return o([]);var f=(new Date).getTime();fetch(l,{signal:c,method:u}).then(function(){var t=Object(n.a)(s().mark(function t(r){var n,a,i,c;return s().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=(new Date).getTime(),console.log("raw response took %s ms",n-f),t.next=4,r.arrayBuffer();case 4:return a=t.sent,i=(new Date).getTime(),console.log("Array buffer tranform took %s ms",(new Date).getTime()-n),c=e.processArray(new Uint8Array(a)),console.log("processing took % ms",(new Date).getTime()-i),o(c),t.abrupt("return");case 12:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}()).catch(function(t){console.log("aborted")})})}},{key:"arrayToBuffer",value:function(t){var e=new ArrayBuffer(t.length);return t.map(function(t,r){e[r]=t}),e}},{key:"cancel",value:function(){console.log("cancelling = ",this.controllers),Array.from(this.controllers).forEach(function(t){return t.abort()})}},{key:"processArray",value:function(t){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return t;var e=t,r=this.findEnd(e,h);return-1!==r?e.slice(0,r):t.slice(0,t.length-1024)}},{key:"mergeArrays",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;for(var o in t)n+=t[o].length;var a=new Uint8Array(n-e),i=0;for(var c in t)0===i?(a.set(t[c].subarray(e),i),i+=t[c].length-e):(a.set(t[c],i),i+=t[c].length);if(!r)return a;var s=a,u=this.findEnd(s,h);return-1!==u?s.slice(0,u):a.slice(0,a.length-1024)}},{key:"findEnd",value:function(t,e){for(var r=t.length-1600,n=t.slice(r).values(),o=0,a=r;a<t.length;a++){if(n.next().value===e[o]){if(0==o&&(r=a),++o===e.length-1)return r}else o=0,r=a}return-1}},{key:"getAudioBuffer",value:function(t,e){var r=this;return this.restart(),new Promise(function(n,o){r.getSound(t).then(function(t){return e.decodeAudioData(u(t),function(t){n(t)},function(t,e,r){r&&o(r)})}).catch(function(t){o(t)})})}}]),e}());e.a=d}).call(this,r(13).Buffer)},668:function(t,e,r){"use strict";(function(t){r.d(e,"a",function(){return h});var n=r(9),o=r(4),a=r(1),i=r(307),c=r(46),s=r.n(c),u=(r(66),r(416)),l=r(311);function f(){f=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{c({},"")}catch(S){c=function(t,e,r){return t[e]=r}}function s(t,e,r,n){var o=e&&e.prototype instanceof h?e:h,a=Object.create(o.prototype),i=new j(n||[]);return a._invoke=function(t,e,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return k()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=x(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(t,e,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(t,r,i),a}function u(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(S){return{type:"throw",arg:S}}}t.wrap=s;var l={};function h(){}function d(){}function p(){}var v={};c(v,o,function(){return this});var m=Object.getPrototypeOf,y=m&&m(m(L([])));y&&y!==e&&r.call(y,o)&&(v=y);var g=p.prototype=h.prototype=Object.create(v);function b(t){["next","throw","return"].forEach(function(e){c(t,e,function(t){return this._invoke(e,t)})})}function w(t,e){var n;this._invoke=function(o,a){function i(){return new e(function(n,i){!function n(o,a,i,c){var s=u(t[o],t,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?e.resolve(f.__await).then(function(t){n("next",t,i,c)},function(t){n("throw",t,i,c)}):e.resolve(f).then(function(t){l.value=t,i(l)},function(t){return n("throw",t,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function x(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,x(t,e),"throw"===e.method))return l;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,l;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,l):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,l)}function E(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function O(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function j(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function L(t){if(t){var e=t[o];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,a=function e(){for(;++n<t.length;)if(r.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e};return a.next=a}}return{next:k}}function k(){return{value:void 0,done:!0}}return d.prototype=p,c(g,"constructor",p),c(p,"constructor",d),d.displayName=c(p,i,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===d||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,p):(t.__proto__=p,c(t,i,"GeneratorFunction")),t.prototype=Object.create(g),t},t.awrap=function(t){return{__await:t}},b(w.prototype),c(w.prototype,a,function(){return this}),t.AsyncIterator=w,t.async=function(e,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(e,r,n,o),a);return t.isGeneratorFunction(r)?i:i.next().then(function(t){return t.done?t.value:i.next()})},b(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),t.keys=function(t){var e=[];for(var r in t)e.push(r);return e.reverse(),function r(){for(;e.length;){var n=e.pop();if(n in t)return r.value=n,r.done=!1,r}return r.done=!0,r}},t.values=L,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return i.type="throw",i.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),l},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),O(r),l}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:L(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},t}var h=function(){var t=Object(a.useState)([]),e=Object(o.a)(t,2),r=e[0],i=e[1],c=Object(a.useState)(!1),s=Object(o.a)(c,2),u=s[0],l=s[1];return{onDrop:Object(a.useCallback)(function(){var t=Object(n.a)(f().mark(function t(e){var r,n,o,a;return f().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(l(!0),e.stopPropagation(),e.preventDefault(),e.dataTransfer.effectAllowed="none",e.dataTransfer.dropEffect="none",!e.dataTransfer.items){t.next=13;break}for(r=[],n=e.dataTransfer.items.length,o=0;o<n;o++)"file"===e.dataTransfer.items[o].kind&&r.push(d(e.dataTransfer.items[o].getAsFile()));return t.next=11,Promise.all(r);case 11:a=t.sent,i(a.filter(function(t){return t.audioBuffer}));case 13:l(!1);case 14:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}(),[i]),samples:r,isUploading:u}},d=function(e){return new Promise(function(r){var o=new FileReader;e.name.includes(".wav")||e.name.includes(".flac")||e.name.includes(".mp3")?(o.readAsArrayBuffer(e),o.onloadend=Object(n.a)(f().mark(function n(){var a,c,h,d,p;return f().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return a=o.result,c=new t(a),Int8Array.from(a),n.next=5,Object(i.b)(c);case 5:if(h=n.sent,p=new u.a(h),!e.name.includes("mp3")){n.next=14;break}return n.next=10,Object(l.a)(new Int8Array(a));case 10:d=n.sent,p.mp3Data=new t(a),n.next=17;break;case 14:return n.next=16,s.a.Master.context.decodeAudioData(a);case 16:d=n.sent;case 17:p.audioBuffer=d,p.name=e.name,r(p);case 20:case"end":return n.stop()}},n)}))):window.alert("Only accepts .wav, .mp3, & .flac files for now")})}}).call(this,r(13).Buffer)},689:function(t,e,r){t.exports=r(1607)},695:function(t,e,r){},699:function(t,e,r){},700:function(t,e,r){},702:function(t,e,r){},703:function(t,e,r){},704:function(t,e,r){},717:function(t,e){},718:function(t,e){},720:function(t,e){},724:function(t,e){},748:function(t,e){},750:function(t,e){},764:function(t,e){},766:function(t,e){},795:function(t,e){},797:function(t,e){},8:function(t,e,r){"use strict";(function(t){r.d(e,"j",function(){return f}),r.d(e,"i",function(){return h}),r.d(e,"g",function(){return d}),r.d(e,"h",function(){return p}),r.d(e,"o",function(){return v}),r.d(e,"c",function(){return m}),r.d(e,"f",function(){return y}),r.d(e,"e",function(){return g}),r.d(e,"m",function(){return b}),r.d(e,"k",function(){return w}),r.d(e,"l",function(){return x}),r.d(e,"a",function(){return E}),r.d(e,"n",function(){return O}),r.d(e,"d",function(){return j}),r.d(e,"b",function(){return L});var n=r(2),o=r(3),a=(r(110),r(238)),i=r(24),c=r(136),s=(window.web3,i.a.utils.padLeft("0x0",64)),u=function(){function t(e,r){Object(n.a)(this,t),this.toConversion=e,this.fromConversion=r}return Object(o.a)(t,[{key:"convertTo",value:function(t){return this.toConversion(t)}},{key:"convertFrom",value:function(t){return t===s?null:this.fromConversion(t)}}]),t}();function l(t){var e="";for(var r in t)0!=t.charCodeAt(r)&&(e+=t.charAt(r));return e}var f=new u(function(t){return function(t){var e=c.decode(t).toString("hex").replace(/^1220/,"");return 64!=e.length?null:"0x"+e}(t)},function(e){return function(e){var r=new t(e.replace(/^0x/,"1220"),"hex");return c.encode(r)}(e)}),h=new u(function(t){return i.a.utils.padLeft(i.a.utils.numberToHex(t),64)},function(t){return i.a.utils.hexToNumber(t)}),d=new u(function(t){return i.a.utils.padLeft(i.a.utils.numberToHex(t),64)},function(t){return l(i.a.utils.toAscii(t))}),p=new u(function(t){return i.a.utils.padLeft(i.a.utils.numberToHex(t),64)},function(t){return i.a.utils.hexToNumber(t)}),v=new u(function(t){return i.a.utils.padLeft(i.a.utils.numberToHex(parseInt(t)),64)},function(t){return i.a.utils.hexToNumber(t)}),m=new u(function(t){return i.a.utils.padRight(i.a.utils.fromAscii(t),64)},function(t){return l(i.a.utils.toAscii(t))}),y=new u(function(t){return i.a.utils.padLeft(i.a.utils.fromAscii(t),64)},function(t){return l(i.a.utils.toAscii(t))}),g=new u(function(t){return i.a.utils.padLeft(i.a.utils.toHex(t),64)},function(t){return function(t){for(var e=0;e<t.length;e++)if("0"!==t.slice(e,e+1))return t.slice(e);return t}(t.slice(2))});var b=new u(function(t){return i.a.utils.padRight(i.a.utils.toHex(t),64)},function(t){return l(i.a.utils.toAscii(t))}),w=new u(function(t){return i.a.utils.padRight(t,64)},function(t){return l(i.a.utils.toAscii(t)).split("").map(function(t){return a.a[t]})}),x=new u(function(t){return i.a.utils.padRight(t,64)},function(t){return a.a[l(i.a.utils.toAscii(t))]}),E=new u(function(t){return i.a.utils.padLeft(t,64)},function(t){return function(t){return"0x"+t.slice(t.length-40)}(t)}),O=new u(function(t){return i.a.utils.padLeft(t[0],64)},function(t){return l(i.a.utils.toAscii(t))}),j=function(t){return new u(function(t){return t},function(e){return e.slice(2,2+64*t)})};var L=new u(function(t){return i.a.utils.padLeft(i.a.utils.numberToHex(parseInt(t)),64)},function(t){try{return 1===i.a.utils.hexToNumber(t)}catch(e){return t}},!1)}).call(this,r(13).Buffer)},897:function(t,e){},898:function(t,e){},990:function(t,e,r){}},[[689,1,2]]]);