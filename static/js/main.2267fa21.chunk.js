(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{1036:function(e,t){},1037:function(e,t){},1053:function(e,t){},1078:function(e,t){},1260:function(e,t,r){},1272:function(e,t,r){},1273:function(e,t,r){},1274:function(e,t,r){},1275:function(e,t,r){},1278:function(e,t,r){},1279:function(e,t,r){},1281:function(e,t,r){},1282:function(e,t,r){},1283:function(e,t,r){},1284:function(e,t,r){},1285:function(e,t,r){},1286:function(e,t,r){},1287:function(e,t,r){},1288:function(e,t,r){},1289:function(e,t,r){},1290:function(e,t,r){},1291:function(e,t,r){},1292:function(e,t,r){},1293:function(e,t,r){},1294:function(e,t,r){},1295:function(e,t,r){},1296:function(e,t,r){},1297:function(e,t,r){},1298:function(e,t,r){},1299:function(e,t,r){},1300:function(e,t,r){},1301:function(e,t,r){},1324:function(e,t,r){},1326:function(e,t,r){"use strict";r.r(t);var n=r(1),o=r.n(n),a=r(132),i=r.n(a),c=(r(578),r(579),r(1354)),s=r(1355),u=r(1356),l=r(10),f=r(20),h=(r(583),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.zorbStartPosition,r=t.image,a=t.x,i=t.y,c=Object(n.useState)(!1),s=Object(l.a)(c,2),u=s[0],f=s[1],h=function(e,t){e="--"+e,document.documentElement.style.setProperty(e,t)};return Object(n.useEffect)(function(){var e=window.innerWidth,t=window.innerHeight;h("zorb-start-x",a+-25+"px"),h("zorb-start-y",i+-25+"px"),h("zorb-mid-x",e/2-25+"px"),h("zorb-mid-y",e/2-25+"px"),h("zorb-end-x",e/2-25+"px"),h("zorb-end-y",t/2-25+"px"),f(!0),setTimeout(function(){f(!1)},1e3)},[t,a,i,f]),u?o.a.createElement("img",{style:{left:a,top:i},className:"zorb-animation animate-it",src:r}):""})),d=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.setZorbId,r=e.zorbId,a=e.zorb,i=e.setZorbStartPosition,c=Object(n.useRef)(),s=r===parseInt(a.tokenId);return Object(n.useEffect)(function(){},[]),Object(n.useEffect)(function(){if(s){var e=c.current.getBoundingClientRect();i({x:e.left,y:e.top,image:a.image.url})}},[s,i]),o.a.createElement("div",{ref:c,onClick:function(){return t(parseInt(a.tokenId))},className:"pushable zorb-option "+(s?"selected":" unselected")},o.a.createElement("img",{src:a.image.url,className:s?"selected":" unselected"}))}),p=r(64),m=r(263),v={endPoint:"https://api.zora.co/graphql",networks:[{network:m.ZDKNetwork.Ethereum,chain:m.ZDKChain.Mainnet}]},y=new m.ZDK(v),g=(r(593),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.account,r=e.setZorbId,a=e.zorbId,i=e.setZorbStartPosition,c=function(e){var t=e.account,r=Object(n.useState)(!0),o=Object(l.a)(r,2),a=o[0],i=o[1],c=Object(n.useState)([]),s=Object(l.a)(c,2),u=s[0],f=s[1];return Object(n.useEffect)(function(){t&&t.address&&(i(!0),console.log("loading collection info for account=",t.address),y.tokens({where:{collectionAddresses:["0xCa21d4228cDCc68D4e23807E5e370C07577Dd152"],ownerAddresses:[t.address]}}).then(function(e){f(e.tokens.nodes.map(function(e){return e.token}))}))},[t,i,f]),{zorbs:u,isLoading:a}}({account:t}).zorbs;return Object(n.useEffect)(function(){c[0]},[c]),o.a.createElement("div",{className:"zs-container"},o.a.createElement("div",{className:"zorb-selector"},o.a.createElement("p",null,"spores + zorb = zpores, an experimental morphing music interface"),o.a.createElement("p",null,"+ use your zorb to remix sound, insert it into the spore\ud80c\udf4a"),0===c.length&&t?o.a.createElement("div",{className:"no-zorbs"},"No zorbs detected. "):0===c.length&&o.a.createElement("div",{className:"connect-button-wrapper zorb-connect"},o.a.createElement(p.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("div",{className:"zorbs-list"},c.map(function(e){return o.a.createElement(d,{setZorbStartPosition:i,zorbId:a,setZorbId:r,zorb:e})}))))})),w=r(25),b=(r(627),r(18)),E=r(11),x=r(2),O=r(3),k=r(5),j=r(14),L=r(6),S=r(27),N=r.n(S),T=r(7),I=function e(t,r){Object(x.a)(this,e),this.event=t,this.topics=r;for(var n=arguments.length,o=new Array(n>2?n-2:0),a=2;a<n;a++)o[a-2]=arguments[a];this.data=o},C=function(){function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;Object(x.a)(this,e),this.name=t,this.type=r,this.size=64*n}return Object(O.a)(e,[{key:"convertTo",value:function(e){if(void 0!==e&&null!==e)return this.type.convertTo(e)}},{key:"convertFrom",value:function(e){if(void 0!==e&&null!==e)return this.type.convertFrom(e)}}]),e}(),_=new I("SampleTagged(bytes32,bytes32,uint32)",[new C("ipfsHash",T.i),new C("tag",T.b),new C("guildId",T.g)]),A=(new I("SampleStyle(bytes32,bytes32,uint32)",[new C("ipfsHash",T.i),new C("style",T.b),new C("guildId",T.g)]),new I("SampleYear(bytes32,int16,uint32)",[new C("ipfsHash",T.i),new C("year",T.f),new C("guildId",T.g)]),new I("SampleCountry(bytes32,bytes32,uint32)",[new C("ipfsHash",T.i),new C("country",T.b),new C("guildId",T.g)]),new I("SampledYoutube(bytes32,bytes32,uint32)",[new C("ipfsHash",T.i),new C("videoId",T.l),new C("guildId",T.g)]),new I("SequenceCreated(address,bytes32,string)",[new C("user",T.a),new C("ipfsHash",T.i)],new C("title",T.m)),new I("SampleCreated(address,bytes32,string,uint32)",[new C("user",T.a),new C("ipfsHash",T.i),new C("guildId",T.g)],new C("title",T.m))),P=(new I("NewNoteSequence(bytes32,bytes32)",[new C("sampleHash",T.i),new C("noteSequenceHash",T.i)]),new I("NewDiscogsSample(bytes32,uint256,bytes32,uint32)",[new C("sampleHash",T.i),new C("coverArtHash",T.i),new C("guildId",T.g)],new C("discogsId",T.n)),new I("NewNotesAggregation(bytes32,bytes32,bytes32,uint32,uint32,bytes32)",[new C("sampleHash",T.i),new C("noteA",T.k),new C("noteB",T.k)],new C("startTime",T.g),new C("endTime",T.g),new C("remainingNotes",T.j)),new I("SampleFavorited(address,bytes32)",[new C("user",T.a),new C("sampleHash",T.i)]),new I("SampleUnfavorited(address,bytes32)",[new C("user",T.a),new C("sampleHash",T.i)]),new I("SequenceEdited(address,bytes32,bytes32,bytes32,string)",[new C("user",T.a),new C("previousSequence",T.i),new C("newSequence",T.i)],new C("diff",T.i),new C("title",T.m)),new I("SequenceEdited(address,bytes32,bytes32,string,uint32)",[new C("user",T.a),new C("previousSequence",T.i),new C("newSequence",T.i)],new C("title",T.m),new C("bpm",T.g)),new I("PresetTagged(address,bytes32,bytes32,uint32)",[new C("contentHash",T.i),new C("tag",T.b),new C("guildId",T.g)],new C("user",T.a)),new I("NewGuild(address,uint32,string)",[new C("user",T.a),new C("guildId",T.g)],new C("name",T.m)),new I("NewGuildMemberRequest(address,address,uint32)",[new C("requester",T.a),new C("newMember",T.a),new C("guildId",T.g)]),new I("NewGuildMemberRequestAccepted(address,uint32)",[new C("newMember",T.a),new C("guildId",T.g)]),new I("NewGuildMemberRequestRejected(address,uint32)",[new C("newMember",T.a),new C("guildId",T.g)]),new I("GuildKeyEncrypted(address,uint32,bytes32)",[new C("user",T.a),new C("guildId",T.g),new C("ipfsHash",T.i)]),new I("NewEncryptedContent(address,bytes32,bytes32,int8,bytes32,bytes32[9],bytes32[6])",[new C("user",T.a),new C("newContent",T.i),new C("contentType",T.h)],new C("previousContent",T.i),new C("encryptedName",T.d),new C("encryptedContentKey",Object(T.c)(9),9),new C("publicKey",Object(T.c)(6),6)),new I("EncryptedContentShared(address,address,bytes32,bytes32[9],bytes32[6])",[new C("sharedWith",T.a),new C("creator",T.a),new C("contentHash",T.i)],new C("encryptedContentKey",Object(T.c)(9),9),new C("publicKey",Object(T.c)(6),6)),new I("NewPublicKey(address,bytes32[6])",[new C("user",T.a)],new C("publicKey",Object(T.c)(6),6)),new I("NewPreset(address,bytes32,uint32,bytes32,bytes32[9],bytes32[6])",[new C("user",T.a),new C("contentHash",T.i),new C("guildId",T.g)],new C("encryptedName",T.d),new C("encryptedContentKey",Object(T.c)(9),9),new C("publicKey",Object(T.c)(6),6)),new I("PresetSample(bytes32,bytes32,uint32)",[new C("contentHash",T.i),new C("sampleHash",T.i),new C("guildId",T.g)]),new I("PresetInstrumentType(bytes32,bytes32,uint32)",[new C("contentHash",T.i),new C("instrumentType",T.e),new C("guildId",T.g)]),new I("NewMonthlyIndex(bytes32,uint32,uint64)",[new C("month",T.n),new C("year",T.n)],new C("hash",T.i)),new I("New2DMapping(bytes32)",[new C("ipfsHash",T.i)]),new I("PublicMessageSent(address,address,bytes32,bytes32)",[new C("fromUser",T.a),new C("toUser",T.a),new C("referenceHash",T.i)],new C("messageHash",T.i)),new I("SampleCopyStrike(address,bytes32,bytes32)",[new C("user",T.a),new C("sampleHash",T.i),new C("referenceHash",T.i)]),new I("SampleTakenDown(bytes32)",[new C("sampleHash",T.i)]),new I("FoldersUpdated(address,bytes32)",[new C("user",T.a),new C("foldersHash",T.i)]),new I("NewIndex(uint32,bytes32)",[new C("guildId",T.g)],new C("indexHash",T.i)),new I("NewGuildSequence(address,bytes32,uint32,bytes32,bytes32,bytes32[9],bytes32[6])",[new C("user",T.a),new C("contentHash",T.i),new C("guildId",T.g)],new C("previousHash",T.i),new C("encryptedName",T.d),new C("encryptedContentKey",Object(T.c)(9),9),new C("publicKey",Object(T.c)(6),6)),new I("NewGuildClassification(uint32,bytes32)",[new C("guildId",T.g),new C("contentHash",T.i)]),new I("Transfer(address,address,uint256)",[new C("fromUser",T.a),new C("toUser",T.a)],new C("amount",T.g)),new I("SequenceTagged(bytes32,bytes32,uint32)",[new C("ipfsHash",T.i),new C("tag",T.b),new C("guildId",T.g)]),new I("SequenceFavorited(bytes32,address,uint32)",[new C("ipfsHash",T.i),new C("user",T.a),new C("guildId",T.g)]),new I("SequenceStarred(bytes32,address,uint32)",[new C("ipfsHash",T.i),new C("user",T.a),new C("guildId",T.g)]),new I("SequenceUnfavorited(bytes32,address,uint32)",[new C("ipfsHash",T.i),new C("user",T.a),new C("guildId",T.g)]),new I("SequenceUnstarred(bytes32,address,uint32)",[new C("ipfsHash",T.i),new C("user",T.a),new C("guildId",T.g)]),new I("NewDataType(bytes32,string)",[new C("dataType",T.b)],new C("description",T.m)),new I("NewLinkType(bytes32,string)",[new C("linkType",T.b)],new C("description",T.m)),new I("NewAnnotationType(bytes32,string)",[new C("annotationType",T.b)],new C("description",T.m)),new I("NewAnnotation(bytes32,bytes32,bytes32,address)",[new C("annotationType",T.b),new C("data",T.i),new C("address",T.a)],new C("annotationData",T.b)),new I("NewLink(bytes32,bytes32,bytes32,address)",[new C("linkType",T.b),new C("fromData",T.i),new C("toData",T.i)],new C("address",T.a)),new I("NewMix(address,bytes32,bytes32,string,uint32)",[new C("user",T.a),new C("mixHash",T.i),new C("previousHash",T.i)],new C("title",T.m),new C("guildId",T.g)),new I("NewEffect(address,bytes32,bytes32,string,uint32)",[new C("user",T.a),new C("effectHash",T.i),new C("effectType",T.b)],new C("title",T.m),new C("guildId",T.g)),new I("ReleaseInfo(bytes32,uint32,string,bytes32,bytes32)",[new C("artistName",T.b),new C("releaseId",T.g)],new C("releaseName",T.m),new C("coverArtHash",T.i),new C("releaseType",T.b)),new I("SampleByArtist(bytes32,bytes32)",[new C("artistName",T.b),new C("ipfsHash",T.i)]),new I("ArtistInfo(bytes32,bytes32,string)",[new C("artistName",T.b),new C("linkType",T.b)],new C("link",T.m)),new I("MidiCCParameter(bytes32,uint32,bytes32,address)",[new C("deviceName",T.b),new C("ccNumber",T.g),new C("parameterName",T.b)],new C("user",T.a)),new I("SampleInSequence(bytes32,bytes32)",[new C("sequenceHash",T.i),new C("sampleHash",T.i)]),new I("ListEdited(bytes32,bytes32,address,bytes32,uint32)",[new C("newContent",T.i),new C("previousContent",T.i),new C("user",T.a)],new C("title",T.b),new C("guildId",T.g)),new I("ListHighlighted(bytes32,address)",[new C("contentHash",T.i)],new C("user",T.a)),new I("ListUnhighlighted(bytes32,address)",[new C("contentHash",T.i)],new C("user",T.a)),new I("ListFavorited(bytes32,address)",[new C("contentHash",T.i)],new C("user",T.a)),new I("ListUnfavorited(bytes32,address)",[new C("contentHash",T.i)],new C("user",T.a)),new I("ListDeleted(bytes32,address)",[new C("contentHash",T.i),new C("user",T.a)]),new I("NewWallpaper(address,bytes32,bytes32)",[new C("user",T.a),new C("wallpaperHash",T.i),new C("thumbnailHash",T.i)]),new I("DefaultWallpaper(address,bytes32)",[new C("user",T.a),new C("wallpaperHash",T.i)]),new I("NewPack(address,bytes32,bytes32,bytes32)",[new C("user",T.a),new C("packHash",T.i),new C("previousHash",T.i)],new C("title",T.b)),new I("PackHasContent(bytes32,bytes32)",[new C("packHash",T.i),new C("contentHash",T.i)]),new I("UserLeftGuild(uint256,address)",[new C("guildId",T.g)],new C("user",T.a)),new I("NewScript(address,bytes32,bytes32,bytes32)",[new C("user",T.a),new C("scriptHash",T.i),new C("scriptType",T.b)],new C("title",T.b)),new I("NewCreatorProject(address,uint256,bytes32,uint256,string)",[new C("creator",T.a),new C("projectId",T.n),new C("contentHash",T.i)],new C("maxInvocations",T.n),new C("title",T.m)),new I("NewTokenSeed(uint256,uint256,bytes32)",[new C("projectId",T.n),new C("tokenId",T.n)],new C("seedHash",T.b)),new I("ZoraProject(bytes32,uint256)",[new C("projectHash",T.i),new C("zoraId",T.n)]),new I("AccountAuthorized(address,address,string,uint8,bytes32,bytes32)",[new C("zequencerAddress",T.a),new C("walletAddress",T.a)],new C("message",T.m),new C("v",T.h),new C("r",T.d),new C("s",T.d)),new I("PluginCreated(uint256,address,string)",[new C("tokenId",T.n),new C("creator",T.a)],new C("name",T.m)),new I("NewPluginVersion(uint256,uint256,bytes32,string)",[new C("tokenId",T.n),new C("versionNumber",T.n)],new C("pluginContentHash",T.i),new C("pluginMetadataURI",T.m)),new I("ProjectHasArrangement(bytes32)",[],new C("projectHash",T.i)),new I("ProjectBPM(bytes32,int16)",[],new C("projectHash",T.i),new C("bpm",T.n)),new I("ProjectVisuals(bytes32,bytes32)",[],new C("projectHash",T.i),new C("thumbnailhash",T.i)),new I("ProjectUsesPreset(bytes32,bytes32)",[],new C("projectHash",T.i),new C("presetHash",T.i)),new I("ProjectPatternsCount(bytes32,int8)",[],new C("projectHash",T.i),new C("patterns",T.n)),new I("NewSporeCreated(uint256,uint256,address,address,bytes32,bytes32)",[],new C("sporeId",T.n),new C("tokenId",T.n),new C("proxy",T.a),new C("creator",T.a),new C("sporeHash",T.i),new C("dataHash",T.i)),new I("NewChainCreated(uint256,bytes32,address,address,bytes32)",[],new C("chainId",T.n),new C("name",T.b),new C("proxy",T.a),new C("creator",T.a),new C("chainHash",T.i)),new I("NewOfficialSporeCreated(uint256,uint256,address,bytes32,bytes32,string)",[],new C("spTokenId",T.n),new C("sporeId",T.n),new C("creator",T.a),new C("sporeHash",T.i),new C("dataHash",T.i),new C("songName",T.m)),new I("NewUnofficialSporeCreated(uint256,uint256,address,bytes32,bytes32,address,uint256)",[],new C("spTokenId",T.n),new C("sporeId",T.n),new C("creator",T.a),new C("sporeHash",T.i),new C("dataHash",T.i),new C("collectionAddress",T.a),new C("tokenId",T.n))),G=new I("NewSporesPlaylist(uint256,address,string)",[],new C("playlistId",T.n),new C("creator",T.a),new C("metadataCID",T.m)),R=(new I("SporesPlaylistSong(uint256,address,uint256)",[],new C("playlistId",T.n),new C("collecttionAddress",T.a),new C("tokenId",T.n)),new I("PlaylistBurned(uint256)",[],new C("playlistId",T.n)),new I("SongGenre(address,uint256,string,address,string)",[],new C("collectionAddress",T.a),new C("tokenId",T.n),new C("genre",T.m),new C("user",T.a),new C("metadataCID",T.m)),new I("NewSkin(uint256,bytes32)",[],new C("skinId",T.n),new C("imageHash",T.i)),r(23)),F="undefined"!==typeof window.web3,H=function(){function e(t){Object(x.a)(this,e),this.address=t,this.distinct=!1,this.selectStatements=[],this.whereClauses=[],this.groupBy=[],this.joinClauses=[],this.limitSize=void 0,this.fromBlockNumber="0x2",this.toBlockNumber=void 0}return Object(O.a)(e,[{key:"from",value:function(e){return this.eventLog=e,this}},{key:"select",value:function(e){return this.selectStatements.push(e),this}},{key:"distinct",value:function(){return this.distinct=!0,this}},{key:"groupBy",value:function(e){return this.groupBy.push(e),this}},{key:"where",value:function(e,t){return this.whereClauses.push(new M(e,t)),this}},{key:"whereIn",value:function(e,t){return this.whereClauses.push(new M(e,void 0,t)),this}},{key:"join",value:function(e,t){this.joinClauses.push(new z(e,t))}},{key:"fromBlock",value:function(e){return this.fromBlockNumber=R.a.utils.toHex(e),this}},{key:"toBlock",value:function(e){return this.toBlockNumber=R.a.utils.toHex(e),this}},{key:"limit",value:function(e){return this.limitSize=e,this}},{key:"getTopics",value:function(){var e=[R.a.utils.sha3(this.eventLog.event)];for(var t in this.eventLog.topics){var r=this.eventLog.topics[parseInt(t)],n=null;for(var o in this.whereClauses){var a=this.whereClauses[parseInt(o)];if(a.name===r.name){var i=void 0!==a.value?a.value:a.valueList[0];n=r.convertTo(i)}}e.push(n)}return e}},{key:"executeQuery",value:function(){var e=this;return new Promise(function(t,r){R.a.eth.getPastLogs({address:e.address,topics:e.getTopics(),toBlock:e.toBlockNumber,fromBlock:e.fromBlockNumber},function(n,o){if(n)r(n);else{var a=[];o.reverse();for(var i=Math.min(o.length,e.limitSize||o.length),c=0;c<i;c++)a.push(e.parseResult(o[c]));t(a)}})})}},{key:"watchQuery",value:function(){var e=Object(E.a)(N.a.mark(function e(t){var r,n=this;return N.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,R.a.eth.getBlockNumber();case 2:r=e.sent,(F?R.a:R.b).eth.subscribe("logs",{address:this.address,topics:this.getTopics(),fromBlock:R.a.utils.toHex(r)},function(e,r){e&&(console.log("error watching "),console.log(e));var o=n.parseResult(r);console.log("watch query got "),console.log(o),t(o)});case 5:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"parseResult",value:function(e){if(void 0!==e&&null!==e){var t={};for(var r in this.selectStatements){var n=this.selectStatements[parseInt(r)];for(var o in this.eventLog.topics){var a=e.topics[1+parseInt(o)],i=this.eventLog.topics[parseInt(o)];i.name===n&&(t[n]=i.type.convertFrom(a))}var c=0;for(var s in this.eventLog.data){s=parseInt(s);var u=this.eventLog.data[s];if(void 0!==u&&n==u.name){var l=e.data.slice(2+c,2+c+u.size);l="0x"+l,u.type==T.m&&(l="0x"+e.data.slice(130+64*s)),t[n]=u.convertFrom(l)}c+=u.size}}return t.blockNumber=e.blockNumber,t}}},{key:"getCopy",value:function(){var t=new e(this.address);return t.eventLog=this.eventLog,t.selectStatements=Object(b.a)(this.selectStatements),t.joinClauses=Object(b.a)(this.joinClauses),t.groupBy=Object(b.a)(this.groupBy),t.fromBlockNumber=this.fromBlockNumber,t.toBlockNumber=this.toBlockNumber,t.limitSize=this.limitSize,t}},{key:"getJson",value:function(){return{address:this.address,eventLog:this.eventLog.event,selectStatements:Object(b.a)(this.selectStatements),whereClauses:Object(b.a)(this.whereClauses),joinClauses:Object(b.a)(this.joinClauses),groupBy:Object(b.a)(this.groupBy),fromBlockNumber:R.a.utils.hexToNumber(this.fromBlockNumber),toBlockNumber:void 0===this.toBlockNumber?void 0:R.a.utils.hexToNumber(this.toBlockNumber),limitSize:this.limitSize,distinct:this.distinct}}}]),e}(),M=function e(t,r){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object(x.a)(this,e),this.name=t,this.value=r,this.valueList=n},z=function e(t,r){Object(x.a)(this,e),this.event=t,this.field=r},B=H;function D(){D=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}function W(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var r,n=Object(L.a)(e);if(t){var o=Object(L.a)(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Object(j.a)(this,r)}}var U=new(function(){function e(){Object(x.a)(this,e),this.runningQueries=new Set}return Object(O.a)(e,[{key:"submit",value:function(e){var t=this;return new Promise(function(){var r=Object(E.a)(D().mark(function r(n,o){var a;return D().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!(t.runningQueries.size>=4)){r.next=5;break}return r.next=3,t.sleep(20);case 3:r.next=0;break;case 5:t.runningQueries.add(e),a="https://zequencer.io"+(a="/search"),window.LOCAL_BACKEND_FLAG&&"localhost"===window.location.hostname&&(a="/search"),fetch(a,{method:"POST",body:JSON.stringify(e),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(r){t.removeQuery(e),n(r||[])}).catch(function(r){console.log(r),t.removeQuery(e)});case 10:case"end":return r.stop()}},r)}));return function(e,t){return r.apply(this,arguments)}}())}},{key:"removeQuery",value:function(e){this.runningQueries.delete(e)}},{key:"sleep",value:function(e){return new Promise(function(t,r){setTimeout(t,e)})}}]),e}()),Y=function(e){Object(k.a)(r,e);var t=W(r);function r(e){return Object(x.a)(this,r),t.call(this,e)}return Object(O.a)(r,[{key:"executeQuery",value:function(){var e=this;!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return new Promise(function(t,r){if(window.isNFT)return t([]);U.submit(e.getJson()).then(t)})}}]),r}(B),q=r(49);function J(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return K(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return K(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Q(){Q=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var V=function(){var e=Object(E.a)(Q().mark(function e(t,r){var n,o,a,i,c;return Q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new Y("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(P),e.next=3,n.executeQuery();case 3:return e.sent,t&&n.where("collectionAddress",t.toLowerCase()),void 0!==r&&(r.length>10?(o=q.ethers.BigNumber.from(r),o=R.a.utils.padLeft(o.toHexString(),64).toLowerCase(),n.where("tokenId",o)):(a=parseInt(r),n.where("tokenId",isNaN(a)?r:a))),e.next=8,n.executeQuery();case 8:return i=e.sent,c=$().filter(function(e){return e.collectionAddress===t&&parseInt(e.tokenId)===parseInt(r)}),i=[].concat(Object(b.a)(c),Object(b.a)(i)),e.abrupt("return",i);case 12:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),X=function(){var e=Object(E.a)(Q().mark(function e(t){var r,n;return Q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Y("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(P).where("sporeId",parseInt(t)),e.next=3,r.executeQuery();case 3:return n=e.sent,e.abrupt("return",n[0]);case 5:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Z=function(){var e=Object(E.a)(Q().mark(function e(){var t,r,n,o,a,i,c,s,u;return Q().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Y("0xD810401bAb352E3D1a75b2799b4D66819C25E225").from(P),e.next=3,t.executeQuery();case 3:r=e.sent,n=$(),ee(n,r),r=[].concat(Object(b.a)(r),Object(b.a)(n)),o={},a=J(r);try{for(a.s();!(i=a.n()).done;)c=i.value,s=c.collectionAddress,u=c.tokenId,s=s.toLowerCase(),o[s]||(o[s]={}),o[s][u]||(o[s][u]=[]),o[s][u].push(c)}catch(l){a.e(l)}finally{a.f()}return e.abrupt("return",o);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),$=function(){var e,t=window.localStorage.getItem("pending-spores"),r=J(t=null===t?[]:JSON.parse(t));try{for(r.s();!(e=r.n()).done;){var n=e.value;n.sporeHash=n.recordingHash}}catch(o){r.e(o)}finally{r.f()}return t},ee=function(e,t){var r,n=[],o=J(e);try{for(o.s();!(r=o.n()).done;){var a,i=r.value,c=!1,s=J(t);try{for(s.s();!(a=s.n()).done;){var u=a.value;if(i.recordingHash===u.sporeHash){c=!0;break}}}catch(l){s.e(l)}finally{s.f()}c||n.push(i)}}catch(l){o.e(l)}finally{o.f()}window.localStorage.setItem("pending-spores",JSON.stringify(n))},te=r(75),re=r.n(te),ne=r(72),oe=(r(244),function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re.a.Master.context;Object(x.a)(this,e),this.duration=0,this.source=void 0,this.buffer=void 0,this.playbackRate=1,this.looping=!1,this.playSound.bind(this),this.context=t,this.seek.bind(this),this.stopSound.bind(this)}return Object(O.a)(e,[{key:"dispose",value:function(){void 0!==this.source&&this.source.disconnect(),this.buffer=void 0,this.source=void 0}},{key:"getContext",value:function(){return this.context}},{key:"playSound",value:function(e,t){void 0==e&&(e=0),void 0!=this.source&&this.source.stop(),this.source=re.a.Master.context.createBufferSource(),this.source.connect(re.a.Master.context.destination),this.source.buffer=this.buffer,this.source.playbackRate.value=this.playbackRate,this.source.loop=!1,this.source.start(0,Math.max(0,e),t)}},{key:"seek",value:function(e){this.stopSound(),this.playSound(e)}},{key:"stopSound",value:function(){void 0!=this.source&&this.source.stop()}},{key:"loadRawBuffer",value:function(e){this.buffer=e,this.duration=e.duration}},{key:"setBuffer",value:function(e){this.buffer=e,this.duration=e.duration}}]),e}());var ae=function(e){return new Promise(function(t,r){setTimeout(t,e)})};function ie(){ie=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var ce,se=0,ue={},le=function(){var e=Object(E.a)(ie().mark(function e(t,r){return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:ce||((ce=new Worker(window.isNFT?"mp3Worker.js":"/mp3Worker.js")).onmessage=function(e){ue[e.data.id]=e.data}),ce.postMessage({mp3Data:t,isNFT:window.isNFT,id:r});case 2:if(ue[r]){e.next=7;break}return e.next=5,ae(100);case 5:e.next=2;break;case 7:return e.abrupt("return",ue[r]);case 8:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),fe=function(){var e=Object(E.a)(ie().mark(function e(t){var r,n,o,a,i,c,s,u,l,f,h;return ie().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le(t,se++);case 2:for(r=e.sent,n=r.decoded,o=r.sampleRate,a=r.position,i=re.a.Master.context,2,c=i.createBuffer(2,a/2,o),s=c.getChannelData(0),u=c.getChannelData(1),l=0;l<n.length;l+=2)f=n[l],h=n[l+1],s[l/2]=f>=32768?-(65536-f)/32768:f/32767,u[l/2]=h>=32768?-(65536-h)/32768:h/32767;return e.abrupt("return",c);case 13:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}();function he(){he=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}r(244);var de={},pe=function(e,t){return new Promise(function(){var r=Object(E.a)(he().mark(function r(n,o){var a,i,c;return he().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:if(!de[t]){r.next=2;break}return r.abrupt("return",n(de[t]));case 2:if(void 0!==e){r.next=5;break}return o(),r.abrupt("return");case 5:if(r.prev=5,r.prev=6,a=e.slice(0,4),"RIFF"!==(new TextDecoder).decode(a)){r.next=18;break}return r.next=12,re.a.Master.context.decodeAudioData(e);case 12:i=r.sent,console.log("r =",i),t&&(de[t]=i),n(i),r.next=23;break;case 18:return r.next=20,fe(new Int8Array(e));case 20:c=r.sent,t&&(de[t]=c),n(c);case 23:r.next=28;break;case 25:r.prev=25,r.t0=r.catch(6),o(r.t0);case 28:r.next=33;break;case 30:r.prev=30,r.t1=r.catch(5),o(r.t1);case 33:case"end":return r.stop()}},r,null,[[5,30],[6,25]])}));return function(e,t){return r.apply(this,arguments)}}())};function me(){me=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var ve=r(244),ye=function(e){var t=Object(n.useState)(),r=Object(l.a)(t,2),o=r[0],a=r[1],i=Object(n.useRef)(),c=Object(n.useCallback)(function(){o&&o.dispose()},[o]);return Object(n.useEffect)(function(){i.current&&a(void 0),ne.a.getSound(e,1e7).then(function(){var t=Object(E.a)(me().mark(function t(r){var n,o,c;return me().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n=ve(r),t.next=3,pe(n,e);case 3:o=t.sent,c=void 0,i.current?(c=i.current).stopSound():c=new oe(re.a.Master.context),c.setBuffer(o),a(c),i.current=c;case 9:case"end":return t.stop()}},t)}));return function(e){return t.apply(this,arguments)}}())},[e,a]),{audioPlayer:o,dispose:c}},ge=(r(1260),function(e){var t=e.address,r=Object(w.h)({address:t}),n=r.data;r.isError;return r.isLoading?"":(console.log("NAME=%s for address=%s",n,t),o.a.createElement("span",{className:"ens-name"},null===n?Pe(t):n))}),we=r(259),be=r.n(we),Ee=Object(f.b)(function(e,t){return{}},null)(function(e){e.text;var t=e.className,r=void 0===t?"":t,a=(e.width,e.intervalTime),i=void 0===a?100:a,c=e.intervalPiece,s=void 0===c?10:c,u=Object(n.useState)(24),f=Object(l.a)(u,2),h=(f[0],f[1]);Object(n.useEffect)(function(){var e=setInterval(function(){h(function(e){return(e+s)%100})},i);return function(){return clearInterval(e)}},[]);return o.a.createElement("div",{className:"progress-bar"+r},o.a.createElement("div",{style:{borderRadius:"35px",height:"70px",width:"70px",position:"absolute",margin:"auto",left:"0",right:"0",top:"0",bottom:"0"}},o.a.createElement("img",{style:{width:"100%"},src:"/spores-icon-glow.svg"})))}),xe=r(30),Oe=(r(1272),r(1273),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.width,r=e.spore,a=e.progress,i=e.height,c=void 0===i?110:i,s=Object(n.useRef)(),u=Object(n.useRef)();Object(n.useEffect)(function(){return window.addEventListener("message",l,!1),function(){window.removeEventListener("message",l)}},[r]);var l=Object(n.useCallback)(function(e){"sporeIFrameLoaded"===e.data&&(f(),u.current=!0)},[r]);Object(n.useEffect)(function(){u.current&&(console.log("spore.dataHash =",r.datahash,r),f())},[r]);var f=Object(n.useCallback)(function(){console.log("sending hash",r.dataHash),s.current&&s.current.contentWindow&&r&&s.current.contentWindow.postMessage({type:"heatmapHash",body:r.dataHash},"*")},[r]);return Object(n.useEffect)(function(){s.current&&s.current.contentWindow&&r&&s.current.contentWindow.postMessage({type:"heatmapHash",body:r.dataHash},"*")},[r]),Object(n.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"sporePosition",body:a},"*")},[a]),Object(n.useEffect)(function(){s.current&&s.current.contentWindow&&s.current.contentWindow.postMessage({type:"heatmapSize",body:[t,90]},"*")},[t]),o.a.createElement("iframe",{ref:s,sandbox:"allow-scripts allow-same-origin",allowtransparency:"true",height:c,width:t,"aria-describedby":"spore",alt:"spore.vision",src:"https://zequencer.mypinata.cloud/ipfs/QmVvhZjnEJCBLs7SK2ED9xjbk7ZzjQQq4DHzfh7PJp9314/",className:"spore-heatmap zora-mediaObject css-hnzuw7 zora-mediaObject--mediaLoaded zora-mediaObject--isFullPage",style:{borderWidth:"0px"}})})),ke={};function je(e){return"hsl("+e.h+","+e.s+"%,"+e.l+"%)"}function Le(e){var t=(e=e.substring(4)).split(","),r=Object(l.a)(t,3),n=r[0],o=r[1],a=r[2],i=o.indexOf("%");return o=o.substring(0,i),i=a.indexOf("%"),a=a.substring(0,i),{h:parseFloat(n),s:parseFloat(o),l:parseFloat(a)}}function Se(e,t,r){r/=100;var n=t*Math.min(r,1-r)/100,o=function(t){var o=(t+e/30)%12,a=r-n*Math.max(Math.min(o-3,9-o,1),-1);return Math.round(255*a).toString(16).padStart(2,"0")};return"#".concat(o(0)).concat(o(8)).concat(o(4))}function Ne(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Te(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Te(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Te(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var Ie=new(function(){function e(){Object(x.a)(this,e)}return Object(O.a)(e,[{key:"transparent",value:function(e,t){return e.slice(0,e.length-1)+", "+t+")"}},{key:"intToRGB",value:function(e){var t=(16777215&e).toString(16).toUpperCase();return"#"+"00000".substring(0,6-t.length)+t}},{key:"hueShift",value:function(e,t){var r=Le(e);return je({h:r.h+t,s:r.s,l:r.l})}},{key:"warm",value:function(e){return je({h:(arguments.length>1&&void 0!==arguments[1]?arguments[1]:141)-e,s:arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,l:50})}},{key:"compliment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2,r=Le(e),n=r.h;return 0===n&&n++,je({h:n+=10*t%255,s:r.s,l:r.l})}},{key:"saturate",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(e){if(e.startsWith("hsl")){var n=Le(e),o=n.h,a=n.s,i=n.l;return i*=r,e=je({h:o,s:a=Math.min(a*t,100),l:i})}var c=function(e){var t=e.r,r=e.g,n=e.b;t/=255,r/=255,n/=255;var o=Math.min(t,r,n),a=Math.max(t,r,n),i=a-o,c=0,s=0,u=0;c=0==i?0:a==t?(r-n)/i%6:a==r?(n-t)/i+2:(t-r)/i+4;(c=Math.round(60*c))<0&&(c+=360);return u=(a+o)/2,s=+(100*(s=0==i?0:i/(1-Math.abs(2*u-1)))).toFixed(1),u=+(100*u).toFixed(1),{h:c,s:s,l:u}}(this.getRGB(e)),s=c.h,u=c.s,l=c.l;return l*=r,e=je({h:s,s:u=Math.min(u*t,100),l:l})}}},{key:"brighten",value:function(e,t){if(e.startsWith("hsl")){var r=Le(e);return je(r=function(e,t){var r=e.h,n=e.s,o=e.l;return{h:r,s:n,l:o*t}}(r,t))}var n=ke[e+"."+t];if(n)return n;var o=Math.min(255,Math.floor(parseInt(e.slice(1,3),16)*t)),a=Math.min(255,Math.floor(parseInt(e.slice(3,5),16)*t)),i=Math.min(255,Math.floor(parseInt(e.slice(5),16)*t));o=o.toString(16),a=a.toString(16),i=i.toString(16),1===o.length&&(o="0"+o),1===a.length&&(a="0"+a),1===i.length&&(i="0"+i);var c="#"+o+a+i;return ke[e+"."+t]=c,c}},{key:"getBrightness",value:function(e){var t=this.getRGB(e);return.299*t.r+.587*t.g+.114*t.b}},{key:"rawHSLToHex",value:function(e){return Se(e.h,e.s,e.l)}},{key:"hslToHex",value:function(e){var t=Le(e);return Se(t.h,t.s,t.l)}},{key:"getRGB",value:function(e){return{r:Math.floor(parseInt(e.slice(1,3),16)),g:Math.floor(parseInt(e.slice(3,5),16)),b:Math.floor(parseInt(e.slice(5),16))}}}]),e}());window.heatRoot=1.1,window.bucketSize=1,window.saturation=80;var Ce=function(e,t){var r,n=e.sliderChanges,o=e.modeChanges,a=n.map(function(e){return Math.round((isNaN(e[0])?0:e[0])/t)}),i={},c=Ne(a);try{for(c.s();!(r=c.n()).done;){var s=r.value;i[s]||(i[s]=0),i[s]+=1}}catch(v){c.e(v)}finally{c.f()}a=o.map(function(e){return Math.round((isNaN(e[0])?0:e[0])/t)});var u,l=Math.max.apply(Math,Object(b.a)(Object.values(a))),f=Ne(a);try{for(f.s();!(u=f.n()).done;){var h=u.value;i[h]||(i[h]=0),i[h]+=16;for(var d=0,p=function(e){if(a.some(function(t){return t===e}))return"break";i[e]||(i[e]=0),i[e]+=50+d,d+=8},m=h+1;m<l;m++){if("break"===p(m))break}}}catch(v){f.e(v)}finally{f.f()}return i};Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.heat,r=e.width,n=void 0===r?54:r,a=e.height,i=void 0===a?10:a,c=e.center,s=void 0!==c&&c,u=e.saturation,l=void 0===u?200:u;e.duration;if(!t)return"";var f=54===n?2*window.bucketSize:window.bucketSize,h=Ce(t,f),d=.75*Math.max.apply(Math,Object(b.a)(Object.values(h))),p=Math.max.apply(Math,Object(b.a)(Object.keys(h)));return o.a.createElement("svg",{className:"heatmap",width:n,height:10},Object.keys(h).map(function(e){return o.a.createElement("rect",{width:n>80?4:1,height:s?i*Math.min(1,Math.pow(h[e],window.heatRoot)/d):i,opacity:Math.min(1,Math.pow(h[e],window.heatRoot)/d),fill:Ie.warm(190*Math.min(1,Math.pow(h[e],window.heatRoot)/d),190,Math.min(1,Math.pow(h[e],window.heatRoot)/d)*l),x:n*e/p,y:s?i/2-i*Math.min(1,Math.pow(h[e],window.heatRoot)/d)/2:0})}))});function _e(e,t){var r=Object(n.useRef)();Object(n.useEffect)(function(){r.current=e},[e]),Object(n.useEffect)(function(){if(null!==t){var e=setInterval(function(){r.current()},t);return function(){return clearInterval(e)}}},[t])}r(1274);var Ae=function(e){var t=Object(n.useCallback)(function(t){t.stopPropagation(),t.target.parentNode.blur(),t.target.blur(),t.currentTarget.blur(),e.play()},[e.isPlaying]);return o.a.createElement("div",{style:e.style||{},onClick:t,onMouseDown:function(e){return e.stopPropagation()},onTouchStart:function(e){return e.stopPropagation()},className:"play-btn-wrapper"},o.a.createElement("div",{style:{borderColor:e.isPlaying?e.color:"transparent transparent transparent "+e.color},className:e.isPlaying?"play-btn playing":"play-btn "}))},Pe=function(e){return e.slice(0,4)+"..."+e.slice(-4)},Ge=function(e){e||(e=0);var t=Math.floor(e/60),r=Math.floor(e-60*t);return r<10&&(r="0"+r),"".concat(t,":").concat(r)},Re=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.songName,r=void 0===t?"":t,a=e.artist,i=void 0===a?"":a,c=(e.heat,e.externalURL),s=e.creator,u=e.audioUnit,f=e.store,h=e.spore,d=e.preset,p=e.setPreset,m=e.sporeMetadata,v=xe.isMobile?230:500,y=Object(n.useRef)(),g=Object(n.useState)(!1),w=Object(l.a)(g,2),b=w[0],E=w[1],x=Object(n.useState)(void 0),O=Object(l.a)(x,2),k=O[0],j=O[1],L=Object(n.useRef)(0),S=Object(n.useState)(0),N=Object(l.a)(S,2),T=N[0],I=N[1],C=Object(n.useState)(),_=Object(l.a)(C,2),A=(_[0],_[1]);Object(n.useEffect)(function(){E(!1),I(0)},[h]),Object(n.useEffect)(function(){E(!1),I(0),j(void 0),L.current=0},[h,E,I,j]),_e(Object(n.useCallback)(function(){var e=re.a.Master.context.currentTime-k;b&&I((e+L.current)/u.duration)},[b,I,k]),40);var P=Object(n.useCallback)(function(){b?(L.current=L.current+re.a.Master.context.currentTime-k,u.stopSound()):u.playSound(L.current),E(!b),j(re.a.Master.context.currentTime)},[b,I,E,u,k]),G=Object(n.useCallback)(function(e){e.stopPropagation(),A(void 0),b||E(!0);var t=e.clientX-y.current.getBoundingClientRect().left,r=t/v*u.duration;u.playSound(r),L.current=r,j(re.a.Master.context.currentTime),A(t),setTimeout(function(){A(void 0)},300)},[b,E,j,A,u]);return Object(n.useEffect)(function(){return function(){u&&u.stopSound()}},[u]),T=Math.min(100,T),o.a.createElement("div",{className:u?"audio-player":"audio-player disabled"},u&&o.a.createElement(Ae,{isPlaying:b,play:P}),o.a.createElement("div",{ref:y,onClick:G,className:"play-time-and-slider"},!u&&o.a.createElement("div",{className:"progress-container"},o.a.createElement(Ee,null)),m&&o.a.createElement(Oe,{setPreset:p,width:v,preset:d,progress:T,store:f,spore:m}),o.a.createElement("div",{className:"play-time"},u&&o.a.createElement("div",{className:"time"},Ge(T*u.duration)," / ",Ge(u.duration)),s&&o.a.createElement("div",{className:"creator"},"Remixed by ",o.a.createElement("span",{className:"wallet-address"},o.a.createElement("a",{target:"_blank",href:"https://etherscan.io/address/"+s},o.a.createElement(ge,{address:s}))))),o.a.createElement("div",{className:"song-title-and-author"},o.a.createElement("div",{className:"song-title"},r),o.a.createElement("div",{className:"song-creator"},"Original by ",o.a.createElement("span",{className:"creator-name"},o.a.createElement("a",{target:"_blank",href:c},i))))))}),Fe=(r(1275),r(1342)),He=r(1343),Me=r(1344),ze=r(1345),Be=r(1346),De=r(1347),We=r(1348),Ue=r(1349),Ye=r(1350),qe=r(1351),Je=r(1352),Ke=r(1353),Qe=r(542),Ve=r(543),Xe=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.url,r=e.type,a=e.lowerGradInverted,i=e.buttonBgColor,c=Object(n.useState)(!1),s=Object(l.a)(c,2),u=s[0],f=s[1],h=Object(n.useState)(!1),d=Object(l.a)(h,2),p=d[0],m=d[1],v=t,y="Check out this song on Spores!";return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"share-button pushable",onClick:function(){return f(!0)}},o.a.createElement(Qe.a,{style:{fill:xe.isMobile?a:i}})),u&&o.a.createElement("div",{className:"share-button-modal"},o.a.createElement("div",{className:"share-upper-container"},o.a.createElement("div",null,o.a.createElement("p",null,"remix"===r?"Share Remix":"Share Song")),o.a.createElement("div",{onClick:function(){return f(!1)},className:"share-close-button"},"x")),o.a.createElement("div",{className:"share-url-field"},o.a.createElement("p",null,t),o.a.createElement(Ve.a,{className:"pushable",style:{color:p?"#84ff98":"white",cursor:"pointer"},onClick:function(){navigator.clipboard.writeText(t),m(!0)}})),o.a.createElement("div",{className:"share-icon-container"},o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Fe.a,{url:v,title:y},o.a.createElement(He.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Me.a,{url:v,quote:y},o.a.createElement(ze.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Be.a,{url:v,title:y},o.a.createElement(De.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(We.a,{url:v,title:y},o.a.createElement(Ue.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Ye.a,{url:v,title:y,separator:":: "},o.a.createElement(qe.a,{size:32,round:!0}))),o.a.createElement("div",{className:"sharing-icon pushable"},o.a.createElement(Je.a,{url:v,subject:y},o.a.createElement(Ke.a,{size:32,round:!0}))))))}),Ze=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.remix,r=e.setRemix,n=e.songName,a=e.artist,i=e.externalURL,c=e.shareLink,s=ye(t.sporeHash),u=s.audioPlayer;s.dispose;return o.a.createElement("div",{className:"remix-player"},o.a.createElement("div",{className:"pushable close-button",onClick:function(){return r(void 0)}},"x"),o.a.createElement(Xe,{url:c||"spores.vision/play/"+t.collectionAddress+"/"+t.tokenId+"/"+t.sporeId,type:"remix"}),o.a.createElement(Re,{externalURL:i,artist:a,songName:n,creator:t.creator,audioUnit:u,spore:t,sporeMetadata:t}))}),$e=r(341),et=r.n($e),tt=r(342),rt=r.n(tt),nt=(r(1276),r(545)),ot=r.n(nt),at=(r(1278),function(e){var t=e.clear,r=e.isPlaying,n=e.data,a=e.setRemixToPlay,i=e.spTokenId,c=ot()(function(e,t){var r=t.size,n=rt()(e),o=et()({h:n%360,s:.95,l:.5}),a=o.toHexString(),i=o.triad()[1].toHexString();return'<?xml version="1.0" encoding="UTF-8"?>\n    <svg width="'.concat(r,'px" height="').concat(r,'px" viewBox="0 0 61 61" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n      <defs>\n      <circle cx="30.658" cy="30.9537" r="30" fill="url(#paint0_radial_151_38)" fill-opacity="0.58"/>\n      <radialGradient id="paint0_radial_151_38" cx="0" cy="0" r="1" gradientUnits="userSpaceOnUse" gradientTransform="translate(30.658 30.9537) rotate(90) scale(30)">\n            <stop stop-color="').concat(a,'"/>\n            <stop offset="1" stop-color="').concat(i,'" stop-opacity="0"/>\n        </radialGradient>\n      </defs>\n      <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n        <rect id="Rectangle" fill="url(#paint0_radial_151_38)" x="0" y="0" width="80" height="80"></rect>\n      </g>\n    </svg>')}(n.sporeHash,{size:60})),s="remix-list-item-container pushable";return r&&(s+=" playing"),o.a.createElement("div",{onClick:function(){a(n),xe.isMobile&&t()},className:s},o.a.createElement("div",{className:"remix-icon",style:{backgroundImage:'url("'+c+'")'}}),o.a.createElement("div",{className:"remix-info-container"},n.sporeId?o.a.createElement("div",{className:"remix-number"},"Remix #",n.sporeId):o.a.createElement("div",{className:"remix-number"},"Remix (Pending)"),o.a.createElement("div",{className:"remix-created-on"},"Mixed on ",i||"SP-"+n.spTokenId),o.a.createElement("div",{className:"remix-address"},"By ",n.sporeId?o.a.createElement(ge,{address:n.creator}):"You")))}),it=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.creatorsToIgnore,r=void 0===t?[]:t,a=e.spTokenId,i=e.setRemixToPlay,c=e.remixToPlay,s=e.collectionAddress,u=e.tokenId,f=e.clear,h=Object(n.useState)([]),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(),y=Object(l.a)(v,2),g=y[0],w=y[1];return Object(n.useEffect)(function(){s&&u&&V(s,u).then(function(e){e=e.filter(function(e){return!r.includes(e.creator)}),m(e),w(0===e.length)})},[m,s,u]),o.a.createElement("div",{className:"remix-list-container"},xe.isMobile&&o.a.createElement("div",{className:"remix-close-button-container"},o.a.createElement("div",{className:"pushable close-button",onClick:function(){return f()}},"x")),g&&o.a.createElement("div",{className:"no-remix-div"},"No remixes have been made for this song yet. You could be the first..."),p.map(function(e){return o.a.createElement(at,{spTokenId:a,isPlaying:e===c,setRemixToPlay:i,clear:f,data:e})}))});function ct(){ct=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var st=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)(function(){ft().then(o)},[o]),{tokensOnSale:r,setTokensOnSale:o}},ut=void 0,lt=!1,ft=function(){return new Promise(function(){var e=Object(E.a)(ct().mark(function e(t){var r,n;return ct().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!lt){e.next=7;break}r=0;case 2:if(ut||!(r++<15)){e.next=7;break}return e.next=5,ae(500);case 5:e.next=2;break;case 7:if(!ut){e.next=10;break}return t(ut),e.abrupt("return");case 10:lt=!0,n="https://zequencer.io",window.LOCAL_BACKEND_FLAG&&window.location.hostname.includes("localhost")&&(n=""),fetch(n+"/nft-info").then(function(e){return e.json()}).then(function(e){ut=e,t(e)});case 15:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},ht=(r(1279),r(260));r(154),r(546),r(1280),r(547);var dt=r(548);function pt(){pt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var mt=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.account,r=e._askPrice,a=e._thumbnail,i=e.name,c=e.tokensOnSale,s=e.onCompletedBuy,u=e.onCancel,f=e.cart,h=e.onDone,d=e.contractAddress,m=Object(w.d)({addressOrName:t}),v=Object(w.k)().data,y=m.data&&parseFloat(m.data.formatted),g=Object(n.useState)(!1),b=Object(l.a)(g,2),x=b[0],O=b[1],k=Object(n.useState)(),j=Object(l.a)(k,2),L=j[0],S=j[1],N=Object(n.useState)(f[0]),T=Object(l.a)(N,2),I=T[0],C=T[1],_=Object(n.useState)(!1),A=Object(l.a)(_,2),P=A[0],G=A[1],R=Object(n.useState)(!1),F=Object(l.a)(R,2),H=F[0],M=F[1],z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"0x7269c1a1b8aba1390770193771f92bd722c6a77b",t=Object(w.k)(),r=t.data,o=(t.isError,t.isLoading,Object(n.useRef)(r));return o.current=r,Object(n.useCallback)(function(){var t=Object(E.a)(pt().mark(function t(r,n){var a,i,c;return pt().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r=r.toString(),a=ht.AsksV11__factory.connect(dt.AsksV1_1,o.current),t.next=5,a.askForNFT(e,r);case 5:return i=t.sent,n=n?q.ethers.parseEth(n.toString()):i.askPrice.toString(),t.next=10,a.fillAsk(e,r,"0x0000000000000000000000000000000000000000",n,"0x0000000000000000000000000000000000000000",{value:n});case 10:return c=t.sent,t.abrupt("return",c);case 14:return t.prev=14,t.t0=t.catch(0),console.log("error = ",t.t0),t.abrupt("return",!1);case 18:case"end":return t.stop()}},t,null,[[0,14]])}));return function(e,r){return t.apply(this,arguments)}}(),[e,r])}(d),B=a||c.find(function(e){return e.tokenId===I}).thumbnail,D=f.indexOf(I)+1,W=f.length,U=c&&c.find(function(e){return e.tokenId===I}),Y=r||U.askPrice,J=Object(n.useCallback)(function(){console.log("complete buy called");var e=I;G(!0),z(e).then(function(t){t?(M(t.hash),t.wait(1).then(function(t){O(!0),M(!1),D===f.length||C(f[D]),s(e)}),G(!1),S(void 0)):S("You rejected the transaction. Please try again or continue browsing."),G(!1)})},[I,C,D,G,f]);return x||H?o.a.createElement("div",{className:"finalize-modal-drop"},o.a.createElement("video",{playsInline:!0,muted:!0,className:H?"confirming shrooms-video":"shrooms-video",autoPlay:!0,loop:!0,src:"/mushrooms-medium.mp4"}),o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"finalize-modal"},o.a.createElement("div",{onClick:h,className:"close-button"},"x"),o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("div",{className:"sp-modal-title"},o.a.createElement("div",{className:"sp-title"},H?"Completing Purchase":i?"You`ve Bought the "+i:"You've Bought the SP-"+I)),H?o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"Your new Spore Player should arrive in your wallet in a few moments."),o.a.createElement("div",{className:"pulse-container"},o.a.createElement(be.a,{sizeUnit:"px",size:10,color:"#ffffff",loading:!0}))):o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"Congrats, you can now dose yourself with some cyber psilocybin."),!i&&o.a.createElement("div",{onClick:function(){return window.open("/sp/"+I,"_newtab")},className:"pushable open-your-player"},"Open your New Player")))):o.a.createElement("div",{onClick:u,className:"finalize-modal-drop"},o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"finalize-modal"},o.a.createElement("div",{onClick:u,className:"close-button"},"x"),o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("div",{className:"sp-modal-title"},o.a.createElement("div",{className:"sp-title"},"Buy ",i||"SP-".concat(I)),f.length>1&&o.a.createElement("div",{className:"purchase-part"},o.a.createElement("span",{className:"part-number"},D)," of ",o.a.createElement("span",{className:"total-parts"},W))),o.a.createElement("div",{className:"sp-modal-body"},o.a.createElement("p",null,"You're about to buy this Spore Player for a fixed price."),o.a.createElement("div",{className:"thumbnail-and-price"},o.a.createElement("img",{src:B}),o.a.createElement("div",{className:"token-price"},o.a.createElement("div",{className:"price-label"},"PRICE"),o.a.createElement("div",{className:"price-eth"},Y," ETH"))),L&&o.a.createElement("div",{className:"error-text"},o.a.createElement("img",{src:"/error-icon.svg"})," ",L),P?o.a.createElement("div",{className:"waiting-for-wallet"},o.a.createElement("span",{className:"inner"},o.a.createElement("span",{className:"helper-text"},"Waiting for Wallet"),o.a.createElement(be.a,{sizeUnit:"px",size:10,color:"#ffffff",loading:!0}))):y<parseFloat(Y)?o.a.createElement("div",{className:"low-balance complete-buy"},"Insufficient balance for purchase."):v?o.a.createElement("div",{onClick:function(){return J()},className:"complete-buy"},"Complete Purchase"):o.a.createElement("div",{className:"connect-wallet-container"},o.a.createElement(p.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})," "))))}),vt=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.name,r=e.setBuying,n=e.thumbnail,a=e.askPrice,i=e.setCompletedBuy,c=e.tokenId,s=Object(w.c)(),u=s.data;s.isError,s.isLoading;console.log("acc data =",u);var l=st(),f=(l.setTokensOnSale,l.tokensOnSale);return f&&0!==f.length?o.a.createElement(mt,{name:t,_askPrice:a,_thumbnail:n,account:u&&u.address,onCompletedBuy:function(){return i(!0)},onDone:function(){r(!1)},tokensOnSale:f,onCancel:function(){return r(!1)},cart:[c],setCart:function(){return 0}}):""}),yt=(r(1281),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){return o.a.createElement("div",{className:"glossary-items"},o.a.createElement("div",{className:"helper-item item-1"},o.a.createElement("p",{className:"glossary-number"},"1"),o.a.createElement("p",{className:"glossary-term"},"CHANGE MODE"),o.a.createElement("p",{className:"glossary-definition"},"PRESS TO SWITCH TO LOOP MODE, ALLOWING YOU TO LOOP THE TRACK AND ACCESS SECONDARY SLIDERS*.")),o.a.createElement("div",{className:"helper-item item-2"},o.a.createElement("p",{className:"glossary-number"},"2"),o.a.createElement("p",{className:"glossary-term"},"JUICE / LOOP*"),o.a.createElement("p",{className:"glossary-definition"},'ADJUST THE AMOUNT OF "JUICE", THAT THE EXTERNAL LOOP CONTRIBUTES, OR LOOP A SECTION OF THE TRACK.')),o.a.createElement("div",{className:"helper-item item-3"},o.a.createElement("p",{className:"glossary-number"},"3"),o.a.createElement("p",{className:"glossary-term"},"PITCH UP / PITCH DOWN*"),o.a.createElement("p",{className:"glossary-definition"},"SLIDE TO RAISE THE PITCH AND SPEED UP, OR LOWER THE PITCH AND SLOW DOWN THE TRACK.")),o.a.createElement("div",{className:"helper-item item-4"},o.a.createElement("p",{className:"glossary-number"},"4"),o.a.createElement("p",{className:"glossary-term"},"STUTTER / SPACE*"),o.a.createElement("p",{className:"glossary-definition"},"CONTROL STUTTERING WHICH REPEATS THE TRACK OR ADD VASTNESS TO IT WITH SPACE.")),o.a.createElement("div",{className:"helper-item item-5"},o.a.createElement("p",{className:"glossary-number"},"5"),o.a.createElement("p",{className:"glossary-term"},"ACOUSTIFY / GATE*"),o.a.createElement("p",{className:"glossary-definition"},"RAISE THE GUITAR LEVELS OR CONTROL THE GATE EFFECT AT DIFFERENT RATES.")),o.a.createElement("div",{className:"helper-item item-6"},o.a.createElement("p",{className:"glossary-number"},"6"),o.a.createElement("p",{className:"glossary-term"},"CHANGE LOOP"),o.a.createElement("p",{className:"glossary-definition"},"SWITCH TO THE NEXT LOOP TO INTERWEAVE INTO THE TRACK.")))})),gt=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.playerRef,r=Object(n.useState)(!1),a=Object(l.a)(r,2),i=a[0],c=a[1],s=Object(n.useState)(!1),u=Object(l.a)(s,2),f=u[0],h=u[1];Object(n.useEffect)(function(){window.addEventListener("message",p)},[c,h]);var d=Object(n.useCallback)(function(){console.log("sending toggle play"),t.current.contentWindow.postMessage({type:"toggle-play",body:!0},"*")},[]),p=Object(n.useCallback)(function(e){if("jacker-status"===e.data.type){var t=parseInt(e.data.body);c(t),h(!0)}},[c,h]);if(f)return o.a.createElement("div",{className:"simple-controls"},o.a.createElement(Ae,{play:d,isPlaying:i}))});window.RATIO=.3;var wt=Object(n.memo)(function(e){var t=e.progress,r=e.waveform,n=e.isWaveformRainbow,a=void 0===n||n,i=e.width,c=void 0===i?330:i;if(!r)return"";for(var s=[],u=0;u<r.length-4;u+=4){var l=Math.pow(r[u],window.RATIO)*(4/window.RATIO),f={height:l,y:25-l/2,r:r[u+1],g:r[u+2],b:r[u+3]};s.push(f)}return t/=100,o.a.createElement("svg",{width:c,height:50,className:a?"song-waveform":"song-waveform  monochrome"},s.map(function(e,r){return o.a.createElement("rect",{className:t>=r/s.length?"elapsed":"",x:r*(c/s.length),y:e.y,width:2,height:e.height,fill:a?"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")"):"white"})}))}),bt=function(e,t){Object(n.useEffect)(function(){return window.addEventListener("message",r,!1),function(){return window.removeEventListener("message",r,!1)}},[e]);var r=Object(n.useCallback)(function(r){r.data.type===e&&t(r.data.body)},[e])},Et=r(44);function xt(){xt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Ot="0xc77d4e72dF7D0Bf96488eF543253af537fEb8737",kt=function(){var e=Object(E.a)(xt().mark(function e(t){var r,n,o,a,i;return xt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=new Y(Ot).from(A).where("ipfsHash",t),e.next=3,r.executeQuery();case 3:return n=e.sent,console.log("unfilteeded=",n),o=n[0],a=new Y(Ot).from(_).where("ipfsHash",t),e.next=9,a.executeQuery();case 9:return i=e.sent,console.log("TAG RESULTS=",i),e.abrupt("return",Object(Et.a)({},o,i[0]));case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),jt=(r(1282),function(e){var t=e.playerRef,r=Object(n.useState)(),a=Object(l.a)(r,2),i=a[0],c=a[1],s=Object(n.useState)(),u=Object(l.a)(s,2),f=u[0],h=u[1],d=Object(n.useState)(),p=Object(l.a)(d,2),m=p[0],v=p[1];bt("sample-changed",c),bt("sample-waveform",v),Object(n.useEffect)(function(){i&&kt(i[0]).then(h)},[i]);var y=Object(n.useCallback)(function(){t.current.contentWindow.postMessage({type:"previous-shuffle-sample",body:"yo"},"*")},[]),g=Object(n.useCallback)(function(){t.current.contentWindow.postMessage({type:"next-shuffle-sample",body:"yo"},"*")},[]);return o.a.createElement("div",{className:"sample-info"},o.a.createElement("div",{className:"name-and-arrows"},o.a.createElement("div",{className:"sample-name"},f&&f.title),o.a.createElement("div",{className:"arrows"},o.a.createElement("div",{onClick:y,className:"arrow-btn pushable"}),o.a.createElement("div",{onClick:g,className:"arrow-btn flip pushable"}))),m&&o.a.createElement(wt,{width:200,waveform:m}))}),Lt=(r(65),"0x48D22d2cADD5FfED166747Ddd26d80fff84417aB"),St=function(e){return{type:504,payload:e}},Nt=function(e){return{type:506,payload:e}},Tt=(r(1283),Object(f.b)(function(e,t){return{soldPlayers:e.spore.soldPlayers}},function(e){return{setSoldPlayers:function(t){return e(Nt(t))}}})(function(e){var t=e.upperGradInverted,r=e.soldPlayers,a=void 0===r?[]:r,i=e.tokenId,c=e.text,s=e.showRemaining,u=e.onCompleteSale,f=st(),h=(f.setTokensOnSale,f.tokensOnSale),d=Object(n.useState)(!1),p=Object(l.a)(d,2),m=p[0],v=p[1];if(!h||0===h.length)return"";var y=h.filter(function(e){return e.askPrice});if(0===y.length)return"";if(a.includes(i))return o.a.createElement("div",{className:"buy-unsold"},"Owned By You");var g={};return t&&c&&(g.color=t,g.borderBottomColor=t),o.a.createElement("div",{className:c?"buy-unsold has-text":"buy-unsold"},m&&o.a.createElement(vt,{setCompletedBuy:function(){Nt([].concat(Object(b.a)(a),[i])),u&&u()},setBuying:v,tokenId:i}),o.a.createElement("div",{style:g,onClick:function(){return v(!0)},className:"buy-unsold-btn pushable"},c||o.a.createElement("span",null,"Buy SP-",i)),(!xe.isMobile&&!c||s)&&o.a.createElement("a",{href:"/sp/"+i,className:"unsold-remaining"},y.length," remaining"))}));function It(){It=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Ct=function(){var e=Object(E.a)(It().mark(function e(t,r){var n;return It().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.signMessage(r);case 2:return n=e.sent,e.abrupt("return",{flatSignature:n,splitSignature:q.ethers.utils.splitSignature(n)});case 4:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),_t=r(348);function At(){At=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Pt=function(e,t,r,n,o,a){return new Promise(function(){var i=Object(E.a)(At().mark(function i(c){var s,u,l,f,h,d,p,m;return At().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return console.log("new spore w data hash=",a),s="A new spore awakens at ipfs://".concat(o),i.next=4,Ct(e,s);case 4:u=i.sent,u.account,u.flatSignature,l=u.splitSignature,f=l.r,h=l.s,d=l.v,p={r:f,s:h,v:d,message:s,recordingHash:Object(_t.a)(o),dataHash:Object(_t.a)(a),tokenId:n,spTokenId:t,collectionAddress:r},m="https://zequencer.io",window.location.hostname.includes("localhost")&&(m=""),fetch(m+"/newUnofficialSpore/",{method:"POST",body:JSON.stringify(p),headers:{Accept:"application/json","Content-Type":"application/json"}}).then(function(e){return e.json()}).then(function(e){c(e.transactionHash)});case 13:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}())},Gt=(r(1284),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.recordingHash,r=e.spore,n=e.disabled,a=ye(t),i=(a.audioPlayer,a.dispose,"heatmap-player ");return n&&(i+=" disabled"),o.a.createElement("div",{className:i},o.a.createElement(Oe,{width:xe.isMobile?250:450,height:80,spore:r}))}));function Rt(){Rt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Ft="0x8427e46826a520b1264b55f31fcb5ddfdc31e349",Ht=function(e){return new Promise(function(t){e.startsWith("ipfs://")&&(e="https://zora-prod.mypinata.cloud/ipfs/"+e.slice(7)),e.includes("ipfs.io")&&(e=e.replace("ipfs.io","zora-prod.mypinata.cloud")),console.log("URL TO GET IS NOW=",e),fetch(e).then(function(e){return e.json()}).then(function(e){var r=e.animation_url,n=e.audio_url;console.log("ANIMATION_URL=%s audio_url=%s",r,n);var o=Object(Et.a)({},e);if(r&&(r.includes("ipfs")?(o.ipfs=r.slice(7),o.url="https://opensea.mypinata.cloud/ipfs/"+r.slice(7)):o.url=r),n&&n.includes("/ipfs/")){var a=n.indexOf("/ipfs");o.ipfs=n.slice(a+6)}t(o)})})},Mt=function(){var e=Object(E.a)(Rt().mark(function e(t,r){var n,o,a,i,c,s,u,l,f;return Rt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("chaos called",t),!(t.toLowerCase().includes("chaos")||t.includes("opensea")||t.includes("zora")||t.includes("sound.xyz")||t.includes("catalog.works")||t.includes("mintsongs.com"))){e.next=35;break}return console.log("was chaos"),e.next=5,zt(t);case 5:return n=e.sent,o=n.contract,a=n.tokenId,i=n.release,console.log("parts=",o,a),e.next=12,Bt(t,i);case 12:if(c=e.sent,console.log("zora api=",c),c){e.next=29;break}return e.next=17,r(o,a);case 17:if(s=e.sent,console.log("token metadata we got for tokenId=%s",a,s),s){e.next=21;break}return e.abrupt("return",void 0);case 21:return e.next=23,Ht(s);case 23:return(u=e.sent).collectionAddress||(u.collectionAddress=o),u.tokenId||(u.tokenId=a),e.abrupt("return",u);case 29:return l=c.url,l.indexOf("/ipfs"),(f=Object(Et.a)({},c.metadata,{url:l})).collectionAddress||(f.collectionAddress=o),f.tokenId||(f.tokenId=a),e.abrupt("return",f);case 35:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}(),zt=function(){var e=Object(E.a)(Rt().mark(function e(t){var r,n,o,a,i,c,s,u,l,f,h,d,p,m,v,y,g;return Rt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r="/ethereum/",!t.toLowerCase().includes("chaos")){e.next=12;break}if(n=/#[1-9]\d*\b/g,o=t.match(n),console.log("matches =",o),!o[0]){e.next=9;break}return e.abrupt("return",{contract:Ft,tokenId:parseInt(o[0].slice(1))});case 9:return e.abrupt("return",{contract:Ft,tokenId:1});case 10:e.next=49;break;case 12:if(!t.includes("sound.xyz")){e.next=30;break}return console.log("SOUND XYZ TYPE"),a="localhost"===window.location.hostname?"http://localhost:9090/soundxyz/":"https://zequencer.io/soundxyz/",window.LOCAL_BACKEND_FLAG||(a="https://zequencer.io/soundxyz/"),i=t.indexOf("sound.xyz"),c=t.slice(i+10),e.next=20,fetch(a+c);case 20:return s=e.sent,console.log("SOUND XYZ returned=",s),e.next=24,s.json();case 24:return u=e.sent,t=u.contractAddress+"/1",l=c.split("/")[1],e.abrupt("return",{contract:u.contractAddress,tokenId:"1",release:l});case 30:if(!t.includes("catalog.works")){e.next=48;break}return console.log("CATALOG TYPE"),console.log("url container catalog=",t),f="localhost"===window.location.hostname?"http://localhost:9090/catalog/":"https://zequencer.io/catalog/",window.LOCAL_BACKEND_FLAG||(f="https://zequencer.io/catalog/"),h="catalog.works/",d=t.indexOf(h),p=t.slice(d+h.length),console.log("sound xyz path =",f+p),e.next=41,fetch(f+p);case 41:return m=e.sent,e.next=44,m.json();case 44:return v=e.sent,e.abrupt("return",{contract:v.contractAddress});case 48:t.includes("zora.co")?r="/collections/":t.includes("mintsongs.com")&&(r="/tokens/");case 49:return y=t.indexOf(r),t=t.slice(y+r.length),"zora"===(g=t.split("/"))[0]&&(g[0]="0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7"),e.abrupt("return",{contract:g[0],tokenId:g[1]});case 54:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),Bt=function(){var e=Object(E.a)(Rt().mark(function e(t){var r,n,o,a,i,c,s,u,l,f,h=arguments;return Rt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r=h.length>1&&void 0!==h[1]?h[1]:"",!t.includes("zora")){e.next=10;break}n="/collections/",o=t.indexOf(n),t=t.slice(o+n.length),"zora"===(a=t.split("/"))[0]&&(a[0]="0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7"),t=a.join("/"),e.next=26;break;case 10:if(!t.includes("sound.xyz")){e.next=23;break}return"https://zequencer.io/soundxyz/",i=t.indexOf("sound.xyz"),c=t.slice(i+10),e.next=16,fetch("https://zequencer.io/soundxyz/"+c);case 16:return s=e.sent,e.next=19,s.json();case 19:u=e.sent,t=u.contractAddress+"/"+r,e.next=26;break;case 23:"/ethereum/",l=t.indexOf("/ethereum/"),t=t.slice(l+"/ethereum/".length);case 26:return"https://zequencer.io/jacker/",e.prev=27,e.next=30,fetch("https://zequencer.io/jacker/"+t);case 30:return f=e.sent,e.next=33,f.json();case 33:return e.abrupt("return",e.sent);case 36:return e.prev=36,e.t0=e.catch(27),e.abrupt("return",void 0);case 39:case"end":return e.stop()}},e,null,[[27,36]])}));return function(t){return e.apply(this,arguments)}}();var Dt=r(345),Wt=r(549);function Ut(){Ut=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Yt=function(){return qt},qt=function(){var e=Object(E.a)(Ut().mark(function e(t,r){var n,o,a;return Ut().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=new q.ethers.providers.InfuraProvider("mainnet","2f3dce2af1044e88b4851c3d73c3d00c"),o=Wt.IERC721Metadata__factory.connect(t,n),e.prev=2,r=q.ethers.BigNumber.from(r),e.next=6,o.tokenURI(r);case 6:return a=e.sent,e.abrupt("return",a);case 10:return e.prev=10,e.t0=e.catch(2),e.abrupt("return",void 0);case 13:case"end":return e.stop()}},e,null,[[2,10]])}));return function(t,r){return e.apply(this,arguments)}}();function Jt(){Jt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Kt=function(){var e=Object(E.a)(Jt().mark(function e(t,r){var n,o;return Jt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://zora.co/collections/"+t+"/"+r,e.next=3,Mt(n,qt);case 3:return o=e.sent,e.abrupt("return",o);case 5:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}();function Qt(){Qt=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Vt=Object(f.b)(function(e,t){return{usedCheatCode:e.spore.usedCheatCode,playlistLoaded:e.playlist.playlistLoaded,currentSong:e.playlist.currentSong}},function(e){return{setPendingSpores:function(t){return e({type:508,payload:t})},setCurrentSong:function(t){return e(St(t))}}})(function(e){var t=e.recordedRemix,r=e.spTokenId,a=e.tokenId,i=e.collectionAddress,c=e.setPendingSpores,s=e.complete,u=(e.usedCheatCode,e.playlistLoaded),f=e.loadJack,h=e.currentSong,d=e.setCurrentSong,m=Object(w.c)(),v=m.data,y=(m.isError,m.isLoading,Object(w.k)().data),g=Object(n.useState)(!1),x=Object(l.a)(g,2),O=x[0],k=x[1],j=Object(n.useState)(!1),L=Object(l.a)(j,2),S=(L[0],L[1],Object(n.useState)(!1)),N=Object(l.a)(S,2),T=(N[0],N[1],t.recording,t.sliderData,t.modeData,Object(n.useState)(void 0)),I=Object(l.a)(T,2),C=I[0],_=I[1],A=Object(n.useCallback)(Object(E.a)(Qt().mark(function e(){var n,o,s,u,l;return Qt().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.dataHash,o=t.recordingHash,k(!0),e.next=4,Pt(y,r,i,a,o,n);case 4:s=e.sent,window.localStorage.removeItem("recordedRemix"),_(s),c([u={spTokenId:r,collectionAddress:i,tokenId:a,recordingHash:o,dataHash:n}]),l=null===(l=window.localStorage.getItem("pending-spores"))?[]:JSON.parse(l),l=[].concat(Object(b.a)(l),[u]),window.localStorage.setItem("pending-spores",JSON.stringify(l));case 14:case"end":return e.stop()}},e)})),[y,r,t,a,i,k,v]),P=void 0;if(u){u=u.metadata.playlist;for(var G=0;G<u.length;G++){var R=u[G];if(R.collectionAddress===h.collectionAddress&&R.tokenId===h.tokenId){P=u[G+1];break}}}var F=Object(n.useCallback)(function(){Kt(P.collectionAddress,P.tokenId).then(function(e){s(),d(P),f(e,void 0,!xe.isMobile)})},[P]),H="";return H=v?C?o.a.createElement("div",{className:"sign-recording-container"},o.a.createElement("p",null,"Your spore is being transmitted on-chain. This will take a few seconds."),o.a.createElement("p",null,o.a.createElement("a",{href:"https://ropsten.etherscan.io/tx/"+C},"Etherscan \u2197")),u?o.a.createElement("div",{onClick:F,className:"continue-remixing-btn pushable"},"Play Next"):o.a.createElement("div",{onClick:s,className:"continue-remixing-btn pushable"},"Continue Mixing")):o.a.createElement("div",{className:"sign-recording-container"},o.a.createElement("div",{onClick:A,className:"pushable sign-btn"},"Sign & Upload"),o.a.createElement("div",{className:"sign-helper"},O?"\nPlease now go to your wallet to sign the message. This costs no-gas, so no-stress.\n":"In order to transmit this remix on-chain, you'll need to sign a message\n                    with your wallet. This costs no-gas, so no-stress.")):o.a.createElement("div",{className:"inner-spore-recorded"},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(p.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("div",{className:"sign-helper"},"By connecting your wallet, you can etch your identity onto this Remix, where it will live on-chain.")),o.a.createElement("div",{className:"spore-recorded-dialog"},o.a.createElement("div",{className:"spore-header"},"Spores recorded your remix."),o.a.createElement(Gt,{disabled:!1,spore:t}),H)}),Xt=(r(1285),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.children,r=e.hide;return o.a.createElement("div",{onClick:r,className:"spore-modal-backdrop"},o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"spore-modal-dialog"},o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{onClick:function(){return r()},className:"pushable spores-logo",src:"/spores-logo-black.svg"})),t))})),Zt=(r(1286),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.recordedRemix,r=e.uploadingRemix,a=e.spTokenId,i=e.tokenId,c=e.collectionAddress,s=e.onRemixSigningCompleted,u=e.loadJack,f=Object(n.useState)(!0),h=Object(l.a)(f,2),d=h[0],p=h[1];return Object(n.useEffect)(function(){window.localStorage.setItem("recordedRemix",{recordedRemix:t,tokenId:i,spTokenId:a,collectionAddress:c}),p(!0)},[t,p,i,c,a]),t||r?o.a.createElement(Xt,{hide:function(e){return[]}},t&&d?o.a.createElement(Vt,{spTokenId:a,tokenId:i,complete:s,collectionAddress:c,recordedRemix:t,loadJack:u}):o.a.createElement("div",{className:"spore-recorded-dialog"},o.a.createElement("div",{className:"spore-header"},"Spores recorded your remix."),o.a.createElement("div",{className:"uploading-text"},"Processing your new sound."),o.a.createElement("div",{className:"progress-container"},o.a.createElement(Ee,{width:180})))):""})),$t=(r(1287),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.hideWaveform,r=e.isWaveformRainbow,a=e.buttonTextColor,i=e.playerRef,c=e.innerControls?window.innerWidth:330,s=Object(n.useRef)(),u=Object(n.useRef)(),f=Object(n.useState)(),h=Object(l.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)(0),v=Object(l.a)(m,2),y=v[0],g=v[1],w=Object(n.useState)(0),b=Object(l.a)(w,2),E=b[0],x=b[1],O=Object(n.useState)(!1),k=Object(l.a)(O,2),j=k[0],L=k[1],S=Object(n.useState)(!1),N=Object(l.a)(S,2),T=N[0],I=N[1],C=(Object(n.useRef)(0),Object(n.useState)(void 0)),_=Object(l.a)(C,2),A=_[0],P=_[1];Object(n.useEffect)(function(){return window.addEventListener("mouseup",G),window.addEventListener("mousemove",H),window.addEventListener("touchmove",H),function(){window.removeEventListener("mouseup",G),window.removeEventListener("mousemove",H),window.removeEventListener("touchmove",H)}},[T,P,I]);var G=Object(n.useCallback)(function(){I(!1)},[I]);Object(n.useEffect)(function(){return window.addEventListener("message",R,!1),function(e){return window.removeEventListener("message",R,!1)}},[g,x,L,p]);var R=Object(n.useCallback)(function(e){if("waveform-data"===e.data.type&&p(e.data.body),"song-player-progress"===e.data.type){var t=parseInt(e.data.body);g(t)}if("jacker-playback-status"===e.data.type){var r=parseInt(e.data.body);x(r),r&&L(!0)}},[j,g,x,L,p]),F=Object(n.useCallback)(function(){i.current.contentWindow.postMessage({type:"jacker-pause-toggle",body:!0},"*")},[]),H=Object(n.useCallback)(function(e){if(T){e.touches&&(e=e.touches[0]);var t=s.current.getBoundingClientRect(),r=(e.clientX-t.left)/c*100;r=Math.max(0,Math.min(100,r)),P(r),i.current.contentWindow.postMessage({type:"jacker-seek",body:r},"*")}},[T,P]);if(!j)return"";var M={borderColor:a};return y=T&&A?A:y,o.a.createElement("div",{onMouseDown:function(e){I(!0),H(e)},onTouchStart:function(e){I(!0),H(e)},className:"shuffle-buttons"},!t&&o.a.createElement(wt,{progress:y,waveform:d,isWaveformRainbow:r}),o.a.createElement("div",{className:"play-and-slider"},o.a.createElement(Ae,{color:a,style:M,isPlaying:E,play:F}),o.a.createElement("div",{ref:s,style:M,className:"slider-container"},o.a.createElement("div",{style:{backgroundColor:a,width:c*(100-y)/100,left:c*y/100},className:"slider-inner"}),o.a.createElement("div",{ref:u,onMouseDown:function(e){e.stopPropagation(),I(!0)},onTouchStart:function(e){e.stopPropagation(),I(!0)},style:{backgroundColor:a,left:c*y/100},className:"slider-scrubber"}))))})),er=function(e,t,r){var o=Object(n.useState)(),a=Object(l.a)(o,2),i=a[0],c=a[1],s=Object(n.useState)(window.TEST_REMIX_UPLOAD_FLAG),u=Object(l.a)(s,2),f=u[0],h=u[1],d=Object(n.useState)(),p=Object(l.a)(d,2),m=p[0],v=p[1];Object(n.useEffect)(function(){r&&X(r).then(function(e){v(e)})},[r]),Object(n.useEffect)(function(){window.TEST_REMIX_UPLOAD_FLAG&&setTimeout(function(){c("@mmmmm")},5e3)},[]);var y=Object(n.useCallback)(function(){e(),c(void 0),h(void 0),t.current},[c,h,e]);Object(n.useEffect)(function(){return window.addEventListener("message",g,!1),function(){return window.removeEventListener("message",g)}},[c,h]);var g=Object(n.useCallback)(function(e){var r=e.data;if("uploadingRecording"===r.type)t.current&&t.current.contentWindow.postMessage({type:"jacker-stop",body:"please"},"*"),h(!0);else if("sporeRecorded"==r.type){var n={sliderChanges:r.body.sliderData,modeChanges:r.body.modeData};ne.a.addJson(n).then(function(e){c({recordingHash:r.body.recording,dataHash:e})})}},[c,h]);return{recordedRemix:i,uploadingRemix:f,onRemixSigningCompleted:y,remixToPlay:m,setRemixToPlay:v}},tr=(r(1288),"https://zequencer.mypinata.cloud/ipfs/".concat("QmWV7gqvBeXT9VVYEEL5J9oGEvQFDjYZZ4rgGYz9JDk3h7","/?tokenId=40&gallery=true"),function(e){var t=e.simpleControls,r=e.zorbId,a=e.isFullScreen,i=e.songTitle,c=void 0===i?"Yo":i,s=e.collectionAddress,u=e.tokenId,f=e.artist,h=e.hideWaveform,d=e.thumbnail,p=(e.setStems,e.stems),m=e.isWaveformRainbow,v=e.url,y=void 0===v?"https://zequencer.mypinata.cloud/ipfs/QmNejpqTsVw3W3872o85XhWiKVG6gUchVJTvS4uUj2fUrC":v,g=e.innerControls,b=e.hideControls,E=e.children,x=e.playerRef,O=e.isSimple,k=e.color,j=void 0===k?"white":k;console.log("HIDE WAVEFORM=",h);var L=Object(w.c)(),S=(L.data,L.isError,L.isLoading,x||Object(n.useRef)()),N=er(function(){return[]},S),T=(N.totalRemixes,N.recordedRemix),I=N.uploadingRemix,C=N.onRemixSigningCompleted,_=(N.remixToPlay,N.setRemixToPlay,function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),o=r[0],a=r[1];Object(n.useEffect)(function(){return window.addEventListener("message",i,!1),function(){return window.removeEventListener("message",i)}},[a]);var i=Object(n.useCallback)(function(e){"https://zequencer.mypinata.cloud"===e.origin&&"Finished Loading Project"===e.data&&a(!0)},[a]);return{loaded:o}}().loaded);return Object(n.useEffect)(function(){console.log("zorb id=",r),_&&r&&S.current.contentWindow.postMessage({body:r,type:"zorb-id"},"*")},[r,_]),Object(n.useEffect)(function(){},[p,_]),o.a.createElement("div",{className:"spore-embed-container"},E,o.a.createElement(Zt,{uploadingRemix:I,recordedRemix:T,collectionAddress:s,spTokenId:1,onRemixSigningCompleted:C,tokenId:u,playerRef:S}),d&&o.a.createElement("img",{src:d,className:"cover-image"}),o.a.createElement("div",{className:"spore-embed-helper"},!b&&g&&o.a.createElement($t,{hideWaveform:h,innerControls:g,isWaveformRainbow:m,buttonTextColor:j,playerRef:S}),o.a.createElement("div",{className:"song-title"},c),o.a.createElement("div",{className:"song-artist"},f),!O&&o.a.createElement("div",{className:"stems-unlocked"},Math.min(11,p)," / 11 STEMS UNLOCKED")),o.a.createElement("div",{className:"flex w-full"},o.a.createElement("iframe",{className:"spore-embed z-20 mx-auto",width:a?window.innerWidth:340,height:a?window.innerHeight:400,ref:S,src:y}),t&&o.a.createElement(gt,{playerRef:S}),!b&&!g&&o.a.createElement($t,{isWaveformRainbow:m,hideWaveform:h,buttonTextColor:j,playerRef:S}),!xe.isMobile&&!h&&o.a.createElement(jt,{playerRef:S})))}),rr=(r(526),r(1289),["0xdc94060e37dcb8816188508536595019c8f0c98a","0x0fb5e3b3f254cbdccd69d31bcb0e92b83d381a0a"]),nr=function(e){var t=e.simpleControls,r=e.zorbId,a=e.url,i=e.className,c=e.color,s=e.hideWaveform,u=e.collectionAddress,f=e.isSimple,h=e.thumbnail,d=e.tokenId,m=e.askPrice,v=void 0===m?"2":m,y=e.songTitle,g=e.artist,w=e.isFullScreen,b=e.children,E=Object(n.useState)(!1),x=Object(l.a)(E,2),O=x[0],k=x[1],j=Object(n.useState)(3),L=Object(l.a)(j,2),S=L[0],N=L[1],T=Object(n.useState)(),I=Object(l.a)(T,2),C=I[0],_=I[1];return Object(n.useEffect)(function(){V(u,d).then(function(e){e=e.filter(function(e){return!rr.includes(e.creator)});var t=Math.max(0,e.length-1);N(3+t)})},[]),o.a.createElement("div",{className:i?"drop nft-jacker jacked "+i:"drop nft-jacker jacked"},C&&o.a.createElement("div",{className:"remix-backdrop"},o.a.createElement(Ze,{artist:g,songName:y,setRemix:_,remix:C})),O&&o.a.createElement(vt,{name:"SPX-1",askPrice:v,tokenId:1,thumbnail:"/inmysoul-cover.jpeg",setBuying:k}),o.a.createElement("div",{className:"connect-button-wrapper drop-top"},o.a.createElement(p.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement(tr,{zorbId:r,simpleControls:t,collectionAddress:u,color:c,isFullScreen:w,isSimple:f,tokenId:d,stems:S,isWaveformRainbow:!1,songTitle:y,hideWaveform:s,thumbnail:h,artist:g,url:a}),o.a.createElement("div",{className:"drop-description"},b,o.a.createElement(it,{spTokenId:"SP - IN MY SOUL",remixToPlay:C,setRemixToPlay:_,creatorsToIgnore:rr,collectionAddress:u,tokenId:d,clear:function(){return[]}}),!f&&o.a.createElement("div",{className:"drop-features"},"LISTEN. PLAY. JUICE. PITCH UP. GATE. WOBBLE. STUTTER. LOOP. SPACE. PITCH DOWN. REMIX."),!f&&o.a.createElement("div",{className:"spore-overview"},o.a.createElement("div",{className:"overview-header"},"SPORE OVERVIEW"),o.a.createElement("img",{src:"/spore.svg",className:"spore-overview-image"})),!f&&o.a.createElement(yt,null)))},or=(r(527),r(1290),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=Object(n.useState)(!1),r=Object(l.a)(t,2),a=r[0],i=r[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),u=s[0],f=s[1],d=Object(n.useState)(void 0),p=Object(l.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(),b=Object(l.a)(y,2),E=b[0],x=b[1],O=Object(n.useState)(void 0),k=Object(l.a)(O,2),j=k[0],L=k[1],S=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),r=t[0],o=t[1];Object(n.useEffect)(function(){window.addEventListener("message",a)},[o]);var a=Object(n.useCallback)(function(e){"multi-zorb-enabled"===e.data.type&&o(e.data.body)},[o]);return{hideUI:r}}().hideUI,N=Object(w.c)(),T=N.data;N.isError,N.isLoading;Object(n.useEffect)(function(){void 0!==m&&setTimeout(function(){x(m)},1e3)},[m,x]),Object(n.useEffect)(function(){a&&setTimeout(function(){f(!0)},1e3)},[a,f]);var I="next-gen zpore";return T&&(I+=" connected"),S&&(I+=" hide-ui"),o.a.createElement("div",{className:I},o.a.createElement(g,{account:T,setZorbId:v,zorbId:m,setZorbStartPosition:L}),a&&j&&o.a.createElement(h,{setZorbStartPosition:L,zorbStartPosition:j}),!u&&o.a.createElement("div",{className:a?"enter-overlay hide":"enter-overlay"},o.a.createElement("div",{onClick:function(){return i(!0)},className:"inner-overlay"},o.a.createElement("img",{className:"",src:"/spore-logo-future3.png"}),o.a.createElement("div",{className:"click-text"},"Click to Enter"))),o.a.createElement(nr,{zorbId:E,hideWaveform:!0,color:"black",url:"https://main.djdhx85izle40.amplifyapp.com/",collectionAddress:"0x0000000000000000000000000000000000000001",isFullScreen:!0,simpleControls:!0,tokenId:1,className:"thugger",artist:"Keyon Christ",isSimple:!0,songTitle:"Psilocybin"},a&&o.a.createElement("div",{className:"slides"},o.a.createElement("img",{className:"slide",src:"/spores-17.jpg"}))))})),ar=(r(1291),Object(f.b)(function(e,t){return{secondsRemaining:e.spore.secondsRemaining}},function(e){return{}})(function(e){var t=e.secondsRemaining,r=e.color;if((t=Math.floor(t))>20||isNaN(t))return"";t<10&&(t="0"+t);var n=t%2===1?"time-remaining fade":"time-remaining";return o.a.createElement("div",{className:n,style:{color:r}},"0:",t)}),r(343)),ir=r(177),cr=r.n(ir),sr=["Chill Song 1","Chill Song 2","Chill Song 3","Chill Song 4","Chill Song 5","Chill Song 6","Chill Song 7","Chill Song 8","Chill Song 9","Chill Song 10"],ur={1:[1,2,3],2:[4,5,6],3:[7,8,9],4:[10,11,12],5:[13,14,15],6:[16,17,18],7:[19,20,21],8:[22,23,24],9:[25,26,27],10:[28,29,30]},lr=function(){for(var e=[],t=1;t<=sr.length;t++)e.push({songName:sr[t-1],name:sr[t-1],collectionAddress:Lt,coverArt:"/crx-"+t+".png",tokenId:1e3,songId:t,tokenIds:ur[t]});return e},fr={mintsongs:"mintsongs",zora:"zora-prod","sound.xyz":"soundxyz",zequencer:"zequencer",catalog:"catalog"},hr=function(e){if(e.startsWith("ipfs://"))return e.slice("ipfs://".length);var t=e.indexOf("/ipfs/");return e.slice("/ipfs/".length+t)},dr=function(e,t){if(!e)return console.log("NO EXTERNAL LINK FOUND FOR THIS LINK!"),"https://zora-prod.mypinata.cloud/ipfs/"+t;for(var r in fr)if(e.includes(r))return"https://"+fr[r]+".mypinata.cloud/ipfs/"+t;return"https://zora-prod.mypinata.cloud/ipfs/"+t};function pr(){pr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var mr=function(){var e=Object(E.a)(pr().mark(function e(t){var r,n;return pr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("saving json=",t),e.next=3,ne.a.addJson(t);case 3:r=e.sent,n="localhost"===window.location.hostname?"http://localhost:9090/saveJack/":"https://zequencer.io/saveJack/",window.LOCAL_BACKEND_FLAG||(n="https://zequencer.io/saveJack/"),fetch(n,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify({data:r,title:t.name,jack:t})});case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),vr={},yr=function(e){var t=e.link,r=e.textColor,n="";return t.includes("zora")?n="zora":t.includes("catalog.works")?n="catalog.works":t.includes("mintsongs")?n="mintsongs":t.includes("sound.xyz")?n="sound.xyz":t.includes("opensea")&&(n="OpenSea"),o.a.createElement("div",{style:{color:r},className:"source"},n)},gr=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.item,r=Object(n.useState)(),a=Object(l.a)(r,2),i=a[0],c=a[1];return Object(n.useEffect)(function(){vr[t.data]&&c(vr[t.data]),ne.a.getJson(t.data).then(function(e){vr[t.data]=e,c(e)})},[t]),i?o.a.createElement("div",{className:"history-item-source"},!t.title.includes(i.artist)&&i.artist,i.link&&o.a.createElement(yr,{link:i.link})):""});function wr(e){for(var t,r,n=e.length;0!==n;)r=Math.floor(Math.random()*n),t=e[n-=1],e[n]=e[r],e[r]=t;return e}r(1292);function br(){br=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Er=void 0,xr=function(){var e=Object(E.a)(br().mark(function e(){var t,r,n,o,a,i;return br().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=Er,e.t0){e.next=5;break}return e.next=4,ft();case 4:e.t0=e.sent;case 5:return t=e.t0,Er=t,wr(r=t.filter(function(e){return e.askPrice})),n=Object(l.a)(r,3),o=n[0],a=n[1],i=n[2],o=o?o.tokenId:12,a=a?a.tokenId:14,i=i?i.tokenId:18,e.abrupt("return",[{bpm:90,title:"Keyon Christ - Psilocybin",isSporeTrack:!0,metadata:{tokenId:o,artist:"Keyon Christ",name:"Psilocybin",url:"https://zequencer.mypinata.cloud/ipfs/QmeuwQQnjdqd51Uo1xkXLawYwYfXSq7T8h2mEWuJx7wHdx",link:"/sp/"+o,image:"/sp-thumbnail-"+o+".png"}},{bpm:106,title:"Keyon Christ - Twisting Faith",isSporeTrack:!0,metadata:{tokenId:a,link:"/sp/"+a,artist:"Keyon Christ",name:"Twisting Faith",url:"https://zequencer.mypinata.cloud/ipfs/QmU6rmmjWWXCZd3NHjeu6pUVjBDZiMXuRx6EVtEocqz9dJ",image:"/sp-thumbnail-"+a+".png"}},{bpm:85,title:"Keyon Christ - Ying Yang Twins",isSporeTrack:!0,metadata:{tokenId:i,link:"/sp/"+i,image:"/sp-thumbnail-"+i+".png",artist:"Keyon Christ",name:"Ying Yang Twins",url:"https://zequencer.mypinata.cloud/ipfs/QmcD2Ece62eiv5FWegEyNquWN8WZzC3ZT81Wxhw6GRk4YY"}}]);case 14:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),Or=function(e){var t=xe.isMobile?24:35;return e.length<t?e:e.slice(0,t)+"..."};Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.currentSong,r=e.setCurrentSong,a=e.latestJacks,i=e.loadHistory,c=e.link,s=Object(n.useState)(void 0),u=Object(l.a)(s,2),f=u[0],h=u[1];Object(n.useEffect)(function(){xr().then(function(e){return h(e)})},[]);var d=Object(n.useCallback)(function(e){r(e),e.metadata?i(e.metadata):ne.a.getJson(e.data).then(function(e){return i(e)})},[i,r]);if(!f)return"";var p=[].concat(Object(b.a)(f),Object(b.a)(a));return""!==c&&(p=p.filter(function(e){return e.title&&e.title.toLowerCase().includes(c.toLowerCase())})),o.a.createElement("div",{className:"jack-history"},o.a.createElement("img",{className:"globe",src:"/globe.svg"}),o.a.createElement("div",{className:"items"},p.filter(function(e){return e.title&&""!==e.title.trim()}).map(function(e){return o.a.createElement("div",{onClick:function(){return d(e)},className:(e.isSporeTrack?"history-item spore-track":"history-item")+(t===e?" current":"")},e.isSporeTrack?e.title:Or(e.title),e.isSporeTrack&&o.a.createElement("div",{className:"source"},xe.isMobile?"by Spores":"Released by Spores"),e.isSporeTrack?xe.isMobile?"":o.a.createElement("img",{src:"/spores-icon-glow2.svg"}):o.a.createElement(gr,{item:e}))})))});function kr(){kr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var jr=function(e){var t=e.playlistLoaded,r=e.remixToPlay,o=e.setLatestJacks,a=e.setShowHistory,i=e.setLink,c=e.setShowLinkInput,s=e.link,u=e.latestJacks,f=e.chillTokenId,h=e.defaultSearch,d=e.directCollectionAddress,p=e.directTokenId,m=e.updateURL,v=void 0===m||m,y=Object(n.useState)(),g=Object(l.a)(y,2),w=g[0],b=g[1],x=Object(n.useState)(),O=Object(l.a)(x,2),k=O[0],j=O[1],L=Object(n.useState)(!0),S=Object(l.a)(L,2),N=(S[0],S[1]),T=Object(n.useState)(),I=Object(l.a)(T,2),C=I[0],_=I[1],A=Object(n.useState)(),P=Object(l.a)(A,2),G=P[0],R=P[1],F=Object(n.useState)(),H=Object(l.a)(F,2),M=H[0],z=H[1],B=Object(n.useState)(),D=Object(l.a)(B,2),W=D[0],U=D[1],Y=Object(n.useState)(),q=Object(l.a)(Y,2),J=q[0],K=q[1],Q=Object(n.useState)(),V=Object(l.a)(Q,2),X=V[0],Z=V[1],$=Object(n.useState)(),ee=Object(l.a)($,2),te=ee[0],re=ee[1],ne=Yt(),oe=Object(n.useState)(),ae=Object(l.a)(oe,2),ie=ae[0],ce=ae[1],se=Object(n.useState)(),ue=Object(l.a)(se,2),le=ue[0],fe=ue[1],he=Object(n.useState)(),de=Object(l.a)(he,2),pe=de[0],me=de[1],ve=Object(n.useState)(),ye=Object(l.a)(ve,2),ge=ye[0],we=ye[1],be=Object(n.useState)(h),Ee=Object(l.a)(be,2),xe=Ee[0],Oe=Ee[1];Object(n.useEffect)(function(){v&&(r?window.history.pushState("page2","Title","/play/"+C+"/"+W+"/"+r.sporeId):C?window.history.pushState("page2","Title","/play/"+C+"/"+W):window.history.pushState("page2","Title","/"))},[r,C,W,v]),Object(n.useEffect)(function(){d&&Mt("https://zora.co/collections/"+d+"/"+p,ne).then(function(e){Se(e)})},[]),Object(n.useEffect)(function(){if(void 0!==f){var e=function(e){console.log(lr);var t=lr().find(function(t){return t.tokenIds.includes(parseInt(e))});return console.log("song we found"),t=Object(Et.a)({},t,{tokenId:e})}(f);Se(e)}},[]),Object(n.useEffect)(function(){xr()},[]);var ke=Object(n.useCallback)(function(){i(""),_(void 0),ce(!1),K(void 0),fe(void 0),U(void 0),Z(void 0),re(void 0),R(void 0),c(!0),j(void 0)},[j,c,ce,J,i,U,fe,Z,_,re,R]),je=Object(n.useCallback)(function(){var e=Object(E.a)(kr().mark(function e(t){var r;return kr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(""!==s){e.next=2;break}return e.abrupt("return");case 2:if(s.startsWith("http")){e.next=5;break}return Oe(s),e.abrupt("return");case 5:return ce(!0),t&&c(!1),N(!1),e.next=10,Mt(s,ne);case 10:if(r=e.sent){e.next=15;break}return ke(),me("The token you've linked has a strange format. Echo rejects it, respectfully..."),e.abrupt("return");case 15:r.link=s,Se(r,!0);case 17:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),[s,Oe,u,Z,a,_,t,R,fe,U,ce,me,c,j,b]),Le=Object(n.useCallback)(function(e){fe("Chill RX"),U(e.tokenId),j(e.songId),_(e.collectionAddress),Z(e.name),K(e.coverArt),re(e.description),R("BLANK")},[j,K,fe,fe,K,_]),Se=Object(n.useCallback)(function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments.length>2?arguments[2]:void 0;if(a(!1),ce(!0),r||c(!1),N(!1),e.collectionAddress!==Lt){var n=e,o=n.url,i=n.ipfs;if(console.log("LOAD JACK CALLED ret=",e),e.external_url||(e.external_url=e.link),!e.link&&e.external_url&&(e.link=e.external_url),!o)return ke(),void me("The token you've linked might not contain a music NFT.");me(void 0);var s={};if(o.startsWith("ipfs://")&&(i=o.slice(7)),i&&!o){var u=dr(e.external_url,i);R(i),s.ipfs=i,s.url=u,console.log("URL we extracted=",u)}else{var l=hr(o);console.log("EXTRACTED IPFS=",l),o=dr(e.external_url,l),console.log("setting jacked audio=",o),R(o),s.url=o}console.log("URL WE EXTRACTED = ",o),e.body&&(e=Object(Et.a)({},e,e.body,{name:e.body.title})).body.artwork&&e.body.artwork.info&&(e=Object(Et.a)({},e,{image:e.body.artwork.info.uri}));var f,h=(f=e).artist_name||f.artist||f.attributes&&f.attributes.artist||f.created_by||void 0;s.artist=h,fe(h),console.log("TOKEN ID =",e.tokenId),U(e.tokenId),j(e.songId),_(e.collectionAddress),Z(e.name),s.song=e.name,re(e.description);e.image;if(e.image){var d=dr(e.link,hr(e.image));K(d)}else K("/zora-placeholder.png");s=Object(Et.a)({},e,s),e.link?b(e.link):b(void 0),t&&"Keyon Christ"!==h&&mr(s)}else Le(e)},[b,s,o,U,u,Z,R,fe,ce,me,c,a,j]);return{clear:ke,onJack:je,loadJack:Se,artist:le,description:te,showPlayer:ie,setShowPlayer:ce,tokenId:W,buyThisSkin:M,coverArt:J,songName:X,error:pe,currentSong:ge,jackedAudio:G,setBuyThisSkin:z,currentLink:w,setCurrentSong:we,collectionAddress:C,songId:k,searchTerm:xe,setSearchTerm:Oe,setArtist:fe}};function Lr(){Lr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}r(1293);var Sr=function(e){var t=e.showLinkInput,r=e.setSearchTerm,n=e.setShowHistory,a=e.onJack,i=(e.loadJack,e.link),c=e.setShowInfo,s=e.setLink,u=(e.showHistory,e.currentSong,e.setCurrentSong,e.loadHistory,e.latestJacks,e.cheatCodeActivating),l=t?"nft-link":"nft-link hide";return u&&(l+="  activating"),o.a.createElement("div",{className:l},o.a.createElement("input",{onKeyDown:function(e){return"Enter"===e.key?a():[]},onClick:function(e){return e.stopPropagation()},onFocus:function(){n(!0),c(!1)},placeholder:xe.isMobile?"Search or drop a music NFT Link":"Search an artist or drop a music NFT link",value:i,onChange:function(e){n(!1),c(!1),s(e.target.value)}}),o.a.createElement("div",{onClick:function(){s(""),r("")},className:"clear-btn"},"x"),o.a.createElement("div",{onClick:function(e){e.stopPropagation(),a()},className:"pushable jack-btn"},"Remix"),u&&o.a.createElement("div",{className:"activation-text"},"Code activated. You may freely create bangers, for the culture."))},Nr=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.buyThisSkin,r=e.upperGradInverted,n=e.lowerGradInverted;return t>20?"":o.a.createElement(Tt,{upperGradInverted:xe.isMobile?n:r,text:xe.isMobile?"Buy":"Buy this spore",tokenId:t})}),Tr=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.showBuyThisSkin,r=e.buyThisSkin,n=e.artist,a=e.upperGradInverted,i=e.lowerGradInverted,c=e.coverArt,s=e.songName,u=e.tokenId,l=e.currentLink,f=e.children;return o.a.createElement("div",{className:"artist-name",style:{color:a}},f,n,o.a.createElement("div",{className:"song-name",style:{color:a}},s),c&&o.a.createElement("img",{className:"Keyon Christ"===n?"cover-art smaller":"cover-art",src:c}),o.a.createElement("div",null),o.a.createElement("div",{className:"Keyon Christ"===n?"link-and-buy keyon":"link-and-buy"},"Keyon Christ"===n&&o.a.createElement(Tt,{tokenId:u}),l&&o.a.createElement("a",{className:"Keyon Christ"!==n?"current-link align-right":"current-link",style:{color:a},href:l,target:"_blank",rel:"noreferrer"},"Keyon Christ"!==n&&o.a.createElement(yr,{link:l,textColor:a}),"\u2197")),t&&"Keyon Christ"!==n&&o.a.createElement(Nr,{upperGradInverted:a,lowerGradInverted:i,buyThisSkin:r}))}),Ir=["spores dao summer","the spore button"],Cr=function(e){return Ir.some(function(t){return e.toLowerCase().trim()===t})},_r=(r(1294),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.clearPlayer,r=Object(w.c)(),a=r.data,i=(r.isError,r.isLoading,Object(n.useState)(!1)),c=Object(l.a)(i,2),s=c[0],u=c[1],f=Object(n.useRef)(),h=Object(n.useState)(),d=Object(l.a)(h,2),m=d[0],v=d[1];Object(n.useEffect)(function(){window.addEventListener("message",y)},[v]);var y=Object(n.useCallback)(function(e){"loaded-lock-shader"===e.data&&v(!0)},[v]);return o.a.createElement("div",{ref:f,className:"locked-notification-background"},o.a.createElement("iframe",{className:m?"loaded-shader":"",src:"https://zequencer.mypinata.cloud/ipfs/QmUZqg4Ee2sDWqNxhAT5xrUUDY53as3VWrdWYWK5HomBgf/"}),s&&!a?o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"locked-notification"},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(p.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"}))):o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"locked-notification"},o.a.createElement("div",{className:"logo-container"},o.a.createElement("img",{onClick:function(){return t()},className:"pushable spores-logo",src:"/spores-logo-black.svg"})),s&&a?"It seems you dont't own a Spore yet. Get the full dose by purchasing a Genesis Spore.":"Enjoying this microdose of Spores? Get the full dose by purchasing a Genesis Spore.",o.a.createElement("div",{onClick:function(){return window.location.href="/buy?sold=false"},className:"go-to-buy pushable"},"Buy Now"),!a&&o.a.createElement("div",{className:"pushable already-own-one",onClick:function(){return u(!0)}},"Already own one?")))}),function(){function e(){Object(x.a)(this,e),this.abi=[{inputs:[{internalType:"uint256",name:"playlistId",type:"uint256"}],name:"burnPlaylist",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"contractAddresses",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"string",name:"metadataCID",type:"string"},{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"newSporesPlaylist",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"},{indexed:!1,internalType:"address",name:"creator",type:"address"},{indexed:!1,internalType:"string",name:"metadataCID",type:"string"}],name:"NewSporesPlaylist",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"}],name:"PlaylistBurned",type:"event"},{inputs:[{internalType:"address[]",name:"contractAddresses",type:"address[]"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"string[]",name:"genres",type:"string[]"},{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"setGenres",outputs:[],stateMutability:"nonpayable",type:"function"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"},{indexed:!1,internalType:"string",name:"genre",type:"string"},{indexed:!1,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"string",name:"metadataCID",type:"string"}],name:"SongGenre",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"playlistId",type:"uint256"},{indexed:!1,internalType:"address",name:"collectionAddress",type:"address"},{indexed:!1,internalType:"uint256",name:"tokenId",type:"uint256"}],name:"SporesPlaylistSong",type:"event"},{inputs:[{internalType:"string",name:"a",type:"string"},{internalType:"string",name:"b",type:"string"}],name:"compareStrings",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"string",name:"message",type:"string"},{internalType:"uint8",name:"v",type:"uint8"},{internalType:"bytes32",name:"r",type:"bytes32"},{internalType:"bytes32",name:"s",type:"bytes32"}],name:"verifyString",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"pure",type:"function"}],this.contractAddress="0xe2031bF65D3f8a96dE0a7eD1211810F49627c261"}return Object(O.a)(e,[{key:"getContract",value:function(e){return new e.eth.Contract(this.abi,this.contractAddress)}}]),e}());function Ar(e,t){var r="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"===typeof e)return Pr(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Pr(e,t)}(e))||t&&e&&"number"===typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,i=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return i=e.done,e},e:function(e){c=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(c)throw a}}}}function Pr(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Gr(){Gr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Rr=(new _r).contractAddress,Fr=function(){var e=Object(E.a)(Gr().mark(function e(){var t,r,n,o,a,i;return Gr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=new Y(Rr).from(G),e.next=3,t.executeQuery();case 3:r=e.sent,n=Ar(r),e.prev=5,n.s();case 7:if((o=n.n()).done){e.next=15;break}return a=o.value,i=a.metadataCID,e.next=12,ne.a.getJson(i);case 12:a.metadata=e.sent;case 13:e.next=7;break;case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(5),n.e(e.t0);case 20:return e.prev=20,n.f(),e.finish(20);case 23:return e.abrupt("return",r.slice(0,r.length-3));case 24:case"end":return e.stop()}},e,null,[[5,17,20,23]])}));return function(){return e.apply(this,arguments)}}(),Hr=r(344),Mr=r.n(Hr),zr=(r(1295),Object(f.b)(function(e,t){return{isLoaded:e.playlist.playlistLoaded&&e.playlist.playlistLoaded.playlistId===t.playlist.playlistId,currentSong:e.playlist.currentSong}},function(e){return{setPlaylistLoaded:function(t){return e({type:511,payload:t})},setCurrentPlaylistSong:function(t){return e(St(t))}}})(function(e){var t=e.setCurrentPlaylistSong,r=e.setPlaylistLoaded,a=e.playlist,i=e.loadJack,c=e.currentSong,s=e.isLoaded,u="https://zequencer.io/ipfs/"+a.metadata.thumbnail,l=(Yt(),Object(n.useCallback)(function(e){t(e),r(a),Kt(e.collectionAddress,e.tokenId).then(function(e){return i(e,void 0,!xe.isMobile)})},[a]));return o.a.createElement(o.a.Fragment,null,o.a.createElement(Mr.a,{transitionTime:200,easing:"ease-in-out",open:s,trigger:o.a.createElement("div",{className:"playlist-trigger"},o.a.createElement("img",{src:u,className:"playlist-trigger-img"}),o.a.createElement("div",{className:"playlist-name"},a.metadata.name))},o.a.createElement("p",{className:"playlist-description"},a.metadata.description),o.a.createElement("div",{className:"playlist-list-container"},a.metadata.playlist.map(function(e,t){return o.a.createElement("div",{onClick:function(){return l(e)},className:c&&c.collectionAddress===e.collectionAddress&&c.tokenId===e.tokenId?"playlist-item current":"playlist-item"},o.a.createElement("div",{className:"song-number"},t+1),o.a.createElement("img",{src:e.coverArt,className:"playlist-item-img"}),o.a.createElement("p",null,e.songName),o.a.createElement("p",null,e.artist))}))))})),Br=function(e){var t=e.loadJack,r=function(){var e=Object(n.useState)([]),t=Object(l.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)(function(){Fr().then(o)},[]),r}();return o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"playlist-container"},o.a.createElement("div",{className:"playlist-item"},r.map(function(e){return o.a.createElement(zr,{loadJack:t,playlist:e})})))};r(1296);function Dr(){Dr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var Wr={mintsongs:"mintsongs",zora:"zora-prod",soundxyz:"soundxyz",zequencer:"zequencer",catalog:"catalog"};window.CHARTS_FLAG=!0;var Ur=function(e){var t=e.data,r=e.loadJack,a=e.tokenId,i=e.thumbnail,c=e.selectedTab,s=(e.askPrice,e.remixes),u=e.section,f=Object(n.useState)(),h=Object(l.a)(f,2),d=h[0],p=h[1],m="",v="",y="",g="",w="",b=void 0;if("playlists"==c)"chill-rx-2022"==u?(m="ChillRX",v=t.songName,y=t.coverArt,g="/",w="ChillRX Remix Contest"):(m="Psilocybin EP",v="SP-"+a,y=i,g="/buy",w="Spore Season 1: Genesis");else if("new"==c){if("Zora"!=t.token.collectionName)m=t.token.metadata.artist,v=t.token.metadata.title||t.token.metadata.name,y=""+t.token.metadata.image,g="Chaos"==t.token.collectionName?"https://opensea.io/assets/ethereum/"+t.token.collectionAddress+"/"+t.token.tokenId:t.token.metadata.external_url;else if(v=t.token.name,g="https://zora.co/collections/zora/"+t.token.tokenId,t.token.metadata.body){var E=t.token.metadata.body;if(E.artwork&&E.artwork.info&&E.artwork.info.uri&&(y=E.artwork.info.uri).includes("ipfs.io")){var x=y.indexOf("ipfs.io/");y="https://zora-prod.mypinata.cloud/"+y.slice(x+"ipfs.io/".length),b="https://d2iccaf7eutw5f.cloudfront.net/0xabEFBc9fD2F806065b4f3C237d4b59D9A97Bcac7/".concat(t.token.tokenId,"/thumbnail")}}else y=t.token.metadata.image||"/zora-placeholder.png";w=t.token.collectionName}else m=t.token.metadata.artist,v=t.token.metadata.title||t.token.metadata.name,y=""+t.token.metadata.image,g=t.token.metadata.external_url||t.token.metadata.link,w="View source",void 0==t.token.metadata.image&&(y="/zora-placeholder.png"),"Chaos"==t.token.metadata.artist&&(g="https://opensea.io/collection/chaos-songs");if(!y.includes("zora"))if(y.includes("ipfs.io"));else if(y.startsWith("ipfs://")){var O;for(var k in Wr)g&&g.includes(k)&&(O="https://".concat(Wr[k],".mypinata.cloud/ipfs/").concat(y.slice(7)));y=O||"https://zora-prod.mypinata.cloud/ipfs/"+y.slice(7)}var j=Object(n.useCallback)(function(){var e={};if("playlists"==c);else{if(t.jack)return void r(t.jack);(e=Object(Et.a)({},t.token.metadata)).url=t.token.content.url,e.link=g,e.tokenId=t.token.tokenId,e.collectionAddress=t.token.collectionAddress,r(e)}},[t,r,g,a]),L=0;if("new"==c&&t&&t.token&&t.token.collectionAddress){var S,N=t.token.tokenId;g&&g.includes("catalog")?S="0x0bC2A24ce568DAd89691116d5B34DEB6C203F342":g&&g.includes("mintsongs")&&(S="0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584"),S&&(y="https://d2iccaf7eutw5f.cloudfront.net/".concat(S,"/").concat(N,"/thumbnail")),S=t.token.collectionAddress.toLowerCase();var T=N;if(N.length>10){var I=q.ethers.BigNumber.from(N);T=I=R.a.utils.padLeft(I.toHexString(),64).toLowerCase()}s[S]&&s[S][T]&&(L=s[S][T].length)}else if("history"==c&&t&&t.jack&&t.jack.collectionAddress){var C,_=t.jack.tokenId;g&&g.includes("catalog")?C="0x0bC2A24ce568DAd89691116d5B34DEB6C203F342":g&&g.includes("mintsongs")&&(C="0x2B5426A5B98a3E366230ebA9f95a24f09Ae4a584"),C=t.jack.collectionAddress.toLowerCase();var A=_;if(_.length>10){var P=q.ethers.BigNumber.from(_);A=P=R.a.utils.padLeft(P.toHexString(),64).toLowerCase()}s[C]&&s[C][A]&&(L=s[C][A].length)}return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"song-info-container"},o.a.createElement("img",{onError:function(){return p(y)},className:"cover-image pushable",loading:"lazy",src:d||b||y,onClick:j}),o.a.createElement("div",{className:"song-info"},o.a.createElement("div",{className:"song-col"},o.a.createElement("div",{className:"song"},v),o.a.createElement("div",{className:"artist"},m),o.a.createElement("div",{className:"from-text"},o.a.createElement("a",{href:g},w,"\u2197"))),L>0&&o.a.createElement("div",{className:"num-remixes"},o.a.createElement("div",{className:"remixes-orb"}),L))))},Yr=Object(f.b)(function(e,t){return{playlistLoaded:e.playlist.playlistLoaded}},function(e){return{}})(function(e){var t=e.searchTerm,r=e.jacked,a=e.loadJack,i=e.history,c=void 0===i?[]:i,s=e.showChart,u=e.playlistLoaded,f=Object(n.useState)(!1),h=Object(l.a)(f,2),d=h[0],p=h[1],m=Object(n.useState)([]),v=Object(l.a)(m,2),y=v[0],g=v[1],w=Object(n.useState)({}),x=Object(l.a)(w,2),O=x[0],k=x[1],j=Object(n.useState)({}),L=Object(l.a)(j,2),S=(L[0],L[1]),N=(Object(n.useRef)(0),Object(n.useRef)("")),T=Object(n.useRef)(),I=Object(n.useRef)(),C=Object(n.useState)([]),_=Object(l.a)(C,2),A=(_[0],_[1],Object(n.useState)(u?"playlists":"new")),P=Object(l.a)(A,2),G=P[0],R=P[1],F=Object(n.useRef)(),H=st(),M=(H.setTokensOnSale,H.tokensOnSale,Object(n.useRef)(0));console.log("SEARCH TERm=",t),Object(n.useEffect)(function(){Z().then(k),S(lr())},[]),Object(n.useEffect)(function(){N.current=t},[t]);var z=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,r=arguments.length>2?arguments[2]:void 0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:150,a=Object(n.useState)(t),i=Object(l.a)(a,2),c=i[0],s=i[1],u=Object(n.useRef)(0);Object(n.useEffect)(function(){e.current&&e.current.scrollTo(0,0),s(t)},[r,s,t]),Object(n.useEffect)(function(){if(e.current)return e.current.addEventListener("scroll",f),function(){return e.current&&e.current.removeEventListener("scroll",f)}},[s,c,e.current,e.initialSize]);var f=Object(n.useCallback)(function(r){var n=e.current;if(n){u.current=n.scrollTop;var a=n.scrollTop+n.offsetHeight,i=n.scrollHeight;a+o>=i&&s(c+t)}},[s,c,e,t]);return{size:c,scrollPosition:u}}(F,Math.ceil(window.innerWidth/200*(window.innerHeight/200)),t).size;return Object(n.useEffect)(function(){I.current=void 0,T.current=void 0},[s]),Object(n.useEffect)(function(){if("new"===G&&z>=y.length){if(I.current===T.current)return;var e="localhost"===window.location.hostname?"http://localhost:9090/charts":"https://zequencer.io/charts";window.LOCAL_BACKEND_FLAG||(e="https://zequencer.io/charts");var t=e;T.current&&""!==T.current&&(t+="?cursor="+T.current),I.current=T.current,++M.current,fetch(t).then(function(){var e=Object(E.a)(Dr().mark(function e(t){var r;return Dr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(r=e.sent,!N.current||""===N.current){e.next=5;break}return e.abrupt("return");case 5:r&&(p(!1),g([].concat(Object(b.a)(y),Object(b.a)(r.results))),T.current=r.cursor);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},[g,G,y,z]),Object(n.useEffect)(function(){""!==t&&R("new")},[t,R]),Object(n.useEffect)(function(){u&&R("playlists")},[u]),Object(n.useEffect)(function(){if(console.log("SEARCH TERM CHANGED"),window.CHARTS_FLAG)if("history"==G)g(c);else if("new"==G){var e="localhost"===window.location.hostname?"http://localhost:9090/charts":"https://zequencer.io/charts";if(window.LOCAL_BACKEND_FLAG||(e="https://zequencer.io/charts"),t&&""!==t){var r=++M.current;setTimeout(function(){if(r===M.current){p(!0);var n=t;n.toLowerCase().includes("chaos")&&(n=n.replace("#",""));var o=e+"/"+n;T.current=void 0,fetch(o).then(function(){var e=Object(E.a)(Dr().mark(function e(t){var n;return Dr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r===M.current){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.json();case 4:n=e.sent,p(!1),n&&(g(n.results),T.current=void 0);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}},1e3)}else{p(!0);var n=e;console.log("BASE URL SEARCh=",n),fetch(n).then(function(){var e=Object(E.a)(Dr().mark(function e(t){var r;return Dr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:(r=e.sent)&&(p(!1),g(r.results),T.current=r.cursor);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}}},[c,g,t,r,G,T]),o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"tab-container",style:{display:s?"flex":"none"}},window.PLAYLIST_FLAG&&o.a.createElement("div",{className:"playlists"==G?"tab pushable selected":"tab pushable not-selected",onClick:function(){return R("playlists")}},o.a.createElement("p",null,"Playlists")),o.a.createElement("div",{className:"history"==G?"tab pushable selected":"tab pushable not-selected",onClick:function(){return R("history")}},o.a.createElement("p",null,"Recently Played")),o.a.createElement("div",{className:"new"==G?"tab pushable selected":"tab pushable not-selected",onClick:function(){return R("new")}},o.a.createElement("p",null,"New Songs"))),"playlists"==G&&o.a.createElement(Br,{loadJack:a,playlistLoaded:u}),"playlists"!=G&&o.a.createElement("div",{ref:F,onClick:function(e){return e.stopPropagation()},className:"music-chart",style:{display:s?"flex":"none"}},d?o.a.createElement(Ee,{width:140,text:"Searching the metaverse"}):y.slice(0,z).map(function(e){return o.a.createElement("div",{className:"chart-item"},o.a.createElement(Ur,{remixes:O,selectedTab:G,loadJack:a,data:e.jack?Object(Et.a)({},e,{token:Object(Et.a)({},e,{metadata:e.jack})}):e}))})))}),qr=function(e,t){var r=e.getBoundingClientRect(),n=0,o=0,a=r.top-n,i=r.left-o,c=e.offsetHeight;return{x:i,y:a,width:e.offsetWidth,height:c}},Jr=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.helperBox,r=e.helperRefs,a=e.selected,i=Object(n.useState)(),c=Object(l.a)(i,2),s=c[0],u=c[1];if(Object(n.useEffect)(function(){if(r){var e=r[a].current,n=t.current,o=qr(e),i=qr(n);u([i,o])}},[a,u,r]),!s)return"";var f=[xe.isMobile?s[0].x:s[0].x+s[0].width,xe.isMobile?s[0].y+s[0].height:s[0].y,xe.isMobile?s[1].x+s[1].width/2:s[1].x,s[1].y+s[1].height/2-1,xe.isMobile?s[1].x+s[1].width/2:s[1].x,s[1].y+s[1].height/2+1,s[0].x+s[0].width,s[0].y+s[0].height];return o.a.createElement("svg",{className:"visual-links-spore"},o.a.createElement("linearGradient",{id:"AnnotationGradient"},o.a.createElement("stop",{offset:"5%",stopColor:"#a4c3e55c"}),o.a.createElement("stop",{offset:"95%",stopColor:"#80aaff36"})),o.a.createElement("polygon",{className:"visual-link",points:f}))}),Kr={centerButton:["Pressing the center button changes the current juice sample (controlled by top left slider). ","Click on any empty space goes back to previous sample."],ledButton:['Press to enter "Loop Mode". When in this mode, the sliders control different looping parameters.',"Slider 1: Loop Length","Slider 2: Chop n Screw","Slider 3: Space Reverb/Delay)","Slider 4: Gate Effect"],spButton1:['Press to enter "Space Mode". When in this mode, the sliders control different space parameters. ',"Slider 1: Vocal Reverb","Slider 2: Crystalized Ambience","Slider 3: Bass Reverb","Slider 4: Drum Reverb"],spButton2:['Press to enter "Timing Mode". When in this mode, the sliders control different timing parameters. ',"Slider 1: Gate Rate","Slider 2: 8th note Delay","Slider 3: Gate Depth","Slider 4: 16th note Delay"],slider2:["Wobble","This slider controls the rate of the wobble filter."],slider4:["Chipmunk","This slider speeds up the track, raising the pitch as well."],slider3:["Stutter","This slider controls stuttering, which repeats the beat at a slider-controlled rate.","You must hold slider down to hear this effect."],slider1:["Mutated Stem","Each Spore Player contains a rare, mutated stem.","This slider reveals this mutation."]},Qr=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.helperRefs,r=e.selected,a=e.sliderHovered,i=Object(n.useRef)(),c=Kr[r];return[o.a.createElement("div",{ref:i,key:1,className:"helper-box"},Array.isArray(c)?c.map(function(e,t){return o.a.createElement("p",{className:!r.includes("spButton")&&"ledButton"!==r||t!==a?"":"selected"},e)}):c),o.a.createElement(Jr,{helperBox:i,helperRefs:t,selected:r})]}),Vr=(r(1297),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.clear,r=Object(n.useState)(void 0),a=Object(l.a)(r,2),i=a[0],c=a[1],s=Object(n.useState)("centerButton"),u=Object(l.a)(s,2),f=u[0],h=u[1],d=Object(n.useRef)(),p=Object(n.useRef)(),m=Object(n.useRef)(),v=Object(n.useRef)(),y=Object(n.useRef)(),g=Object(n.useRef)();return o.a.createElement("div",{onTouchStart:function(e){e.stopPropagation()},onClick:function(e){e.stopPropagation(),t()},className:"player-helper"},o.a.createElement(Qr,{sliderHovered:i,selected:f,helperRefs:{slider1:m,slider2:v,slider3:y,slider4:g,ledButton:p,centerButton:d}}),o.a.createElement("div",{onClick:t,className:"pushable x-button"},xe.isMobile?"Ready?":"x"),o.a.createElement("div",{onTouchEnd:function(e){console.log("stopping touch end"),e.stopPropagation()},onTouchStart:function(e){console.log("stopping on touch start"),e.stopPropagation()},onMouseDown:function(e){e.stopPropagation(),console.log("stopping mouse down")},onClick:function(e){e.stopPropagation(),console.log("stopping click")},className:"mock-player"},o.a.createElement("div",{ref:d,className:"centerButton"===f?"center-button selected":"center-button",onClick:function(e){e.stopPropagation(),h("centerButton")},onTouchStart:function(){return h("centerButton")}}),o.a.createElement("div",{ref:p,className:"ledButton"===f?"sp-button button1 led-button selected":"sp-button button1 led-button",onTouchStart:function(){return h("ledButton")},onClick:function(e){e.stopPropagation(),h("ledButton")}}),o.a.createElement("div",{onMouseLeave:function(){return c(void 0)},onMouseOver:function(){return c(1)},ref:m,className:"slider1"===f?"sp-slider slider1 selected":"sp-slider slider1",onClick:function(e){e.stopPropagation(),h("slider1")},onTouchStart:function(){return h("slider1")}},o.a.createElement("span",null,"1")),o.a.createElement("div",{onMouseLeave:function(){return c(void 0)},onMouseOver:function(){return c(4)},ref:v,className:"slider2"===f?"sp-slider slider2 selected":"sp-slider slider2",onClick:function(e){e.stopPropagation(),h("slider2")},onTouchStart:function(){return h("slider2")}},o.a.createElement("span",null,"4")),o.a.createElement("div",{onMouseLeave:function(){return c(void 0)},onMouseOver:function(){return c(3)},ref:y,className:"slider3"===f?"sp-slider slider3 selected":"sp-slider slider3",onClick:function(e){e.stopPropagation(),h("slider3")},onTouchStart:function(){return h("slider3")}},o.a.createElement("span",null,"3")),o.a.createElement("div",{onMouseLeave:function(){return c(void 0)},onMouseOver:function(){return c(2)},ref:g,className:"slider4"===f?"sp-slider slider4 selected":"sp-slider slider4",onClick:function(e){e.stopPropagation(),h("slider4")},onTouchStart:function(){return h("slider4")}},o.a.createElement("span",null,"2"))))})),Xr=(r(1298),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.clear,r=function(){var e=(new Date).getFullYear(),t=+new Date("".concat(e,"-06-20"))-+new Date,r={};return t>0&&(r={D:Math.floor(t/864e5),H:Math.floor(t/36e5%24),M:Math.floor(t/1e3/60%60),S:Math.floor(t/1e3%60)}),r},a=Object(n.useState)(r()),i=Object(l.a)(a,2),c=i[0],s=i[1],u=Object(n.useState)((new Date).getFullYear());Object(l.a)(u,1)[0];Object(n.useEffect)(function(){setTimeout(function(){s(r())},1e3)});var f=[];return Object.keys(c).forEach(function(e){c[e]&&f.push(o.a.createElement("div",{className:"interval"},c[e],e))}),console.log("FUCKKKK"),o.a.createElement("div",{className:"infoContainer",onClick:function(){t()}},o.a.createElement("div",{onClick:function(e){return e.stopPropagation()},className:"infoBox"},o.a.createElement("a",{className:"go-to-landing",href:"/"},o.a.createElement("img",{className:"spores-logo-black",src:"/spores-logo-black.svg"})),o.a.createElement("p",null,o.a.createElement("i",null,"Spores")," is a new way to remix music NFTs."),o.a.createElement("p",null,o.a.createElement("a",{href:"/learn",className:"learnLink"},"Learn more")),o.a.createElement("br",null),o.a.createElement("p",null,"Own a ",o.a.createElement("i",null,"Spore"),". Unlock any music NFT. Grow remixes."),o.a.createElement("br",null),o.a.createElement("p",null,"Buy a ",o.a.createElement("a",{href:"/buy",className:"buyLink"},"Genesis ",o.a.createElement("i",null,"Spore"))," and get unlimited access to any music NFT."),o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("i",null,"Spores")," Season One mint is coming soon, 1000 ",o.a.createElement("i",null,"Spores")," will be available. Change music forever."),o.a.createElement("div",{onClick:function(){return window.location.href="/buy"},className:"pushable mintButton"},o.a.createElement("span",null,"Buy Now"))))}));function Zr(){Zr=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(L){c=function(e,t,r){return e[t]=r}}function s(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,a=Object.create(o.prototype),i=new O(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return j()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=b(i,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=u(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===l)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function u(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(L){return{type:"throw",arg:L}}}e.wrap=s;var l={};function f(){}function h(){}function d(){}var p={};c(p,o,function(){return this});var m=Object.getPrototypeOf,v=m&&m(m(k([])));v&&v!==t&&r.call(v,o)&&(p=v);var y=d.prototype=f.prototype=Object.create(p);function g(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function w(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=u(e[o],e,a);if("throw"!==s.type){var l=s.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){l.value=e,i(l)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function b(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,b(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=u(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function x(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function k(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:j}}function j(){return{value:void 0,done:!0}}return h.prototype=d,c(y,"constructor",d),c(d,"constructor",h),h.displayName=c(d,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===h||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,i,"GeneratorFunction")),e.prototype=Object.create(y),e},e.awrap=function(e){return{__await:e}},g(w.prototype),c(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new w(s(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},g(y),c(y,i,"Generator"),c(y,o,function(){return this}),c(y,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=k,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(x),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,l):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),x(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;x(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:k(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}var $r=function(){var e=Object(E.a)(Zr().mark(function e(t){var r;return Zr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,xr();case 2:if(r=e.sent.find(function(e){return e.metadata.url===t})){e.next=5;break}return e.abrupt("return",0);case 5:return e.abrupt("return",r.bpm);case 6:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),en="https://zequencer.mypinata.cloud/ipfs/".concat("QmUgvUx2oF2ntnEgRiRG8CqxmcyDHd8JhxLgopAqmcj5ao","/?tokenId=40&gallery=true"),tn="https://zequencer.mypinata.cloud/ipfs/QmcoMqE6ywYUidMryy2BqJF8TrbH1vkXoV9S8WxKGHRZ5s/?gallery=true",rn=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){var t=e.playerRef,r=e.songId,a=e.locked,i=e.jackedAudio,c=e.tokenId,s=e.setBuyThisSkin,u=e.remixToPlay,f=e.collectionAddress,h=e.showLoops,d=Object(n.useRef)(),p=t,m=st().tokensOnSale,v=Object(n.useState)(),y=Object(l.a)(v,2),g=y[0],w=y[1],b=Object(n.useState)(),x=Object(l.a)(b,2),O=x[0],k=x[1],j=Object(n.useRef)(0),L=Object(n.useRef)(0),S=Object(n.useState)(en),N=Object(l.a)(S,2),T=N[0],I=N[1];Object(n.useEffect)(function(){f===Lt?(console.log("changing url =",tn),w(!1),k(!1),I(tn)):I(en)},[f,I,w]),Object(n.useEffect)(function(){if(c&&g&&p.current&&(++j.current,(new Date).getTime()-L.current>500&&(console.log("2. SENDING TOKENID via msg=",c),p.current.contentWindow.postMessage({type:"tokenId",body:r||parseInt(c)},"*"))),!c&&m){var e=m.filter(function(e){return e.askPrice});if(e[Math.floor(Math.random()*e.length)]){var t=[12,13,14,15,16,17,18,21,22,23,24,25,26,27,28,29,30],n=t[Math.floor(Math.random()*t.length)];if(!p.current)return;return p.current.contentWindow.postMessage({type:"tokenId",body:parseInt(n)},"*"),h&&(console.log("sending loop unlocked"),p.current.contentWindow.postMessage({type:"loop-unlocked",body:2},"*")),void s(n)}s(void 0)}},[c,g,i,m,s,r]),Object(n.useEffect)(function(){return window.addEventListener("message",C,!1),function(){return window.removeEventListener("message",C)}},[w,c,k,r]),Object(n.useEffect)(function(){u&&(w(!1),k(!1))},[u,w,k]);var C=Object(n.useCallback)(function(e){"https://zequencer.mypinata.cloud"===e.origin&&("ready for stems"===e.data&&k(!0),"Finished Loading Project"===e.data&&(console.log("Finished Loading Project"),w(!0),c))&&(++j.current,L.current=(new Date).getTime(),console.log("SENDING TOKEN _ =%s to proj",r||c),console.log("SONG ID=",r,typeof r),p.current.contentWindow.postMessage({type:"tokenId",body:r||parseInt(c)},"*"))},[w,c,r,k]);Object(n.useEffect)(function(){f!==Lt&&i&&g&&$r(i).then(function(){var e=Object(E.a)(Zr().mark(function e(t){return Zr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(p.current){e.next=2;break}return e.abrupt("return");case 2:if(d.current!==i){e.next=4;break}return e.abrupt("return");case 4:d.current=i,p.current.contentWindow.postMessage({type:"clear-recording",body:"clear-recording"},"*"),p.current.contentWindow.postMessage({type:"nft-jacker",body:{bpm:t,samples:{drums:i,vocals:i,bass:i,other:i}}},"*");case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[i,g,u,f]);var _=i&&O?"loaded player":"player";return 40!==c&&(_+=" keyon-player"),a||u||!T?"":o.a.createElement("div",null,o.a.createElement("iframe",{className:_,width:340,height:400,ref:p,src:T}))});r(1299);var nn=r(261),on=r(550),an=(r(1300),Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){e.clear;var t=e.jacked,r=e.setShowInfo,a=Object(n.useState)(!1),i=Object(l.a)(a,2),c=i[0],s=i[1];return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:"menuAction pushable",onClick:function(){s(!c)}},o.a.createElement("img",{src:void 0!=t?"/spores-logo-black.svg":"/spores-logo-white.svg"})),o.a.createElement("div",{className:"navFullContainer",style:{display:c?"inherit":"none"},onClick:function(){s(!1)}},o.a.createElement("div",{className:"dropMenu",style:{display:c?"inherit":"none"}},o.a.createElement("div",{className:"connect-button-wrapper"},o.a.createElement(p.a,{accountStatus:"address",showBalance:{smallScreen:!1,largeScreen:!1},label:"Connect Wallet"})),o.a.createElement("a",{href:"/",className:"navDropItem largeItem play"},"Play"),o.a.createElement("a",{href:"/buy",className:"navDropItem largeItem buy"},"Buy"),o.a.createElement("a",{href:"/learn",className:"navDropItem largeItem learn"},"Learn"),o.a.createElement("div",{className:"iconContainer"},void 0!=t&&o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px",color:"black"},onClick:function(){return r(!0)}},o.a.createElement(on.a,null)),o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px"}},o.a.createElement("a",{href:"https://twitter.com/SporesDAO"},o.a.createElement(nn.a,null))),o.a.createElement("div",{className:"navItem smallItem pushable",style:{marginTop:"-2px"}},o.a.createElement("a",{href:"/lore"},o.a.createElement("img",{style:{height:"20px"},src:"./mushroom-icon.svg"})))))))})),cn=(r(1301),r(551)),sn=(r(1302),Object(f.b)(function(e,t){return{playlistLoaded:e.playlist.playlistLoaded}},function(e){return{setUsedCheatCode:function(t){return e({type:509,payload:t})},setSecondsRemaining:function(t){return e({type:510,payload:t})}}})(function(e){window.PLAYLIST_FLAG=!0,window.CHARTS_FLAG=!0,window.TOKEN_LOCK_FLAG=!0,window.LOCAL_BACKEND_FLAG=!1,window.CHILLRX_FLAG=!1,window.ABOUT_TO_END_FLAG=!1,window.TEST_REMIX_UPLOAD_FLAG=!1,window.OWN_FAKE_SPORE_FLAG="localhost"===window.location.hostname;var t=Object(n.useRef)(),r=Object(n.useRef)(),a=Object(n.useState)(e.defaultSearch||""),i=Object(l.a)(a,2),c=i[0],s=i[1],u=Object(n.useState)(!1),f=Object(l.a)(u,2),h=f[0],d=f[1],p=Object(n.useState)(!1),m=Object(l.a)(p,2),v=m[0],y=m[1],g=function(){var e=Object(n.useState)(),t=Object(l.a)(e,2),r=t[0],o=t[1];return Object(n.useEffect)(function(){var e="localhost"===window.location.hostname?"http://localhost:9090/latestJacks/":"https://zequencer.io/latestJacks/";window.LOCAL_BACKEND_FLAG||(e="https://zequencer.io/latestJacks/"),fetch(e).then(function(){var e=Object(E.a)(Lr().mark(function e(t){var r;return Lr().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,o(r.filter(function(e){return e.title&&!e.title.includes("Spore Players")}));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())},[]),{latestJacks:r,setLatestJacks:o}}(),b=g.latestJacks,x=g.setLatestJacks,O=Object(n.useState)(!1),k=Object(l.a)(O,2),j=k[0],L=k[1],S=Object(n.useState)(!0),N=Object(l.a)(S,2),T=N[0],I=N[1],C=Object(n.useState)(!xe.isMobile),_=Object(l.a)(C,2),A=_[0],P=_[1],G=Object(n.useState)(!1),R=Object(l.a)(G,2),F=R[0],H=R[1],M=Object(n.useState)(!1),z=Object(l.a)(M,2),B=z[0],D=z[1],W=Object(n.useState)(""),U=Object(l.a)(W,2),Y=U[0],q=U[1];Object(n.useEffect)(function(){return window.addEventListener("click",J),function(){return window.removeEventListener("click",J)}},[I,ne]);var J=Object(n.useCallback)(function(){ne&&I(!1)},[ne,I]),K=function(e,t,r,o){var a=Object(w.c)(),i=a.data,c=(a.isError,a.isLoading,st().tokensOnSale),s=Object(n.useState)(),u=Object(l.a)(s,2),f=u[0],h=u[1],d=Object(n.useState)(!1),p=Object(l.a)(d,2),m=p[0],v=p[1],y=Object(n.useState)(),g=Object(l.a)(y,2),b=g[0],E=g[1],x=Object(n.useRef)(0),O=Object(n.useRef)(!1),k=Object(n.useState)(!1),j=Object(l.a)(k,2),L=j[0],S=j[1];Object(n.useEffect)(function(){Cr(e)&&(S(!0),v(!1),window.localStorage.setItem("cheatcode",e),r(!0),h(!0),setTimeout(function(){t("")},1e3),setTimeout(function(){h(!1)},1e4))},[e,S,v,h]),Object(n.useEffect)(function(){var e=window.localStorage.getItem("cheatcode");e&&Cr(e)&&(S(!0),r(!0),v(!1))},[]),Object(n.useEffect)(function(){if(window.OWN_FAKE_SPORE_FLAG)return E(!0),void v(!1);if(c&&i&&i.address){var e=window.OWN_FAKE_SPORE_FLAG?c.map(function(e){return Object(Et.a)({},e,{owner:i.address})}):c,t=i.address.toLowerCase();e.some(function(e){return e&&e.owner&&e.owner.toLowerCase()===t})&&(E(!0),v(!1))}},[c,i,E,v]),Object(n.useEffect)(function(){window.addEventListener("message",N,!1);var e=window.localStorage.getItem("time-elapsed")||0;window.ABOUT_TO_END_FLAG?x.current=28e4:x.current=parseInt(e)},[]);var N=Object(n.useCallback)(function(e){e.data&&Array.isArray(e.data.type)&&"sequencer.start"===e.data.type[0]?O.current=!0:e.data&&Array.isArray(e.data.type)&&"sequencer.stop"===e.data.type[0]&&(O.current=!1)},[]);return _e(Object(n.useCallback)(function(){if(window.TOKEN_LOCK_FLAG&&!L&&(x.current>=3e5&&!m&&(b||v(!0)),O.current&&!b)){x.current+=1e3;var e=300-x.current/1e3;o(e),window.localStorage.setItem("time-elapsed",x.current)}},[m,v,b,L]),1e3),{locked:m,cheatCodeActivating:f}}(c,s,e.setUsedCheatCode,e.setSecondsRemaining),Q=K.locked,V=K.cheatCodeActivating,X=jr({remixToPlay:we,setLatestJacks:x,setShowHistory:y,setLink:s,setShowLinkInput:I,link:c,latestJacks:b,chillTokenId:e.isChillRX&&e.match.params.tokenId,defaultSearch:e.defaultSearch,directTokenId:e.match.params.tokenId,directCollectionAddress:e.match.params.collectionAddress,playlistLoaded:e.playlistLoaded}),Z=X.clear,$=X.onJack,ee=X.loadJack,te=X.collectionAddress,re=X.artist,ne=(X.description,X.showPlayer),oe=X.setShowPlayer,ae=X.tokenId,ie=X.searchTerm,ce=X.songId,se=X.buyThisSkin,ue=X.coverArt,le=X.songName,fe=X.error,he=X.currentSong,de=X.setBuyThisSkin,pe=X.jackedAudio,me=X.setCurrentSong,ve=X.currentLink,ye=(X.metadata,X.setSearchTerm),ge=er(Z,r,e.match.params.remixId),we=ge.remixToPlay,be=ge.setRemixToPlay,Ee=ge.recordedRemix,Oe=ge.uploadingRemix,ke=ge.onRemixSigningCompleted;Object(n.useEffect)(function(){we&&window.scrollTo(0,0)},[we,oe,P]);var je=function(e){var t=e.coverArt,r=Object(n.useState)(),o=Object(l.a)(r,2),a=o[0],i=o[1],c=Object(n.useState)(),s=Object(l.a)(c,2),u=s[0],f=s[1],h=Object(n.useState)(),d=Object(l.a)(h,2),p=d[0],m=d[1],v=Object(n.useState)(),y=Object(l.a)(v,2),g=y[0],w=y[1],b=Object(n.useState)(),E=Object(l.a)(b,2),x=E[0],O=E[1],k=Object(n.useState)(),j=Object(l.a)(k,2),L=j[0],S=j[1];return Object(n.useEffect)(function(){null!=t&&Object(ar.a)(t,{amount:3,group:50,format:"hex"}).then(function(e){i("linear-gradient(45deg, "+e[0]+" 0%, "+e[1]+" 50%, "+e[2]+" 100%)");var t=cr()(e[0],!0),r=cr()(e[1],!0),n=cr()(e[2],!0);S("#000000"===e[0]?e[1]:e[0]),f(cr()(r,!0)),m(r),w(n),O(t)})},[t,S,f,m,i,w,O]),{mainColor:L,clearColors:Object(n.useCallback)(function(){O(),w(),i(),m(),f()},[O,w,i,m,f]),coverGrad:a,buttonTextColor:u,buttonBgColor:p,upperGradInverted:g,lowerGradInverted:x}}({coverArt:ue}),Le=je.clearColors,Se=je.coverGrad,Ne=je.buttonTextColor,Te=je.buttonBgColor,Ie=je.upperGradInverted,Ce=je.lowerGradInverted,Ae=ne?"nft-jacker jacked":"nft-jacker";T&&(Ae+=" showing-link-input");var Pe=Object(n.useCallback)(function(e){"spores-next-gen"===Y?H(!0):D(!0)},[Y,D,H]);return F?o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{ref:t,onClick:function(){return y(!1)},className:Ae,style:{background:Se}},!1,ne&&Q&&"Keyon Christ"!==re&&!Ee&&!Oe&&!1,pe&&o.a.createElement(Zt,{recordedRemix:Ee,uploadingRemix:Oe,collectionAddress:te,onRemixSigningCompleted:ke,tokenId:ae,spTokenId:se,loadJack:ee}),ne&&!xe.isMobile&&o.a.createElement("div",{onClick:function(){r.current&&(r.current.contentWindow.postMessage({type:"jacker-stop",body:"jacker-stop"},"*"),r.current.contentWindow.postMessage({type:"clear-recording",body:"clear-recording"},"*")),ke(),be(void 0),oe(!1),Z(),Le()},className:"back-to-charts-btn"},o.a.createElement(nn.b,{style:{fill:Te}})),h&&o.a.createElement(Vr,{clear:function(){return d(!1)}}),ne&&o.a.createElement("div",{onClick:function(){return d(!0)},style:{color:Ce},className:"helper-icon"},"?"),o.a.createElement(an,{jacked:pe,setShowInfo:L}),ne&&o.a.createElement("div",{onClick:function(){return d(!0)},style:{color:Ce},className:"helper-icon"},"?"),"Keyon Christ"===re&&o.a.createElement("video",{playsInline:!0,className:"rain-video",autoPlay:!0,loop:!0,muted:!0,src:"/mushrooms-medium.mp4"}),fe&&o.a.createElement("div",{className:"error-message"},fe),T&&o.a.createElement(Yr,{loadJack:ee,searchTerm:ie,jacked:pe,history:b,showChart:T}),o.a.createElement("div",{className:pe?"player-container show":"player-container hide",onClick:function(){return I(!1)}},we&&o.a.createElement(Ze,{externalURL:ve,artist:re,songName:le,setRemix:be,remix:we}),o.a.createElement(rn,{showLoops:e.showLoops,playerRef:r,collectionAddress:te,songId:ce,remixToPlay:we,locked:Q&&!1,setBuyThisSkin:de,tokenId:"Keyon Christ"===re||te===Lt?ae:void 0,jackedAudio:pe})),!we&&o.a.createElement($t,{buttonTextColor:Te,playerRef:r}),!xe.isMobile&&!we&&pe&&o.a.createElement(jt,{playerRef:r}),o.a.createElement(Sr,{cheatCodeActivating:V,showLinkInput:T,setShowHistory:y,setShowInfo:L,setLink:s,setSearchTerm:ye,showHistory:v,currentSong:he,setCurrentSong:me,loadHistory:ee,latestJacks:b,onJack:$,loadJack:ee,link:c}),le&&o.a.createElement(Tr,{buyThisSkin:se,showBuyThisSkin:te!==Lt,artist:re,upperGradInverted:Ie,lowerGradInverted:Ce,coverArt:ue,songName:le,tokenId:ae,currentLink:ve}),j&&o.a.createElement(Xr,{clear:function(){return L(!1)}}),ne&&o.a.createElement("div",{onClick:function(){return I(!T)},className:"back-btn",style:xe.isMobile?{backgroundImage:"#ffffff"==Ie?"url('/search-icon.svg')":"url('/search-icon-black.svg')"}:{backgroundImage:"#ffffff"==Te?"url('/search-icon.svg')":"url('/search-icon-black.svg')"}}),ne&&o.a.createElement("div",{className:"stockLeft",onClick:function(){return xe.isMobile&&P(!0)},style:{color:xe.isMobile&&ne?Ne:Te,backgroundColor:xe.isMobile?Te:"transparent"}},o.a.createElement("i",null,"Remixes ")," ",!xe.isMobile&&o.a.createElement(cn.a,null)),ne&&o.a.createElement(Xe,{url:"spores.vision/play/"+te+"/"+ae,type:"song",lowerGradInverted:Ce,buttonBgColor:Te}),ne&&A&&o.a.createElement(it,{remixToPlay:we,setRemixToPlay:be,collectionAddress:te,tokenId:ae,clear:function(){return P(!1)}}))):o.a.createElement("div",{className:"password-protected"},o.a.createElement("div",{className:"spore-future"},o.a.createElement("img",{className:"spore-future-logo",src:"/spore-logo-future2.jpeg"}),o.a.createElement("div",{className:"password-box"},o.a.createElement("div",{className:"password-label"},"Password"),o.a.createElement("input",{type:"password",placeholder:"Enter password here",text:Y,onChange:function(e){return q(e.target.value)}}),B&&o.a.createElement("div",{className:"password-failed"},"The password you entered is incorrect."),o.a.createElement("div",{onClick:Pe,className:"password-enter"},"Enter"))))})),un=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){return o.a.createElement(nr,{isFullScreen:!1,url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmXqQ4sKuScMs9K6wuZvGUpxcEWuNuWuRqj2GcKGxnCGdn","/?tokenId=32&gallery=true"),collectionAddress:"0x0000000000000000000000000000000000000001",tokenId:1,className:"thugger",artist:"Young Thug",isSimple:!0,songTitle:"Hop Out Ft. Wiz Kalifa"},o.a.createElement("p",{className:"tagline-p"},"Spores grows strains of songs and media."),o.a.createElement("p",{className:"tagline-p"},"Season 1"))}),ln=Object(f.b)(function(e,t){return{}},function(e){return{}})(function(e){return o.a.createElement(nr,{url:"https://zequencer.mypinata.cloud/ipfs/".concat("QmVDXbQWjea3C5ARkJkFnGdBJAajbF3c4GHJKCkzQDpRHP","/?tokenId=22&gallery=true"),collectionAddress:"0x935637ef6915b8344a943290e1d9a9caf3d6b3c3",thumbnail:"/inmysoul-cover.jpeg",tokenId:1,askPrice:"2",artist:"Keyon Christ",songTitle:"IN MY SOUL"},o.a.createElement("div",{className:"buy-button"},o.a.createElement("div",{className:"action"},o.a.createElement("a",{target:"_blank",href:"https://zora.co/collections/0x935637ef6915b8344a943290e1d9a9caf3d6b3c3/1"},"BID ON ZORA \u2197")),o.a.createElement("div",{className:"asking-price"},o.a.createElement("div",{className:"price-label"},"RESERVE"),o.a.createElement("div",{className:"price"},"2 ETH"))),o.a.createElement("p",{className:"tagline-p"},"SPORES ",o.a.createElement("span",{className:"orange-gradient"},"GENERATES VARIATIONS")," OF SONGS FOR YOU WHILE YOU STREAM."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("br",null),"THIS NFT IS THE FIRST 1/1 SONG RELEASE FROM SPORES. IT'S A 1/1 SPORE CONTAINING ",o.a.createElement("span",{className:"purple-gradient"},"\u201cIN MY SOUL\u201d")," BY ",o.a.createElement("a",{href:"https://www.dazeddigital.com/music/article/55043/1/lost-track-kanye-west-the-life-of-pablo-reemerges-can-u-be-forever-mitus-nft",className:"isUnderlined"},"KEYON CHRIST")," - OUR LAST DROP WAS ",o.a.createElement("a",{href:"https://www.yingyangtwins.xyz",className:"isUnderlined"},"YINGYANGTWINS.XYZ")," BY VIC MENSA."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"new"},"NEW"),o.a.createElement("br",null),o.a.createElement("span",{className:"green-gradient"},"ACOUSTIFY"),o.a.createElement("br",null),"SWITCH BETWEEN THE OG AND ACOUSTIC VERSIONS OF THIS SONG WITHOUT INTERUPTING PLAYBACK."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("img",{src:"/acoustify-small.gif",className:"mx-auto isRounded"}),o.a.createElement("br",null),o.a.createElement("br",null),"PRESS THE CENTER SPORE BUTTON. UNLOCK A NEW ERA FOR STREAMING."," ",o.a.createElement("br",null),o.a.createElement("br",null),o.a.createElement("span",{className:"green-gradient"},"10%")," OF THE SALE WILL BE AWARDED TO THE ",o.a.createElement("span",{className:"orange-gradient"},"BEST REMIX"),o.a.createElement("br",null),o.a.createElement("br",null),"SPEARHEAD THE NEXT GENERATION OF THE MUSIC INDUSTRY."))}),fn=(r(1324),r(112)),hn=r(530),dn=r(24),pn=r(67),mn=r(554),vn=Object(dn.b)([pn.b.mainnet],[Object(Dt.a)({infuraId:"2f3dce2af1044e88b4851c3d73c3d00c"}),Object(mn.a)()]),yn=vn.chains,gn=vn.provider,wn=Object(fn.a)({appName:"Spore Players",chains:yn}).connectors,bn=Object(w.b)({autoConnect:!0,connectors:wn,provider:gn}),En=function(e){return window.spores=!0,o.a.createElement(n.Suspense,{fallback:function(){return o.a.createElement("div",null,"Loading...")}},o.a.createElement(w.a,{client:bn},o.a.createElement(p.d,{chains:yn,theme:Object(hn.a)({accentColor:"black",accentColorForeground:"white",borderRadius:"small"})},o.a.createElement(c.a,null,o.a.createElement(s.a,null,o.a.createElement(u.a,{path:"/inmysoul/",render:function(e){return o.a.createElement(ln,Object.assign({},e,{store:e.store}))}}),o.a.createElement(u.a,{path:"/thugger/",render:function(e){return o.a.createElement(un,Object.assign({},e,{store:e.store}))}}),o.a.createElement(u.a,{path:"/zpore/",render:function(e){return o.a.createElement(or,Object.assign({},e,{store:e.store}))}}),o.a.createElement(u.a,{path:"/",render:function(e){return o.a.createElement(sn,Object.assign({},e,{store:e.store}))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var xn=r(174),On=Object(xn.b)({playlist:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{currentSong:"Twisting Faith"},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 503:return Object(Et.a)({},e,{showPlaylistMenu:t.payload});case 504:return console.log("SETTING CURRENT PLAYLIST SONG=",t.payload),Object(Et.a)({},e,{currentSong:t.payload});case 511:return console.log("SETTING PLAYLIST LOADED=",t.payload),Object(Et.a)({},e,{playlistLoaded:t.payload});default:return e}},spore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case 510:return Object(Et.a)({},e,{secondsRemaining:t.payload});case 509:return Object(Et.a)({},e,{usedCheatCode:t.payload});case 505:return Object(Et.a)({},e,{tokenId:t.payload});case 508:return Object(Et.a)({},e,{pendingSpores:t.payload});case 506:return Object(Et.a)({},e,{soldPlayers:t.payload});default:return e}}}),kn=Object(xn.c)(On);i.a.render(o.a.createElement(f.a,{store:kn},o.a.createElement(En,{store:kn})),document.getElementById("root")),"serviceWorker"in navigator&&(console.log("UNREGISTERING"),navigator.serviceWorker.ready.then(function(e){console.log("regstieration UNREGISTERING",e),e.unregister()}))},209:function(e,t,r){"use strict";r.d(t,"a",function(){return u});r(134);var n=r(23),o={A:"a","A#":"A",B:"b",C:"c","C#":"C",D:"d","D#":"D",E:"e",F:"f","F#":"F",G:"g","G#":"G"},a={A:n.a.utils.asciiToHex("a"),"A#":n.a.utils.asciiToHex("A"),B:n.a.utils.asciiToHex("b"),C:n.a.utils.asciiToHex("c"),"C#":n.a.utils.asciiToHex("C"),D:n.a.utils.asciiToHex("d"),"D#":n.a.utils.asciiToHex("D"),E:n.a.utils.asciiToHex("e"),F:n.a.utils.asciiToHex("f"),"F#":n.a.utils.asciiToHex("F"),G:n.a.utils.asciiToHex("g"),"G#":n.a.utils.asciiToHex("G")},i={};for(var c in a)i[a[c]]=c;for(var s in i={},o)i[o[s]]=s;var u=i},23:function(e,t,r){"use strict";r.d(t,"a",function(){return a}),r.d(t,"b",function(){return i});var n=r(134),o=r.n(n),a=new o.a(new o.a.providers.HttpProvider("https://ropsten.infura.io/v3/2f3dce2af1044e88b4851c3d73c3d00c")),i=new o.a(new o.a.providers.WebsocketProvider("wss://ropsten.infura.io/ws/v3/2f3dce2af1044e88b4851c3d73c3d00c"))},310:function(e,t){},348:function(e,t,r){"use strict";(function(e){r.d(t,"a",function(){return o});r(23);var n=r(121);function o(e){var t=n.decode(e).toString("hex").replace(/^1220/,"");return 64!=t.length?null:"0x"+t}}).call(this,r(12).Buffer)},526:function(e,t,r){},527:function(e,t,r){},572:function(e,t,r){e.exports=r(1326)},578:function(e,t,r){},583:function(e,t,r){},593:function(e,t,r){},595:function(e,t){},598:function(e,t){},627:function(e,t,r){},640:function(e,t){},641:function(e,t){},643:function(e,t){},647:function(e,t){},665:function(e,t){},667:function(e,t){},681:function(e,t){},683:function(e,t){},7:function(e,t,r){"use strict";(function(e){r.d(t,"i",function(){return f}),r.d(t,"h",function(){return h}),r.d(t,"f",function(){return d}),r.d(t,"g",function(){return p}),r.d(t,"n",function(){return m}),r.d(t,"b",function(){return v}),r.d(t,"e",function(){return y}),r.d(t,"d",function(){return g}),r.d(t,"l",function(){return w}),r.d(t,"j",function(){return b}),r.d(t,"k",function(){return E}),r.d(t,"a",function(){return x}),r.d(t,"m",function(){return O}),r.d(t,"c",function(){return k});var n=r(2),o=r(3),a=(r(134),r(209)),i=r(23),c=r(121),s=(window.web3,i.a.utils.padLeft("0x0",64)),u=function(){function e(t,r){Object(n.a)(this,e),this.toConversion=t,this.fromConversion=r}return Object(o.a)(e,[{key:"convertTo",value:function(e){return this.toConversion(e)}},{key:"convertFrom",value:function(e){return e===s?null:this.fromConversion(e)}}]),e}();function l(e){var t="";for(var r in e)0!=e.charCodeAt(r)&&(t+=e.charAt(r));return t}var f=new u(function(e){return function(e){var t=c.decode(e).toString("hex").replace(/^1220/,"");return 64!=t.length?null:"0x"+t}(e)},function(t){return function(t){var r=new e(t.replace(/^0x/,"1220"),"hex");return c.encode(r)}(t)}),h=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(e),64)},function(e){return i.a.utils.hexToNumber(e)}),d=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(e),64)},function(e){return l(i.a.utils.toAscii(e))}),p=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(e),64)},function(e){return i.a.utils.hexToNumber(e)}),m=new u(function(e){return i.a.utils.padLeft(i.a.utils.numberToHex(parseInt(e)),64)},function(e){return i.a.utils.hexToNumber(e)}),v=new u(function(e){return i.a.utils.padRight(i.a.utils.fromAscii(e),64)},function(e){return l(i.a.utils.toAscii(e))}),y=new u(function(e){return i.a.utils.padLeft(i.a.utils.fromAscii(e),64)},function(e){return l(i.a.utils.toAscii(e))}),g=new u(function(e){return i.a.utils.padLeft(i.a.utils.toHex(e),64)},function(e){return function(e){for(var t=0;t<e.length;t++)if("0"!==e.slice(t,t+1))return e.slice(t);return e}(e.slice(2))});var w=new u(function(e){return i.a.utils.padRight(i.a.utils.toHex(e),64)},function(e){return l(i.a.utils.toAscii(e))}),b=new u(function(e){return i.a.utils.padRight(e,64)},function(e){return l(i.a.utils.toAscii(e)).split("").map(function(e){return a.a[e]})}),E=new u(function(e){return i.a.utils.padRight(e,64)},function(e){return a.a[l(i.a.utils.toAscii(e))]}),x=new u(function(e){return i.a.utils.padLeft(e,64)},function(e){return function(e){return"0x"+e.slice(e.length-40)}(e)}),O=new u(function(e){return i.a.utils.padLeft(e[0],64)},function(e){return l(i.a.utils.toAscii(e))}),k=function(e){return new u(function(e){return e},function(t){return t.slice(2,2+64*e)})}}).call(this,r(12).Buffer)},713:function(e,t){},715:function(e,t){},72:function(e,t,r){"use strict";(function(e){var n=r(11),o=r(2),a=r(3),i=r(107),c=r.n(i);function s(){s=function(){return e};var e={},t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",a=n.asyncIterator||"@@asyncIterator",i=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(S){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof h?t:h,a=Object.create(o.prototype),i=new k(n||[]);return a._invoke=function(e,t,r){var n="suspendedStart";return function(o,a){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw a;return L()}for(r.method=o,r.arg=a;;){var i=r.delegate;if(i){var c=E(i,r);if(c){if(c===f)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var s=l(e,t,r);if("normal"===s.type){if(n=r.done?"completed":"suspendedYield",s.arg===f)continue;return{value:s.arg,done:r.done}}"throw"===s.type&&(n="completed",r.method="throw",r.arg=s.arg)}}}(e,r,i),a}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(S){return{type:"throw",arg:S}}}e.wrap=u;var f={};function h(){}function d(){}function p(){}var m={};c(m,o,function(){return this});var v=Object.getPrototypeOf,y=v&&v(v(j([])));y&&y!==t&&r.call(y,o)&&(m=y);var g=p.prototype=h.prototype=Object.create(m);function w(e){["next","throw","return"].forEach(function(t){c(e,t,function(e){return this._invoke(t,e)})})}function b(e,t){var n;this._invoke=function(o,a){function i(){return new t(function(n,i){!function n(o,a,i,c){var s=l(e[o],e,a);if("throw"!==s.type){var u=s.arg,f=u.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then(function(e){n("next",e,i,c)},function(e){n("throw",e,i,c)}):t.resolve(f).then(function(e){u.value=e,i(u)},function(e){return n("throw",e,i,c)})}c(s.arg)}(o,a,n,i)})}return n=n?n.then(i,i):i()}}function E(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,E(e,t),"throw"===t.method))return f;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return f}var n=l(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,f;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,f):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,f)}function x(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function k(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(x,this),this.reset(!0)}function j(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,a=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return a.next=a}}return{next:L}}function L(){return{value:void 0,done:!0}}return d.prototype=p,c(g,"constructor",p),c(p,"constructor",d),d.displayName=c(p,i,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,i,"GeneratorFunction")),e.prototype=Object.create(g),e},e.awrap=function(e){return{__await:e}},w(b.prototype),c(b.prototype,a,function(){return this}),e.AsyncIterator=b,e.async=function(t,r,n,o,a){void 0===a&&(a=Promise);var i=new b(u(t,r,n,o),a);return e.isGeneratorFunction(r)?i:i.next().then(function(e){return e.done?e.value:i.next()})},w(g),c(g,i,"Generator"),c(g,o,function(){return this}),c(g,"toString",function(){return"[object Generator]"}),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=j,k.prototype={constructor:k,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return i.type="throw",i.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],i=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=r.call(a,"catchLoc"),s=r.call(a,"finallyLoc");if(c&&s){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=e,i.arg=t,a?(this.method="next",this.next=a.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),f}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;O(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:j(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),f}},e}var u=r(244),l=new XMLHttpRequest,f="/ip4/3.17.26.249/tcp/4001/ipfs/QmeQRpfSrYcAaqkhNoArDyTUwyYiru2gJp4WY1WegQGjtR",h=[85,110,105,118,101,114,115,97,108,32,83,101,113,101,117,110,99,101,115];window.httpV="http://www.zequencer.io:5001",window.httpsV="https://www.zequencer.io:5002";var d=new(function(){function t(){var e=this;if(Object(o.a)(this,t),this.controllers=new Set,!window.isNFT){"http:"===window.location.protocol?(this.backupIpfs=new c.a("ipfs.infura.io","5001",{protocol:"https"}),window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"})):(this.centralIpfs=c()("www.zequencer.io","5001",{protocol:"http"}),this._centralIpfs=this.centralIpfs)):window.isNFT?(this.centralIpfs=this.backupIpfs,this._centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"})):(this.centralIpfs=c()("www.zequencer.io","5002",{protocol:"https"}),this._centralIpfs=this.centralIpfs),this.ipfs=this.centralIpfs;var r=this;this.connectedLocally=!1,this.finishedTestingLocalConnection=!1,l.onreadystatechange=function(){4==l.readyState&&200==l.status&&(r.ipfs=c()("localhost","5001",{protocol:"http"}),r.connectToCentral(),r.connectedLocally=!0,r.finishedTestingLocalConnection=!0,e.keepSwarmConnectionAlive())},window.isNFT||(l.open("POST","http://localhost:5001/api/v0/swarm/peers",!0),l.timeout=4e3,l.ontimeout=function(){console.log("timed out connecting to local ipfs daemon")}),setTimeout(function(){e.finishedTestingLocalConnection=!0},4e3),l.send("")}}return Object(a.a)(t,[{key:"restart",value:function(){}},{key:"getIPFSPrefix",value:function(){return this.connectedLocally?"http://localhost:5001":"http:"===window.location.protocol?window.httpV:"https:"===window.location.protocol?window.httpsV:void 0}},{key:"getHashUrl",value:function(e){return"https://zequencer.io/ipfs/"+e}},{key:"getPinnedHashes",value:function(){var e=Object(n.a)(s().mark(function e(){var t;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ipfs.refs.local();case 2:return t=e.sent,e.abrupt("return",t.map(function(e){return e.ref}));case 4:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"findProvs",value:function(e){var t=this;return new Promise(function(r,n){t.ipfs.dht.findprovs(e,{maxNumProviders:1},function(e,t){r(t)})})}},{key:"connectToCentral",value:function(){try{this.ipfs.swarm.connect(f,function(e,t){}).catch(function(e){return console.log("error")})}catch(e){console.log("error connecting to ipfs")}}},{key:"keepSwarmConnectionAlive",value:function(){var e=this;try{this.ipfs.swarm.connect(f,function(e,t){}).catch(function(e){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}setInterval(function(){if(window.sequencerEngine&&window.sequencerEngine.getSequenceId){var r=window.sequencerEngine.getSequenceId();if(window.sequencerEngine.store.getState().sequencer.isPlaying[r])return}try{e.ipfs.swarm.connect(f,function(e,t){}).catch(function(e){return console.log("error")})}catch(t){console.log("error connecting to ipfs")}},6e4)}},{key:"isConnectedLocally",value:function(){return this.connectedLocally}},{key:"addArrayBuffer",value:function(e,t){return this.addHelper(e,t)}},{key:"addArrayBufferAndSaveToDB",value:function(e,t){return this.addBlobAndSaveToDB(new Blob([new Uint8Array(e)]),t)}},{key:"addHelper",value:function(t){var r=this,n=(arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2?arguments[2]:void 0);void 0===n&&(n="hello");return new Promise(function(o,a){var i=r._centralIpfs||r.ipfs;i||(i="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),i.add({name:n,path:"hello",content:new e(t)},function(e,t){console.log("IPFS HASH = ",t);var r=t[0].hash;e?a(e):o(r)})})}},{key:"addBuffer",value:function(e){var t=this;arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&arguments[2];return new Promise(function(r,n){var o=t.centralIpfs;o.add(e,function(e,t){if(e)n(e);else{var a=t[0].hash;o.pin.add(a),r(a)}})})}},{key:"addJson",value:function(t){var r=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LOCAL",o=arguments.length>2?arguments[2]:void 0;return new Promise(function(a,i){console.log("adding json noUTF=",o,t);var s=r._centralIpfs||r.ipfs;s||(s="http:"===window.location.protocol?c()("www.zequencer.io","5001",{protocol:"http"}):c()("www.zequencer.io","5002",{protocol:"https"})),s.add(e.from(JSON.stringify(t)),function(e,t){if(e)i(e);else{var r=t[0].hash;s.pin.add(r),a(r)}}),"LOCAL"===n&&(s!==r.centralIpfs&&r.addJson(t,"UNIVERSAL",o).then(function(e){return a(e)}),r.addJson(t,"INFURA",o).then(function(e){return a(e)}))})}},{key:"getJson",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e4,a=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return this.restart(),new Promise(function(i,c){if(a)t.ipfs.cat(e,function(e,t){i(JSON.parse(t.toString("utf8")))});else{var u="/api/v0/cat?arg="+e,l=(r?t.centralIpfs:t.ipfs,new AbortController);t.controllers.add(l);var f=l.signal;setTimeout(function(){l.abort(),t.controllers.delete(l),c()},o);var h="POST",d=t.getIPFSPrefix()+u;if(window.isNFT)return h="GET",d=e,void fetch(d,{signal:f,method:h}).then(function(){var e=Object(n.a)(s().mark(function e(t){var r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:r=e.sent,i(r);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());if(window.isNFT)return i({});var p=(new Date).getTime();fetch(d,{signal:f,method:h}).then(function(){var e=Object(n.a)(s().mark(function e(r){var n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:n=(new Date).getTime(),console.log("raw request took %s ms",n-p),t.readAllChunks(r.body).then(function(e){console.log("read all chunks took %s ms",(new Date).getTime()-n);var r=t.mergeArrays(e,0,!1),o=(new TextDecoder).decode(r);i(JSON.parse(o))});case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}())}})}},{key:"addBytesArray",value:function(){var e=Object(n.a)(s().mark(function e(t){var r,n;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return(r=new Uint8Array(t.length+h.length)).set(t,0),r.set(h,t.length),e.next=5,this.addHelper(r.buffer);case 5:return n=e.sent,this.ipfs.pin.add(n),e.abrupt("return",n);case 8:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"pin",value:function(){var e=Object(n.a)(s().mark(function e(t){return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.ipfs.pin.add(t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e,this)}));return function(t){return e.apply(this,arguments)}}()},{key:"addBlob",value:function(e,t){var r=this;return this.restart(),new Promise(function(n,o){var a,i=new FileReader,c=r;i.onload=function(){var e=this;a=this.result,c.addHelper(a,void 0,t).then(function(t){e.connectedLocally&&c.ipfs.pin.add(t),c.centralIpfs.pin.add(t),n(t)}).catch(function(e){return o(e)})},i.readAsArrayBuffer(e)})}},{key:"addBlobAndSaveToDB",value:function(e,t){}},{key:"converttoarraybuffer",value:function(e){return new Promise(function(t,r){var n=new n;n.onload=function(){t(this.result)},n.readasarraybuffer(e)})}},{key:"readAllChunks",value:function(e){var t=e.getReader(),r=[];return function e(){return t.read().then(function(t){var n=t.value;return t.done?r:(r.push(n),e())})}()}},{key:"getSound",value:function(e){var t=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3e4;return new Promise(function(o,a){var i=new AbortController;t.controllers.add(i);var c=i.signal;setTimeout(function(){i.abort(),t.controllers.delete(i),a()},r);var u="GET",l="https://zequencer.io/ipfs/"+e;if(window.spores&&(l="https://zequencer.mypinata.cloud/ipfs/"+e),window.isNFT)return u="GET",l=e,fetch(l,{signal:c,method:u}).then(function(){var e=Object(n.a)(s().mark(function e(t){var r;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.arrayBuffer();case 2:r=e.sent,o(new Uint8Array(r));case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}());if(window.isNFT)return o([]);var f=(new Date).getTime();fetch(l,{signal:c,method:u}).then(function(){var e=Object(n.a)(s().mark(function e(r){var n,a,i,c;return s().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=(new Date).getTime(),console.log("raw response took %s ms",n-f),e.next=4,r.arrayBuffer();case 4:return a=e.sent,i=(new Date).getTime(),console.log("Array buffer tranform took %s ms",(new Date).getTime()-n),c=t.processArray(new Uint8Array(a)),console.log("processing took % ms",(new Date).getTime()-i),o(c),e.abrupt("return");case 12:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()).catch(function(e){console.log("aborted")})})}},{key:"arrayToBuffer",value:function(e){var t=new ArrayBuffer(e.length);return e.map(function(e,r){t[r]=e}),t}},{key:"cancel",value:function(){console.log("cancelling = ",this.controllers),Array.from(this.controllers).forEach(function(e){return e.abort()})}},{key:"processArray",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!(!(arguments.length>2&&void 0!==arguments[2])||arguments[2]))return e;var t=e,r=this.findEnd(t,h);return-1!==r?t.slice(0,r):e.slice(0,e.length-1024)}},{key:"mergeArrays",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:512,r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=0;for(var o in e)n+=e[o].length;var a=new Uint8Array(n-t),i=0;for(var c in e)0===i?(a.set(e[c].subarray(t),i),i+=e[c].length-t):(a.set(e[c],i),i+=e[c].length);if(!r)return a;var s=a,u=this.findEnd(s,h);return-1!==u?s.slice(0,u):a.slice(0,a.length-1024)}},{key:"findEnd",value:function(e,t){for(var r=e.length-1600,n=e.slice(r).values(),o=0,a=r;a<e.length;a++){if(n.next().value===t[o]){if(0==o&&(r=a),++o===t.length-1)return r}else o=0,r=a}return-1}},{key:"getAudioBuffer",value:function(e,t){var r=this;return this.restart(),new Promise(function(n,o){r.getSound(e).then(function(e){return t.decodeAudioData(u(e),function(e){n(e)},function(e,t,r){r&&o(r)})}).catch(function(e){o(e)})})}}]),t}());t.a=d}).call(this,r(12).Buffer)},813:function(e,t){},814:function(e,t){},976:function(e,t){}},[[572,1,2]]]);
//# sourceMappingURL=main.2267fa21.chunk.js.map